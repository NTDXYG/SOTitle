"I 'm working with JMS and queues ( Azure queues ) for the first time . I 'm required to make a queue where Rubi server would write some data and Java would read it from queue and will do further executions . This process is working fine locally on my machine . I 've created a REST endpoint which is writing data in the queue and once data is written in the queue , the listener would take over and read the data and execute . When we deploy it to Azure the error I can see in logs which is not letting the Queues start isZipkin is also present on the Azure server as a distributed tracing system and I guess this x-request-id is related to Zipkin which is creating the problem . I 've searched Google for the issue but could n't understand why its happening.Following is detailed error message :"
"Good day ! I have a regex pattern : It should tell me if java / android package name is legal or not.It works fine on desktop java , but it failures on android devicesLets say I have some package names : Test should show that the only valid package is `` com.mxtech.ffmpeg.v7_neon '' , but is also shows that test string is valid . Why ? ( It is Cyrillic . ) What is the difference between Android and Desktop realizations ?"
"I was thinking about how to solve race condition between two threads which tries to write to the same variable using immutable objects and without helping any keywords such as synchronize ( lock ) /volatile in java.But I could n't figure it out , is it possible to solve this problem with such solution at all ? If you run this code you 'll get different answers every time , which mean a race condition is happening ."
"I am trying to playaround with Java 8 Stream API and wanted to convert the following method using Java 8 stream filter map reduce.I have a list of Movies and every Movie object has a list of Actors along with other fields.I want to find all the movies where the actor with a specific first and last name has worked in it.The method below is Java 7 based where I loop over the list of Movies and then loop over a list of actors for that movie . If an actor with that first and last name is found , I break the inner loop and add that movie to the list of movies which is returned.The commented code works and I can get the right list of Movies.My question is how can I re-write this code using Java 8 streams . I can see it is a map , filter , reduce problem but I am not able to come up with a clear solution.If I stream on the movies and flatmap it and in it stream list of actors , how can I get the list of movies again where only this actor with first and last name exists ?"
"I want to just know about why Object , String etc . have static { } block at the end.what is the use of static block in Object Class.Open the cmd prompt and type"
"I ’ m learning Java 8 streams . Tell me pls , how can I write a sortArray method more compactly ?"
"I am creating a video calling app and have the following code which is called when the application receives a push notification - it unlocks the screen and presents an 'incoming call ' user interface : This works fine when a call is incoming - the user can interact with the app using the UI presented . However , the problem is is that if the app is in the foreground and the phone is then locked , when the unlock button is pressed on the side of the phone , the app is displayed , instead of the keyguard / lock screen being displayed . It permanently allows access to the app if it is in the foreground and the phone is locked and the unlock button is pressed.I want the app to appear when the it receives a push notification and the screen is locked , but I also want the user to be able to lock the device fully and not give the user access to the app after pressing the lock button . How can I achieve this ?"
"I have a JPanel that contains bunch of context.I would like to be able to add the said JPanel to two JFrames . Any tips ? This is example of what I would likeI want both JFrames to show hello world , rather than one showing it and the other being empty . And if data in JPanel updates I want both JFrames to show it.Thanks to anyone for their help , this has been bugging me for a while ."
"Looking at Java 's String class we can see that hash code is cached after first evaluation.Where hash is an instance variable . I have a question , why do we need that h extra variable ?"
"I am bit confused with the behaviour of thread.isInterrupted in the program below.When executing the above program as such , it prints , But when I uncomment the System.out statement to print the interrupt status , it runs into an infinite loop printing `` Current thread not interrupted '' I am not able to figure out exactly what difference System.out statement makes ."
"SummaryWhen a user clicks on the RecyclerView item , I would like to add tags to that image from the information that has been stored in a BaaS [ Sashido ] ( X Co-ordinates , Y Co-ordinates and Tag name ) . But , the problem I 'm having is n't getting the position per-say . I create a toast when the image has been clicked , it shows the correct position corresponding to the view itself . ( zero for the beginning , so on and so forth ) But how to update the position once the user clicks on another item in the list , so that the tags that correspond to the position in the array in Sashido , match the position in the RecyclerView , because at the moment the first row in the Sashido class is populating all images with that row 's tags . My assumption was to the pass the position to the getTagInformation ( ) method using getLayoutPosition ( ) so that when objects.get ( position ) array is called , it 'll get the same position for Sashido class but it is n't . I feel the adapter must not be updating correctly after the user has clicked on a new item . onBindViewHolder : onBind : getTagInformation : I have also tried with the imageId passed into the method and with also me manually entering an objectId that will match , it 'll still only produce the tags that belong to that objectId . it just does n't seem that this query is going through all of the objects . Just getting the tag information from that one object and then setting all the images with those tags . if you need me to provide anymore code , I 'm more than happy to ."
I 'm trying to filter a resource and exclude some elements based on a field . To exclude I have a set ( that contains a id that needs to be excluded ) and a list ( it contains multiple range of ids that needs to be excluded ) . I wrote the below logic and I 'm not satisfied with the 2nd filter logic . Is there any better way we can do it with Java 8 ? I need to do the same for including ranges as well.Thanks : )
I recently ran into something like this ... Is there any way to do what I 'm trying to while keeping this as an anonymous class ? Or do we have to use an inner class or something else ?
"Is there in java a way to write generic interface what points out to the implementor of such interface in more convenient way ? For example I 've write interface : I want to point out that only instance of implementor can be passed in updateData ( T t ) method.So , i have to write something like this : But seems it is a little ugly . Do you have better variants ?"
"Why does the following Java code produces : The code in question is : There is no instance of SuperClass ever created , is n't there ? Not only that Java starts looking for the method to invoke from the SuperClass , it even somehow knows that a = 10 ! Let 's consider a similar Python code : It works as I expect : The only explanation that my colleagues ( Python disliking Java folks ) came up with is : `` Python is not a true OOP language '' . Not very convincing at all.Update : private void another_print ( ) is my blunder , I should have used protected ."
"According to the Java documentation for String.length : public int length ( ) Returns the length of this string . The length is equal to the number of Unicode code units in the string . Specified by : length in interface CharSequence Returns : the length of the sequence of characters represented by this object.But then I do n't understand why the following program , HelloUnicode.java , produces different results on different platforms . According to my understanding , the number of Unicode code units should be the same , since Java supposedly always represents strings in UTF-16 : The output of this program on my Windows box is : The output on my CentOS 7 machine is : I ran both with Java 1.8 . Same byte length , different String length . Why ? UPDATEBy replacing the `` '' in the string with `` \uD83D\uDE42 '' , I get the following results : Windows : CentOS : Why `` \uD83D\uDE42 '' ends up being encoded as 0x3F on the Windows machine is beyond me ... Java Versions : Windows : CentOS : Update 2Using .getBytes ( `` utf-8 '' ) , with the `` '' embedded in the string literal , here are the outputs.Windows : CentOS : So yes it appears to be a difference in system encoding . But then that means string literals are encoded differently on different platforms ? That sounds like it could be problematic in certain situations.Also ... where is the byte sequence C3B0C5B8E284A2E2809A coming from to represent the smiley in Windows ? That does n't make sense to me.For completeness , using .getBytes ( `` utf-16 '' ) , with the `` '' embedded in the string literal , here are the outputs.Windows : CentOS :"
"I am novice to java 8.I am trying below scenario.output : : Map I want to use java 8 stream api.I am trying like this but it gives me error , So my question , Can i invoke below method from Collectors.toMap ( )"
I am trying to get a blackberry message by subject and open it in the default email app . I have this so far : But how would I open the message once I have a handle on it ?
"Why does java.text.DecimalFormat evaluate the following results : I would have expected the result to be 23 in both cases , because special character # omits zeros . How does the leading special character 0 affect the fraction part ? ( Tried to match/understand it with the BNF given in javadoc , but failed to do so . )"
"I have this homework in Java where I have to convert an infix string without parenthesis to a postfix string . I 've been tinkering with the code from two days but I have n't been able to catch the bug . Here 's my code.Here , the variables are as follows : st is a character stackch is the current characterpre is the topmost char on the stackexp is the input infix expressionpost is the output postfix expressionThe pop ( ) methods works as expected except when the stack is empty , where it will return $ . The function val ( ) takes a char input and returns 4 for / , 3 for * . 2 for - . 1 for + . The integer l holds the length of exp.It works well in most cases except when I give it a string like a*b-b*c+c*d-d*e where it outputs ab*bc*-cd*de*- which is the expected output without a + in the end.Any advice would be much appreciated . This bug is making me crazy ! Here 's the entire code : here 's the stack class : Here 's the main class"
"This is a question I read on some lectures about dynamic programming I randomly found on the internet . ( I am graduated and I know the basic of dynamic programming already ) In the section of explaining why memoization is needed , i.e.If memoization is not used , then many subproblems will be re-calculated many time that makes the complexity very high.Then on one page , the notes have a question without answer , which is exactly what I want to ask . Here I am using exact wordings and the examples it show : Automated memoization : Many functional programming languages ( e.g . Lisp ) have built-in support for memoization.Why not in imperative languages ( e.g . Java ) ? LISP example the note provides ( which it claims it is efficient ) : Java example it provides ( which it claims it is exponential ) Before reading this , I do not even know there is built-in support of memoization in some programming languages.Is the claim in the notes true ? If yes , then why imperative languages not supporting it ?"
"Hey I have a question I have been trying to figure out for a couple hours now , I need to use nested loops to print the followingThis is what I have so far . This is what it prints"
How can I achieve the same what is described in the following Stack Overflow question ? How can I find all unused methods of my project in the Android Studio IDEA ? Using the command line only ?
"I 'm trying to create a clob from a string of > 4000 chars ( supplied in the file_data bind variable ) to be used in a Oracle SELECT predicate below : If I add TO_CLOB ( ) round file_data it fails the infamous Oracle 4k limit for a varchar ( it 's fine for < 4k strings ) . The error ( in SQL Developer ) is : FYI The flexmatch function is used for searching molecules , and is a described here : http : //help.accelrysonline.com/ulm/onelab/1.0/content/ulm_pdfs/direct/developers/direct_2016_developersguide.pdfThe function itself is a bit complicated but the essence is the 2nd parameter has to be a clob.So my question is how do I convert a Java String bind_variable of over 4000 chars to a clob in sql ( or Java ) .I tried the method below ( which works when inserting clobs ) in Java ( Spring boot 2 ) using : This method should work but it fails with a converluted flexmatch error which FYI is : Note i 'm using SpringBoot 2 but I ca n't get any method using an OracleConnection ( obtained from my Spring NamedParametersJdbcTemplate object ) to work ( even on clobs < 4k ) , so I suspect i 've done something stupid . I 've tried : application.properties : Note it works fine if I go old school and use a non spring connection plus a PreparedStatement , which has a setClob ( ) method : But I would prefer a Spring 2 solution in Java or Sql .Any help , suggestions appreciated ."
"I have a huge problem to understand why wrapper class in Java does n't behave like a reference type.Example : The output will be:2010I thought that two will be 20 like in this example where I create my own class : So the question , is Integer wrapper class special ? Why does it behave as I have shown in my examples ?"
"Below code snippet is from Effective Java 2nd Edition Double Checked Locking// Double-check idiom for lazy initialization of instance fields From what i know the main Problem with Double Checked Locking is the reordering inside second check locking so that the other thread might see the values of field/result as set which may be infact still be in executing . To avoid this we make the reference of field as volatile to gurantee visibility and reordering.But this can be achieved by the below code also So after when the initialization have been done , then no thread will have to for volatile read or synchronization overhead . Please see if my assumptions are right or not ?"
"Two projects : the product ( project-A ) and the auto benchmark project for A ( project-B ) .In B 's build file , we need to call A 's build file to run the build and bundle-with-app-server process like this : And , in project B , we have a lot of Ant tasks that output messages using java.util.logging ( The JDK Logging Framework ) .The problem is , after that line , all the jdk logger outputs disappear.With debugging , I find that , during the initialzation of project A 's build file , a staticly defined thing in project A will run LogManager.readConfiguration ( InputStream ) , which loads a config file that only contains the logger configuration of a single class.And during readConfiguration , LogManager.reset ( ) will be called ; during reset , each handler of each logger will be removed . As < ant > will load the target build file to the same process of the caller , all the handlers will be removed.So , except the configurated one , every other class that use jdk logger ca n't output messages due to lack of output handler.My question is : Is there any way to solve this problem , other than : use < exec > to run project A 's build file ; write a task to run readConfiguration ( ) to restore the default JDK logging settings from the default configuration file after the < ant > call.Use ant 's own logging framework ( Task.log ( ) , etc ) .Please note that I ca n't modify project A to prevent the problem ."
"I 've got two similar implementations ( java and c++ ) for a trivial algorithm like the selection sort.and the c one : Now , I tried testing them on a large array ( 100000 random int ) .The results at first werejava : ~17 sec ( compiled and executed with oracle jdk/jvm ) c : ~22 sec ( compiled with gcc v4.8 without any optimization ) Of course , i then tried to optimize my c version through cflags.The results are ( I 'm reporting cflags only ) : -O1 : ~18.4-O2 : ~18.4-O { 3-9 } : ~20.9Now , my first question is which cflacs should I use to compile ? So I read the gnu manual about optimizations.Adding -march=native did n't helped . After some time spent trying other options , I came into -fprofile-arcs option . Adding it to my flags made my code finish its test in about 11 seconds ! However some files appeared in my folders : the results of the profiling . As I understand , I should use them with -fbranch-probabilities and recompile the code.Recompiling results again in ~18.5 sec . And this is what I really want to ask . How is it possible for my program to run so fast if it has to write files and collect profiling information and instead it runs 1.5 times slower when it has n't ? I forgot to mention that I 'm on an old PC with a Intel Celeron @ 2.8GHz processor and linux ( fedora 20 with xfce ) installed . If you need other information about the hardware just ask ! ; ) Edit : The code I use for the test is : Java : And the c : The code contains references to a insertion sort function that I have n't included in the rest of the question because ( as expected ) java run slower that c ."
"I 'm using parseq framework for asynchronous computation . Consider the following code . It first queries the content of google.com and then map the content to it 's length . Finally , the length is printed.The problem is that only the first task is ran . Why ?"
I have a string eg : this needs to be Sorted as which is based upon the string inside the square bracket.how can i do this in java ?
"I 'm as upgrading from Spring Boot 1.5.21 to 2.2.5.I need to use MonetaryModule to deserialize rest calls , and depending on Spring 's ObjectMapper.I have defined such a bean for this module in a some @ Configuration class ( MonetaryModule is extending Module ) : I can see in /beans endpoint it was created . However , it is not actually loaded to ObjectMapper . After a lot of debugging and digging around Spring 's code , I came to the conclusion that there is something wrong in JacksonAutoConfiguration . it has an inner static class called JacksonObjectMapperBuilderConfiguration and in it there 's a bean that creates the Jackson2ObjectMapperBuilder . in the creation process , there 's a call to customize ( ) that eventually gets to this code : This code seems responsible for loading the modules into ObjectMapper , Problem is that this Jackson2ObjectMapperBuilder is not actually created . It appears in /beans endpoint but de facto when I breakpoint there I 'm not hitting the breakpoint . This explains why the module is not loaded into ObjectMapper . Question is , why is this code not being called ? and why /bean indicates the bean does exist ? Edit - Adding conditions evaluation report : Also , attached is the output of /conditions & /beans endpoints output ( Too large to paste into the post itself ) endpoints output"
"I have read through inner class tutorial and do n't understand one thing . It is being said that inner class holds hidden reference to outer class , so I come up with several questions via this plain class : So we have one local inner class which resides inside method doSomething ( ) and I have some questions involved.Does this local inner class hold reference to OuterClass since it 's local ? Does this local inner class remain memory after the method doSomething ( ) terminates ? Is there any situation in which OuterClass is eligible for GC but local inner class still be referenced by other classes ? What would happen ?"
"I 'm pretty sure this is not possible in one line , but I just wanted to check : Basically I 'm collecting all widget items into a map where the key is the availableStock quantity and the value is a list of all widgets that have that quantity ( since multiple widgets might have the same value ) . Once I have that map , I would want to select the map 's value that corresponds to the smallest key . The intermediate step of creating a Map is n't necessary , it 's just the only way I could think of to do this ."
Hello I 'm working on a project on Java Card which implies a lot of modulo-multiplication . I managed to implement an modulo-multiplication on this platform using RSA cryptosystem but it seems to work for certain numbers.The code works well for little number but fails on bigger one
"Java 's LocalDate API seems to be giving the incorrect answer when calling plus ( ... ) with a long Period , where I 'm getting an off by one error . Am I doing something wrong here ?"
"In Java , I 've to set a POJO class with values . However to decide which setter function to be used , I 've to depend on if condition . My current code looks as follow : This is just an example but I 've 70+ such properties to be set . My code is working but I wonder if it is right way of doing things ? AFAIK , such code is against coding best practices . How can we optimise this code in Java ? What is Java best practice to deal with such code ?"
"Problem Statement : -I was ask this interview question recently.. I was able to come up with the below code only which runs in O ( k log n ) - Given k < = n sorted arrays each of size n , there exists a data structure requiring O ( kn ) preprocessing time and memory that answers iterated search queries in O ( k + log n ) time.I have k sorted Lists , each of size n. Currently I have hard coded 5 sorted Lists each of size 3 but in general that can be very high number- I would like to search for single element in each of the k Lists.Obviously , I can binary search each array individually , which will result in O ( k log n ) where k is number of sorted arrays.Can we do it in O ( k + log n ) where k is the number of sorted arrays ? As I think there might be some better way of doing it as we 're doing the same searches k times as of now - Whatever output I am seeing with my above code approach should come with the new approach as well which should work in O ( k + log n ) .Is this possible to achieve ? Can anyone provide an example how would this work basis on my example ?"
"I 'm working on a reader/writer for DNG/TIFF files . As there are several options to work with files in general ( FileInputStream , FileChannel , RandomAccessFile ) , I 'm wondering which strategy would fit my needs.A DNG/TIFF file is a composition of : some ( 5-20 ) small blocks ( several tens to hundred bytes ) very few ( 1-3 ) big continuous blocks of image data ( up to 100 MiB ) several ( maybe 20-50 ) very small blocks ( 4-16 bytes ) The overall file size ranges from 15 MiB ( compressed 14 bit raw data ) up to about 100 MiB ( uncompressed float data ) . The number of files to process is 50-400.There are two usage patterns : Read all meta-data from all files ( everything except the image data ) Read all image data from all filesI 'm currently using a FileChannel and performing a map ( ) to obtain a MappedByteBuffer covering the whole file . This seems quite wasteful if I 'm just interested in reading the meta-data . Another problem is freeing the mapped memory : When I pass slices of the mapped buffer around for parsing etc . the underlying MappedByteBuffer wo n't be collected.I now decided to copy smaller chunks of FileChannel using the several read ( ) -methods and only map the big raw-data regions . The downside is that reading a single value seems extremely complex , because there 's no readShort ( ) and the like : RandomAccessFile provides useful methods like readShort ( ) or readFully ( ) , but can not handle little endian byte order.So , is there an idiomatic way to handle scattered reads of single bytes and huge blocks ? Is memory-mapping an entire 100 MiB file to just read a few hundred bytes wasteful or slow ?"
"I am createing a game where a landscape is generated all of the generations work perfectly , a week ago i have created a basic 'forest ' generation system wich just is a for loop that takes a chunk , and places random amounts of trees in random locations . But that does not give the result i would like to a achieve . Code ResultIf you know any way i could generate more realistic forests please let me know it would help me out a lot.Thanks in advance"
"PlayFramework application , the footer.html file : Here I have right path , so the footer.html is exist.But the lm is 0 i.e . it is 1970 year.. but now is 2011.The question : why ? Can it be related somehow to security-manager or something related to security ?"
"I have a question related to lambda expressions in Java 8.Consider the following Message class : which implements the MessageBase interface . I store objects of the Message class in a TreeMap - Map < Long , Message > messages . The key is a timestamp and the value is a Message object . I have to find all TreeMap entries by author , which is a field of the Message class . I 'm trying to do this using lambda expressions . Here is my code : Using this code I can get only one entry . Can you help me get a list of all the entries that pass the filter ?"
Possible Duplicate : Returning false from Equals methods without Overriding One of my colleague asked me a question today as mentioned below Write TestEquals class ( custom or user defined class ) so that the below s.o.p in the code prints false.Note : You can not override equals method.I thought a lot but could n't find the solution without overriding equals.Does anybody have any idea how it can be done ?
"Am confused about how finally keyword actually works ... Before the try block runs to completion it returns to wherever the method was invoked . But , before it returns to the invoking method , the code in the finally block is still executed . So , remember that the code in the finally block willstill be executed even if there is a return statement somewhere in the try block.when I run the code , I get 5 instead of 10 as I expected"
"When I use a JComboBox on Windows 7 , the four corners each have a pixel that does n't match the background colour of the parent component . In Windows 8 this problem does n't happen ( although that could be because in Windows 8 , the JComboBox is rendered as a perfect rectangle ) . Nor does it happen on OS X.What can I do to make the corner pixels let the background colour of the parent component through ? Here 's an image showing the problem : Here 's a self-contained code example I 'm using :"
"I 'm making a code editor and I 'm working on the autocomplete . I want to programmatically get a list of all the classes that come with the JDK.Examples include : I 've found ways to get classes for a specific package . For instance , I can get all classes that start with com.mypackage.foo . The problem is that I 'm trying to get classes that were loaded with the Bootstrap ClassLoader . And on the OSX JDK , that classloader shows up as null . For instance , if I do String.class.getClassLoader ( ) , that is null.Any ideas ?"
"I was just trying to create somewhat similar to Collectors.toList ( ) of my own but it does n't seem to work } My question is if ArrayList : :new does n't work here , what will work . I tried different variation but none seems to work"
I came across this question in an SCJP book . The code prints out 1 instead of an NPE as would be expected . Could somebody please explain the reason for the same ?
"I need to use onApplicationEnd ( ) as part of Application.cfc to execute a call on a 3rd party Java object to close a connection to another device on the network . The code I have worked perfectly if I call it as a normal request , but when I place it in the onApplicationEnd ( ) method I 'm running into some errors . These errors suggest that CF might in fact be shutting down already to the point where I can not access these 3rd party Java classes . Code : The line to close the connection on my object is failing with the message : 'java.lang.IllegalStateException : Shutdown in progress'.Here are the full logs for one run : Is there restrictions to what I can do in onApplicationEnd ( ) and if so is there any work around ? I am using CF 8 ( 8,0,1,195765 ) Developer Edition on a Windows XP machine . Also , if I run CF in a console window and press CTRL-C I see this , but I also see this behaviour if I run cfstop . Many thanks in advance ! EDIT : Some others had this issues here , but no solutions . EDIT : Removed thread example as it might be fogging the issue . Posted code and logs ."
What is the difference between the C main function and the Java main function ? vsHow do these main functions relate to each languages creation and what are the benefits or outcomes of each ?
"I am a beginner in java.I have been working on an maze problem trying it solve it by recursion.I have written the code which seems to work on few inputs and not others . The input is a maze consisting of 0 's and 1 's . # is the start and @ is the exit.0 is wall and 1 's are open.The output will be the hops from # to @ .Though i am solving the problem by recursion , I must be going wrong with the logic.Please let me know where I am wrong.Class practisenumwordsClass cellsClass mazeNow , i get the right output for the inputs as the 1 in program.output- 12 ( obtaining right output ) output- 7 ( obtaining right output ) BUT NOT FOR OTHER INPUTS likecorrect output - 6 output obtained -7Also the output changes with the order in which the adjacent cells are checked ."
In Java I have a class that implements an interface : If some variables are declared inside of the interface I could access them : But in Scala the above line does not compile . Seems like it is hidden . Is there any way to access these variables in Scala without creating a new object or doing anything else hacky ?
This method returns 'true ' . Why ?
"Few separate questions on QuartzIf i want event to be executed once , is it sufficient to Considering this snippet . Event runs , when scheduled time is `` before now '' and fails to be executed when scheduled time is in the futureUsing the code above , i observe the followingThe difference between now and the time it was scheduled to execute is exactly 1 minute .. Ok .. trying a bigger intervalAgain .. the difference is precisely 3 minutes , as Execution should at a moment in timeIt actually starts ( appears to start , i should say ) as an offset ( even offset at that ) between current time and requested time . It appears that if it 's 10:43:25 and i want a job to start at 10:45:00 , it would figure out that there are 2 even minutes difference and would schedule the job at 10:45:25.What 's causing this ? Meanwhile ,"
"I have 3 API GET calls . The problem I 'm facing with my approach is , the app is able to fetch the data successfully from two APIs and I 'm able to display it on UI as well . But , for the third API call , due to the below error , the data that is being shown previously disappears which is bad.How do I make concurrent API GET calls using Volley without losing the data on UI . Could anyone please guide me ? Here are excerpts from my code ."
"In Food Tab , I want to achieve thisBut I only able to get thisHow can I increase the width of the JTextField which are in Food Tab ? Below is my code"
"I have this tableAnd I am using the following code to retrieve data from my tablethat returns all the English words that its Kurdish word contains بةرزSo it works fine , it prints all the English words that I want.My problem is that when I get the corresponded Kurdish word it does n't print the complete cell . It just prints بةرز , For example the output of the previous code should be : But it printsWhat can I do to get the output that I want ? Note that I am using UCanAccess for my database connection ,"
"I am trying to insert records into postgres DB , and its taking about 3 hours while it takes 40seconds using python psycopg2 and cursor.copy_from methodWhat is wrong with my code , using clojure.java.jdbc/db-do-prepared also takes about 3 hours too.Please help ! File size is 175M and it has 409,854 records"
"Java 9 provides as a way to create Empty immutable List , set and Map.But I am not able understand what is the actual use case of creating an empty immutable list / set / map.Please help me to understand the actual use case of an empty immutable list / set / map ."
"I am very confused by Scala Constructors . For example , I have the following classes that represent a tree with operators such as Add and leaf nodes on the tree that are numbers.I read in one site that what goes in a Scala constructor is automatically immutable ( val ) , but this guy on Stack Overflow said `` The input parameters for the constructor are not vals unless you say they are . '' So that 's one contradiction.Also , I apparently may or may not need to add `` val '' and `` override '' into the constructors for some reason ? I mean I want everything to be public and immutable and for Add to have a symbol equal to `` + '' , a binaryOp equal to the addition function , and also two numbers a and b . Can someone please explain how to get the constructors to work as expected in Scala in a non-verbose way ? I want to be able to do something like this :"
"I recently read some code that uses a special syntax regarding { } , I 've asked a more experienced Java developer , but he also ca n't answer.Why does the code author put these lines inside { } ? I guess that the variables declared within the { } will be released right after execution exits { } , right , because I ca n't access these outside the { } anymore ?"
"I am creating a simple IDE using JTextPane and detecting keywords and coloring them.Currently , I am able to detect : CommentsString LiteralsIntegers & FloatsKeywordsThe way I detect these types are through regular expressions.Now , I am trying to detect variables like [ int x = 10 ; ] and coloring them a different color.Currently , I am able to get all data types like int , float char using the following regex : Below is a sample output of my program : How am I able to detect variables like a , b , c after I can detect int , float , etc ?"
"My question : What is the advantage of using the Eclipse ConsoleManager class in opposite of putting my console in a view . I have created my own console ( a REPL ) in java and would like to integrate it with Eclipse . I know of two ways to do so : Create a plug-in view and just display my own textpane in it . Example code to start it : Create a plug-in , implement the IConsole interface and add it using the ConsoleManager . Example code to start it : Since I already implemented the Console I favor to the View part . I am not reluctant to implement the IConsole ( and all the other interfaces that are required ) , however , I just do n't see the advantages of it . The Eclipse ConsoleManager must be there for a good reason , what is it ? What would be the main reason/advantage to use it ? What I have found so far : Advantages of implementing IConsole : Support for default console buttons [ 3 ] Disadvantages of implementing IConsole : No ( default ? ) support of rich text editingI tried to make this question as clear as possible , yet if I can elaborate/clarify anything just let me know in a comment ."
"I 'm currently working with the API Apache POI and I 'm trying to edit a Word document with it ( *.docx ) . A document is composed by paragraphs ( in XWPFParagraph objects ) and a paragraph contains text embedded in 'runs ' ( XWPFRun ) . A paragraph can have many runs ( depending on the text properties , but it 's sometimes random ) . In my document I can have specific tags which I need to replace with data ( all my tags follows this pattern < # TAG_NAME # > ) So for example , if I process a paragraph containing the text Some text with a tag < # SOMETAG # > , I could get something like thisBut if I want to edit the text of that paragraph I need to process the runs and the number of runs is not fixed . So if I show the content of runs with that code : Sometimes it can be like this : And other time like this What I need to do is to get the first run containing the start of the tag and the indexes of the following runs containing the rest of the tag ( if the tag is divided in many runs ) . I 've managed to get a first version of that algorithm but it only works if the beginning of the tag ( < # ) and the end of the tag ( # > ) are n't divided . Here 's what I 've already done.So what I would like to get is an algorithm capable to manage that problem and if possible get it work with any given tag ( not necessarily < # and # > , so I could replace with something like this { { { and this } } } ) .Sorry if my English is n't perfect , do n't hesitate to ask me to clarify any point you want ."
I was asked the following question during phone interview I had : Given the following class definition : and its child class that initializes a super class using a random integer generator.you need to intercept the value of x ( the random int produced by someRandomIntegerValGenerator ) and store it in ClassB member . ClassA can not be changed.I ended up with no idea how this can be done because the first call inside the ClassB constructor needs to be the call to super ( ) . Untill the super ( ) was called there is no state for ClassB and the value produced by the someRandomIntegerValGenerator can not be assigned to no ClassB member . The only direction I had was using a ThreadLocalbut I think it should be some easier solution.Any thoughts ?
"Recently I 've run into an issue regarding String concatenation . This benchmark summarizes it : On JDK 1.8.0_222 ( OpenJDK 64-Bit Server VM , 25.222-b10 ) I 've got the following results : This looks like an issue similar to JDK-8043677 , where an expression having side effectbreaks optimization of new StringBuilder.append ( ) .append ( ) .toString ( ) chain.But the code of Class.getName ( ) itself does not seem to have any side effects : The only suspicious thing here is a call to native method which happens in fact only once and its result is cached in the field of the class.In my benchmark I 've explicitly cached it in setup method.I 've expected branch predictor to figure out that at each benchmark invocationthe actual value of this.name is never null and optimize the whole expression.However , while for the BrokenConcatenationBenchmark.fast ( ) I have this : i.e . compiler is able to inline everything , for BrokenConcatenationBenchmark.slow ( ) it is different : So the question is whether this is appropriate behaviour of the JVM or compiler bug ? I 'm asking the question because some of the projects are still using Java 8 and if it wo n't be fixed on any of release updates then to me it 's reasonable to hoist calls to Class.getName ( ) manually from hot spots.P.S . On the latest JDKs ( 11 , 13 , 14-eap ) the issue is not reproduced ."
"Compilingusing Oracle JDK gives : which makes no sense as a class should be able to access its parent 's protected methods . This expression works fine in Eclipse 's compiler.Also , ( ) - > super.clone ( ) compiles fine ... .Is this a bug ?"
I look through java source code try to learn the implementation of collection.Found a interesting thing in the ArrayDeque class.What does the following 2 lines mean ? Is it a bitwise operation ? Why they use it and what 's the purpose here ? I know one scenario to use the bitwise is to pack 2 values in 1 variable . But it seems this is not the case .
"Based on some conditions I want to perform some operation on a specific element of a list only.I have a list of integers like this : and I want to subtract 1 from each element EXCEPT 0.I have tried some approaches like by applying the filter of Java 8 but it removed the zero values from the list.I tried to apply other methods provided for streams API like foreach ( ) or .findFirst ( ) , .findAny ( ) but it did n't work . Actual Result : [ 29,32,28 , -1,33 , -1,44 ] Expected Result : [ 29,32,28,0,33,0,44 ]"
"I have noticed that Java heap allocation is in the multiples of 2 MB . For example I started the JVM with -Xmx values as 1021m , 1022m both JVMs started with the heap size of 1022m . Similarly heap sizes 1023m,1024m started with 1024m.The output is below : In both the cases it shows the MaxHeapSize as 1071644672 bytes which is 1022mb.In both the cases it shows the MaxHeapSize as 1073741824 bytes which is 1024mb.This behavior is similar for Xms.Question 1 : Why are heap sizes being changed from the specified values to next multiple of 2 ? Question 2 : Why Java does not even warn us when the JVM has actually started with a value different than the one specifiedQuestion 3 : Is there a flag or some way to force JVM to create a Heap of 1021mb ? Question 4 : In hypothetical situation say I have 1023mb of free memory available on my machine and I try to create an JVM with 1023mb of heap . By the above behavior it actually tries to start with 1024mb which is not available . Will the JVM creation fail ?"
"Have been using JAudioTagger library for 2 years now , i ca n't figure out how to disable the Logger of it.Also asked the owner of the project : https : //bitbucket.org/ijabz/jaudiotagger/issues/257/how-to-disable-jaudio-tagger-logger What i have tried ? ( No luck ) For now i just have disabled the Logger generally from the application , but i need it , what can i do ? The console is almost unusable because of tons of JAudioTagger messages . Temporary Solution ( I need the logger for the application though ... ) I have searched all the web , i ca n't find a solution like it 's been 2 years ... that 's why i ask here .Solution 27/06/2018 For people interested : )"
"I 've stuck by a few lines in my java program , which take too much time ( about 20s ) , and it seems weird to me.Here are the linesWhich res defined as following : In my program , res.size ( ) ~= 1500Do you have any idea of where my problem could come from ? Thanks !"
"I work on a web application that calls multiple web service clients from within its code.Each web service has some common namespaces , however I am currently mapping these namespaces to different packages when I generate each cliente.g.Web Service 1 's namespace1 - > com.company.webservice.client1.serviceWeb Service 2 's namespace1 - > com.company.webservice.client2.serviceWhere namespace1 refers to the same namespace URL.Using Wsdl2Java 's namespace2package option : I can generate web service client code for these services without issue and I can call each client fine on their own , so long as only one of the generated client jars is on the classpath for the given web service call . However , if I place both web service client jars on the classpath , only one of the web service clients will work ( the one where its respective client jar is first on the class path ) .The other web service client fails when trying to call it , with the following exception : java.lang.ClassCastException : com.company.webservice.client1.service.impl.GetAllMetersResponseDocumentImpl can not be cast to com.company.webservice.client2.service.GetAllMetersResponseDocumentI 've obfuscated some of the actual values above.So , the issue seems to be regarding how Axis2/XMLBeans looks up the appropriate class to match the given XML to parse from.I can change the namespace mappings so that they match each other and it works fine after that . However , the downside to that is that I have multiple web service client jars containing the same generated code in the same package structure , whereby these classes will only be instantiated from the models from the first client jar it finds on the classpath.Is there a way of doing this so that I can keep the different namespaces for each web service client jar ? Or am I simply going to be forced to have each namespace mapped to the same package for every client that uses that namespace ? Hopefully the issue makes sense , but if I need to provide anything else that would assist , please let me know and I will expand this question with further details , but hopefully someone with knowledge of Axis2/XMLBeans/web service client generation using Wsdl2Java should be able to answer this without much further info.UPDATE 1 : I finally gave in and just made all of the namespace mappings point to the same package rather than bespoke per web service client and took the hit of having multiple copies of the same class in various JARs on the classpath . Not as elegant as I would have liked , but at least it works.If anyone can come up with a better solution that allows me to use bespoke copies in each client instead , please do let me know.UPDATE 2 : This approach equally does not work as the two web services , despite using the same namespace , produce different versions of the namespace 's models which now causes compile time errors dependent on classpath order . So ... Back to square one ..."
"Let say I use JPA by using @ transactions annotations.So to have any method run under a transaction I add a @ transaction annotations and BINGO my method run under a transaction.To achieve the above we need have a interface for the class and the instance is managed by some container.Also I should always call the method from interface reference so that the proxy object can start the transaction.So My code will look like : Well and GoodNow let say methodThatRunUnderTx does two logic operations [ 1 ] call some service ( long request/response cycle let say 5 sec ) and fetch the results [ 2 ] perform some jpa entity modifications Now since this method call is long and we do n't want to hold the transaction open for long time , so we change the code so that [ 2 ] happens in separate tx and methodThatRunUnderTx doesnt run in transactionSo we will remove the @ Transaction from the methodThatRunUnderTx and add another method in class with @ transaction let say new methods is methodThatRunUnderTx2 , now to call this method from methodThatRunUnderTx we have to inject it into itself and add a method to interface so that the call happen through proxy object.So now our code will look like : NOW The ProblemWe have made methodThatRunUnderTx2 ( ) to be public through interface.But it is not what we want to expose as our api of FooI and not meant to be called from outside..Any suggestion to solve it ?"
"I have mainly CPU intensive operation which is running on a thread pool . Operation however has certain amount of waiting foe external events which does n't happen uniformly in time.Since in Java , as far as I know , there is not a thread pool implementation which automatically sizes its number of threads based on observed task throughput ( as in Microsoft 's CLR 4 ) , is there at least a way to manually tell to thread pool to increase its size when a blocking operation starts and to decrease when it ends ? For example with 8 cores , pool size is 8 . If operation is 100 % CPU bound , just use this fixed pool . If there is some blocking operation , one should be able to do this : Here is how it is being done in Microsoft 's C++ Async library : Use Oversubscription to Offset Latency"
I am trying to figure out how to set a blob column under where clause . any idea ? For example if I put the following query in cqlsh it works//id is a blob column in cassandraI tried the followingThis gave me a type converter exceptionand I tried this This gave me no error however it returned no results . The query in my cqlsh did return bunch of results . so I am not sure to set a blob in the where clause . I am using Java . any ideas ?
"Would you please give me reference why there is significant difference in the execution time between the following 2 factorial implementations using the Java Stream API : Serial implementationParallel implementation ( using Stream.parallel ( ) ) executed in a custom fork join pool with parallelism set to 1My expectations were to have near execution times , however the parallel version has a speedup by a factor of 2.I did not run any specialized benchmarks however the execution time should not differ so much even in a cold start jvm . Bellow I attach the source code of the two implementations : ParallelSerialHere are the test cases with attached sample execution time as a comments based on what the intellij junit runner showed.The tests were run using java 11 since there was a issue in java 8 with custom fork join pools - https : //bugs.openjdk.java.net/browse/JDK-8190974Can there be an optimisation related with the pseudo parallel processing and how the execution is scheduled whereas there is no such given the execution is purely sequential ? Edit : I also run microbenchmark using jmhParallel : Serial : Results :"
To avoid calling get ( ) which can throw an exception : I can replace this expression with : But what if I need to perform a larger expression like : Is it possible to still use a lambda form for this that mitigates a call to get ( ) ? My use-case is to avoid get ( ) entirely where possible to prevent a possible unchecked exception being missed .
"I have got lot of crash report in my android app from users as I see in the developer console . The stack trace that I see is : There is no reference to my app 's package name . I am using Eclipse for my development . Is it something related to multidex . Do I need to switch to Android Studio to solve this . I am unable to understand the basic reason behind the stack trace so that I can look for a solution for it.Note : I have google play services , IAP and OneSignal Sdk added to my app"
"Many languages have a facility to check to see if an Object is of a certain type ( including parent subclasses ) , implemented with 'is ' and used like this : Or slightly more tediously you can in other languages check by using the 'as ' keyword to do a soft typecast and seeing if the result null . I have n't used Java in years and I 'm getting back up to speed on it but surely Java has a way to easily do this without delving deep into the Reflection APIs ? Thanks in advance for answers . I have searched both here and other places but the keywords involved are so generic that even though I 'm sure this has a simple answer , googling for it is hard ."
"I want to write a method for a Java class . The method accepts as input a string of XML data as given below.The XML string contains a lot of substring starting and ending with < > . The substring may contain XML entities such as > , < , & , ' and `` . The method need to replace them with & gt ; , & lt ; , & amp ; . & apos ; and & quot ; respectively . Is there any regular-expression method in Java to accomplish this task ?"
"Suppose I have a class which wraps a HashMap as follows : This class is initialized via `` Thread1 '' .However , the put , get , printMap and other operations are only ever called by `` Thread2 '' .Am I correct in understanding that this class is thread safe as : Since the reference to the map is declared final , all other threads would see the initial state of the map ( happens-before is established ) .Since put/get/printMap/etc are only ever called by Thread2 , there is no need for mutual-exclusion.Thank you"
"I am a dotnet guy and am trying to create a java applet for my application . I have been able to successfully create the applet and its also working fine in my application after I signed it.The only issue that I have is that when I embed it into an HTML file ( in my case the .cshtml file ) , I see a white border around the applet and this is not a style in the HTML.I 've been trying to get rid of the border but I was not able to do it . the applet only contains a button which has an Icon to it . thats the only control and I 've set the border property of the button to EmptyBorderhere 's the screen shot of the button when you view it in the browser . notice the Dx in the Screen Shot . the Dx is a java applet and you can notice the WHITE border around it.here 's the HTMLadditionally I added the following CSS but this did n't help either.I 've also added the following code in the init method of the applet jButton1 is the name of the Dx button.but this has n't helped either.Can you please tell me where am I going wrong ? Here 's the stripped down applet code : https : //gist.github.com/anonymous/1f31a97b68d34a5821e9"
"Currently we are using To format the time range to an external vendor for a range of data , for India , that formatter will give time like this:2018-04-26T00:00:00.000+0530However , my vendor say they can not accept this format and it have to look like 2018-04-26T00:00:00.000+05:30However , look like in DateTimeFormatter , whatever I choose Z/z/X/x , I do n't get that format of offset . Just wonder is that a way to customize the offset to be HH : mm ? Or , I need to get the offset in second and work that our myself ?"
"I am very familiar with functional langauges such as Scheme , and Haskell . I 'm trying to solve a problem in Java and struggling , possibly because I 'm still in a functional mindset.I want to write : with an interface like : and a class implementing the interface like : so that the first method can call the appropriate process based on what type of storeIn it 's given.In Haskell I could writeand provide Storeable instances for whatever collection type I want to store my ResultSet in.Is this the correct approach in Java ? Because I feel like I 'm somewhat fighting the langauge to accomplish this ."
"When I try to execute this , I get This is method which takes stringas the output . Why not `` This is in method which takes object '' ? Object can also be null and string can also be null , why does n't it invoke first method ?"
"I want to create a cached thread pool , but it acts as a fixed one . Currently I have this code : If I run the code I get output : Meaning only 2 threads are doing all the work and no new worker threads are added to the pool . Should n't the threadpool spawn more threads if tasks are waiting in queue ( up to 10 in my case ) ? I do n't want to use Executors.newCachedThreadPool ( ) because it has practically no upper limit on maximum threads and it has corePoolSize 0 . I want to have some threads ready at all times for better responsiveness. -- -- - edit 1 -- -- -Thank you Aleksey for the answer . Setting capacity to queue is making it behave as expected , but now I have a new problem.The amount of background tasks vary a lot . Most of the time 0 but can go up to 50 concurrent tasks for short periods . What would be an efficient way to handle this ? Keep in mind most background tasks would be short-lived ( < 1s ) but a few long lived tasks ( > 1min ) as well.If I set my threadpool up like this : I will most likely get RejectedExecutionException with peak usage . However if I set threadpool up like this : Then no new worker threads will ever be added because the queue wo n't max out . The CPU has at least 4 cores so this would be wasteful in my opinion . And most of the time there is n't any background tasks at all ( 80 % of up time ) , so keeping a fixed thread pool would also be wasteful in my opinion ."
"BackgroundI have an ordered set of data points stored as a TreeSet < DataPoint > . Each data point has a position and a Set of Event objects ( HashSet < Event > ) .There are 4 possible Event objects A , B , C , and D. Every DataPoint has 2 of these , e.g . A and C , except the first and last DataPoint objects in the set , which have T of size 1.My algorithm is to find the probability of a new DataPoint Q at position x having Event q in this set.I do this by calculating a value S for this data set , then adding Q to the set and calculating S again . I then divide the second S by the first to isolate the probability for the new DataPoint Q.AlgorithmThe formula for calculating S is : http : //mathbin.net/equations/105225_0.pngwherehttp : //mathbin.net/equations/105225_1.pnghttp : //mathbin.net/equations/105225_2.pngforhttp : //mathbin.net/equations/105225_3.pngandhttp : //mathbin.net/equations/105225_4.pnghttp : //mathbin.net/equations/105225_5.png is an expensive probability function that only depends on its arguments and nothing else ( and http : //mathbin.net/equations/105225_6.png ) , http : //mathbin.net/equations/105225_7.png is the last DataPoint in the set ( righthand node ) , http : //mathbin.net/equations/105225_8.png is the first DataPoint ( lefthand node ) , http : //mathbin.net/equations/105225_9.png is the rightmost DataPoint that is n't the node , http : //mathbin.net/equations/105225_10.png is a DataPoint , http : //mathbin.net/equations/105225_12.png is the Set of events for this DataPoint.So the probability for Q with Event q is : http : //mathbin.net/equations/105225_11.pngImplementationI implemented this algorithm in Java like so : So to find the probability of Q at x with q : ProblemAs the implementation stands at the moment it follows the mathematical algorithm closely . However this turns out not to be a particularly good idea in practice , as f calls itself twice for each DataPoint . So for http : //mathbin.net/equations/105225_9.png , f is called twice , then for the n-1 f is called twice again for each of the previous calls , and so on and so forth . This leads to a complexity of O ( 2^n ) which is pretty terrible considering there can be over 1000 DataPoints in each Set . Because p ( ) is independent of everything except its parameters I have included a caching function where if p ( ) has already been calculated for these parameters it just returns the previous result , but this does n't solve the inherent complexity problem . Am I missing something here with regards to repeat computations , or is the complexity unavoidable in this algorithm ?"
I have a problem in this block of code that I saw in oracles site.Can someone explain it for me ?
"I have a ConcurrentMap < String , SomeObject > object . I want to write a method that would return the SomeObject value if it exists , or create a new SomeObject , put it in the Map , and return it if it does n't exist.Ideally , I could use ConcurrentMap 's putIfAbsent ( key , new SomeObject ( key ) ) , but that means that I create a new SomeObject ( key ) each time , which seems very wasteful.So I resorted to the following code , but am not sure that it 's the best way to handle this :"
"I 'm doing a little test to understand how metaspace memory ( Java 8 onwards ) works.When I create 100,000 classes dynamically the metaspace memory is growing ( obviously ) but heap memory is going up too.Can someone explain to me why this occurs ? PS : I 'm running the test with 128 MB of heap and 128 MB of metaspace.See the images below :"
"I have a project built with Gradle version 6.4 and JDK 8 . I 'm trying to use the Gradle plugin for Test Fixtures ( java-test-fixtures ) but I have some issues with the dependencies.According to the Gradle page linked above , the project should be structured like this : While the build.gradle.kts file has the following dependencies section : Now , in IntelliJ ( the IDE I 'm using ) classes in the testFixtures/java source folder see the classes in the main/java source folder . So I can add new Java classes under testFixtures/java that have dependencies on those under main.However , I wo n't be able to import the dependencies from the external library com.my.external.project:1.0 . The problem is confirmed when I try to run the Gradle task compileTestFixturesJava.I can duplicate the entry in the dependencies section ; e.g . I can add : But that is not really what I expect to do ; especially when I have dozens of dependencies.I could also define the dependencies in an array and run a for-each over them . Still , this is not the cleanest solution.Is there a clean solution that will allow the testFixtures module to use the dependencies declared in the main module ?"
"I am writing an interpreter for the language BrainfuckI used the command linethe bf program is supposed to put out 00 to FF in hex , but it puts outwhere the ... represent a sequence of +1 in hexthe 3f replaces 80 to 9f , and i have no idea whySource : the output on the command prompt is"
When I compile with this compiler code : I do n't get any errors.but when i compiler with this codeI do get errorsthe alert.java is the first file
"This is the code I have : And IntelliJ will warn me for the last statement above with the message : Condition 'bar ! = null ' is always 'true ' . This inspection analyzes method control and data flow to report possible conditions that are always true or false , expressions whose value is statically proven to be constant , and situations that can lead to nullability contract violations.When I delete the statement : the warning will be gone.What is going on in IntelliJ 's mind here , what is stopping from bar being null ?"
"UpdateI 've updated the question with newer code suggested by fellow SO users and will be clarifying any ambiguous text that was previously there.Update # 2I only have access to the log files generated by the application in question . Thus I 'm constrained to work within the content of the log files and no solutions out of that scope is quite possible . I 'll have modified the sample data a little bit . I would like to point out the following key variables.Thread ID - Ranges from 0..19 - A thread is used multiple times . Thus ScriptExecThread ( 2 ) could show up multiple times within the logs.Script - Every thread will run a script on a particular file . Once again , the same script may run on the same thread but wo n't run on the same thread AND file.File - Every Thread ID runs a Script on a File . If Thread ( 10 ) is running myscript.script on myfile.file , then that EXACT line wo n't be executed again . A successful example using the above example would be something like so. -- -- -- START -- -- -- Thread ( 10 ) starting myscript.script on myfile.fileThread ( 10 ) finished myscript.script on myfile.file -- -- -- END -- -- -- -An unsuccessful example using the above example would be : -- -- -- START -- -- -- Thread ( 10 ) starting myscript.script on myfile.file -- -- -- END -- -- -- Before addressing my query I 'll give a rundown of the code used and the desired behavior.SummaryI 'm currently parsing large log files ( take an average of 100k - 600k lines ) and am attempting to retrieve certain information in a certain order . I 've worked out the boolean algebra behind my request which seemed to work on paper but no so much on code ( I must 've missed something blatantly obvious ) . I would like to inform in advance that the code is not in any shape or form optimized , right now I simply want to get it to work.In this log file you can see that certain threads hang up if they started but never finished . The number of possible thread IDs ranges . Here is some pseudo code : Search Hung ThreadsHas Thread HungExample DataScriptExecThread ( 1 ) started on afile.xyzScriptExecThread ( 2 ) started on bfile.abcScriptExecThread ( 3 ) started on cfile.zyxScriptExecThread ( 4 ) started on dfile.zxyScriptExecThread ( 5 ) started on efile.yzxScriptExecThread ( 1 ) finished on afile.xyzScriptExecThread ( 2 ) finished on bfile.abcScriptExecThread ( 3 ) finished on cfile.zyxScriptExecThread ( 4 ) finished on dfile.zxyScriptExecThread ( 5 ) finished on efile.yzyScriptExecThread ( 1 ) started on bfile.abcScriptExecThread ( 2 ) started on dfile.zxyScriptExecThread ( 3 ) started on afile.xyzScriptExecThread ( 1 ) finished on bfile.abcEND OF LOGIf you example this , you 'll noticed Threads number 2 & 3 started but failed to finished ( reason is not necessary , I simply need to get the line ) .Sample Data09.08 15:06.53 , ScriptExecThread ( 7 ) , Info , # # # # # # # # # # # starting09.08 15:06.54 , ScriptExecThread ( 18 ) , Info , # # # # # # # # # # # # # # # # # # # # # # starting09.08 15:06.54 , ScriptExecThread ( 13 ) , Info , # # # # # # # # finished in # # # # # # # # # 09.08 15:06.54 , ScriptExecThread ( 13 ) , Info , # # # # # # # # # # starting09.08 15:06.55 , ScriptExecThread ( 9 ) , Info , # # # # # finished in # # # # # # # # 09.08 15:06.55 , ScriptExecThread ( 0 ) , Info , # # # # finished in # # # # # # # # # # # 09.08 15:06.55 , ScriptExecThread ( 19 ) , Info , # # # # finished in # # # # # # # # 09.08 15:06.55 , ScriptExecThread ( 8 ) , Info , # # # # # # finished in 2777 # # # # # # # # # 09.08 15:06.55 , ScriptExecThread ( 19 ) , Info , # # # # # # # # # # starting09.08 15:06.55 , ScriptExecThread ( 8 ) , Info , # # # # # # # starting09.08 15:06.55 , ScriptExecThread ( 0 ) , Info , # # # # # # # # # # starting09.08 15:06.55 , ScriptExecThread ( 19 ) , Info , Post # # # # # # finished in # # # # # 09.08 15:06.55 , ScriptExecThread ( 0 ) , Info , # # # # # # finished in # # # # # # # # # 09.08 15:06.55 , ScriptExecThread ( 19 ) , Info , # # # # # # # # # # starting09.08 15:06.55 , ScriptExecThread ( 0 ) , Info , # # # # # # # # # # # starting09.08 15:06.55 , ScriptExecThread ( 9 ) , Info , # # # # # # # # # # starting09.08 15:06.56 , ScriptExecThread ( 1 ) , Info , # # # # # # # finished in # # # # # # # # 09.08 15:06.56 , ScriptExecThread ( 17 ) , Info , # # # # # # finished in # # # # # # # 09.08 15:06.56 , ScriptExecThread ( 17 ) , Info , # # # # # # # # # # # # # # # # # # # # # # starting09.08 15:06.56 , ScriptExecThread ( 1 ) , Info , # # # # # # # # # # startingCurrently the code simply displays the entire log file with lines started with `` starting '' . Which does somewhat make sense when I review the code.I have removed any redundant information that I do n't wish to display . If there is anything that I might have left out feel free to let me know and I 'll add it ."
"I have a an array of bytes I 'm calculating a checksum for in Java . And I 'm trying to convert it to Kotlin . But the problem is that I am getting different values when calculating the -128 & 0xff in Java than it 's equivalent in Kotlin . When passing in the -128 , when I make the calculation in Java , it gives me a positive 128 , but when I run it in Kotlin , it gives me a -128.This is my Kotlin code . I 'm calling into the above bytes class to get the `` byte array '' I 'm working with . So both pieces are running on the same input.The Java code is from a legacy code base that uses I2C to send over these bytes to a microcontroller . Is the Java just wrong ? Or is there a way that I can get the 128 in the Kotlin code ?"
"As some of you are aware , C++ allows doing this : with the function get implemented something like : Is something similar possible in Java ? More specifically , I 'd like to encapsulate array indexing logic in a function ( in a high-performance way ) ."
"Is there historical reasons to the two ambiguous List.remove ? List.remove ( int ) List.remove ( Object ) It seems like terrible design to me.For a List < Integer > it just seems really confusing.EDIT : Everybody seems pretty fine with this . Let me precise things a bit.Let 's say I have a List < Boolean > .Though idx is an object , Java compiles and will remove the item at index 2.Now if it had been a List < Integer > , the very same code would have called a different method with a totally different behavior.Let 's not talk about what would happen with Generics.I feel like different behavior implies different names is a precious rule , especially within the same class ."
"I 'm trying to generate Scaladoc for my code with the scala-maven-plugin 3.0.2 ( Scala Version 2.9.2 ) . When I usethen I do n't get documentation for the private types and elements of my Scala code . I checked with the plugin documentation , but I ca n't find an option for that.Strangely , the scaladoc plugin does generate documentation for the private elements of my Java code . But because it does n't generate documentation for the HTML comments of the Java code , this is pretty useless.Am I missing something ?"
"Basically i have built an appointment scheduler webapp using java servlets.It relies heavily on javas Calendar.The whole thing was developed on my macbook running mountain lion with jdk 1.6.Now when testing it on my pc i have had some strange results.Running : on the PC will output : Yet on the mac it will output : As we can see here , if i build a table representing a weekly schedule off these values , the mac will start at 6am on the sunday contained in the current week.But the pc will start at 6am on the sunday contained in the next week.Which means any appointments i create are out of sync on the pc ( different days to whats expected ) note : the pc has been tested with both jdk1.6 and jdk1.7Does anyone know any solutions or reasons behind this ? Thanks"
What is the difference between these 2 codes : AndBoth of them have the same output.Thank you .
I am attempting to change the following array line into an ArrayList that will function the same way : I changed it to this but it is not functioning properly : I thought this was how an ArrayList was created
I am working on sorting a map by values code using java 8.I have done most of the thing but I am not getting how to convert the list to map using java 8 features
"Greetings noble community , I want to have the following loop : This will run in parallel on a shared-memory quad-core computer using threads . The two alternatives below are being considered for the code to be executed by these threads , where tid is the id of the thread : 0 , 1 , 2 or 3 . ( for simplicity , assume MAX is a multiple of 4 ) Option 1 : Option 2 : My question is if there 's one that is more efficient then the other and why ?"
I 'm trying to convert an AVLTree implementation into a heap style array and am having some problems with generics : At the line AVLNode [ ] bArray = new AVLNode [ size ] ; I get the following error : `` Can not create a generic array of MyAVLTree.AVLNode '' I do n't see what I 'm doing wrong . Any help ?
"I 'm using a static analyzer in Eclipse to examine my code . One class , foo , has an inner class , bar . I am getting the following error : Why is this an error ? As long as the outer class uses the inner class is n't that sufficient to make this information hiding useful and correct ? The inner class is not static ."
"For an enumeration defined in a class , like Is the enumeration a static nested class ( https : //docs.oracle.com/javase/tutorial/java/javaOO/nested.html ) ? It seems to be the case judging from the syntax used to refer to it . Or is it a non-static nested class ( an inner class ) ?"
"I wish to disable links of a page I am loading to my WebView object . My code works perfectly on my emulator with api 25 , but not on my phone with 23 api.This is the code that blocks the links of my WebView : I am setting my WebViewClient to be an object of type NoLinksWebViewClient . It does the trick on the emulator but not on my real phone.How to solve this ?"
"Consider my custom extended hashmap : Why does n't this work since CustomHashMap is child of HashMap ? But this works : And also it works when adding ( put ) an CustomHashMap into the customs Map.It seems weird that not specifying the generics at initialization works , but it does n't otherwise ."
"I 'm using the diamond operator to initiate objects within a list . However as the number of array objects increases , compile time increases from few seconds to hours . My eclipse auto build made my eclipse non-responsive . I then noticed it is a javac issue . When I replace all < > with < String , List < Category > > the compile time goes back to just a few seconds . Is this something I 'm doing wrong or is it just a Java performance issue ? Here is my code which will take Java hours to compile ( or crashes javac v8u25 ) : Edit : As Sotirios mentioned in comments it seems to be a reported issue in JDK : type inference exponential compilation performance : https : //bugs.openjdk.java.net/browse/JDK-8055984type inference performance regression : https : //bugs.openjdk.java.net/browse/JDK-8048838"
"I know there is an intrinsic overhead of the JVM , and I wanted to do further research to see exactly what the overhead is from.Using the YourKit profiler I was able to find that there are giant int [ ] filled with seemingly random information . My guess was that these store some performance metrics and other things that the JVM uses to optimize applications ; but to my surprise all the elements are value 0.To get my results I used the following `` do nothing '' program , so that the results only include things happening on the JVM.This is a screenshot of the profiling result , and I can upload a memory snapshot if necessary ."
"At the company I work for there 's a document describing good practices that we should adhere to in Java . One of them is to avoid methods that return this , like for example in : I would have such a class so that I 'm able to write : I 've seen such idiom many times , like in StringBuilder and do n't find anything wrong with it.Their argumentation is : ... can be the source of synchronization problems or failed expectations about the states of target objects . I ca n't think of a situation where this could be true , can any of you give me an example ? EDIT The document does n't specify anything about mutability , so I do n't see the diference between chaining the calls and doing : I 'll try to get in touch with the originators , but I wanted to do it with my guns loaded , thats ' why I posted the question.SOLVED : I got to talk with one of the authors , his original intention was apparently to avoid releasing objects that are not yet ready , like in a Builder pattern , and explained that if a context switch happens between calls , the object could be in an invalid state . I argued that this had nothing to do with returning this since you could make the same mistake buy calling the methods one by one and had more to do with synchronizing the building process properly . He admitted the document could be more explicit and will revise it soon . Victory is mine/ours !"
"I.e. , inandwill a1 be garbage collected or is the reference to a1.s permitting it from being collected ( and I should rather do a deep copy , a2.s = new String ( a1.s ) ) ? Thanks a lot in advance !"
I can able to loop through all elements of List like below : I want to print the user object only for first element but I should loop for all elements in list.How to achieve that ?
"The following code gives me : The local variable str may not have been initializedSo , I gave str a null value , and it worked but I 'm still wondering why the one on the docs work without initializing the value first , I 've triple checked and I do n't think I have any typos :"
I 'm using LIBSVM . In the download package is a svm_toy.java file . I could not find out how it works . Here is the source code : Could someone give me an example or explanation ? I also would like to scale my training data . Where is the right place to scale ? Thanks
"I try to write a gradle task with kotlin , this is my code . : GreetingTask.ktbuild.gradleGreetingTaskTestWhen running the test now it results in a : Which is this line : What i would like to know is : Where does this issue come from and how do i fix it ?"
"I have been trying to figure out my mistake in the Sudoku backtracking solver for three days . The problem is from leetcode Sudoku Solver . My solver is based on the deduction in the attached picture . The problem is that my board is changed even if a path from root to leaf is invalid . In other words , after it goes through an invalid path , the values it attempted are fixed in my original board . However , I only update my original board when its children returns true ( see the part in helper method : // put a number and generate children ) . Basically , for each ' . ' , I generate all possibilities from 1 to 9 , construct a temp board which fills the current ' . ' with one possibility , then call helper of the next ' . ' with temp board . I know it is not good to store a same size boardTemp for each possible child because of space cost , but my main concern now is to solve the problem first before optimizing the cost . All in all , why is my board changing even if all children is not valid ? For example , base on the initial board ..9748 ... ; 7 ... ... .. ; .2.1.9 ... ; ..7 ... 24. ; .64.1.59. ; .98 ... 3.. ; ... 8.3.2. ; ... ... ..6 ; ... 2759.. ; I got the final result after I run : 139748652 ; 745326189 ; 826159437 ; 35769.24. ; .64.1.59. ; .98 ... 3.. ; ... 8.3.2. ; ... ... ..6 ; ... 2759.. ;"
"BACKGROUND : I 'm trying to learn algorithms and java . Running a grid of 320x320 , 100 trials runs about 5 times faster than a non-recursive Quick-Union implementation . However , beyond above a grid of about 400x400 ( 160,000 sites ) , I have stack overflow errors.I understand that java is not optimized for tail-recursion ( let alone non-tail recursion ) . However , I suppose there to be times when a recursive algorithm could be chosen over a non-recursive version because it can run faster and just as safe . Please keep in mind I 'm just learning this stuff , and my code may not be optimal . However , I 'm including it to better understand my question.THE QUESTIONWhat is the process to evaluate when a recursive algorithm can safely be used in a java application ( given that it runs faster than a non-recursive alternative ) ? STATS ON RECURSIVE VERSUS UNION-FIND IMPLEMENTATION ( note : The 2x Ratio is simply the previous current run-time divided by the previous run-time ) THE RECURSIVE CLASS"
"Here is a sample code which make me a little missing : As you see , I create a LeakThread and finish the WindowLeakActivity at doInBackground ( ) method.In order to prevent window leak error , I have to check if the Activity has been finished at onPostExecute ( ) method.That make me a little missing.I have following questions : Is do Activity instance isFinish ( ) check at onPostExecute safe ? If my Thread class is not a inner class of Activity.Do I have to check Activity instance is not null at first ? When would Activity instance die ? As Activity 's lifecycle description , it will terminal when callback call onDestroy ( ) .But however , the Activity 's Thread is still going.Though it 's window been not visible , I can also get it 's instance . If I call the System.gc ( ) .Will it collect Activity 's instance ? Sorry for my bad description.Thank you for reading my question very much ."
"I want to access all the methods ( non-abstract+abstract ) from Class A.So i extended Class A , but here in Class B i want to access all non-abstract methods and only 10 abstract method - as I dont want to implement rest of the abstract methods of class B.Problem:1.I ca n't extend Class B because i have already extended Class A.2.I ca n't put those 10 methods inside an interface because i also want to access the non-abstract methods from class B.what should be the correct approach to reuse those methods ? .class Aclass Bclass C"
"In a book I 'm studying , they show this Java code : This code is used to dynamically load a Java class . The book goes on : unloading modules raises an issue . A class loader can not unload a class . Unloading a class requires unloading the class loader itself . This is why programmers .. tend to define several class loaders.What is the benefit of using such code ? The idea of autonomic computing is generally - `` autonomic system administration . '' How does this relate to how a Java program is under the control of the JVM ? source : pg 166 of Autonomic Computing Principles Design ( by Lalanda )"
"I have an array tab1 that contains some strings and another array that could contains all element of array tab1.how do I can do this to avoid repeating same element of tab1 : I would like to say : tab2 = { tab1 , '' HO '' , ... } any idea ? thanks ,"
Is it possible for an interface to be accessible only in the same package and child packages ? I have defined an interface with default modifier : Now I have a child package where I want to define a class which implements BaseDao . So I wrote this code : But I get this error : BaseDao can not be resolved to a typeSo is this a restriction from Java for an interface or am I doing it wrong way ? Thanks
"I 'm trying to use a Fill Flood algorithm for make a Cube Painting tool for an app.This is the code of the algorithm : } This is the part where I handle the touch event on my ImageView : The problem is that the coordinates are not accurate . I mean , wherever I touch the image it gets painted in other part in which I haven't.Do I need to treat my event coordinates before sending them to the Filler algorithm ? I have also tried a full-screen image and this keeps happening ."
Consider the floating point number 0.644696875 . Let 's convert it to a string with eight decimals using Java and C : Javaresult : 0.64469688try it yourself : http : //tpcg.io/oszC0wCresult : 0.64469687try it yourself : http : //tpcg.io/fQqSRFThe QuestionWhy is the last digit different ? BackgroundThe number 0.644696875 can not be represented exactly as a machine number . It is represented as the fraction 2903456606016923 / 4503599627370496 which has a value of 0.6446968749999999This is admittedly an edge case . But I am really curious as to the source of the difference.Related : https : //mathematica.stackexchange.com/questions/204359/is-numberform-double-rounding-numbers
I am trying to figure out this line in a thread dumpWhat is that address after runnable ? Looks like a stack address is it the top of the stack ?
"I came over an article regarding the new Flow related interfaces in Java9 . Example code from there : As you can see , onNext ( ) requests one new item to be pushed . Now I am wondering : if onSubscribe ( ) requested , say 5 items and after the first item gets delivered , request ( 1 ) is called like aboveIs the server now expected to send five items ( 5 requested . -1 sent . +1 requested ) or one item ( because the previous request gets `` discarded '' by that new request ) In other words : when request ( ) is called several times , do those numbers add up ; or are previous requests `` discarded '' ? Leading to the question title - whether the subscriber needs to keep track about received items , in order to avoid requesting `` too many '' items at some point ."
I want to fetch a data from xml Using Xquery with starts with function.data.xmlNow I want to fetch that name which has employee @ id=title @ id and name @ value starts with 'vC'.I have written this xquery for the same.Please see below but getting error-this is error-
"I need to integrate a custom spell-checker into an existing Java application without an Automation API.It should work like this : In the external application A , the user opens a window , where he/she enters some text . In that window there is a button `` Spellchecker '' .When the user presses the `` Spellchecker '' button , my program B should read the text from A 's text field and put it into the custom spellchecker.How can I detect that some button has been pressed in an external Java application ? Update 1 : I tried to install my own AWT event listener to detect events in other applications.But it does n't work.Update 2 : Replacing the system event queue does n't work , either.Update 3 : java.awt.Window.getOwnerlessWindows ( ) and EventQueueMonitor.getTopLevelWindows ( ) both return empty arrays even though there is a JFrame open at time of their invokation.Update 4 : I noticed that I ca n't write to the file C : \Program Files\Java\jdk1.7.0_25\jre\lib\accessibility.properties and currently the line assistive_technologies=com.sun.java.accessibility.AccessBridge is commented out . That may cause the aforementioned problems with the accessibility objects ."
"I was trying to solve this question : Given an array of integers with only 3 unique numbers print the numbers in ascending order ( with their respective frequencies ) in O ( n ) time.I wanted to solve it without using the counting sort algorithm , So what I thought is I could just do a for loop and insert the numbers in a HashMap and then loop through the HashMap entrySet and print the required info.Here is the function : which did the trick when I my array was : [ 3 , 3 , 2 , 1 , 3 , 2 , 1 ] However the above array should not lead to any collision so I tried to use an array which should lead to collisions , one of the arrays I tested my function with was : [ 6,6,9,9,6,3,9 ] yet my function still printed the Keys in ascending order , which got me confused , because I thought when the Key of the HashMap is an Integer the hash code should be hashIndex = key % noOfBuckets so when I have the numbers 6 , 9 and 3 as my HashMap keys I thought there would be collisions and my function should print ( based on the above used array ) : But instead it printed : Could anyone please explain to me why I got the right solution to the question I was trying to solve instead of the answer I was expecting ? Thanks ."
"This bug is present in the latest 1.7 and 1.8 versions of the JDK ( 7u72 , 8u25 ) . Required : jackson-databind 2.5.0 . Tested on Linux x86_64 ( Ubuntu 14.10 to be precise ) .Code : This produces an invalid zip file : I have originally opened the bug on Jackson 's issue tracker even though it really is n't the culprit here , and a solution was found to work around it : disable JsonGenerator.Feature.AUTO_CLOSE_SOURCE in the ObjectMapper . This option which is enabled by default tells the mapper to close the stream.While I 'd like to open the bug to Oracle , I 'd first like to be able to write an SSCCE , but I ca n't . I have tried to close the stream twice ( since it is closed twice in the example ) , not to use a try-with-resources statement etc ... To no avail.Can you come up with an SSCCE for this problem ?"
Let 's say I have a Fraction class : And this is what the bytecode of the above method turns out to be : I 'm trying to understand why instruction at position 3 was put there in the first place . I 'd say we 'd only need to do the following to make it work : Why is not so ?
"I am currently using a 3rd party java library , `` foo '' , that has jni dependencies . The jni dependency also utilizes softlinks . The directory structure looks something likeHow do I package the .jar & .so , with softlink , and upload to my local nexus `` 3rd party '' repository ? There is a similar question but unfortunately that questioner is asking how to deploy their own project which they can control & manipulate . In my case I 'm working with a .jar and .so that I ca n't change.Thank you in advance for your consideration and response ."
"Seeing as Valentine 's Day is fast approaching , I decided to create a heart . So I found this heart from mathematica.se : I played around in Mathematica ( solved for z , switching some variables around ) to get this equation for the z-value of the heart , given the x and y values ( click for full-size ) : I faithfully ported this equation to Java , dealing with a couple out-of-bounds cases : The only problem is that when temp1 < 0 , I can not simply return -1 , like I do : That 's not the behavior of the heart at that point . As it is , when I try to make my image : I get this : Look at that dip at the top ! I tried changing that problematic -1 to a .5 , resulting in this : Now the heart has horns . But it becomes clear where that problematic if 's condition is met.How can I fix this problem ? I do n't want a hole in my heart at the top , and I do n't want a horned heart . If I could clip the horns to the shape of a heart , and color the rest appropriately , that would be perfectly fine . Ideally , the two sides of the heart would come together as a point ( hearts have a little point at the join ) , but if they curve together like shown in the horns , that would be fine too . How can I achieve this ?"
"I want to create the following GUI with Java Swing.Since I 'm not experienced enough with Java Swing , I 'm not sure how to exactly recreate that GUI.I 've tried using GridLayout which looks like this : I 've tried other LayoutManagers but due to my inexperience , I could n't get anything even remotely resembling the GUI I want to achieve.I probably have to use GridBagLayout but I 've tried it and simply was n't able to get anything done.I 'm not sure how to exactly use GridBagLayout , especially since there is a variance of the amount of colums needed ( 2 , 2 and then 3 ) .Here is the code used for creating the second GUI : I 'm thankful for any kind of support !"
"So , I need to write a compiler scanner for a homework , and thought it 'd be `` elegant '' to use regex . Fact is , I seldomly used them before , and it was a long time ago . So I forgot most of the stuff about them and needed to have a look around . I used them successfully for the identifiers ( or at least I think so , I still need to do some further tests but for now they all look ok ) , but I have a problem with the numbers-recognition.The function nextCh ( ) reads the next character on the input ( lookahead char ) . What I 'd like to do here is to check if this char matches the regex [ 0-9 ] * . I append every matching char in the str field of my current token , then I read the int value of this field . It recognizes a single number input such as `` 123 '' , but the problem I have is that for the input `` 123 456 '' , the final str will be `` 123 456 '' while I should get 2 separate tokens with fields `` 123 '' and `` 456 '' . Why is the `` `` being matched ? Thank you ! PS : I did solve my problem using the code below . Nevertheless , I 'd like to understand where the flaw is in my regex expression.EDIT : turns out my regex also does n't work for the identifiers recognition ( again , includes blanks ) , so I had to switch to a system similar to my `` solution '' ( while with a lot of conditions ) . Guess I 'll need to study the regex again : O"
"I 'm trying to understand how positions/offsets work in HTMLDocument . Position/offset semantics are described here . My interpretation is that these are indices in the sequence of on-screen characters represented by the HTMLDocument.Consider the example HTML from the HTMLDocument documentation : When I open this HTML in a browser , I only see `` Paragraph 1 '' and `` Paragraph 2 '' ( and no leading spaces or newlines ) . So I would think that `` Paragraph 1 '' starts at offset 0.But consider the following code , where I print the text in the example HTML and the offset of the body : Output : Basic questions : Why is `` Paragraph 1 '' ( the start of the body ) at index 3 ? Where do the first three characters ( two spaces and a newline ) of the text come from ? Am I misinterpreting what `` offset '' means ? Challenge question : Given some HTML ( simple enough to completely understand by inspection ) , how can I rigorously figure out the offsets of all DOM elements by hand ? More info : If I remove the style tag from the HTML , I get the same result ( body offset of 3 ) . If I also remove the title , I get a body offset of 1 . If I finally remove head entirely , I get a body offset of 0 ( as expected ) . So apparently style contributes 0 , title contributes 2 , and head contributes 1 to the body 's offset ? What is the reasoning behind this ? This also does n't appear to be affected by whitespace in the HTML string ."
"I 'm new to Java , my question is on big-O complexity.For a ) , it is clearly O ( n^2 ) for a nested loop.however , for b ) , with sum++ operation at the end , and complications in the nested loop , does that change the its Big-O complexity at all ?"
why java did n't choose this signature < T > Stream < T > Stream.generate ( Supplier < ? extends T > supplier ) over this one < T > Stream < T > Stream.generate ( Supplier < T > supplier ) ? I mean the below example ( does n't compile ) is correct as a supplier of strings is also valid in a stream of charsequences no ?
Would someone please explain why { } is written after a String array declaration ? Thanks .
I have a code here : As you can see I have mentioned the error . I 'm trying to create a quickfix for this in eclipse jdt ui . But i 'm unable to get the superclass node of the class B that is Class TestOverride.I tried the following codeIn here I got parentClass as TestOverride only . But when I checked this is not of the type TypeDeclaration it 's not of type SimpleName either . My query is how I get the class TestOverride node ? EDIT
"The javadoc of Spliterator mentions that : A Spliterator may traverse elements individually ( tryAdvance ( ) ) or sequentially in bulk ( forEachRemaining ( ) ) . Then we go to the javadoc of tryAdvance ( ) which says that : If a remaining element exists , performs the given action on it , returning true ; else returns false.Maybe I am misreading somewhere , but to me it seems that provided there is one element , or more , remaining , the Consumer as an argument should only every .accept ( ) one argument before returning true , and that if , say , I have two arguments immediately available , then I can not : In this project , I have rewritten the breadth first spliterator so that it now reads : In short , I make the action accept all arguments , and then return false ... and the test , albeit quite simple , still succeeds ( link ) .Note that .trySplit ( ) always returns null ; and the spliterator has chacacteristics DISTINCT , ORDERED and NONNULL.So , is there a stream usage in which the code above will not work due to the method above consuming all elements at once ?"
I tried to write the following code as a stream : this code works fine.But when I rewrite it like this it does n't work anymore : The Optional which I get back from the stream has no values in it . Why ? EDITWhen I try this ( I still get two devices back from getDevices ( ) ) : the testList is empty . So it seems like something goes wrong with the stream of my List of devices ? It 's a JavaEE application and I get my Devices from the corresponding entity :
I am trying to parse a pacs.003 ISO20022 formatted xml file . I have the XSD for this and using XMLBeans have created the required Java classes . The problem I am having is that I am not able to read an element from the XML and keep getting a NullPointerException . I have searched for similar problems but most result in the OP moving to a different technology.The XML snippet I have from LON_20160208.xml is : My code is : The doc.getFIToFICstmrDrctDbt ( ) above results in a NullPointerException and this seems to point to either the get_store ( ) method within the XMLBeans classes or an issue with the namespaces.I have tried using a substitute namespace map and have toggled the setUseDefaultNamespace ( ) method on and off ( it is currently not commented out above ) . I have also read an answer regarding adding elementFormDefault= '' qualified '' to the xsd : schema element but this has already been done . None of these seem to fix the issue and I am running out of ideas.Any help would be greatly appreciated .
"So i 'm a little confused about a change in Java 8 - List.sort - bear with me as the confusion will become apparent.I have Java 8 JDK installed and running Eclipse with the Project in question set to compile in 1.6 ( Windows environment ) .Throughout my code I 've been doing ( Example extends BaseExample ) : Despite compiling to 1.6 , this worked , and has always worked for me ( remember i have Java 8 installed ) .However ... Since applying this code to a clients machine - with Java 7 ( JRE not JDK ) installed ( Linux Environment ) , the exception `` java.util.List.sort ( ) NoSuchMethodException '' is thrown.Changing the code from : examples.sort ( sortByLevel_DESC ) ; to : Collections.sort ( examples , sortByLevel_DESC ) ; resolves the issue.This leads me to the obvious conclusion that its due to the Java 8 specific code , and due to Java 8 not being installed , it falls over.But i 'm left wondering ... Why eclipse does not complain about Java 8 code when not compiled to Java 8 in the exact same way it will complain if you try to use Lambda expressions while not compiled to Java 8 : ( e - > e.active ( ) ) being the problem : I would have thought if the method was java 8 only , and i was compiled to 6 , then only java 6 code can be executed - I have actually relied on this `` project specific setting '' to to ensure i do n't write any code that is not compatible with the lower version that clients often have , like when i tried the lambda expression.Perhaps this is actually a problem with Eclipse and not Java ? Or perhaps this is NOT the same as lambda expressions at all ( in the way it should show an error ) ?"
"I 've read and came to realize myself that entities ( data objects - for JPA or serialization ) with injections in them is a bad idea . Here is my current design ( all appropriate fields have getters and setter , and serialVersionUID which I drop for brevity ) .This is the parent object which is the head of the entity composition graph . This is the object I serialize.AbstractPlane and its subclasses are just simple classes without injections : In contrast , each concrete type of car requires a manager that holds some behavior and also some specific form of data : The CarxManager are @ Stateless beans which perform operations on the data ( the matching CarxData ) given to them . They themselves further use injections of many other beans and they are all subclasses of AbstractCarManager . There are O ( 100 ) car types and matching managers.The issue when serializing the State is that serializing the list of abstract cars does not play well with the injections in the subclasses . I 'm looking for a design that decouples the injection from the data saving process.My previous related questions : How to serialize an injected bean ? and How can I tell the CDI container to `` activate '' a bean ?"
"In Java , when can one `` get away '' with not using synchronized on variables that are read/write for multiple concurrent threads ? I read about a couple of surprising concurrency bugs : double-checked-locking and hash-maps , and have always used synchronize by default in shared read/write cases , however , I started to wonder when it 's OK to not.For example , what sort of general rules can I use to decide when it 's actually safe to omit synchronized from methods like this : Where : T might be primitives or arbitrary objectscreateFoo is always thread-safe and can be called multiple times , but is otherwise unspecified.getFoo ( ) can be `` eventually consistent '' .Is it OK if T are primitives like int ? What about Integer ? What about simple objects , like String ? Etc ."
given a generic interface : and a generic class that implements the interfacewhy does the following work ? I expected the T type parameter of the method interfaceMethod as defined in class A to constrain the method to arguments that have the same type as that supplied to the constructor of A . ( in this case String ) . Why does a.interfaceMethod not require an argument of type String ?
"As the title says , given a stock of integers 0-9 , what is the last number I can write before I run out of some integer ? So if I 'm given a stock of , say 10 for every number from 0 to 9 , what is the last number I can write before I run out of some number . For example , with a stock of 2 I can write numbers 1 ... 10:1 2 3 4 5 6 7 8 9 10at this point my stock for ones is 0 , and I can not write 11.Also note that if I was given a stock of 3 , I could still write only numbers 1 ... 10 , because 11 would cost me 2 ones , which would leave my stock for ones at -1.What I have come up so far : With this I can get the correct answer for fairly big stock sizes . With a stock size of 10^6 the code completes in ~2 seconds , and with a stock of 10^7 numbers it takes a whole 27 seconds . This is not good enough , since I 'm looking for a solution that can handle stock sizes of as big as 10^16 , so I probably need a O ( log ( n ) ) solution.This is a homework like assignment , so I did n't come here without wrestling with this pickle for quite some time . I have failed to come up with anything similiar by googling , and wolfram alpha does n't recognize any kind of pattern this gives.What I have concluded so far is that ones will allways run out first . I have no proof , but it is so.Can anyone come up with any piece of advice ? Thanks a lot.EDIT : I have come up with and implemented an efficient way of finding the cost of numbers 1 ... n thanks to btilly 's pointers ( see his post and comments below . also marked as a solution ) . I will elaborate this further after I have implemented the binary search for finding the last number you can write with the given stock later today.EDIT 2 : The SolutionI had completely forgotten about this post , so my apologies for not editing in my solution earlier . I wo n't copy the actual implementation , though.My code for finding the cost of a number does the following : First , let us choose a number , e.g . 9999 . Now we will get the cost by summing the cost of each tens of digits like so : Thus the cost for 9999 is 4000.the same for 256 : Thus the cost for 256 is 156.Implementing with this idea would make the program work only with numbers that have no digits 1 or 0 , which is why further logic is needed . Let 's call the method explained above C ( n , d ) , where n is the number for which we are getting the cost for , and d is the d'th digit from n that we are currently working with . Let 's also define a method D ( n , d ) that will return the d'th digit from n. Then we will apply the following logic : With this the program will calculate the correct cost for a number efficiently . After this we simply apply a binary search for finding the number with the correct cost ."
Reproducer : Warning emitted : Access to enclosing method w ( ) from the type IDs is emulated by a synthetic accessor methodI understand what synthetic methods are - what I do not get is how they come into play with enums - I would expect enum instances to have all private methods I define in the enum . Are instances really nested classes ?
"In given example : will return : c= -1183744630 , why ? How to fix that ?"
"I have a List < UserMeal > collection , where UserMeal has : I need to convert it into Map < LocalDate , Integer > . The key of the map must be the dateTime ( converted to LocalDate ) of the UserMeal item in the collection.And the value of the map has to be sum of calories.I can not figure it out how to do this with streams . Something like : Any help ? Here 's my current code which obviously does n't work ."
What has changed in tomcat 7.0.42 - > 7.0.47 at EL-Escaping ? I have an include tag : dataview.jspx containsIn tomcat 7.0.42 it renders to this : But in 47 it renders this : what changed ? and how can i now output my js-variable ?
"I successfully created a spring boot Serviceclass in order to write on google sheets , following the Java Quistart Tutorial for Sheets APIMy problem is that the authorization is not renewing , so after the first successful authentication via browser , after some hours I get 401 unauthorized.How can I automatically renew the token without re-issuing the browser login ? Below the code , thanks in advanceEdit : Solved modifying the build of GoogleAuthorizationCodeFlow object as follow :"
I Have two repository interfaces that connect MongoDB and CouchBase : Is there a way to interchangeably @ Autowire these repositories into UserService on condition ? The condition will be inside application.properties . Note : These repositories can have custom methods too .
"I am trying to sort a list of strings for a Pacific island language ( Chamorro ) . In this language , Ng is considered one letter , and it comes after N in the alphabet . How can I sort a list of words such that Nai and Nunu both come before words that begin with Ng ? UpdateThe complete alphabet is : Besides Å , Ñ , and their lowercase versions , there are no accents over the other letters . Words can have apostrophes in them ( such as o'mak ) , but they do n't affect the sort order.There is no locale for Chamorro , so I need to manually implement a sort algorithm ."
"My question concerns safe publication of field values in Java ( as discuessed here Java multi-threading & Safe Publication ) .As I understand it , a field can be safely read ( meaning access from multiple threads will see the correct value ) if : read and write are synchronized on the same monitorfield is finalfield is volatileIf my understanding is correct the following class should not be thread-safe since the initial value is written without these characteristics . However I find it hard to believe that I need to make first volatile even though it is only accessed from a synchronized method.Am I missing something ? Is above code correct and if so why ? Or is it necessary in such cases to make first volatile or use a final AtomicBoolean or something like that in addition to accessing it from a synchronized method . ( Just to clarify , I am aware , that if the initial value was written in a synchronized method , it would be thread-safe even without the volatile keyword . )"
"In Java you ca n't specify that an overridden abstract method throws some exception if the original abstract method does not ( overridden method does not throw Exception . ) However in Scala you can do this since it does n't have checked exceptions . Fine , but if you use the @ throws annotation that should tip the Java compiler off to what 's going on , right ? Given this Scala code : I have two different Java programs , one of which will compile and run into an Exception at runtime , and the other which will not compile.Compiles : Does n't compile ( unreported exception Exception ; must be caught or declared to be thrown ) : I do n't really get it . Why does n't the Java compiler pick up on the fact that I 'm declaring that SFoobar.bar throws an exception even though Foo.bar has no such declaration , and as a result , raise a similar compilation error ?"
the result of the following statement should give 9 : ( using java or js or c++ ) but in php the same statements will give 12 ? ! is this a bug or can anyone explain why ?
"I 'm trying to find a third solution to this question.I ca n't understand why this does n't print false.Surely , because of string interning , the `` true '' instance being modified is exactly the same one used in the print method of PrintStream ? What am I missing ? EditAn interesting point by @ yshavit is that if you add the linebefore the try , the output is"
"I 'm currently currently working with a rather massive project with several classes of over 20 , 000 lines . This is because it was someone 's bright idea to mix in all the generated swing code for the UI with all of the functional code.I was wondering if it would incur any extra cost in terms of memory or run time , to move most of the non-UI related functions into a separate class.To provide an example , this is something along the lines of what I 'm building.Eventually , I 'd also like to move some of the fields like infoItems over as well , which would result in a reverse relationship , with Class1 accessing c1u.infoItems ."
"Given a class like so : Notice that equality does not depend on both fields matching , either field works . What would be a suitable hashCode implementation for this class ?"
Lets say I have two interfaces interface A and interface B : interface A has a method public int data ( ) and interface B has a method public char data ( ) .when I implement both interfaces A and B in some class C the compiler gives me an error . Is this a flaw in java ? As I presume this is one of the major reasons why we are not allowed to extend more than one class then why are we allowed to implement more than one interface when this problem still persists ?
"Why are different case bodies not automatically in their own scope ? For example , if I were to do this : the compiler would complain about local variable redefinitions . I understand I could do this : to put a block around each set of statements to be executed to put each account variable in its own scope . But why does n't the language do this for me ? Why would you ever want to declare a local variable in CONDITION_ONE 's body and then use it in CONDITION_TWO 's ? This seems like a TERRIBLE idea which should be explicitly banned , not implicitly permitted ."
"I am trying ( without luck ) to update entries for MediaStore for both audio tracks and images . I am using something like this : The above snippet works on API16- > API28 without problems.Though , on API29 it does not work . No errors are displayed on logs or messages . I am trying the above code on the API29 emulator . I am not sure if this issue is related to using an emulator or not.I would really appreciate any information that points me in the right direction ."
"I 'm implementing a simple `` Play your cards right '' ( otherwise known as higher/lower ) game . In case you 've not come across it before the rules are really simple . A single suit of cards ( e.g . hearts ) are used . One card is drawn at a time and the objective is to correctly guess if the face value of the next card will be higher or lower than the face value of the previously drawn card.The logic for the game is n't particularly complex , I 'm not worried about that . I 've come up with a design , but I am not entirely happy with it . There are a few areas where I 'm sure that it could be improved , and that 's what I would like your advice on . Here 's an interface for the class ( comments for additional understanding , not real comments ) : As you can see it is all fairly self explanatory and simple . Here are my issues : I do not want the constructor to automatically draw a card . This means that initially there is no `` previously drawn card '' . I have a NO PREDICTION value in the Prediction enum but , as there is no `` previously drawn card '' the getNumberCardsHigher ( ) and getNumberCardsLower ( ) methods ca n't return sane values ( they can not also return sane values when all the cards from the deck have been drawn ) . Obviously , I could simply throw an exception , but that seems like overkill - especially as then all calls to the methods then have to be wrapped in try/catches . I 'm also unhappy with returning a negative value , since that could easily lead to some errors if someone forgets/ca n't be bothered to check for them.All suggestions welcome !"
"I am trying to convert this enum to Delphi . I know that how to define enum variables but i have no idea , how can i insert a method in enum ? Or can someone suggest another way to convert this ?"
"I have a background image I am drawing with open gl 1.0 es.The problem is when I draw this small image to the big screen I get this ... The lines / breaks in pattern are not suppose to be there . I have tried a lot of things , I thought maybe my atlas was wrong ... doubt it . I draw it from ( 0 , 0 , 50 , 50 ) which is ( x , y , width , height ) . Checked this a lot and still get the same result , it is as it should be.Tried different things with my for loop which is below ... The viewport & matrices is : When I draw sprites : Here are my texture and texture regions : I have tried adding and subtracting from the width added and height added , but makes it look worse.My question is what would you look at to try and fix this problem , I feel very stumped , but I feel like I may have set something wrong in OPENGL . What could I have setup wrong ? I can always provide more code up top , but not exactly sure what you may need.The image I am re pasting over the whole screen is : Also the tool I am using to make atlas is found here and I am using the one under the beta tree which is considered build 4 . However , I checked the atlas over and it seems just fine ."
What happens in the following code ? Does the synchronization work ? This is an interview question .
"I 'm using Java 1.8.0_151 and there is some code that does n't compile and I do n't understand : why it works fine on result1 but gives compilation error on result3 ? Additional info : In the first line , when I change Optional to Optional < String > , result3 is also able to compileWhen I break result3 into 2 lines : like result1 and result2 , result3 is able to compile"
"I have a generic java interface Id < T > with a single method T getId ( ) and a class MyClass that implements Id < Long > . When I inspect the methods declared on MyClass using java reflection , I see two methods : one with return type Long , and one with return type Object . Where does the second method come from and how can I remove it ? Here is the source :"
"We just updated from JDK8 to JDK11 and our Tomcat started reporting this warning ( we use Docker image tomcat:9-jre11-slim ) : The bug # 56684 mentioned in the warning refers to this : https : //bz.apache.org/bugzilla/show_bug.cgi ? id=56684 - which is probably fixed and not very relevant.Can we ignore this error ? This seems that it is just something internal in Tomcat.If so , should it be enough to put this in logging.properties ?"
"We use Java beans on some projects where I work , this means a lot of handcrafted boilerplate code like this.I 'm after an Eclipse plugin , or a way of configuring Eclipse code templates that allows a developer to generate the setters from a simple skeleton class , in a similar fashion to the 'Generate Getters and Setters ' does for POJOs.InputExpected outputI 'm aware of project Lombok , but I 'd prefer to stick to a pure Java/Eclipse based approach . I 'm considering writing an Eclipse plugin for this myself , what would be really useful is a more powerful template plugin in Eclipse , that could solve this problem and others ."
"I have a Map < String , String > which indicates links from A to B. I want to chain all possible routes . for example : will outputI found similar question here ( but not fully fulfills my requirement ) : https : //stackoverflow.com/a/10176274/298430And here is my solution : and the test case : It does work correctly : But I do n't like my solution . Because I feel it can be solved in a more functional-style . I can feel the smell of stream.fold ( ) here . I tried but in vain to convert my code to a pure functional style : which means no intermediate objects creation ... Is it possible ? Any hints are grateful !"
"How can I catch the final exception that caused the Camel failover load balancer to fail ( e.g . to prepare a nice ( HTTP ) response instead of plain stack trace ) ? I have something like this : with : ( and exactly the same for `` direct : bar ) Without the load balancing I 'd go ahead and use onException but I ca n't seem to get my head around how this works nicely with the load balancer and its internal exception handling . On the one hand , I would like to log the stack trace DURING load balancing and on the other hand I want to use onException to create a nice error response - and ideally both within the same component/implementation.So I tried this : But handled ( true ) seems to break the failover while on the other hand , I assume it 's necessary when I use onException for rendering the final HTTP error response.How can I distinguish in an onException error processor between : an exception occured which triggers the failover , andthe failover load balancer failed entirely and you might want to create a nice final error response for the caller ?"
"I have controller : and jsp page : It works fine , but I confused , when railwayServiceRepository.findOne ( id ) return null NullPointerException does n't throw ."
"I 'm upgrading production hardware , and we 're seeing far more young-gen GCing on the new set of kit compared to the old.The same program is running ( identical binaries ) on both machines . One obvious difference ( I hope this does n't make a difference to the JVM ) is that we have upgraded RHEL5 - > RHEL6.Our JVM ( Java 64-bit Hotspot 1.6 , same java -version on both ) is running with the same command-line GC options : Also : The difference between the machines is that the new box has approximately twice as much RAM ( 32gb - although the max heap is unchanged ) and some more cores ( 24 vs. 16 ) .The application itself connects to several external processes and performs lots of network operations - so this could indicate some regression , misconfiguration , or incompatibility ( this is why we test ... ) . What I would like to know is : Is an increased level of young-gen GC likely to be a natural and expected consequence of running on more cores , or should I be concerned about this development ? We confirmed the number of GCs in JConsole , but that 's about the same as doing : ( note -XX : +PrintGC -XX : +PrintGCDetails ) Full GCs look about the same on both boxes.Note , this is the number of GCs over the course of the whole application startup process - so it 's not performing `` more work . '' It 's the same work , with more GC runs.I wondered , for example , whether -XX : +UseParallelGC would lead to lots more entries in the log , because more threads were being used ( chopping the young-gen collections into smaller pieces , meaning more , smaller collections - not something to be worried about ) ."
"When you compile a Java class with a private inner class , it appears that an anonymous class is automatically synthesized along with it for some reason . This class is sufficient to reproduce it : When compiled , this generates the expected SynthesizeAnonymous.class and SynthesizeAnonymous $ InnerClass.class files , but it also generates a strange SynthesizeAnonymous $ 1.class file that corresponds to an anonymous subclass of java.lang.Object that was synthesized . If you look at the disassembly with javap , it appears the default constructor of InnerClass gains a hidden parameter of this anonymous type , and that null is passed to it when the new InnerClass ( ) is called.Why is this class created ? It 's created even if InnerClass is n't static , but it is n't created if InnerClass is n't private or no instance of InnerClass is ever created . Is it some form of access control ? How does that work ?"
"For one of our project , we are consuming HTTP feed stream by using java jersey clientWith the client Feed consuming is fine , but after the 10 mins of time , stream dropping abnormally ; even though stream producer is up and running and producing the streamThis is what I tried ; If stream does n't drop ; thread has to be within the while loop ; once the stream closes then thread will come out and print sysout statementHere the question is ; why chunkedinput is closed.Here , for every payload/chunk separation on the server end it is \r\n and to make it connection active from the server , sending \n ( on the client end , I have to ignore this . )"
"Let me be clear , the method I describe below is operational . I 'm hoping to improve the throughput of the method . It works , and it works quite well . We 're looking to scale throughput even more which is why I 'm looking into this.The task at hand is to improve the performance of a scoring algorithm which returns the best score for a collection of tasks . I have collection of tasks that I perform the scoring on using an ExecutorService . Each task checks to see if it now has the best score , and updates the best score in a synchronized fashion if it is the new best . To give some insight into the scale I 'm working at , Each task takes a fraction of a millisecond to complete , but there are thousands of them , resulting in several hundred milliseconds to find the best one . I execute this scoring algorithm several hundred times a minute . The result is that 30 second out of 60 is spent running this scoring algorithm.When my thread pool is 8 threads ( with 24 virtual cores ) , the tasks take 0.3 ms each . When I have 20 threads ( same machine , 24 virtual cores ) the tasks take 0.6 ms each . I suspect that as I add more threads to my ExecutorService thread pool that my performance is getting worse because of this synchronization on the best score ( more threads contending for the lock ) .I have done quite a bit of searching , but ca n't seem to find satisfactory ( actually , I ca n't seem to find any ) alternatives . I 'm thinking about collecting all scores and either storing in sorted order , or sorting after all tasks are completed -- but I 'm unsure if this will be any improvement.Does anyone have any thoughts of another , more efficient way of collecting the best score ? Here 's the current methodology :"
"Consider following interface.Is above interface a bad design ? OperationResult and OperationInput are defined as static class . They would be only used by implementations and not anywhere else . Advantage that I see here is - I do n't have to create separate files for these two classes . Also they get namespace of parent class.I have read about constant interface . But in this case , I am defining constant in normal interface which are bound to be same across all implementations and would be used in those implementations.I am using this pattern for first time so wanted to get suggestions ."
"Here 's the scenario . As a creator of publicly licensed , open source APIs , my group has created a Java-based web user interface framework ( so what else is new ? ) . To keep things nice and organized as one should in Java , we have used packages with naming conventionorg.mygroup.myframework.x , with the x being things like components , validators , converters , utilities , and so on ( again , what else is new ? ) .Now , somewhere in class org.mygroup.myframework.foo.Bar is a method void doStuff ( ) that I need to perform logic specific to my framework , and I need to be able to call it from a few other places in my framework , for example org.mygroup.myframework.far.Boo . Given that Boo is neither a subclass of Bar nor in the exact same package , the method doStuff ( ) must be declared public to be callable by Boo.However , my framework exists as a tool to allow other developers to create simpler more elegant R.I.A.s for their clients . But if com.yourcompany.yourapplication.YourComponent calls doStuff ( ) , it could have unexpected and undesirable consequences . I wouldprefer that this never be allowed to happen . Note that Bar contains other methods that are genuinely public.In an ivory tower world , we would re-write the Java language and insert a tokenized analogue to default access , that would allow any class in a package structure of our choice to access my method , maybe looking similar to : where the wildcard would mean any class whose package begins with org.mygroup.myframework can call , but no one else.Given that this world does not exist , what other good options might we have ? Note that this is motivated by a real-life scenario ; names have been changed to protect the guilty . There exists a real framework where peppered throughout its Javadoc one will find public methods commented as `` THIS METHOD IS INTERNAL TO MYFRAMEWORK AND NOTPART OF ITS PUBLIC API . DO NOT CALL ! ! ! ! ! ! '' A little research shows these methods are called from elsewhere within the framework.In truth , I am a developer using the framework in question . Although our application is deployed and is a success , my team experienced so many challenges that we want to convince our bosses to never use this framework again . We want to do this in a well thought out presentation of the poor design decisions made by the framework 's developers , and not just as a rant . This issue would be one ( of several ) of our points , but we just ca n't put a finger on how we might have done it differently . There has already been some lively discussion here at my workplace , so I wondered what the rest of the world would think.Update : No offense to the two answerers so far , but I think you 've missed the mark , or I did n't express it well . Either way allow me to try to illuminate things . Put as simply as I can , how should the framework 's developers have refactored the following . Note this is a really rough example.Another update : So I just learned that C # has the `` internal '' access modifier . So perhaps a better way to have phrased this question might have been , `` How to simulate/ emulate internal access in Java ? '' Nevertheless , I am not in search of new answers . Our boss ultimately agreed with the concerns mentioned above"
I 've been thinking about creating a Java framework that would allow programmers to specify invariants ( pre- and post-conditions ) on interfaces . The purpose would be to make code more robust and reduce the number of unit tests that would need to be written for different implementations of the same interface.I envisage creating some way of annotating methods with invariants that the programmer would also write . E.G . would be decorated with an annotation to ensure that any implementations return a sorted list . This annotation would be linked to a unit test that could be run at compile time against any implementation.Is this a crazy idea or would this be useful to the wider programming community ?
"Constructors of non static member classes take an extra hidden parameter which is a reference to an instance of the immediately enclosing class . There is also a syntactic extension of 'new ' . In the below code , Can you please help me understand the meaning of Kb ( ) in K.Ka.Kb ( ) .new Kc ( ) .new Kd ( ) ? I understand that new Kc ( ) is required as told in first paragraph ."
"Caller : It will call the following 2 methods : The questionAs you can see , the getNextXXXXX ( ) method are pretty the same , just return different object , the logic is same , how to DRY ? the actOnXXXX ( ) seems falls in the DRY category as well , but it all about the same , use same logic against different object . How to solve this ?"
"I am creating a new namespace and the most apt name for one of the class seems to be the same name as the namespace . Is this a good practice ? If not , what is the alternative ? For example : Related questions discussing the same issue : Should a class have the same name as the namespace ? How to avoid having the same name for a class and it 's namespace , such as Technology.Technology ?"
"i would like to know if there is a more efficient way to sum all tree lists - summing their values at the same index.The reason why i am asking its because , probably using Streams API , its possible to make it more generic , for any number of lists.thanks for any insight ."
"I have a Map which is read by multiple threads but which is ( from time to time ) cleared and rebuilt by another thread.I have surrounded all the access to this map with ... or the writeLock ( ) equivalents , depending on the type of access.My question is ... will the ReadWriteLock ensure the updates to myMap are visible to the other threads ( since they must wait until after the unlock ( ) is called by the writing thread ? Or , do I also need to make myMap a concurrent map , like ConcurrentHashMap ? I will probably do that , just to be safe , but I 'd like to understand better ."
"I have this vexing source written to demonstrate a layout for a game screen mentioned on another question . It puts buttons ( or labels , choosable at start-up ) into a GridBagLayout . If you choose to not use buttons when prompted ( before the GUI appears ) the entire GUI is nice and compact with no gaps . But if you choose to use buttons it will ( if your set up is like mine ) look something like this..Note the red horizontal lines . That is the BG color of the panel showing through . Those lines are not seen when the GUI uses labels . Stretch the GUI a bit to see that it is not even putting a red line after every row ( there are nine rows ) - though each row uses buttons ( the same components ) .How to remove the extra vertical space when using buttons ? I figure it must be something I 'm forgetting to do when configuring the buttons or the row weights , but I can not figure out what !"
"Here is my whole activity code , if nessery I can post my xml as well.The code works perfectly without the clickListener , but I want an action to happen when clicking on a certain child of the array but right now it says Can not resolve method setOnChildClickListener ( anonymous android.widget.ExpendableListView.OnChildClickListener ) although The recycleView is my Adapter , any help will be appreciated"
"I 'm not sure why the last statement in the following code is illegal . Integer should be a subtype of ? , so why ca n't I assign it to b ?"
"In C and C++ , the compiler is not allowed to reorder data members of structs , so if you 're not careful with how you order them , you end up wasting space . For example : On a platform with 32-bit ints and 64-bit pointers , i will be placed first , followed by 32 bits of padding so that p can be 64-bit–aligned . i2 then takes up half of the next word , followed by another 32 bits of padding . The resulting struct is 24 bytes long , whereas if p were declared first , it would be only 16 bytes long . If you have a lot of these structs in an array , finding and removing the padding can sometimes be an important optimization , to save memory and reduce cache churn.I 'm curious to know if Java has the same feature . Are unboxed types ( such as int and boolean ) the same size as references or smaller ? And if they 're smaller , is the compiler allowed to reorder them to avoid inserting padding to align subsequent fields ? Finally , if it is , do any compilers do this ? I do n't have a particular optimization need for this right now , I 'm just curious to know if I should bear this in mind when choosing what order to declare my fields , like I do in C ."
"I am distributing a library jar for internal clients , and the library includes a certificate which it uses to call a service that is also internal to our network.The trust manager is set up as followsAll of this works fine except in cases where users need other certificates or the default certificate.I tried thisRegistering multiple keystores in JVM with no luck ( I am having trouble generalizing it for my case ) How can I use my cert and still allow user libraries to use their own certs as well ?"
"Is there a way to parameterize a superclass with a static member class of the subclass ? Contrived ExampleExampleSuperClass.java : ExampleSubClass.java : Compilation fails on ExampleSubClass.java with error : or in Eclipse with : Member can not be resolved to a typein Eclipse the super invocation also has the error : The constructor ExampleSuperClass ( Member ) refers to missing type MemberIt works fine ( aka no errors ) if ExampleSubClass is instead parameterized with another package-protected top-level class.SummaryThe driving force behind this is that I have a generic super class and many different $ { SubClass-extends-GenericSuperClass } .java and $ { ClassUsedBySubClass } .java pairs . But since ClassUsedBySubClass is only ever referenced by SubClass , it would be nice to : restrict ClassUsedBySubClass 's access by making it a static member class andcut down on the number of files by not giving ClassUsedBySubClass its own file.So , is there a way to use a subclass 's member class in parameterizing the superclass ? If there is n't -- is there an alternative approach ?"
I need to add some HTML contents into mail body . this is what i have tried so far.If i get the Out put only the last field display in the body of mail which is Employee ID . i want to display all three fields in the Body of the mail.Thank you .
"Consider we have a scheduled executor service : And for some logic we want to retry a task execution . The following approach seems to be smelling for me , but I ca n't understand why : The one obvious problem I see is that this code is not possible to convert to lambda : ^^ this wo n't compile , as we can not refer this from lambda . Though it can be solved by introducing a method which produces such an instance and provide it instead of this.But this is only one disadvantage I see . Is anything else here which can cause any problems ? Perhaps there is a more proper approach ? Move this logic to ThreadPoolExecutor.afterExecute ( ) ( this causes type conversion though ... ) ? Assuming that object is stateless , i.e . there are no object variables in Runnable instance.P.S . The logic of what to do ( reschedule task or resubmit or do nothing ) is based on some information retrieved from the database ( or any external source ) . So Runnable is still stateless , but it calculates the outcome based on some results of its work ."
"Possible Duplicate : Why this is not compiling in Java ? In java , curly braces are optional for one line for loops , but I 've found a case where it is n't allowed . For instance , this code : wo n't compile , but if you add curly braces , like so : it will . Why wo n't this code compile ?"
"I am attempting to use J/Link to get an image from Mathematica to Java . I am able to print the image in Mathematica like this : I 've tried returning the data from the Mathematica function in various ways : My Java code : When debugging , I get a large byte array in res . The image does get saved , but it 's blank ( i.e . a white image ) .If I return just a string ( `` blue '' ) , an image with the string blue gets saved.I 'm assuming that I need to return something differently in renderImageGeneric , but I ca n't figure out what.Thanks !"
I tried to compile following code but got errorI donot know why it is ambiguous . means if I am passing an int value it should auto-box and test ( Integer..x ) should get called..on similar line test ( long..x ) should be get called..this is my understanding..can someone explain this why it is ambiguous ?
I compiled a very simple java program with gcj-4.4 and -o option . I loaded it in gdb-7.2 and tried to do some debugging . I noticed at I could print the variables in int type but I could not print an array of int . I received this error message : So my question is how can I print a Java array in gdb ? My OS is openSUSE-11.1 x64-86bit . Thanks !
"Why does n't a.compareTo ( b ) compile ( int can not be dereferenced ) ? I know that compareTo requires objects , but I thought autoboxing would automatically make an int an Integer when necessary . Why does n't autoboxing occur in this case ? And what other cases will it not occur ?"
"Why are generics declared as part of a method ? For instance , when creating a method that uses generics , the generics must be included after the method modifiers : The generics portion of a method is not shown as part of a method declaration . According to java documentation , methods contain the following items : Modifiers—such as public , private , and others you will learn about later.The return type—the data type of the value returned by the method , or void if the method does not return a value.The method name—the rules for field names apply to method names as well , but the convention is a little different.The parameter list in parenthesis—a comma-delimited list of input parameters , preceded by their data types , enclosed by parentheses , ( ) . If there are no parameters , you must use empty parentheses.Reference : https : //docs.oracle.com/javase/tutorial/java/javaOO/methods.html"
"I want to override equals ( ) method in generic class and to do that I must cast Object to my generic type Pair.I added @ SuppressWarnings ( `` unchecked '' ) to `` mute '' the warnings , but the problem is still there . Methods getType ( ) and getClass ( ) are n't working with generic types too , so using T.getType ( ) is out of the question.Is there any general good practice or `` trick '' to do that correctly and safely ?"
"I am learning recursion and below is one example that I am tracing through to better understand itBelow is what I have understood so far.- In the first call to strRecur ( `` abc '' ) , the method gets added to execution stack . It prints `` abc '' before pausing due to a recursive call with parameter `` abc* '' .The second call with `` abc* '' , pushes method strRecur ( abc* ) to the stack and prints `` abc* '' to console.The third call with `` abc** '' , pushes method strRecur ( abc** ) to the stack and prints `` abc** '' to console . The fourth call with `` abc*** '' , pushes method strRecur ( abc*** ) to the stack . Since the base condition is met , the method completes ( without printing anything ) and pops out of the stack.The third call with `` abc** '' is completed and popped out . Since there is no pending code to execute nothing happens.The second call with `` abc* '' is completed and popped out . Since there is no pending code to execute nothing happens.The initial call with `` abc '' is completed and popped out . Since there is no pending code to execute nothing happens . Prints following to the console -I think I understand what is happening here . Now , I want to try a slight variation of this code . Instead of callingstrRecur ( s+ '' * '' ) , I would like to do return strRecur ( s+ '' * '' ) My expectation was that , once strRecur ( abc*** ) pops out , it 's output ( abc*** ) would be returned to the next strRecur ( ) on the stack , so I would see abc**** printed in the console . Same for other recursive calls as well.However , the output in this case is exactly the same as when there is no return statement . My understanding ( which of course is not correct ) stems from the recursive factorial implementation , where we do something likeHere fact ( n-1 ) is resolved with the returned value of n , once the previous method on the stack completes . Why does n't return behave in the same way in this example ?"
"Following a review of the var feature as seen here : I have encountered difficulties with setting up my Eclipse/IntelliJ IDEA IDEs with JDK 10 and am therefore asking help from Stack Overflow users who have a working Java 10 environment.Consider the following : When using var , I expect the JVM to recognize the deriving class type which the variable holds . And to execute B : someMethod ( ) instead of A : someMethod ( ) when executing myA.someMethod ( ) .Is this indeed the case ?"
"With Eclipse it is possible to find all references of a method , member or class . Is it also possible to find all references to the monitor of a synchronized ? If this is not possible with Eclipse then is it possible with another Java IDE ? My problem is that the monitor object hat many references . A search for all references will return to many results . I will only see where are synchronized with this object.EDIT : I add a sample what i means : Now I want search all synchronized which use the LockClass as monitor . This is a static analyses . In my sample I want find : LockClass.addAnyOther.doSomethigs"
"I am currently working on a project where I want to implement a login mechanism using a username and a password that gets compared against a database.I had something like this in mind : when I noticed that my unit tests were failing . So I took a deeper look at it an noticed that the Object : :equals method is not overriden for arrays of primitives which explained why List : :contains would always evaluate to false.I know there is a possible workaround using : My question is why the designer chose to keep the 'default implementation ' of Object : :equals ? Would n't it be way more convenient than implementing a framework with static utility methods like Arrays.equals ( array1 , array2 ) ?"
I have created custom widget for my android application and i want to create custom styles for it . But while parsing it in the class returns always null . Gone through several links and could n't figure out what the problem is ? Can anyone help ? My atttr.xml is Widget class And the layout file Arrays.xml is
"I 'm trying to parse times in the format of 01:20pm . If I run the above code , I get the following exception : As far as the format I put in the SimpleDateFormat constructor , I do n't see anything wrong . What went wrong here ?"
"IssueWhen benchmarking a simple QuickSort implementation in Java , I faced unexpected humps in the n vs time graphics I was plotting : I know HotSpot will attempt to compile code to native after it seems certain methods are being heavily used , so I ran the JVM with -XX : +PrintCompilation . After repeated trials , it seems to be compiling the algorithm 's methods always in the same way : I am repeating the above graphic with this added info , just to make things a bit clearer : At this point , we must all be asking ourselves : why are we still getting those ugly humps AFTER the code is compiled ? Maybe it has something to do with the algorithm itself ? It sure could be , and luckily for us there 's a quick way to sort that out , with -XX : CompileThreshold=0 : Bummer ! It really must be something the JVM is doing in the background . But what ? I theorized that although code is being compiled , it may take a while until the compiled code actually starts to be used . Maybe adding a couple of Thread.sleep ( ) s here and there could help us a bit sorting this issue out ? Ouch ! The green colored function is the QuickSort 's code ran with a 1000ms internal between each run ( details in the appendix ) , while the blue colored function is our old one ( just for comparison ) . At fist , giving time to the HotSpot only seems to make matters worse ! Maybe it only seems worse by some other factor , such as caching issues ? Disclaimer : I am running 1000 trials for each point of the shown graphics , and using System.nanoTime ( ) to measure the results.EDITSome of you may at this stage wonder how the use of sleep ( ) might distort the results . I ran the Red Plot ( no native compilation ) again , now with the sleeps in-between : Scary ! AppendixHere I present the QuickSort code I am using , just in case : as well the code I am using to run my benchmarks :"
"I am working on a program that integrates Hadoop 's MapReduce framework with Xuggle . For that , I am implementing a IURLProtocolHandlerFactory class that reads and writes from and to in-memory Hadoop data objects.You can see the relevant code here : https : //gist.github.com/4191668The idea is to register each BytesWritable object in the IURLProtocolHandlerFactory class with a UUID so that when I later refer to that name while opening the file it returns a IURLProtocolHandler instance that is attached to that BytesWritable object and I can read and write from and to memory.The problem is that I get an exception like this : ( see also under the posted link ) When debugging I see that the objects are correctly found in the factory , what 's more , they are even being read from in the protocol handler . If I remove the listeners from/to the output file , the same happens , so the problem is already with the input . Digging deeper in the code of Xuggle I reach the JNI code ( which tries to open the file ) and I ca n't get further than this . This apparently returns an error code.I would really appreciate some hint where to go next , how should I continue debugging . Maybe my implementation has a flaw , but I ca n't see it ."
"I am just learning java and have to do something using the java swing library , and the Graphics2D class . Basically I have to draw a construction crane that has multiple parts : a body ( the body of the crane ) , and a number of attached arms ( basically it looks like this : http : //i.imgur.com/4YIkYqW.jpg ) . My question revolves around if I am using the Java swing class correctly ? In my code below , I left out unnecessary code , as I just want to make sure my structure is correct ( Using JPanel , paintComponent ( ) , etc . correctly ) . Any help would be appreciated , as I am just learning Java ! Thanks guys ."
"In Delphi / Pascal there is a mechanism by which local variables in a method can remember a value from one method call to the next . This is done using typed constants . For example : On each call to blah ( ) i will increment . The output will look like:12345 ... ( each number on separate lines , but the editor here put them on the same line ) Is there an equivalent thing with Java ?"
"Java 7 will have closures ( finally ) , and I wonder how the existing code using single method classes/interfaces ( like Runnable , Comparator , etc ) will be used now.Would that code be replaced ? Will be a conversion of some sort ? An extra method using the closure will be added ? Does anyone knows how is this going to work/what the plans are ? For instance , to use the FileFilter today we do : Does anyone knows how is this going to work on Java7 ? Maybe overloading the method File.listFiles to receive a closure ?"
"Ok , so it 's the first time I am posting out here , so bear with me . I have a name in the format of `` Smith , Bob I '' and I need to switch this string around to read `` Bob I. Smith '' . Any ideas on how to go about doing this ? This is one way that I 've tried , and while it does get the job done , It looks pretty sloppy ."
"I am installing this application on the said tablet and I intend to supply this tablet to my client for a day or two , what I want is : After checking the operations , the client should not be able to use the said application after the expiry date . for this I am calling the calander function and comparing the extracted system date ( Day ) with a day I want the application to close operation . I am using the following code : I call expire ( ) ; on a button click to check , but all I get is a blank black screen for a few seconds and then the application works fine . Which I do not want ."
"Consider adding an equality method to the following class of simple points : // my definition of equalsWhat 's wrong with this method ? At first glance , it seems to work OK : However , trouble starts once you start putting points into a collection : How can it be that coll does not contain p2 , even though p1 was added to it , and p1 and p2 are equal objects ?"
"The grammar in chapter 18 of JLS v7 seem to differ from the constructs elsewhere in the documentation , but to me there seem to be differences . Specifically in chapter 15 the rules are : which makes foo instanceof Bar a RelationalExpression ( and therefore an EqualityExpresson ) which in turn can be used as LHS in the EqualityExpression rule which makes foo instanceof Bar == false an EqualityExpression.But when looking at the grammar in chapter 18 they 've simplified it a bit : Which looks odd , which means that we can chain together Expression3s with binary operators OR we can check the type of one Expression3 . Specifically now foo instanceof Bar is an Expression2 , but I do n't see that it would be valid to use an Expression2 as LHS of an equality comparision.Have I missed something in the grammar of chapter 18 that makes foo instanceof Bar == false a valid expression ? Note that it is a valid expression according to the rules in chapter 15 and according to my compiler ."
I was trying unary postfix and prefix operators in javaHere 's the codeThis line of code does not give compile time errorBut this line doeswhereas this line even doesn'tI ca n't understand the pattern of how compiler interprets these queries .
"Why does this program print `` wrong '' ? If I remove the lambda , or if I break apart the multi-catch clause , then it prints `` right '' ."
"String class has some methods that i can not understand why they were implemented like this ... replace is one of them . Are there some significant advantages over a simpler and more efficient ( fast ! ) method ? Stats with Java 7:1,000,000 iterationsreplace `` b '' with `` x '' in `` a.b.c '' result : `` a.x.c '' Times : string.replace : 485msstring.replaceAll : 490msoptimized replace = 180msCode like the Java 7 split method is heavily optimized to avoid pattern compile / regex processing when possible : Following the logic of the replace method : The split implementation should be : The performance losses are not far from the ones found on the replace methods . For some reason Oracle gives a fastpath approach on some methods and not others ."
"I have some Scala code like this : Calling it from Java like so : Removing the catch block results in an error from the Java compiler saying 'unhandled exception type MyCheckedException ' . Adding the catch block for MyCheckedException results in the compiler complaining about the catch block being unreachable , because the exception is never thrown.If I catch Exception and do an instanceOf , I can trap the correct exception coming out of doStuff , but I thought the @ throws annotation was supposed to generate the right bytecode for the proper catch block to work . Am I wrong , or is there a bug here ? For the record , this is with Scala 2.9.2 and Java 1.6.Edit : It compiles fine invoking javac/scalac using sbt from the command line . The error is only apparent during compile-as-you-type in Eclipse , which suggests the bug is in either the Eclipse Java Compiler or some part of the IDE . Can others reproduce it this way ? I am using Eclipse 3.7.2"
"I 'm in the process of upgrading an environment with new versions of Ubuntu , Consul and Spring Boot . At first glance , everything seems to be working just fine . The app connects to Consul , requests its configuration and boots up . After a few minutes however , something breaks and this message is repeated approximately every 2 seconds : I traced the fact that the message appears every 2 seconds to the apps health-check . Once the error occurs for the first time , it continues to occur on each subsequent health-check . This was confirmed by turning the health-check off and rebooting . This caused the error to occur exactly once , when the TTL on the Consul-data was reached.This is where my understanding of the problem ends . I 've tried to trace it to several things , but none of these led to a solution : Checking the certificates - The certificates used are generated by Vault , signed by an intermediate certificate , signed by a self-signed root-certificate . These are then placed in a pkcs12 bundle , with the key and provided to the application . This works on all TLS-connections , also from the CLI tools and with curl . This seems like a dead end.Network Connectivity - Since the connection is being reset , I tried to see if it was due to firewall or security-group issues . However , the relevant port ( 8501 ) is open for both TCP and UDP traffic and all manual tests with nc show the ports to be reachable.IPv6 bug - Somewhere , I found a post saying this could be due to a bug with IPv6 . I tried turning IPv6 off on the machine , reboot everything and try again . No luck , still the same error.Versions of Consul - I tried running the application in our old environment , where Consul 1.2.3 is running and the error there does not show up . I 'm still in the process of trying to find out if there is a specific Consul-version where this problem begins to occur , but have n't found it yet.TLS bugs - Between Consul 1.2.3 and 1.7.2 there have been some changes to Consul 's TLS-support as well as to the underlying Go TLS implementations . This came to light when testing with Consul 1.4.0 , which provided a slightly different TLS error . Some suggestions on the internet were that there are conflicting implementations between Go and OpenJDK . I tried forcing the Java-application to use TLS 1.2 , but again , no luck.Handshake Debugging - Based on a tip from the comments , I used -Djavax.net.debug=ssl : handshake to find out what is happening during the handshake . During the first couple of minutes , the produced extra output shows what looks to me like normal handshakes . Once the problem occurs , the output of the handshakes stops right after `` Produced Client Hello message '' with a `` Remote host terminated the handshake '' . I have n't been able to do the same with the other side of this connection . Consul is a Golang application . If anyone knows how to get the same debugging-information for a Golan app , please advise.I hope someone has an idea about how to find the cause of this problem , or better yet , have a solution for it ."
"This arose from a discussion on formalizing regular expressions syntax . I 've seen this behavior with several regular expression parsers , hence I tagged it language-agnostic.Take the following expression ( adjust it for your favorite language ) : it will return an empty string . Why ? More curiously even , the expression replace ( `` input '' , `` ( . * ) * '' , `` A $ 1B '' ) will return the string ABAB . Why the double empty match ? Disclaimer : I know about backtracking and greedy matches , but the rules laid out by Jeffrey Friedl seem to dictate that . * matches everything and that no further backtracking or matching is done . Then why is $ 1 empty ? Note : compare with ( .+ ) * , which returns the input string . However , http : //regexhero.com shows that there are still two matches , which seems odd for the same reasons as above ."
"Assume I have 2 adjacent synchronized blocks with a Thread.holdsLock ( ) call between them : Now , what if at some point the JVM decides to coarsen the lock and merge the above synchronized blocks ? Will Thread.holdsLock ( ) call still return false , or will the code fail with an exception ?"
"Okay , so as far as I know , I understand these things about a final variable.It should be assigned only onceAll the final variables should be initialized before the constructor completesNow using the above , I do not understand how the below does n't work : Here , before the constructor completes the final variables are being set . So why does the compiler complain against it ?"
"In one of the forum I found below code as a question : And asked what would be the result ? I thought it would be a compile time error , since I have not seen Test : code in java . I was wrong , surprisingly both line is printed after compiling and running above code.Can any one tell me what is the use of this Test : kind of code ? And why it is not throwing error ?"
I am new with Regular Expression and might be my question is very basic one.I want to create a regular expression that can search an expression on a particular line number.eg . I have dataAnd I want to search the number 1234 on 7th Line . It may or may not be present on other lines also . I have tried with but am not getting the result.Please help me out with the regular expression .
"I 'm a big fan of the singleOrEmpty stream operator . It 's not in the std lib , but I find it very useful . If a stream has only a single value , it returns that value in an Optional . If it has no values or more than one value , it returns Optional.empty ( ) .I asked a question about it earlier and @ ThomasJungblut came up with this great implementation : The only problem is , you have to put it at the beginning of your callrather than sequentially at the endwhich makes it harder to read than other stream mechanisms.So as a newbie to this stream processing stuff , does anybody have any tricks for how to go about putting a short-circuiting singleOrEmpty mechanism at the end of a sequence of stream transformations ?"
"Java does n't appear to apply DST offset when the OS uses a POSIX time zone description rather than a time zone name . Is the use of a TZ description unsupported by the JRE or is this behavior a bug ? More details ... I 'm working on a Linux ( Debian ) based system where the TZ environment variable is set to a POSIX formatted TZ like STD+7DST+6 , M3.2.0/02:00:00 , M11.1.0/02:00:00 instead of a TZ name such as America/Denver . ( See TZ Variable ) While this seems to work correctly for date and related system tools , when I try to find the time in a java application , it does n't appear it has been correctly adjust for DST . This results in the time being wrong for part of the year when DST is in effect.I 've tested this on a several different systems and seen the same results on each ( test w/ results are below ) This behavior actually surfaced in an application that uses Quartz Scheduler but I 've since been able to reproduce the issue with the following SSCCE : Ubuntu 18.04.2 LTS ( bionic ) Custom ARM32hf build , based on debian ( kernel 4.1.0-altera ) Raspbian 9.9 ( stretch ) EDITCuriously , I see slightly different results on a mac . Java still does n't report that the system is in DST , but it at least reports the correct local time.MacOS 10.14.6 ( Mojave )"
I have a string containing the variable name . I want to get the value of that variable.Is it possible to access the value 10 by using temp_name ?
"I wrote a small program shown below that counts how many times an infinite recursive loop will go before causing a StackOverflow error . The thing is , it errors on a different number each time , normally between 8000 and 9000 . Can anyone explain why this happens ? EDIT : I 'm using the Eclipse IDE , have n't tested it with other IDE 's or the command line ."
"How can I list all uppercase/lowercase permutations for any letter specified in a character array ? So , say I have an array of characters like so : [ ' h ' , ' e ' , ' l ' , ' l ' , ' o ' ] and I wanted print out possible combinations for say the letter ' l ' so it would print out [ hello , heLlo , heLLo , helLo ] . This is what I have so far ( the only problem is that I can print the permutations however I 'm not able to print them inside the actual word . so my code prints [ ll , lL , Ll , LL ] instead of the example above.my code :"
What is the difference betweenandDo either forms occupy any memory ? Are there any similarities / differences ?
"When using extremely short-lived objects that I only need to call one method on , I 'm inclined to chain the method call directly to new . A very common example of this is something like the following : The point here is that I have no need for the Regex object after I 've done the one replacement , and I like to be able to express this as a one-liner . Is there any non-obvious problem with this idiom ? Some of my coworkers have expressed discomfort with it , but without anything that seemed to be like a good reason . ( I 've marked this as both C # and Java , since the above idiom is common and usable in both languages . )"
"I 'm working on a fork of FernFlower from Jetbrains and I 've been adding minor improvements to it.One thing that really annoys me about FernFlower is that it bases the type of the local variable based on its value in bpush/spush etc . While Jode and Procyon somehow find a way to find the original value of a local variable.Here is the original source code.When decompiled with FernFlower , it outputs this : But when decompiled with Jode/Procyon it outputs the original local variable types : I was wondering how is this possible because I thought no local variable type information is stored at compile time ? How can I add the same functionality to FernFlower ?"
"I 'm running Java in a GraalVM to use it to execute python.The question is how the python code should receive `` arguments '' . The graal documentation states that if this were JS , I would do something like this : Indeed , that works . The python equivalent might be : This fails , as there 's no such module . I ca n't find documentation on how to get these arguments from the outer language layer , only docs on pythongraal and how to use python to pass to something else ."
"I am using Spring Tool Suite 3.6.3 and M2E eclipse plugin 1.4.1 , when I opened the POM file from one of the project , I observed not all the dependencies are getting added , I have added depnedecy configuration for jaxws-rt with version 2.2.8 which has many dependencies as followsIn STS when I open the POM , and navigates to the Dependency Hierarchy , I am not able to see policy , resolver and streambuffer dependencies.But when I run mvn clean install from command prompt , all above mentioned jars gets added to .war file.I think there is some issue with the m2e + STS , not sure why m2e is not able to get those missing dependencies ."
"Looking at the ArrayUtils class from apache commons , the doc says : ArrayUtils instances should NOT be constructed in standard programming.I was looking at the source code of this class , and I saw they made the constructor public : Since all the methods/fields of the class are static , I understand that it makes no sense to create an instance of this class.So why do n't they made the constructor private like in the Math class to avoid creation of new instances ?"
"I must have spent over an hour trying to figure out the reason for some unexpected behavior . I ended up realizing that a field was n't being set as I 'd expect . Before shrugging and moving on , I 'd like to understand why this works like this.In running the example below , I 'd expect the output to be true , but it 's false . Other tests show that I always get whatever that type default value is.output :"
"I am trying to calculate a^ ( 1/n ) , where ^ denotes exponentiation.However , the following : returns 1.0 instead of returning 2.0.Why is that ?"
"I have three interfaces : and 4 classes that implement some or all of these interfaces : I would like to have a generic method that does the following : Realizing that this could create an infinite loop ( unless the bottom class -- Grandchild -- implemented Sublistable and set hasSublist ( ) { return false ; } , or something ) , as well as the fact that this method is kind of crazy with generics , I have to ask : Is there some way that I can rewrite this a bit so that I can call the method in this way : combine ( listOfGrandparents ) or should I give up on this being one method and try to refactor it in a better way ? Edit : To better explain what it is that I 'm trying to do , I have a list of objects of type A . Each object a has a list of objects of type B . Each object b has a list of objects of type C , and so on , until eventually type T ( for some varying level of T ) does n't have a sublist anymore.Each type basically has three things that it needs to do for a `` merge '' or `` combine '' method : Collect all `` like '' items into a container , using the item.getUniqueIdentifier ( ) methodCombine all the like items into one item , using the source.add ( other ) methodIf the item has a sublist , do a merge on the sublist.Since each item behaves so similarly , it would be nice if I could use a single method instead of having to have n methods , one for each type . Unfortunately , since none of the types are guaranteed to be the same ( other than having implemented some or all of the given interfaces above ) , creating a generic method proves to be difficult . Is there some way to do this that I 'm missing ? Edit 2 : I 've found a method that kind of works . Basically , it changes to this : Unfortunatey , this method requires both a @ SupressWarnings and an instanceof , which I would like to avoid if possible . I have n't found anything else , though , yet ."
"So , this is how mp3 is encoded from mic to file in android : Everything above is working correctly and providing a new mp3 file which is played ok from audio playersNow i just read that mp3 file from InputStream and get the file bytes array : So how to add some new audio data to existing mp3 file , or maybe there is any options to encode old bytes + new bytes to new mp3 file to join together ? For more info where is the part that cause problems please read the comment is the second code.To explain in other way : mic - > mp3 ; mp3 file - > bytes + new_bytes - > mp3 ; So , can we modify existing mp3 file byte sound data without re-encoding it ?"
"I am trying to make a 2D game with Java and Swing , and the window refreshes too slow . But if I move the mouse or press keys , the window refreshes as fast as it should ! Here is a GIF showing how the window refreshes quickly only when I move the mouse.Why does the window refresh slowly like that ? Why does the mouse and keyboard affect its refresh rate ? How , if possible , do I make it refresh quickly all the time ? Background InfoI use a javax.swing.Timer to update the game state every 1/25 seconds , after which it calls repaint ( ) on the game panel to redraw the scene.I understand that a Timer might not always delay for exactly 1/25 of a second.I also understand that calling repaint ( ) just requests the window to be repainted ASAP and does not repaint the window immediately.My graphics card does not support OpenGL 2+ or hardware accelerated 3D graphics , which is why I am not using libgdx or JME for game development.System InfoOperating system : Linux Mint 19 TaraJDK version : OpenJDK 11.0.4Graphics card : Intel Corporation 82945G/GZResearchThis Stack Overflow user describes the same problem I have , but the author reportedly solved the issue by calling repaint ( ) repeatedly on a separate timer . I tried this , and it does make the window refresh somewhat faster , but even then it is a slower than I want . In this case , wiggling the mouse on the window still improves the refresh rate . Therefore , it seems like that post did not truly solve the issue.Another Stack Overflow user also encountered the issue , but they use a continuous while-loop instead of a Timer for their game loop . Apparently , this user solved the problem by using Thread.sleep ( ) in their while loop . However , my code accomplishes the delay using a Timer , so I do not know how Thread.sleep ( ) could solve my problem , or even where I would put it.I 've read through Painting with AWT and Swing to figure out whether I just misunderstood the concept of repainting , but nothing in that document elucidates the issue for me . I call repaint ( ) whenever the game updates , and the window only refreshes quickly when mouse or keyboard input is happening.I have searched the web for several days now trying to find an answer , but nothing seems to help ! Code"
"I have a two overloaded methods : foo and barNow when I use them like : I am getting Here is the question : why do we have 2 different outputs ? Integer [ ] can be implicitly cast to both Object , and Object [ ] ."
"I have a POJO defined as follows : When I am doing , with str as : In this , there is no otherData field . Even then , GSON.fromJson is not failing . Why is it so ? Then , is there any significance of marking the field as @ NonNull ?"
"While trying to devise an algorithm , I stumbled upon this question . It 's not homework.Let P_i = an array of the first i primes . Now I need the smallest i such that ( if such i exists ) .An approximation for the i'th prime is i*log ( i ) . So I tried this in Java : However the above does n't finish because it converges to 0.7 . However 1/100000000^2 rounds to 0.0 in Java , so that 's why it does n't work . For the same reason it does n't even work if you replace the 6th line withwhile that should reach 1 if I 'm not mistaken , because the sum should incease faster than 1/2^i and the latter converges to 1 . In other words , this shows that Java rounding causes the sum to not reach 1 . I think that the minimum i of my problem should exist ."
"I have an instance where I used to pass my View onto a new method to manipulate a couple of things . here I will provide an example . So Basically I am using a RecyclerView and I am inflating the view when the recylerview creates the viewSo now I have the inflated View object now I just pass it to my method to manipulate it.manipulateView ( view ) manipulateView sets up the color and attributes for the view childrenand that used to work and everything . but now I am moving onto ViewBindingnow I have a ViewStub for where I need to inflate my customViewas follows here is the codeand then I set the layout for the viewStub herenow setLayoutResource expects an int value with the id of the layout now my question is how can I call manipulateView on getLayoutResource ( ) should I just pass the viewStub and then call viewStub.getRootView ( ) and Manipulate that view ? It would be the best if I was able to manipulate the ViewDataBinding object it self , Should I just manipulate ViewDataBinding : :getRoot ?"
"I am wondering , is any nice way ( if it is possible at all ) to implement an alpha-equivalence comparison in Java-8 ? Obviously these two lambda-s are alpha-equivalent . Let us suppose that for some circumstances we want to detect this fact . How it can be achieved ?"
"I 'm trying to create a proper regex for my problem and apparently ran into weird issue.Let me describe what I 'm trying to do..My goal is to remove commas from both ends of the string . E , g , string , , , , , , , , Hello , my lovely , world , , , , should become just Hello , my lovely , world.I have prepared following regex to accomplish this : ( \w+ , * ? * ? ) + ( ? = ( , ? \W+ $ ) ) It works like a charm in regex validators , but when I 'm trying to run it on Android device , matcher.find ( ) function hangs for ~1min to find a proper match ... I assume , the problem is in positive lookahead I 'm using , but I could n't find any better solution than just trim commas separately from the beginning and at the end : Is there something I am missing in positive lookahead in Java regex ? How can I retrieve string section between commas at the beginning and at the end ?"
"I 've got plenty of these lying around , and I 'm wondering if I 'm going to face any trouble - or performance problems.I have method A : Or method B : On a functional level , they both do the same thing . Right now , I 'm using method A . Is that a bad way of doing things ? Which is going to perform better ?"
What is the difference betweenandjust I got time limit exception in first case and got accepted in second case when doing binary search
"Suppose I have this code ( it really does not matter I think , but just in case here it is ) : And here is how I am invoking it ( using java-9 ) : What I am trying to find out is what methods were replaced by intrinsic code . The first one that is hit ( inside Unsafe ) : And this method is indeed present in the output of the above invocation : But , the entire output is weird ( for me that is ) : Why is the getAndAddInt present twice in the output ? Also if getAndAddInt is indeed replaced by an intrinsic call , why is there a need to replace all other intrinsic methods down the call stackl they will not be used anymore . I do assume it 's as simple as the stack of method calls is traversed from the bottom ."
"In the source code of @ Retention annotation in java , @ Retention is used in its definition itself , hows that possible.Even the RetentionPolicy is set at RUNTIME , so how could it get executed before its not ready to run ."
In Java a bitwise operation causes type casting to integer and also causes sign extension . For instance the following is expected : In Java chars are encoded in UTF-16 and each unit is represented with 2 bytes . I was expecting -1 instead of 32767 . Why is the sign not extended during the type cast before the bitwise operation is applied ? Any ideas ?
"I understand that constructor chaining goes from the smallest constructor to the biggest . For example Also as I understand that the call to this ( ) and super ( ) must be in the first line . But is it possible ( and if yes , is it efficient ) to bypass that limit and chain constructors different ? For example I have this two constructors that share some code.Is it in any way possible for the first constructor to call the second ?"
"I need to create a custom menu in my blackberry application so that I can manage its appearance . I managed to create my custom menu by creating a class which extends a PopupScreen and having my MenuItem as a customized LabelField with abstract invokeAction ( ) method . I made the invokeAction ( ) method as abstract to emulate the run ( ) method of MenuItem . Everything was ok but I remember something . What if my boss ask me to implement native MenuItems like Switch Application and Close . I do n't think implementing Close will be a problem , but the Switch Application and other native MenuItem like Show Keyboard , this will give me a problem . So I come up for another solution and this is my code : This is the constructor of my CustomMenu . I accept an instance of MainScreen as my parameter to get the the lists of MenuItem and add it to my existing CustomMenu . The invokeAction ( ) overridden method there is the counterpart of run ( ) method of MenuItem . And this is the result of what I did : I managed to put those native MenuItem in my CustomMenu but the problem is when I invoke ( click ) those native MenuItem ( Switch Application , Close ) I got an IllegalStateException . Is there a way to get the implementation of those native MenuItem ? Or a way to capture the run ( ) method of MenuItem then invoke it in my CustomMenu ?"
Below are two ways how to create ArrayList : What is the difference ? Which method should be used ?
"I was playing with OOM errors today and I found something I ca n't explain myself.I try to allocate an array bigger than the heap , expecting a `` Requested array size exceeds VM limit '' error , but I get a `` Java heap space '' error instead.According to the JDK 11 documentation `` 3 Troubleshoot Memory Leaks > Understand the OutOfMemoryError Exception '' : Exception in thread thread_name : java.lang.OutOfMemoryError : Requested array size exceeds VM limitCause : The detail message `` Requested array size exceeds VM limit '' indicates that the application ( or APIs used by that application ) attempted to allocate an array that is largerthan the heap size . Forexample , if an application attempts to allocate an array of 512 MB , but the maximum heap size is 256 MB , then OutOfMemoryError will bethrown with the reason “ Requested array size exceeds VM limit . `` Code : This code works as expected with a heap big enough to store my array : However , when I reduce my heap size I get the wrong OOM error : Am I missing something here ? I know I can generate the error I want using Integer.MAX_VALUE as the array size , but I would like it to be thrown by adjusting the heap size.Java version : Edit : Based on @ cdalxndr answer , I also tried with the Oracle latest JDK 15 but I get the same result.Edit 2 : I reported it : JDK-8254804 ."
"In new , third edition of Effective Java Joshua Bloch mentions piece of code from Java Puzzlers ( it 's about closing resources in try-finally ) : For starters , I got it wrong on page 88 of Java Puzzlers , and no one noticed for years . In fact , two-thirds of the uses of the close method in the Java libraries were wrong in 2007.But I am not sure which part is wrong here ? This is new version of this code :"
"I 'm using GWT and the GWT GoogleMaps API ( v3.8.0 ) . I have everything up and running perfectly.However , I 'd like to disable a few of the default features that come with GoogleMaps , such as street names , the ability to click on restaurants , etc . Basically I 'd like a very barebones map layer that I add my own custom layers to.I thought I could do this using Styles . I 'm trying to use a MapTypeStyler with visibility off with a MapTypeStyle of whatever type I wanted to disable ( in this test case , MapTypeStyle.ROAD ) .Here is the test code I 'm trying to get running : However , when I run that , I get an Exception : The weird thing is , the Exception seems to be internal to GoogleMaps , so I do n't really know what 's going on ? Am I doing something obviously dumb with the Styles ? Edit : I 've also asked this question on the GWT Forum ."
"I am trying to get to grips with JCStress . To ensure I understand it , I decided to write some simple tests for something that I know must be correct : java.util.concurrent.locks.ReentrantReadWriteLock.I wrote some very simple tests to check lock mode compatibility . Unfortunately two of the stress tests are failing : X_S : X_X : It seems to me that one thread should not be able to hold the read lock , whilst another thread also holds the write lock . Likewise , it should be impossible for two threads to simultaneously hold the write lock.I realise that the problem is likely not with ReentrantReadWriteLock . I figure that I am probably making some stupid mistake in my jcstress tests with regards to the JMM and reading the state of the locks.Unfortunately , I am not able to spot the problem . Can someone please help me understand the ( stupid ? ) mistake that I have made ? I did try asking about this on the jcstress-dev but never received a response - http : //mail.openjdk.java.net/pipermail/jcstress-dev/2018-August/000346.html . Apologies for cross-posting , but I need help with this , and so I am reposting to StackOverflow in the hope of getting attention from a larger audience ."
"I have tried below code : I have tried many different literals.Could anyone please explain why intern ( ) does n't work as expected with literal `` java '' ? Why do the above reference comparisons evaluate to true , except when the literal is `` java '' ?"
"When I write thisI would expect that at compile time the array and the strings are created , like it would happen for similar code in C. Is it correct ? Are array and their content generally created at compile time or at run-time ?"
"I have read that in order to access the call object representing a primitive type , I can do this : But how do primitive types have classes to represent them ? They are primitive , which should mean they have no class . Why does the example above work , and what class contains int ( Integer class maybe ) ?"
"I want to have the table of vowels with diacritics , but do n't want to search symbol tables manually . Is it possible to generate this table by crossing the list of vowels and the list of diacritics in some of the following languages : Java , PHP , Wolfram Mathematica , .NET languages and so on ? I need to have characters ( unicode ) as output.Java SolutionI found that there are a special Unicode feature for this : http : //en.wikipedia.org/wiki/Unicode_normalizationJava supports it since 1.6 http : //docs.oracle.com/javase/6/docs/api/java/text/Normalizer.htmlSo , the sample code is : I.e . we just put combining diacritics after vowels and then apply normalization to the string ."
I 'm wondering if I can use or in switch-case in Java ? Example
"In the class comments at the top of PersistentValve there is a usage constraint : Why is this constraint here ? Perusing the code I see three reasons : Concurrent requests for the same session on different Tomcat instances may be subject to `` last write wins '' and thus potential loss of session data.Concurrent requests for the same session on the same Tomcat instance may result in NPE due to session.recycle ( ) setting the manager to null in the shared session object and another request dereferencing manager when attempting to save the session to the store.Performance inefficiencies ( e.g. , redundant persistence store access , etc . ) .Are there other reasons ?"
"I have Dataset < Tuple2 < String , DeviceData > > and want to transform it to Iterator < DeviceData > . Below is my code where I am using collectAsList ( ) method and then getting Iterator < DeviceData > . I can not use collectAsList ( ) as my data is huge and it will hamper performance . I looked into Dataset API but could n't get any solution . I googled it but could n't find any answer . Can someone please guide me ? If the solution is in java that will be great . Thanks.EDIT : DeviceData class is simple javabean . Here is printSchema ( ) output for ds ."
"I havea TableView , and I access properties of the list 's objects as follows . This works just fine.However , I 'd like to access a nested property of the object , for example : where my list object has a getHouse ( ) , and House has a getBathroom ( ) . Unfortunately , this does n't work . I 've tried a few spelling variations , but no luck ."
"Here 's a minimal example of the code I 'm working with : The compiler output is : I have found that this can be worked around by replacing t - > t with Function.identity ( ) or ( SomeEnum t ) - > t , but I 'm not understanding why this is the case . What limitation in javac is causing this behavior ? I originally found this issue with java 8 , but have verified it still occurs with the java 11 compiler ."
"I 'm running a Java EE application which uses Hibernate 5.2.10.Final with an Apache Derby storage backend on Payara 4.1.1.172 . I 'm seeing error messages likewhich indicates that either Hibernate or Derby or both are not using english error messages in all parts of the message.I tried toadd ato a class , but I do n't seem to find a deterministic way to get this loaded before any exception occurs and I 'd rather like to keep the setting out of the code . The same thus applies to Locale.setDefault.specify -Duser.language=en in the Payara JVM options of server-config as describe at How to enable assertion for a Java EE project in NetBeans ? I see that the beginning of the exception message is in English . I want the complete message to be in English including all possible parts . I 'm not interesting in solving the exception , it 's an example . I 'm not looking for a translation of the German part of the message.The non-English message part is most likely caused by the German Ubuntu 18.04 the server is started on . Changing the system locale of the OS or a container the server could be wrapped into is a workaround , but not a solution.A SSCCE can be found at https : //gitlab.com/krichter/derby-embedded-data-source-locale-j4ee and example output of the CI at https : //gitlab.com/krichter/derby-embedded-data-source-locale-j4ee/-/jobs/83525395 . The SSCCE only contains boilerplate around the server start and a simple invalid native query causing a german error message , not more information than provided in the question.Please verify answers with the SSCCE if possible.My motivation is to have English exception messages in order to make finding solution through search engines easier during development without tampering with the system language ."
"While analyzing the results of a recent question here , I encountered a quite peculiar phenomenon : apparently an extra layer of HotSpot 's JIT-optimization actually slows down execution on my machine.Here is the code I have used for the measurement : The code is quite subtle so let me point out the important bits : the `` normal index '' variants use the straight variable i for array index . HotSpot can easily determine the range of i throughout the loop and eliminate the array bounds check ; the `` masked index '' variants index by j , which is actually equal to i , but that fact is `` hidden '' from HotSpot through the AND-masking operation ; the `` with exit point '' variants introduce an explict loop exit point . The importance of this will be explained below.Loop unrolling and reorderingObserve that the bounds check figures in two important ways : it has runtime overhead associated with it ( a comparison followed by a conditional branch ) ; it constitutes a loop exit point which can interrupt the loop on any step . This turns out to have important consequences for the applicable JIT optimizations.By inspecting the machine code emitted for the above four methods , I have noticed the following : in all cases the loop is unrolled ; in the case of normalIndex , which is distinguished as the only one having no premature loop exit points , the operations of all the unrolled steps are reordered such that first all the array fetches are performed , followed by XOR-ing all the values into the accumulator.Expected and actual measurement resultsNow we can classify the four methods according to the discussed features : normalIndex has no bounds checks and no loop exit points ; normalWithExitPoint has no bounds checks and 1 exit point ; maskedIndex has 1 bounds check and 1 exit point ; maskedWithExitPoint has 1 bounds check and 2 exit points.The obvious expectation is that the above list should present the methods in descending order of performance ; however , these are my actual results : normalWithExitPoint and maskedIndex are identical modulo measurement error , even though only the latter has the bounds check ; the greatest anomaly is observed on normalIndex which should have been the fastest , but is significantly slower than normalWithExitPoint , identical to it in every respect save for having one more line of code , the one which introduces the exit point.Since normalIndex is the only method which has the extra reordering `` optimization '' applied to it , the conclusion is that this is the cause of the slowdown.I am testing on : Java HotSpot ( TM ) 64-Bit Server VM ( build 24.0-b56 , mixed mode ) ( Java 7 Update 40 ) OS X Version 10.9.12.66 GHz Intel Core i7I have successfully reproduced the results on Java 8 EA b118 as well.My question : Is the above phenomenon reproducible on other , similar machines ? From the question mentioned at the beginning I already have a hint that at least some machines do not reproduce it , so another result from the same CPU would be very interesting.Update 1 : more measurements inspired by maaartinus 's findingsI have gathered the following table which correlates execution times with the -XX : LoopUnrollLimit command-line argument . Here I focus only on two variants , with and without the if ( entry == 0 ) break ; line : The following sudden changes can be observed : on the transition from 14 to 15 , the withoutExitPoint variant receives a beneficial LCM1 transformation and is significantly sped up . Due to the loop-unrolling limit , all loaded values fit into registers ; on 18- > 19 , the withExitPoint variant receives a speedup , lesser than the above ; on 22- > 23 , the withoutExitPoint variant is slowed down . At this point I see the spill-over into stack locations , as described in maaartinus 's answer , starting to happen.The default loopUnrollLimit for my setup is 60 , so I present its results in the last column.1 LCM = Local Code Motion . It is the transformation which causes all array access to happen on the top , followed by the processing of the loaded values.Update 2 : this is actually a known , reported problemhttps : //bugs.openjdk.java.net/browse/JDK-7101232Appendix : The unrolled and reordered loop of normalIndex in machine code"
"The following snippet ( abstracted from real-world code ) compiles and runs in Eclipse.package1/Outer.java : package2/Bar.java : However , it fails with this error when compiling using javac : Now , if I switch the order of the import statements , like so : ... then it compiles in both Eclipse and javac . Clearly the order of the import statements seems to matter ... but why ? Notes : I tested this using Java JDK 1.6.0_30 , and also Java JDK 1.7.0_21 . If this is a bug that has since been fixed , that would be good to know.It seems strange to me that the package1.Outer.Mid.Inner import is even necessary , given the Inner interface is nested within Outer.java , but both Eclipse and javac seem to require itI discovered this problem trying to run an Ant build of production code that had a similar structure . Everything was building fine in Eclipse , but the Ant script just refused to go through ."
I am getting null pointer exception in fragment using Gridview.My code isCan anyone guide why it is happing ? I do n't use fragments commonly .
"I have just encountered an error in my opensrc library code that allocates a large buffer for making modifications to a large flac file , the error only occurs on an old PC machine with 3Gb of memory using Java 1.8.0_74 25.74-b02 32bit Originally I used to just allocate a bufferBut for some time I have it as My ( mis ) understanding was that mapped buffers use less memory that a direct buffer because the whole mapped buffer doesnt have to be in memory at the same time only the part being used . But this answer says that using mapped byte buffers is a bad idea so Im not qwuite clear how it worksJava Large File Upload throws java.io.IOException : Map failedThe full code can be seen at here"
"I have implemented a simple profiler with JVMTI to display the invocation on wait ( ) and notifyAll ( ) . As a test case I am using the . producer consumer example of Oracle . I have the following three events : notifyAll ( ) is invokedwait ( ) is invokedwait ( ) is leftThe wait ( ) invocation and when its left it profiled by using the events MonitorEnter and MonitorExit . The notifyAll ( ) invocation is profiled when a method with name notifyAll is exited.Now I have the following results , the first is from the profiler itself and the second is from Java , where I have placed the appropriate System.out.println statement.Has someone an explanation from what this discrepancy comes from ? notifyAll ( ) is called so many times . I was told this might be due to false-positive responses from the request of Java to the operating system.A notifyAll ( ) request it sent to the operating system and a false-positive response is sent , where it seems like the request was sucessfull . Since notifyAll is logged by profiling method invocation instead of MonitorEnter it could explain why this does not happen with wait.I forgot to say , I did n't run the programs separately , both logs are from the same execution.Aditional InformationOriginally added as an answer , moved to the question by extraneon : I think I found out where some of the additional notifyAll are coming from , I added the profiling of the method context in which notifyAll is called : But even without these external calls , there are plteny of notifyAll calls which do not show up in the printf debugging ."
"I want to draw a grid and draw stuff in the cells ( to keep things easy just fill them ) .Overall I 've got it pretty much working only in some panel sizes the cell is about 1 pixel off of where it should be placed ( overlapping the line ) .TBH I have n't really done enough calculating to possibly find the answer myself , so my apologies for that , I 'm really not too sure how to approach this `` bug '' either though.Anyway , here 's the code : If you run it you 'll probably see what I mean . I ca n't think of a good explanation in words . At first I thought I had to add + 1 to x and y since I want to draw next to the line , but this ( obviously ) just shifts the problem to the other side.Running this with a SIZE bigger ( like 30 ) gives me another bug that it gives open space to the sides . I know ( or assume ) this is because I 'm using integers and it is n't too big of a deal though . But hints for a better approach ( in general ) are always welcome ."
"I wonder if the following two swnippest are semantically identical , and , if not , what are the differences ( we assume that we want to compute a result of type R , and want to guard against exception X that may be thrown in the course of doing so ) : and the following : As far as I can see , it boils down to if a try-catch block wrapped in a try block with finally is the same , semantically , as a try-catch-finally block , assuming that the code in the finally and catch phrases stays the same and the outer try block just promotes the result of the inner one.Practical relevance : Given a code base that does not make use of try-catch-finally , when it should , and given that for some reason , one can not toch that code , one could more or less mechanically generate a layer of wrapper methods that add the finally.I am fully aware of the fact , that for many reasons , one should use the try ... catch ... finally whenever possible . Specifically , I am not suggesting in any way that one should refactor the first example so that it looks like the second.Rather , I want to make sure that example 2 can safely be refactored to example 1 ."
"I am running this code with IntelliJ IDEA , but it looks like the submodule is not running.The following is the output of the program："
"Is there a way in Java 8 to transform an Array/Collection using map ( ) without having to reassign the created copy , e.g.instead of ? If not , what 's the reason for this design decision ?"
"I 've tried to scan JEP-286 about local type inference . I see that this works only for local variables - understood . So this does work indeed : I do see that this on the other hand does not compile : It 's obvious that it does not , since the JEP says so . Now my question : It makes perfect sense for a public/protected member declared as var to fail , at least IMO . But why does it not compile even if it 's private ? I can only assume that you can still get a hold of that variable via reflection ( and I ca n't get local fields like this ) ... And getting that variable would require a cast , well , a very confused cast probably ."
Background : there is product listing page and i have to grab all the product name ( including out of stock product ) and then have to verify that all out of stock product are in the end.Problem : i have navigated all the page and stored the product names in an ArrayList . lets say list1 and contents are - Now i have another list which have only Out Of Stock productlist2 and contents are -I have to make sure whether list1 has all the list2 items in the end in same sequence
"I realize that there has been ample discussion of the relative merits of checked exceptions versus unchecked exceptions in Java , and it is not my intention to revisit the entire debate.Rather , I would like to ask a very specific question that came to mind as I was reading Joshua Bloch 's Effective Java , 2nd Edition . As I was reading , I noticed that in Item 59 ( `` Avoid unnecessary use of checked exceptions '' ) Joshua gives an example in the Java API where a checked exception is used . Specifically , in Object : ... and then argues that it should have been an unchecked exception instead . If the programmer using the API can do no better , an unchecked exception would be more appropriate . One example of an exception that fails this test is CloneNotSupportedException . It is thrown by Object.clone , which should be invoked only on objects that implement Cloneable ( Item 11 ) . In practice , the catch block almost always has the character of an assertion failure . The checked nature of the exception provides no benefit to the programmer , but it requires effort and complicates programs.I then looked to see if he had an example of the converse , but I could not find one . So I would like to ask if someone can give an example API in Java that uses an unchecked exception , but where a checked exception would have been a better choice , and explain why . A real-world example would be preferable , but I 'm open to a contrived example if that would illustrate matters just as well.Edit : To those who have voted to close this as non-constructive , I want to make it clear that I am not looking for opinion , debate , argument , or extended discussion . Nor am I taking a poll . Rather I am looking for references to examples that yield a clear analysis of how the benefits outweigh the costs . ( Implicit in that is acknowledging that there are costs . ) That said , I am skeptical about whether the nature of this question makes that possible . I reckon if Jon Skeet ca n't do it , it 's unlikely that it can be done . So maybe you 're right . Close if you must.Edit : Though I 'm unmoved by the response , I 'm going to award this to Jon just for my accept-rate ."
"Here is the implementation of reverse in Long : I can understand line 1,2,3,4 , but not 5 ! How does it work ? I group the 64 bits to 8 groups , that is 1 is the first 8 bits , 2 is the second 8 bits , and so on.Then after line 4 , the sequence like 4,3,2,1,8,7,6,5and I think line 5 working as below before the | operation : But , I do n't know where dose it wrong or whether it is wrong ! Thinking about it almost about a whole day ! Somebody can help me ! ! Thanks.oh , i made a mistake like this : but i alse think it is wrong ! i think the right sequence is 8,7,6,5,4,3,2,1i am so sorry that i make some mistakes ! it works right as below : after line 4 , the right pattern is:2,1,4,3,6,5,8,7"
"I am overriding equals and hashCode in a class that includes double fields . My first approach was to use the epsilon test in the equals method , and Double.hashCode ( double ) in hashCode , but that can result in equal objects having different hash codes ; here is a simplified example : I 've thought of several solutions , including converting to BigDecimal , but I 'm not really happy with any of them . I finally settled on rounding : But choosing a good rounding algorithm is difficult , and this seems kind of expensive . I looked at similar classes , such as Point2D.Double , but equals in this class fails , for example , when comparing .8 and 0.7999999999999999.Is there a recommended way for dealing with this issue ?"
"I was wondering , what does the -- > -- operator do in Java ? For example , if I have the following code : This always returns true.Thank you !"
"I am trying to write regular expression in Java to evaluate two strings mentioned with ( ) separated by , I have written below codeIt works as expected and prints true in below cases But it is printing false when I send below It is strange because I am using same expression before and after , It returns true for ( t , test2 ) but not for ( test1 , t ) Please let me know what am I missing in this regular expression . I need it to evaluate and return true for ( test1 , t )"
"I am trying to register a class with array ( Spark Java with Kryo activated ) , log shows a clear message : I have written several combinations , but these do not work : I also tried to write a registration class without Class.forName but Java can not resolve the symbol InMemoryFileIndex $ SerializableBlockLocation : All other classes work in my KryoRegister.class ."
"I 'm trying to split a String in Java . The splits should occur in between two characters one of which is an alphabetic one ( a-z , A-Z ) and the other numeric ( 0-9 ) . For example : Output should be [ abc , 123 , def , 456 , ghi , 789 , jkl ] . Can someone help me out with a matching regular expression ? Thanks in advance !"
"In Clojure I can look up a static member of a Java class ( e.g . a field holding a constant ) like this : How can I access the member when I only know it 's name at runtime ? An example would be looping over a sequence of field names and getting all the field values.I would like to do something like this ( this code is not working , of course ) : What 's the best way to do that ?"
"I 'm using the current version of SWT to build my applications and I want to run it under Mac OS X ( Yosemite ) .My problem is now that I 'm not be able to capture clicks on the `` About '' , `` Preferences '' and `` Quit '' menu items which were automatically added to my application.I already searched a lot and found the following class which seems very helpful to me http : //www.transparentech.com/files/CocoaUIEnhancer.java.And that 's my code to initialize it : I can compile it without any errors but if I start the program then I will get the following exception : It 's probably an error in the native libraries but I ca n't figure it out !"
"I have noticed in alot of people do in Java setters:1 ) Personally I do n't like this and I think it should be something like:2 ) Are there any reasons the first would be better ? Is n't 1 ) easier to make an error with . On a few occassions I have tracked bugs in code down to people doing : by mistake , maybe because they were typing to fast and just wanted to get the getters and setters out of the way ."
"I have had recently a small contest with one of my colleagues ( whom I very respect ) regarding a theoretical possibility to test whether some code is thread-safe or not.Let us suppose that we have a some `` black-box '' class FooUnknown taken from the 3rd party library , so we do n't have an access to its original source code . Furthermore , it might be that it internally uses some native methods ( if this is a matter ) . Can we write such an unit test which will tell us that usage of this class ( for example , its instance shared between several threads ) is 100 % thread-safe or not ? My conclusion , that it is not possible . For me it is obvious and straightforward : although one can write a code which will lead to some concurrency problems which is possible to detect . But an absent of such results does n't guarantee that there are not concurrency issues at all.Also I believe , that this question is not too broad . For certainty let us say we have a class some.FooUnknown and we want to use it in the following way : How to test it to be sure that it is thread-safe , that we do n't need to wrap it into ThreadLocal < FooUnknown > for instance ?"
Let 's take this class as an example : and compare it to this : There is in my opinion no need for the accessors.Would this be considered bad OO design ?
"This is the source code I have : And when I compile this , I get the bytecode . When I look at the bytecode with a Hexadecimal viewer I see part : which can be read as if the bytes are interpreted as characters . And when I do do disassemble this class I see : My question is , where is this String seen in the disassembled text ? I only see it in a comment ."
"We are using JDO in one of our projects . This has been running for quite a while and naturally we need to change the model a bit.What is the best practice when migrating fields in entity classes in JDO ? If I delete an enum value there will be an exception if it 's already persisted when loading from the database , how to migrate this ? If I would like to rename myString to myNewString , how to rename the column to the new name ?"
"This is a bit of a contrived example to get across the situation I 'm encountering , but basically , I have an array of Objects that in reality contains arrays of integers , and I 'm trying to cast it as such . Here is a code snippet that simulates this situation : When I try to do this , I get the exception Exception in thread `` main '' java.lang.ClassCastException : [ Ljava.lang.Object ; can not be cast to [ [ IIs there a way to do this without copying the array ( which I may not want to do since foo will be very large in production ) ? If not , why not ?"
"I have 3 EditText elements , and I want to jump from one field to the next if there are 4 characters in the input.I use a TextWatcher for this : The inputType for the EditText is `` textCapCharacters '' When doing a longpress on a key to get a number , like holding R to get a 4 , most devices will not add the letter , until the user stops holding the button , and will fire afterTextChanged after the letter 4 is selected . On a HTC keyboard ( In this case the HTC Desire on 2.3.5 ) this is not the case . Even though the user is still holding the button , the R is added to the EditText and afterTextChanged is fired , and the code does its job and puts the focus on the next field.How can this undesired behavior be prevented ? Watching onKeyDown/Up wo n't help , because it does n't register normal keystrokes ."
"I have to following setting : Ubuntu 12.04 , Mathematica 9 and IntelliJIDEA 12 . Every time I copy some text from Mathematica and paste it into IDEA , there are a lot of additional bytes at the end of the pasted text . What first appeared to be a bug in IDEA seems now rather be a bug in java itself . I have appended a minimal java example which shows the behavior . Therefore , when I type Plot inside Mathematica , select and copy it , and then run the example I get the following output where the first line is the printed form and the second line are the bytes : As you can see the Plot is followed by a 0 byte and some other , not necessarily zero , bytes . Throughout all of my tests , I found that a valid solution is to use the string until the first 0 is found , but that does not solve the underlying problem . I really want to see this fixed , because I often copy code between Mathematica and IntelliJIDEA , but first I need to know who to blame for this.Question : How can I find out whether Mathematica or Java is the doing something wrong here ? I can copy Mathematica content to different editors , browsers , etc and I never saw something like this . On the other hand , I never found IntelliJ ( Java ) copying waste either . What is a good way to find out whether Mathematica is using the clipboard wrong or Java has a bug ? Minimal exampleSelect some text in Mathematica , press Ctrl+C and run the followingFurther information requested in comments Could just take a look at the clipboard contents after the copy-from-Mathematica operation ? Sure . Unfortunately it returns absolutely nothing . When I mark and copy the following something from the browser for instance , like `` this here '' I getEditI tried the following things where I used always the same copied `` Plot '' string from Mathematica . First of all , I tried the larger test-class from David as suggested in his comment . With both , the Oracle JRE and the OpenJRE that comes with Ubuntu I got the following output : My short sniped from above gives the same result ( although not in hex representation ) . Then I tried the different selections from xclip and using the value clipboard brought the following upImportant to note , when I do n't use verbose output with xclip , I only see `` Plot '' in the terminal . Above , you see that there are exactly 4 more bytes in the buffer which are probably not shown , because they start with a 00 . Additionally , the extra for bytes are 00 00 00 00 , at least this is what is displayed . In java we have a 7f ( or 127 ) at second position.I guess this all suggests that the bug comes from Mathematica since it copies additional stuff in the buffer and Java is just a bit sloppy because it does n't cut at the first 00 ."
"The longest increasing subsequence is the well known problem and I have a solution with the patience algorithm.Problem is , my solution gives me the `` Best longest increasing sequence '' instead of the First longest increasing sequence that appears.The difference is that some of the members of the sequence are larger numbers in the first ( but the sequence length is exactly the same ) .Getting the first sequence is turning out to be quite harder than expected , because having the best sequence does n't easily translate into having the first sequence.I 've thought of doing my algorithm then finding the first sequence of length N , but not sure how to.So , how would you find the First longest increasing subsequence from a sequence of random integers ? My code snippet : I 'm storing indexes instead in preparation for having to access the original array again . Since it 's easier to go from indexes to values than vice versa.Example:3 6 1 2 8My code returns : 1 2 8First sequence is : 3 6 8Another Example:1 5 2 3 My code correctly returns : 1 2 3Basically , my code works as long as the first longest sequence is the same as the best longest sequence . But when you have a bunch of longest sequences of the same length , it grabs the best one not the first one ."
"I am trying to solve pairing numbers ( a , b ) in an array such a way that a*2 > =b . Where a and b are numbers from input array.Examples : input : a [ ] = { 1,2,3,4,5 } output : 2 explanation : we can pair 1 with 3 2 with 4 or 5input : a [ ] = { 4,3,2,1,5 } output : 2 explanation : we can pair 1 with 3 2 with 4 or 5input : a [ ] = { 4,3,2,1,5,6 } output : 3 explanation : we can pair 5 with 1 2 with 4 3 with 6I tried to solve the problem using recursion like below , but this does not give any right results . Any help would be appreciated.Sort the input arrayif a [ start ] * 2 > = [ end ] found then add 1 to result recur for start +1 and end - 1 else recur for ( start + 1 , end ) , ( start , end - 1 ) and ( start + 1 , end - 1 ) Idea is matching a [ start ] with remaining elements in the array and get max result.tests :"
"I use the pattern quite a lot : This is indeed a great deal of boilerplate for something so simple . I was thinking of a generic object factory to do this with introspection , but this feels very evil ( special cases , inheritance , and speed issues ) . Guice could be used and the constructor skipped altogether , but then manual object creation is going to be ugly . Is this something I will have to live with in Java or is there a way to avoid this boilerplate ?"
"My code is basically allocation free , however the GC runs every 30 seconds or so when at 60fps . Checking the app with DDMS for allocation shows there is ALOT of SimpleListIterator being allocated . There is also some stuff being allocated because i use Exchanger . The SimpleListIterator comes from for each loops for ( T obj : objs ) { } . I was under the impression that the compilator/translator would optimize those to not use iterators for types that support it ( I basically only use ArrayList ) but that seems to not be the case.How can I avoid allocating all these SimpleListIterators ? One solution would be to switch to regular for loops for ( int i = 0 ; i < size ; ++i ) { } but I like for each loops : ( Another way would be to extend ArrayList which returns an Iterator that is only allocated once.A third way I hacked together is using a static helper function which returns a Collection which is reusing an Iterator . I hacked something like this together but the casting feels very hackish and unsafe . It should be thread safe though as I use ThreadLocal ? See below :"
"Spring Boot 2.1.8 , Spring Web 5.1.9 , Springfox Swagger 2.8.0 , Swagger Annotations/Models 1.5.14My RestController method signature looks like this : ids is documented as I expect - I can input multiple , separate values : However , _sort is always documented as a single string , no matter how I play around with different options to the @ ApiParam . There is a custom Spring Converter < String , Sort > bean registered.How can I force Swagger to handle the _sort parameter as a list of strings where each item must have the format of `` propertyName : < asc|desc > '' ?"
"The following code works when compiled with sourceCompatibility=1.7 or 1.6 , but fails after switching to 1.8 : Compilation output : Here 's the repo with failing code : https : //github.com/chalup/java8-wat . Just invoke ./gradlew clean build from project directory.I skimmed through JLS for Java 8 , but I have n't found anything relevant.Additional observation : the code compiles if I change the getParcelable ( ) signature to : Why does java compiler considers put ( Serializable ) to be potentially applicable method for outBundle.put ( inBundle.getParcelable ( ) ) call and what changes should be made to Parcelable/Bundle class ? Bonus question : why does this error happens only on Java 8 and not on Java 7 ?"
"I am getting the following error while building my maven project.The structure of my project isI am using private repository to fetch all the relevant jars for my project.I have already tried deleting ~/.m2/repository folder but no luck . I have verified that there are no corrupt jars in my local repository plus this used to run fine till few weeks back and just started throwing this error.For some strange reason , it now tries to download plexus-utils-1.1.jar after downloading jboss-as-maven-plugin-7.9.Final.jar . This plexus-utils-1.1.jar seems to require that ModelControllerClient class . I have another server setup few weeks back where the same code runs perfectly fine and it never downloads plexus-utils-1.1.jar . So not sure what is wrong in my current setup.How could I resolve this issue ? EDITAdding parent pom.xml"
"I 'm trying to find separate the duplicates and non-duplicates in a List by adding them to a Set and List while using Stream.filter and Stream.mapAt the end of this , I expect distinct to be [ foo , bar , baz ] and extras to be [ foo , foo , bar ] , since there are 2 extra instances of foo and 1 of bar . However , they are both empty after I run this.The lambdas given to the stream are never being called , which I verified by trying to print inside map : This does n't work when I try to use put with Map either . What am I doing wrong ? Note : There may be other questions similar to this , but I 'm looking for a kind of canonical answer for why this sort of stuff does n't work with Java 8 's Streams . If you can make this a more general question ( even if it means completely changing it ) , I 'd appreciate it ."
"Before , I used to declare a wrapper annotation by hand , with an array , and then call it like so : Since I was making an array with the { ... } initializers , it was more than clear that the order was to be the same of the declaration when I accessed this method later via Reflection.However , when I use the new @ Repeatable annotation from Java 8 , do I have guarantee that the order will be kept ? I declared a simple set of annotations : and run some tests with the most diverse scenarios : and everything seems to work flawlessly ( when accessing via Reflection ) , but I would not like to rely on undocumented stuff . It seems obvious to me that that should be the case , but I ca n't find it anywhere ! Can anyone shed a light on this ?"
and the output isCan anybody elaborate on the difference beween 1380605909318 and 61341428160000 ?
"In my Project I have a Map.First I go to the Wifi router position , I scan the wifi List and select Operator2 and Mark it.Next I go to another position gather the Same Previous Operator2 details ( do n't ) , then I go another position repeat it again.I can able to First Time select the Wifi Operator.Next time I do n't know How to lock the Particular previous selected Operator details and get the operator details again.So Please help me how to fix this.My Code : UPDATED ANSWER : Save data to SharedPreferences : Get the data from SharedPreferences :"
"While exploring for scjp questions , I came across this behaviour which I found strange.I have declared two classes Item and Bolt as follows : and tried to access the value of cost twiceThe output I get is 20 10.I ca n't understand how this happens ."
"So I am trying to solve the problem 1772 of the Caribbean online judge web page http : //coj.uci.cu/24h/problem.xhtml ? abb=1772 , the problem asks to find if a substring of a bigger string contains at least one palindrome inside it : e.g . Analyzing the sub-strings taken from the following string : `` baraabarbabartaarabcde '' '' bara '' contains a palindrome `` ara '' '' abar '' contains a palindrome `` aba '' '' babar '' contains a palindrome `` babar '' '' taar '' contains a palindrome `` aa '' '' abcde '' does not contains any palindrome.etc etc etc ... I believe my approach is really fast because I am iterating the strings starting at the first char and at the last char at the same time , advancing towards the center of the string looking only for the following patterns : `` aa '' `` aba '' whenever I find a pattern like those I can say the substring given contains a palindrome inside it . Now the problem is that the algorithm is taking a long time but I ca n't spot the problem on it . Please help me find it I am really lost on this one . Here is my algorithm I have removed the code that grabs the input strings and intervals of sub-strings , I am using String.substring ( ) to get the substrings and I do n't think that will be causing the problem . If you need that code please let me know . Thanks !"
What 's wrong in this code ? I 'm trying to parse a date format that has 0 between years and months.This outputs Unparseable date : `` 201600101 '' . If I change ' 0 ' to anything but number [ e.g . ' X ' and format.parse ( `` 2016X0101 '' ) ] this will work .
"In short , does the JVM internally optimize the following code to behave as efficiently as the one below : If it does optimize , does it do so by caching the str.length ( ) value internally ?"
"I am using Javaslang-2.1.0-alpha and its Javaslang-match equivalent to do some object decomposition . According to this by blog post by Daniel in the `` Match the Fancy way '' section : Should retrieve values matching the two wildcard patterns inside Address into street and number but the example does not even compile . I later realized all objects must be wrapped inside atomic patterns i.e . `` Carl '' becomes $ ( `` Carl '' ) . This was after reading this issue.I followed the updated tutorial but there was no update to this example.I updated the example to this : It compiles but my values are not being matched properly , judging from the console output : It 's clear that street contains Carl and number , the entire Address object.When I try to add a third lambda parameter to catch Carl : The code ca n't compile , the lambda expression gets a red underline with the following error text : There is no way of ignoring a value with $ _ in the latest versions of javaslang-match . So I want to match each of the atomic patterns which would return three lambda parameters as above . I need somebody who understands this library to explain to me how to do this object decomposition in the latest version ."
"In the context of static methods , i 'd like to narrow a type reference and invoke a more specific method for an object like this : So i 'd like to know if there 's a syntax allowing to call do ( Iterable ) rather that using some hack like this one : NOTE : I know it is n't possible to cast my iterable this wayand it seams to me that the erasure of L in isSo why ca n't i invoke the method this way ?"
"I have Scala-style enumHow do I:1 ) Call valueOf method to be able to get the value by its string representation ? 2 ) Call Java 's analog of ordinal : There are no such methods in SomeEnum , obviously ."
"I encountered a rather strange behaviour of screenshotting my desktop application in LibGDX . I remade a small program to reproduce this `` bug '' which only renders a black background and a red rectangle . Those images are the results : The left one being a screenshot from window 's screen clipping tool , this is what it looks like running the program . The right is from the screenshot code I posted a little further down . To clarify , I want the program 's screenshot to get the left image 's result , without the transparency getting all weird.This is my render code , do n't mind the coordinates . Since I can see the rectangle being rendered perfectly , it makes no sense to me for the error to be in the render method . But I 'm posting it anyway.This is the code to take a screenshot : I went and researched , I only found this topic , which is exactly same problem . It has slightly less information and no answer , though . I hope someone of you can answer this mystery ."
I have a brute force solution to calculate all substrings in an input string in O ( n^2 ) time . Its takes long time when my input string is very long.How can we find all substrings possible in O ( n ) time ? I am only looking for count of all substrings where first and last character in substring is same . As you can see I am only returning count from function in my code below . I want to do it in O ( n ) timeMy brute force solution : How can I optimize above solution and find answer in O ( N ) time ? The input string can be extremely large ( approx 10^6 length ) and brute force runs in approx 20 seconds . I want maximum runtime to be under 2 seconds .
"Here is my code : Now the issue is that , in the initializer blockif I add the this keyword before message , it works , but there is an error when missing this keyword.And the compiler says : Why are n't they the same ?"
"I have a Spring boot SOAP services with cxf , and my Consumers are passing me SSO token in http header.. I am able to retrieve the SSO token using JAX-WS handler . I am saving that SSO token into handler class level variable , and after control going through various classes it reaches to a point where I have to make a request to another service and have to pass the same SSO token , but in my Connection class the SSO token value is NULL.In my Connection class I have to set this SSO token as a header and make a call to another service but SSO token value is NULL.Connection Class : This is how I set the handler chain in my WebServiceConfig class :"
"I 've seen this type of code a lot in projects , where the application wants a global data holder , so they use a static singleton that any thread can access.I hope it 's easy to see what 's going on . One can call GlobalData.getInstance ( ) .getData ( ) at any time on any thread . If two threads call setData ( ) with different values , even if you ca n't guarantee which one `` wins '' , I 'm not worried about that.But thread-safety is n't my concern here . What I 'm worried about is memory visibility . Whenever there 's a memory barrier in Java , the cached memory is synched between the corresponding threads . A memory barrier happens when passing through synchronizations , accessing volatile variables , etc.Imagine the following scenario happening in chronological order : Is n't it possible that the last value of value in thread 1 can still be `` one '' ? The reason being , thread 2 never called any synchronized methods after calling d.setData ( `` two '' ) so there was never a memory barrier ? Note that the memory-barrier in this case happens every time getInstance ( ) is called because it 's synchronized ."
"I have a strange Java generics ambiguity behaviour that I can not explain : Those 3 methods in class : compile fine.But those not ( ambiguity violation ) : ( ClassA , ClassB , ClassC are all completely independent interfaces ! )"
"In my Spring boot app , I have the following two classes : and : JwtAuthenticationFilter depends on an AuthenticationManager bean through its setAuthenticationManager method , but that bean gets created in AppSecurityConfig which has JwtAuthenticationFilter autowired in . This whole thing creates a circular dependency . How should I resolve this issue ?"
"I was going through the source code of the java.util.HashMap class and noticed that the explicit no-arg constructor expects two constants : But when I looked at the DEFAULT_INITIAL_CAPACITY constant , I found that it was defined as follows : I 've never seen this type of construct used in any product I 've worked on , and could n't find any results in the Java Language Specification or through Googling . So I looked at the byte code , but I found that using 16 vs 1 < < 4 provided identical output , meaning that ( at least in my minimalist case ) the compiler will convert the latter to decimal notation . The bytecode of both versions includes the definition : So I would welcome any feedback on the necessity/use of this idiom ."
"This question is related to `` Comparison method violates its general contract ! '' - TimSort and GridLayout and several other similar `` general contract violation '' questions . My question is particularly related to Ceekay 's answer at the bottom of the page about `` How to test the TimSort implementation '' . In my case I have fixed the application bug that brought me here which was due to a symmetry violation , but I am having trouble creating a unit test to expose that violation ( if the fix is commented out or unfixed in future ) .I 've left out all the implementation details , but basically a Tick number is a 4 digit number where the first two digits are the zone and the second two digits are the track . GisTickNumbers can have alpha characters in the zone and or track fields , and they can optionally have an alpha suffix of one or two characters . Valid ticks are all integers in the range [ 0000 , 9999 ] ( even when represented as Strings ) . All valid Tick numbers are valid Gis Tick numbers , but valid Gis Ticks can also look like A912 , R123 , 0123G , A346*.My symmetry violation was that in the GisTick compareTo , I was accounting for the possible suffix , but in the plain Tick compareTo I was not accounting for it . Thus , if 'this ' was a 0000 Tick and 'that ' was a 0000* Gis Tick , 0000.compareTo ( 0000* ) would return 0 . While if 'this ' was a 0000* Gis Tick and 'that ' was a 0000 Tick , 0000*.compareTo ( 0000 ) would return 1 . A clear symmetry violation ( once the shrouds pulled back ) According to Ceekay in an answer to the linked question , Create a list with 32 or more objects . Within that list , there needs to [ be ] two or more runs . Each run must contain 3 or more objects . Once you meet those [ three ] criteria you can begin testing for this failure.I believe I have set up such a list of TickNumber ( and GisTickNumber ) objects for my unit test , but I ca n't seem to get the test to fail . Even though the list has over 100 objects , more than two runs , and each run contains about 10 objects . So , my question is what other characteristics does the list of objects under test need to satisfy in order for a call to Collections.sort ( testList ) to fail due to `` general ( symmetry ) contract violation '' ? and yes , I commented out the fix before I ran the unit test that I was expecting to fail ."
I have a scenario where I can guarantee that Thread 1 will complete the add ( ) call before Thread 2 make the get ( ) call . Will Thread 2 always see the changes made by Thread 1 in this case ? Or would the internal ArrayList variables need to be marked as volatile ? Edit : For those who are curious about why I can guarantee it . I have a sequence of events from a server that look like this : The events are dispatched sequentially by a single thread . I want to capture a list of all the A events so my code looks like this :
"There are two maps and I am trying to merge them into a single map ( finalResp ) . Solution - pre Java 8 - achieved like below : Using Java 8 , I am stuck at this : How can I check if a map 2 key is not present in map 1 and modify the values ?"
If we have the following code : Is the p = null required in a finally block or all the associated streams are closed by default ?
"I 'm trying to determine how much stack memory each method consumes when running . To do the task , I 've devised this simple program that will just force a StackOverflowError , printing an integer telling me how many times m ( ) was called . I 've manually set the JVM 's stack size ( -Xss VM parameter ) to varying values ( 128k , 256k , 384k ) , obtaining the following values : delta was calculated by me , and it 's the value between the last line 's i and the current one 's . As expected it is fixed . And there lies the problem . As I know the stack size memory increment was by 128k , that yields something like a 80byte memory use per call ( which seems exaggerated ) .Looking up m ( ) in BytecodeViewer 's , we get a stack 's max depth of 2 . We know this is a static method and that there 's no this parameter passing , and that m ( ) has no arguments . We must also take into consideration the return address pointer . So there should be something like 3 * 8 = 24 bytes used per method call ( I 'm assuming 8 bytes per variable , which of course may be totally off . Is it ? ) . Even if it 's a bit more than that , let 's say 48bytes , we 're still far away from the 80bytes value.I thought it could have something to do with memory alignment , but truth is that in that case we 'd have a value of roughly 64 or 128 bytes , I 'd say.I 'm running a 64bit JVM under a 64bit Windows7 OS.I 've made several assumptions , some of which may be totally off . Being that the case , I 'm all ears.Before anyone starts asking why I 'm doing this I must be frank.."
"I would like to extend the set of reloadable directories on tomcat 7.0.59.When reloadable attribute within Context is set to true , tomcat monitors classes in : /WEB-INF/classes/ and /WEB-INF/lib . Set to true if you want Catalina to monitor classes in /WEB-INF/classes/ and /WEB-INF/lib for changes , and automatically reload the web application if a change is detected . This feature is very useful during application development , but it requires significant runtime overhead and is not recommended for use on deployed production applications . That 's why the default setting for this attribute is false . You can use the Manager web application , however , to trigger reloads of deployed applications on demand.Entire system is divided into modules , each module can have its own web context ( /WEB-INF/classes/ ) and/or extend the global context ( /classes/ ) . Let 's say that I 'd like to have /classes/ directory reloadable . How can I achieve that ? I tried using WatchedResource tag , without effect :"
"I have read a few explanations of section 16.3 `` Initialization Safety '' from JCIP and am still not clear . The section states that '' Further , any variables that can be reached through a final field of a properly constructed object ( such as the elements of a final array or the contents of a HashMap referenced by a final field ) are also guaranteed to be visible to other threads . `` So if I had the following mutable object : Then , Thread 1 creates it as following and passes c to Thread2.Thread2 ( not concurrently , lets say after 1 ms ) , reads values of c , is it possible that Thread2 will ever see CheersUPDATEI noticed there was some confusion about the class having getters.I am updating the source code , hopefully this will be clear.Thanks all for taking a look.// -- -- -- -- -- // -- -- My questions are : a ) When Thread2 calls consume ( ) , can name , cupsWon , netWorth ever be null , 0 , or 0.0 ? My thinking was that it CAN because since the fields in Container class are not final , there is no visibility guarantee.b ) However , then I read section 16.3 and the bit about `` variables that can be reached through a final field of a properly constructed object '' , does this mean that because the instance of Container c is declared final , we DO have visibility guarantee in consume ( ) ? final Container c = new Container ( `` Ted Dibiasi '' , 10 , 1000000 ) ; c ) Declaring reference to Container in Client class as volatile wont solve the visibility issue of the fields as it pertains to the reference ."
"In ebay Order API - initiateCheckoutSession ( guest checkout ) , adding credit card information returns error . I am testing in sandbox environment.API : https : //api.sandbox.ebay.com/buy/order/v1/guest_checkout_session/initiateRequest Body : Response : API works fine if credit card details are not in request . Could someone please help ?"
"Let 's assume I 've two threads t1 and t2 which are trying to access incX ( ) Here is my following code : Here 's my output : As in incX ( ) method I 've synchronized x = ++x , so the changes made to thread t1 should be visible to thread t2 , right ? So my output should be : I know ++x is not an atomic operation but it is synchronized , so thread t2 ca n't acquire the lock . So the threads should not interleave and changes made to x should be visible to thread t2 , right ? Am I misunderstanding ? So my question is why I am not getting the output :"
"I have a rather simple question . I ca n't find an answer by searching though.Is there a difference in these two code-fragments ? And what is the difference ? Fragment1 : Fragment2 : Fragment1 specifies explicitly , that the parameter value must be either of type T or a subtype of type T.Fragment2 specifies , that the parameter value must be of type T. But from my little knowledge and experience I think that I can also supply a subtype of T here . So same as fragment1.I looked at the disassembled byte codes of these two fragments . Indeed there is a difference : That just reflects the source code ... I just do n't get the meaning . And I also ca n't find an example application , which shows the difference.Thanks for comments ."
"I 'm writing a program where I 'm supposed to make a method that calculates if the passed number is odd . For this method , I also need to check that passed number is > 0 , and if not , return false.I am also supposed to make a second method with two parameters ( start and end , which represents a range of numbers ) and the method is supposed to use a for loop to sum all odd numbers within that range . The parameter end needs to be greater than or equal to start and both start and end parameters have to be greater than 0.If those conditions are not satisfied return -1 from the method to indicate invalid input.This is the assignment : Write a method called isOdd with an int parameter and call it number . The method needs to return a boolean.Check that number is > 0 , if it is not return false.If number is odd return true , otherwise return false.Write a second method called sumOdd that has 2 int parameters start and end , which represent a range of numbers.The method should use a for loop to sum all odd numbers in that range including the end and return the sum.It should call the method isOdd to check if each number is odd.The parameter end needs to be greater than or equal to start and both start and end parameters have to be greater than 0.If those conditions are not satisfied return -1 from the method to indicate invalid input.I 've tried for over an hour now but I 'm not doing it correctly because my output is wrong . I 've written down the expected results and my results below my code . This is my code : The expected result is : My result :"
"I have an application that is multithreaded and working OK . However it 's hitting lock contention issues ( checked by snapshotting the java stack and seeing whats waiting ) .Each thread consumes objects off a list and either rejects each or places it into a Bin.The Bins are initially null as each can be expensive ( and there is potentially a lot of them ) .The code that is causing the contention looks roughly like this : It is the synchronization on the bins array that is the bottleneck . It was suggested to me by a colleague to use double checked locking to solve this , but we 're unsure exactly what would be involved to make it safe . The suggested solution looks like this : Is this safe and/or is there a better/safer/more idiomatic way to do this ?"
"I am attempting to create a simple Java script which will connect to Rally , fetch all of the defects and return the defect details including the discussion as a Java object . The problem here is that the Discussion is returned as what I believe is a collection because only a URL is given . I am stuck on how to return the discussion for the defect as an object within the JSON rather than only another query which would have to be run separately ( thousands of times I presume since we have thousands of defects ) . Here is my code : Here is an example of what I am getting when I attempt this : As you can see the discussion is being returned as a URL rather than fetching the actual discussion . As this query will be used at runtime I 'd prefer the entire object ."
"I made a simple GridBagLayout which adds buttons in the cells ( 0,0 ) , ( 1,0 ) , and ( 0,1 ) .I was happy to see the resultant UI : I want to add a JButton in a cell that is not connected to the existing cells . I want it to be separated by an empty space . When I try this , the new JButton is lumped in next to the others . Here is the addition : The output : The JButton ( `` 3,0 '' ) is displaying at the cell ( 2,0 ) . Do I need to use an empty JPanel as a place holder in the cell ( 2,0 ) ? More importantly , why is this happening ?"
"I have a libGDX game project for Android , and I want to execute a Groovy script in it.To do so , I am examining this example code : https : //github.com/melix/grooidshell-exampleThey managed to execute Groovy embed in Java on Android . Particularly GrooidShell.java ( https : //github.com/melix/grooidshell-example/blob/master/GroovyDroid/src/main/java/me/champeau/groovydroid/GrooidShell.java ) I have managed to implement most of the code in the Android launcher of the libGDX project . However , I can not run it because I am missing two arguments : The first one can be any directory . And the second one , I do n't even know what is it for.My question is , what is the ClassLoader and File arguments supposed to be ? I need to get them and use them in the AndroidLauncher class of libGDX , which is like this :"
"Im using the following codeSo that list will only accept Strings to be added , how can I add into one list more types of variables like ints and strings together likeAdding into the text list some rectangle values likerectangle name , rectangle width , rectangle height So later I can access them in a loop"
"Consider this case : Is there a syntax to reference the instance of the anonymous inner class represented by SomeInterface at the commented code ? For SomeClass you can do SomeClass.this Is there an equivalent to get the implementation of SomeInterface ? If not , of course you can just define a final local variable in the SomeInterface implementation and reference it , but I was just wondering if there is in fact direct language support to reference the instance ."
"EDIT : I really appreciate everyone 's input . I gained something from all the responses and learned a good deal about OOD.I am making a simple virtual tabletop war game . To represent units on the battlefield I have the following simple class hierarchy : An abstract class Unit , and two derived classes , Troop and Vehicle.I have another class that has a hashtable for all the units in the game . The hashtable values are of Unit type , so I can reference them in O ( 1 ) time.For the most part , this is fine , but sometimes the caller NEEDS to know if something is a troop or a vehicle to call specific methods from those derived classes . To accommodate for this , I 've created two get methods that will enforce the types : ( Note the class for which this belongs merely extends Hashtable , so the get method being used here is the Java 's hashtable 's get method . ) So I think this is poor OOD design because if I ever further extend unit I 'm going to have to add more checks and more # get methods to this hashtable.Am I correct in saying this ? Does anyone have alternative OOD suggestions if this is the case ?"
I am trying to create a map using groupingBy ( ... ) function in lambda . Now the problem I am facing is I am unable to convert list to map for particular conditionCode : Expected functionality : I need to collect a map whose key is key value like keys from 0 to 120 and values will increase likeWhat I am trying ( idea ) : Error : not able to convert to List inside groupingBy ( ) or not sure if I am missing somethingHow to solve this ? Any help is welcomeEdit : do I need to use method reference here ? Below is method
I saw following question and tried to find an answer for that.My answer to above question is : I think my answer is O ( N^2 ) which is not acceptable based on Question . Is there a solution based on O ( N ) ?
Im trying to understand how class generics work and this bit just doesnt make sense to me.So for instance if I have the following classes : and then I try Should n't the go method accept A or any sub class of A ? ? thanks : )
"How can I maintain an ArrayList of unique arrays ? For instance , if I have the following arrays : According to my logic I am considering unique combinations . So in the case above a = b = c because they all contain `` 1 '' , `` 2 '' , `` 3 '' . Ideally I am wondering if there is a data structure in Java that recognizes this.I tried the following : My output was : Ideally I would want my output to only print one of the combinations above ."
"I 'm working through some sample code and then this appeared : What 's < > used for ? And why is just T inside these ? This seems to be very random for me . However , how can I use it in a longer perspective of making programs ? Thanks and tell me if I need to add more details !"
"I am encountering a strange problem with Hibernate . There are two database tables that stores active and resolved tickets . In Java there is a super class ( Ticket ) and entity subclasses ( ActiveTicket and ResolvedTicket ) .Now when a ticket is resolved it is moved to the ResolvedTicket table.Now I have a custom findByID method where I try to first retrieve active ticket and then if I have a null object then I try to retrieve the resolved ticket . It looks like this : This is the custom findByID : In my example , I have a ResolvedTicket stored in the database , when I call findByID ( ) in the first snippet , the first line returns an object which contains null values . It looks like a proxy object but it is very strange because whenever I try to call any of it 's getters I get a NullPointerException , which is strange because the object is not null when testing t == null.This is how the object looks when getHibernateTemplate ( ) .get ( ActiveTicket.class , id ) is called :"
I have to use a variable which will never be changed in method which will be frequently used in many threads . Which of these variants are more efficient ? Variant 1 : Variant 2 : Variant 3 :
"I wanted to create a very restrictive security manager , so I extended SecurityManager and overridden all the custom checkXXX methods.But then I found out that my security manager is useless , because anyone can just : So I have to add : Are there any more surprises ? Any other things I have to do to make my SecurityManager hermetic ?"
"Hibernate UnUniqueify a column in table ( Solved ) I want a field set to be non-unique on itself but to be unique in combination with the other field , I got this table with two columns ( composite primary keys ) ; id ( primary key ) and object_proxy_id ( primary key ) , this is exactly what I need but hibernate sets the object_proxy_id to be unique on itself so that value cant be duplicate in the table , and I need this column to accept duplicate values . Because every user has its own object proxy and these proxy 's do n't have to be necessarily unique.This is what I want to achieve : Current code : Results in : EDIT : The two primary key 's in tbl_object_proxy are composite primary key'sI have tried Xeon 's solution but it did n't work ."
"I have a simple class which does some calculations in its own thread and reports the results to the listener.At any time , the user can call setListener ( null ) if he does n't want any events for a certain time period . So , in the run ( ) function , I create a copy of the listener , so I ca n't run into a NullPointerException which might happen if the listener is set to null after the ! = null condition check succeeded . In my case , I believe this is a correct alternative for synchronizing it.My question is : should I declare here the listener member variable as volatile ? I have been reading a lot about volatile , but all examples seem to target the basic data types ( boolean , int , ... ) , and not Objects . So therefore , I am not sure whether Objects should/could be declared volatile as well . I believe I have to declare it as volatile , so the thread always has the latest version of the member variable , but I am not sure.Thanks !"
"Ok just for sake knowledge , I tried below cases ( Assume that Class A and B are in same package ) ClassA ClassB executing above ClassB it will produce output of B now after below change in classBClassB If I compile and run in terminal it gives me output A that was totally surprising as it should had given NoSuchMethodError as no main method was their so kindly explain the weird behavior ? Note : Many answers contains Override word please use hiding as we can not override static methods in java ."
"i am implementing Floyd–Warshall algorithm with c++ , c # and java . in each language i use sequential and parallel implementation after testing the result was : ( Elapsed time is only for main Function and Reading Files , Inti of Variable and ... are not measured . ) download sources here SourceCodesc++IDE : NetbeansCompiler : MinGW-4.8.1sequential time : 9.333000Parallel time : 2.539000using OpenMp for Prallel if NumOfThreads=1 then is Sequential else is Parallel variables javaIDE : NetbeansCompiler : Netbeans defaultsequential time : 11.632Parallel time : 3.089-Xms512m -Xmx1024mimport java.util.concurrent.Callable ; import java.util.concurrent.ExecutionException ; import java.util.concurrent.ExecutorService ; import java.util.concurrent.Future ; java variables i did not put java code here because its working right ( i think ) c # IDE : Visual Studio 2012Compiler : Visual Studio 2012 default sequential time : 31.312Parallel time : 8.920using System.Threading.Tasks ; variableparallel codesingle code whats wrong with my c # implementation ? all use the same filenow my question is why it takes more time to solve this algorithm with c # ? java and c++ have nearly the same elapsed time but i think my implementation with c # is wrong because this difference between c # and c++ is strange ! please help me to improve my C # implementation or name some reasons Thank you ! edit 1 i changed my arrays to jagged array and the result changed to : sequential time : 19.22Parallel time : 4.903 still its a huge different between c # and c++ or java ! any idea why ? new variables new codes :"
"I 'm running tasks periodically and to provide flexibility for the intervals , the next timeout is calculated at the end of each task , converted to milliseconds from Instant.now ( ) , and scheduled using ScheduledExecutorService # schedule.This code is generally working fine ( blue curve on the left ) , but other days not so good.It appears to me that things sometimes go bad at startup ( machines are restarted every night ) and though that the program should , and does , correct itself ScheduledExecutorService # schedule does not recover and scheduled tasks run late all the time . It appears that a full JVM restart is the only solution.My initial thoughts was that this was a bug and depending of the time of the machine startup , things could go wrong . But the following log output demonstrates that the problem is related to my usage of ScheduledExecutorService # schedule : Below is actual production code of the scheduling function ."
"I 'm seeing what appears to be contradictory behavior out of WorldWind 's Sphere-Line intersection logic . I create a Sphere and Line and they intersect but then the intersection returns null ( scan code for comment : // *** This is where it gets whacky ) . Here is what 's going on visually ( the line is gray it 's there but hard to see ) : And here are the dependencies I declared to get WorldWind into my maven project ( I also did try version ' 2.0.0-986 ' , but that did n't seem to help ) : To be completely thorough , here are the code imports :"
"I have a situation where I have to change java constant.I have below code working If I run above , I get following output : But if I change FLAG variable to int i.e.It does not work . The output is : Is there any other way to make it work with Primitive Type int ."
I ca n't understand why iterating multiple time over a same array with Stream apiresult in such a performance ! see the code below.for sure JVM optimizes the code but i do n't know how this happening ? ? It is amazing ! do you have any clue why this happening ? -- I 'm testing on Ubuntu 14.04/ / Oracle jdk / intel cpu .
"I use AsyncHttpClient library for async non blocking requests.My case : write data to a file as it is received over the network.For download file from remote host and save to file I used default ResponseBodyPartFactory.EAGER and AsynchronousFileChannel so as not to block the netty thread as data arrives . But as my measurements showed , in comparison with LAZY the memory consumption in the Java heap increases many times over.So I decided to go straight to LAZY , but did not consider the consequences for the files.This code will help to reproduce the problem . : in this case , the picture is broken . But if i use FileChannel instead of AsynchronousFileChannel , in both cases , the files come out normal . Can there be any nuances when working with DirectByteBuffer ( in case withLazyResponseBodyPart.getBodyByteBuffer ( ) ) and AsynchronousFileChannel ? What could be wrong with my code , if everything works fine with EAGER ? UPDATEAs I noticed , if I use LAZY , and for example , i add the line Thread.sleep ( 10 ) in the method onBodyPartReceived , like this : The file is saved to disk in non broken state.As I understand it , the reason is that during these 10 milliseconds , the asynchronous thread in AsynchronousFileChannel manages to write data to the disk from this DirectByteBuffer.It turns out that the file is broken due to the fact that this asynchronous thread uses this buffer for writing along with the netty thread.If we take a look at source code with EagerResponseBodyPart , then we will see the followingThus , when a piece of data arrives , it is immediately stored in the byte array . Then we can safely wrap them in HeapByteBuffer and transfer to the asynchronous thread in file channel.But if you look at the code LazyResponseBodyPartAs you can see , we actually use in asynchronous file channel thread netty ByteBuff ( in this case always PooledSlicedByteBuf ) via method call nioBufferWhat can i do in this situation , how to safely pass DirectByteBuffer in an async thread without copying buffer to java heap ?"
"I 'm looking for guidance for a problem logically equivalent to the following : The above construction gives the correct result but always waits for taskA to completeeven if the result is already known since taskB has completed.Is there a better construction which will allow a value to be returnedif either of the threads returns true without waiting for the second thread to complete ? ( The platform involved is Android , if that affects the result ) ."
"This code seems to work in Java , violating everything I thought I knew about the language : x now has the value 7 . Of course , one ca n't just write int x = 7.4 , so this behavior seems strange and inconsistent to me . Why did the developers of Java choose such a behavior ? The question that mine was marked as a duplicate of was actually answering the `` what happens '' part , but not my main question : what the rationale is ."
"We are running a setup locally where we start two instances of an Axon application . The following properties are set in application.yml : So both nodes have a single thread and they should each process a segment . They both connect to AxonServer . How do the two instances coordinate segment claims ? If I start both of these applications using an in-memory database , I can see in AxonServer that they both attempt to claim segment 0 and that segment 1 is claimed by neither . ( We get a duplicated claim/unclaimed segment warning ) . If they connect to the same database , this does not happen , instance 1 claims segment 0 , instance 2 claims segment 1.Am I then correct in assuming that identical processors have to share a database in order for this to work properly ? I ca n't find this information immediatly in the reference docs.Does this then also mean that if I would hypothetically want to replicate a projection model for performance reasons ( e.g : database server in the US and another one in the EU ) , this would not work properly ? To clarify : I would want both databases to build an identical query model that could both be queried separately . As it is right now ( assuming that we could run two nodes on two databases ) , node 1 would only process events for segment 0 , node 2 would only process events for segment 1 . If I understand this correctly , this means that both databases only contain half of the information of the query model.So in order to pull this off , I would have to create another near-identical codebase , with the only difference being the processor name ?"
"The task : Given a 2D array m containing whole non negative numbers , we will define a `` path '' as a collection of neighboring cells ( diagonal steps do not count as neighbor ) starting at row == 0 & & col == 0 and ending with row == m.length - 1 & & col == m [ 0 ] .length - 1.The cost of a `` path '' is the sum of the values in each cell of the `` path '' .Example : Two of the possible paths in an array : The cost of path 1 ( dashed line ) : 8 + 4 + 2 + 8 + 9 + 9 + 7 + 5 = 52 ; The cost of path 2 ( full line ) : 8 + 6 + 3 + 8 + 9 + 4 + 1 + 2 + 1 + 7 + 6 + 5 = 60TO DO : Write a static recursive method that accepts a 2D array m filled with whole non negative values and prints the sum of all the possible path costs ( you may assume that m is not null nor empty ) .Method signature is ( overloading is allowed ) : public static void printPathWeights ( int [ ] [ ] m ) My code : The printed value of the above code is : 14Which is less than expected ! When ran with : The result is 6 as expected.What is wrong in my code ? PS : please do not present me with code that solves the assignment but explain what is wrong with my code ."
This is part of my code snippetI need to send the `` variableListString '' to the SAS server through IOM bridge . Java SAS API does n't give explicit ways to do it . Using CORBA and JDBC is the best way to do it ? ? Give me a hint how to do it . Is there any alternative method to do it ? ?
"Given the following two class definitions : Consider the following type declaration : This compiles fine in JDK-8u45 , but if we examine the specification for capture conversion , it appears ( to me ) that this declaration should result in a compile time error.In particular , the upper bound of the new type variable capture T # 1 is given by glb ( Bi , Ui [ A1 : =S1 , ... , An : =Sn ] ) , where in this case Bi resolves to the wildcard bound C2 < String > and Ui [ A1 : =S1 , ... , An : =Sn ] resolves to C1 < T # 1 > .From this , glb ( C2 < ? > , C1 < T # 1 > ) resolves to the intersection type C2 < String > & C1 < T # 1 > , which is invalid , because C2 < String > and C1 < T # 1 > are both class types , not interface types , but neither one of them is a subtype of the other.This ( apparent ) rule violation is perhaps made more clear in the definition of the intersection type itself.I 'm sure it 's not a bug and I 'm just making some simple mistakes somewhere ... If it is a bug , I hope it can be considered a bug in the JLS and not the JDK , such that I can expect to be able to safely emulate the behaviour ... Thanks for any help ! Edit : After talking with Radiodef yesterday I convinced myself that the issue ( or one way of looking at it at least ) is that C2 < String > can effectively be thought of as a subtype of C1 < T # 1 > , since T # 1 can only ever be satisfied by C2 < String > and so can be considered equal to it , but the containment and subtyping rules have no understanding of this relationship as written , and so the JLS will not recognise the subtype and should fail ... If you take the slightly more complex case of C1 < ? extends C2 < ? > > d ; , though , it is more tricky . The problem is similar , but the intersection type which forms the upper bound on the capture comes out as C2 < ? > & C1 < T # 2 > , where it does n't seem a solution can be arrived at by the same reasoning as above ."
"Here 's a simple class that illustrates my problem : f1 , referring to App : :m1 , and being bound to a1 in f1 's call to apply , works perfectly fine - the compiler is happy and the call can be made through f1.apply just fine . f2 , referring to App : :m2 , does n't work.I 'd like to be able to define a method reference to an unbound non-static method with no return type , but I ca n't seem to make it work ."
"Here is what I need to do : write an algorithm that will split a given integer into sums and products but each following number must be bigger than the previous one , i.e : A basic partition integer algo is not going to work since it returns numbers in a different order.I 'm not asking for a final code , I 'm just asking for some tips and advices so I can move on myself . Thank you so much in advance !"
"I want to process a flow of client requests . Each request has its special type . First I need to initialize some data for that type , and after this I can start processing the requests . When the client type comes for the first time , I just initialize the corresponding data . After this all the following requests of that type are processed using that data . I need to do this in a thread-safe manner.Here is a code I have written . Is it thread-safe ? From one hand , ConcurrentHashMap can not produce map.put ( A , B ) == null two times for the same A . From the other hand , the assignment and comparisson operation is not thread-safe . So is this code is ok ? If not , how can I fix it ? UPDATE : I have accepted the answer of Martin Serrano because his code is thread-safe and it is not prone to double initialization issue . But I would like to note , that I have not found any isssues with my version , posted as an answer below , and my version does not require synchronization ."
"I ran across this puzzle today . Obviously , this is n't correct style , but I 'm still curious as to why no output is coming out . The above has no output when run . But , when we add in brackets for the if-statement , suddenly the logic behaves as I expect . This outputs `` SHOULD OUTPUT THIS x < = 9 and z > = 7 '' . What is going on here ? Thanks !"
"I am trying some performance benchmark regarding String Pool . However , the outcome is not expected.I made 3 static methodsperform0 ( ) method ... creates a new object every time perform1 ( ) method ... String literal `` Test '' perform2 ( ) method ... String constant expression `` Te '' + '' st '' My expectation was ( 1. fastest - > 3. slowest ) '' Test '' because of string pooling '' Te '' + '' st '' because of string pooling but bit slower than 1 because of + operatornew String ( .. ) because of no string pooling.But the benchmark shows that `` Te '' + '' st '' is slighty faster than `` Test '' .Here 's the code : Can someone explain why `` Te '' + '' st '' performs faster than `` Test '' ? Is JVM doing some optimizations here ? Thank you ."
"The code of the mediaplayer ( which starts under the comment : //Code of the mediaplayer begins ) is every time called when I click a button . After some time when I click the button , the sound is not played anymore.It is like : I click for 10 times and it is returning the sound when I click again it stops and does not work anymore . Thanks for looking , If there is any solution comment below ! : DLogcat : E/AudioFlinger : no more track names availableE/AudioFlinger : createTrack_l ( ) initCheck failed -12 ; no control block ? E/AudioTrack : AudioFlinger could not create track , status : -12E/AudioSink : Unable to create audio trackE/ExtendedNuPlayerDecoder : error in opening audio sink . Could be fatal ! ! ! **Code of the main activity'* : }"
"What is the proper way to produce and consume the streams ( IO ) of external process from Java ? As far as I know , java end input streams ( process output ) should be consumed in threads parallel to producing the process input due the possibly limited buffer size.But I 'm not sure if I eventually need to synchronize with those consumer threads , or is it enough just to wait for process to exit with waitFor method , to be certain that all the process output is actually consumed ? I.E is it possible , even if the process exits ( closes it 's output stream ) , there is still unread data in the java end of the stream ? How does the waitFor actually even know when the process is done ? For the process in question , EOF ( closing the java end of it 's input stream ) signals it to exit.My current solution to handle the streams is followingIs it necessary to use the latch here , or does the waitFor implicate all the output is already consumed ? Also , if the output does n't end/contain new line , will the readLine miss the output , or still read all that is left ? Does reading null mean process has closed it 's end of the stream - is there any other scenario where null could be read ? What is the correct way to handle streams , could I do something better than in my example ?"
"Have a look at this simple example of Java generics : It gets an error compiling , claiming that the types are incompatible , yet claiming that the two variables are the same type : If I change the first line of length ( ) to List < T > l = ( List < T > ) ( Object ) this.l ; , it works . Why ?"
I am thinking to use @ Nonnull annotation provided in javax.annotaiton.Nonnull which has retention policy as runtime . With this annotation I want to ensure that null is never returned by this function . I would like to put the annotation on interface so that no future implementations breaks existing code as followsNow what I do not understand is that should I use the same annotation on the implementation as well . So which one of the following is would be the correct way to write the implementation of this interface ( both of these compile ) : Or
"I have following java sample class : It is producing a compiler warning : Type safety : Unchecked cast from capture # 1-of ? extends Object to TI can perfectly obtain the exact T object , if I just do : Which it knows perfectly is of Type T.Why I am not able to create a new instance of that class ? How could I fix it ? ( I am not looking for a response of type : 'Add @ SuppressWarnings ( `` unchecked '' ) ' )"
"The Java class I am trying to subclass has a method like : I ca n't figure out how to override that method . The Java class I am subclassing from does not use generics . In Scala I tried : But the compiler gives me the error message that it overrides nothing..The heart of the problem is that Scala expects type parameters on the Map , however the Java class does n't use them ."
I have existing codebase that sometimes uses ArrayList or LinkedList and I need to find a way to log whenever add or remove is called to track what has been either added or removed.What is the best way to make sure I have logging in place ? So for example.andNot sure if I can intercept add method to achieve this or create overriding class that implements java.util.List interface then use it instead . Either way I 'm looking for a good solution that requires minimum intervention and prefrerrably without using any third party packages ...
I have a synchronized method that appears to be 'using ' the synchronization for significantly longer than it should . It looks something like ; The call looks like ; Where generateParameter ( ) is known to be a very expensive ( takes a long time ) call . My thinking is that the mutex on the myMethod class is blocked during the execution of generateParameter ( ) is this what happens ? I 'm finding it a different problem to debug but this is what appears to be going on .
While practicing Reflection I came to know about SelfComparable Interface in Collections classWhat does this interface use for ?
"The description of Local.getCountry ( ) says : Returns the country/region code for this locale , which should either be the empty string , an uppercase ISO 3166 2-letter code , or a UN M.49 3-digit code.I wonder when is an ISO 3166 2-letter code returned and when a UN M.49 3-digit code ? Example :"
"How do I do to overwrite a method with the one i just selected ? For example : First I typebut then , I reminded that the method was another one , and the cursor was after the word some and before Method , when I press Ctrl+Space again , it shows up some methods , when i hit enter , my method now is something like this : How do I do to when I press Ctrl+Space , and select a method it just overwrites ? I used to work like this but ca n't remember how to do it.Thanks ."
I was trying to replicate a bug by using the same instance of SimpleDateFormat across multiple threads . However I got stuck with another problem and did not find any answers to it . This simple code block replicates the issues I am seeing.The results of this operations under java 7 ( 1.7_0_21 ) is as follows As you can see that although I am creating new objects for d1 and d2 they end up being the same reference . d3 ends up being a new instance as pattern is different.Does java compile/runtime do this optimization ? Any pointers will be helpful
"Do you need to call remove on a thread local if you are not deploying in a server environment , even if the app uses a cached thread pool ?"
"See Update below to show potential workaroundOur application consumes 2 topics as KTables , performs a left join , and outputs to a topic . During testing , we found that this works as expected when our output topic has only 1 partition . When we increase the number of partitions , we notice that the number of messages that get produced to the output topic decreases.We tested this theory with multiple partition configurations prior to starting the app . With 1 partition , we see 100 % of the messages . With 2 , we see some messages ( less than 50 % ) . With 10 , we see barely any ( less than 10 % ) .Because we are left joining , every single message that is consumed from Topic 1 should get written to our output topic , but we 're finding that this is not happening . It seems like messages are getting stuck in the `` intermediate '' topics created from the foreign key join of the Ktables , but there are no error messages.Any help would be greatly appreciated ! Service.javabuild.gradleNote : We are excluding the org.apache.kafka dependencies due to a bug in the versions included in spring-cloud-streamapplication.ymlTest Scenario : To provide a concrete example , if I publish the following 3 messages to Topic 1 : The output topic will only receive 2 messages.What happened to the other 2 ? It seems certain key/value pairs are just unable to get written to the output topic . Retrying these `` lost '' messages does not work either.Update : I was able to get this functioning properly by consuming Topic 1 as a KStream instead of a KTable and calling toTable ( ) before going on to do the KTable-KTable join . I am still not sure why my original solution does not work , but hopefully this workaround can shed some light on the actual issue ."
I am new to java and trying to understand the following . The length of the arrays is not same . The code still executes without any errors . I dont understand why . If someone could clarify .
"I have searched and searched and this is destroying me . I have this : The emailFormUrl returns the URL correctly but the parameters have been stripped.Which speaks of : For some reason , the id is being stripped , this leaves me with a validation error and does n't complete the action that I require . As I am aware we did not have a problem with it before the July urgent security update but it is small functionality that is rarely used ( an argument for its removal I guess ) . I do n't want to add a hidden parameter as I want to understand the reason that this is not working , not a workaround ( I am still in the heavy learning part of my career ) ."
Help me optimize the algorithm . I have a heap in the array.Each number in the array indicates a parent . Root is -1.I need to find the depth of heap.Example : Array is 4 -1 4 1 1The answer is 3.It 's my codeWhere pos - position of root.I also solved this problem with recursion . But tests give me `` Time limit exceeded '' also .
"Take a look at this code ( from here ) There are two parallel inheritance trees , for a parent class and an associated class . The problem is with line 23 : ( ( AssocAConcrete ) myA ) .salute ( ) ; It is a pain and I have that kind of thing all over my code . Even though that line is part of the concrete implementation of Entity , I need to remind it that I want to use the concrete implementation of AssocA , AssocAConcrete.Is there some kind of annotation to declare that relationship ? Or is there a better , more colloquial Java way to express this design ? Thanks ! This is in response to @ Dave , because I want to put some code in ... Interesting ! So the invocation would look something like this : Yes ? That 's really cool . I think I will use it !"
"I 'm currently using Roaster to generate interfaces , but my interface has generic types bound to it.Here 's what I was trying to generate them to begin with : But the above results in generated code that looks ( something ) like this : What I actually want is for the generic to be bound to JpaRepository . How do I accomplish this ?"
"I have a class that contains a cache ( Set ) , and the cache is built on instantiation . I 'm confused which exception/error should I throw if building cache fail ( can not connect to database or some ) .One exception comes in my mind is ExceptionInInitializerError , but javadoc says it is thrown on initialize static members.Should I throw an IllegalStateException cause the cache is n't built so this class is useless ? Clearly I can create my own ErrorOnBuildingCache and throw it but I wonder if any exception in Java library suits this circumstance ."
I am looking for a clean and safe way to ensure tha a field of a class will never be set to null . I would like the field value to be set once in the class constructor and never modified later . I think that he readonly keyword in C # allows this . Is there a way to do the same in Java ?
"Long story short : Why is the following not possible in Java ? Note : I do n't have any specific use case right now , rather I am just trying to understand why this is not allowed.At first I thought because the compiler can not assert if A can accept generics parameter because after compiling A , due to type erasure the generics wo n't be present anymore.But , if that is the case , then we can not use generics on any class at all . So I took out the byte code of a generic class and found that there is metadata to say it accepts generics.And I did a quick search and SO confirmed compiled code will have generics related metadata tooSo why does the compiler not allow multilevel generics ? Will there be any problem in allowing it ? Is it a limitation ? or something else ?"
I 've been staring at the screen the last 5 minutes and ca n't seem to figure out what I 'm doing wrong : I 'm surprised why the String [ ] can not be converted to List < String > to initialize the HashSet < String > with it.I 'm getting the build error : What 's wrong with my assignment ?
"From the Matrix Chain Multiplication page on Wikipedia , there is this fragment of Java code : Is n't m = new int [ n ] [ n ] ; already allocating memory space of size n in both its dimensions so this step in the loop m [ i ] = new int [ n ] ; is actually redundant because all it does is reallocate the second dimension again ?"
"I came across the following code , a simple example of adding elements to ListI expected it to throw an ClassCastException , but rather it wrote this to the console which looks weird . When i tried : I got a compile time error . I would be grateful if someone could explain how the String objects are added to the ArrayList"
"I 'm working on an assignment dealing with class inheritance and have everything done and working properly except for a string format method . The output of the program should look like this : but it is printing like this : The problem is that in the output , `` Earnings : $ 450.00 '' is printing before `` with Base Salary : $ 300.00 '' . The class BasePlusCommissionEmployee extends from class CommissionEmployee . Each class has it 's own toString method , and the BasePlusCommissionEmployee does call the super.toString ( ) , which I believe this is causing the issue . I need to be able to have the class inherit from the CommissionEmployee but not bring the `` Earnings '' until the end ( as shown ) . This is the code for the toString in the CommissionEmployee class : This is the code for the toString in BasePlusCommissionEmployee class ( which extends from CommissionEmployee ) : This is the test code running in the main : All help is greatly appreciated ! Thank you !"
"I got simple code , maybe the problem relies on the given format string or on the timezone . So here is the code : The result is : Thu Jan 01 00:00:00 EET 1970-10800000 -- > should be 0 as we give 00:00 hours in and the other time elements remain default.//EditYes the problem is with timezone to fix this use df.setTimeZone ( TimeZone.getTimeZone ( `` UTC '' ) ) ; before parsing ."
"Possible Duplicate : Java - boolean primitive type - size I 've designed this program to calculate the size of a boolean in Java.When I run the program , it says that the size is 1.0000016 bytes . Now , the Oracle Java documentation says that the size of a boolean is `` not defined '' . [ See link ] .Why is this so ? Also , a boolean variable represents 1 bit of information ( true and false ) , so what happens to the remaining seven bits ?"
"Here is a java snippet : And It behave different according to different JDKsin Oracle JDK 1.7 output is : in OpenJDK 1.6 output is also : but in Oracle JDK 1.6 output is : as the JavaDoc for this String # intern method indicates the output : should be expected , but neither three JDKs produce this . and Why Oracle JDK1.6 gives : as a result ? I think in OracleJDK 1.7 and openJDK 1.6 there must be some reserved string in the string pool , and what are they ? is there a document specify all the reserved strings ? Really confused ."
"I am trying to send some work from IntentService to BroadcastReceiver by using .putExtra ( ) and sendBroadcast ( ) , so I have own class called `` Message '' , which extends HashMap < String , String > and implements Serializable.And I am sending it like this : And receiving like this : But here I always get this : `` Failed handling message , reason : java.lang.ClassCastException : java.util.HashMap '' Any idea what could be wrong ? Stack-trace : So finally , if anyone had similar problem , I solved it like this :"
"I recently learned that there are Class representations for the primitive types in the JVM . For example , int.class , double.class , and even a void.class.What I do n't understand is why these are there . They do n't seem to serve any functional role . Using reflection , I searched through the classes , and they have no constructors , no methods , and no fields . For all intents and purposes , they seem empty and useless . The primitive type variables are not even instances of their respective classes , as indicated by the following returning false : So why do they exist ? They must serve some purpose , maybe for the compiler or something , but whatever it is is completely beyond me . There is even an explicit reference to int.class in the Integer API ( and likewise for each primitive type and its respective wrapper Object ) . I have n't been able to find any reference to their existence , much less their use , in the JLS ."
"I am using the org-netbeans-lib-cvsclient.jar to execute various cvs commands in a java class that communicates with CVS . I am able to do a cvs checkout command , add , commit , etc . However , I need to find out which command is equivalent to the cvs ls -R command.Here is the code I wrote that allows to do a cvs check out : I need to do something similar for CVS ls -R or CVS rls"
"Hi i am attempting to discover why my program 's usually run slower than i want them so thank you in advance for your help ! I have for example a piece of code that i would like some insight intoin Line # 2 . I create a new Object . This will happen thousands of times in my program . Do i specifically have to null the old Object out before gc will destroy it ? Or will gc go behind my program picking up all the memory those other Objects used.Or another option altogether is this happening : A certain amount of memory is being allocated and every time i create a new Object it is then assigned to that exact same memory.Bruno asked me to show a more realistic piece of code so we could figure out why it was running slowly . But , because of your answer Bruno i realized that i had my code like thisSo i realized i had Strong references to my Objects . Thank you Bruno !"
"I 'm trying to write a program that in the Main class one can initiate unknown amount of new threads.Each thread in turn should call to a Singleton Copier class which should call a file transfer action.My goal is , regardless the amount of threads requests , is to limit the number of concurrent transfers to 2 transfers , so I thought solving it with Semaphore.My problem is , it 's seems the threads are running one after the other and not in concurrent.Here is what I tried to do : This is my Main class : When running it - you can see by the output the threads running one after the other , while my purpose is to have up to 2 concurrent threads.What did I do wrong ?"
"I found out , that for example this line has a very very long execution time : If I reduce the amount of dots at the start of the String the execution time gets lower ( seems like it 's exponential ) . Here is the suspended thread 's stack trace : Why does this happen ?"
"Possible Duplicate : NullPointerException through auto-boxing-behavior of Java ternary operator The following code uses simple conditional operators.This code compiles fine . All the expressions ultimately attempt to assign null to Integer type variables exp1 , exp2 and exp3 respectively.The first two cases do n't throw any exception and produce exp1 = null exp2 = null which is obvious . The last case however , if you go through it carefully , you will see it also attempts to assign null to Integer type variable exp3 and looks something similar to the preceding two cases but it causes the NulllPointerException to be thrown . Why does it happen ? Before I posted my question , I have referred to this nice question but in this case , I could n't find what rules as specified by JLS are applied here ."
Please help me understand this code . I am new to java .
"I learned that if I have two classes : I can cast from a List < A > to List < B > by doing this : This would generate a warning , but it works . However , I read that this is not recommended . Is it true in that case ? If I know it 's returning me a List < B > , why making this cast is such a bad practice ? Please note that I want to know why , in this case , this is a bad practice , not why there is a warning . And `` it 's a bad practice because it generates a warning '' is not a good answer ."
"Which of these is more performant , or ( if equivalent ) which one reads better ? I 'm trying to match everything inside a pair of parentheses.To me , the second reads better but uses the possibly confusing reluctant quantifier , and I 'm unsure if that causes a performance loss.EDITDo n't miss the answer which shows this is even better :"
In RandomAccess marker interface description it is written : In collection class synchronisedList method there is a check for RandomAccess & if success create SynchronizedRandomAccessList object but their also no details regarding algorithm . When does this algorithm apply and where ( is it a native code ) ?
"I 'm working on a project using rxjava1 and I have an Observable chain that occasionally will contain thousands of observables merged or concatted together . When this happens a StackOverflow exception will occur and we will get something like this : And the stacktrace will continue for hundreds of lines . The only related post I 've seen about this is this issue in github : https : //github.com/ReactiveX/RxJava/issues/3035 . But the proposed solution of adding observables to a list is something we have used and does n't work.What can I do to prevent these StackOverflow exceptions ? Do I need to do some sort of throttling or backpressuring ? Here is an example of what the current code looks like and is causing stackoverflows : I 've tried running everything in the Schedulers.computation ( ) scheduler except for network requests , those are being run in Schedulers.io ( ) schedulers and I am still getting stackoverflows :"
"I have a class contains 10 methods which are doing almost the same things apart from one key event . Two examples are given below : As you can see from the above methods , they are similar apart from calling different methods provided by requestBuilder . The rest 8 are similar too . There is a lot duplicated code here . I feel there is a better way to implement this , but don ’ t know how . Any ideas and suggestions are appreciated . Thanks , Sarah"
I 'm reading HTTP request from socket input streamIt 's working but findbugs gives the following bug : Dereference of the result of readLine ( ) without nullcheck . Request ends with `` '' not eof . So how can I check null value here ?
I know that java compiler can actually reorder code instructions . But can java reorder function calls ? For example :
Question : Is it possible to access elements annotated with a @ Target ( ElementType.TYPE_USE ) annotation via an annotation processor ? Is it possible to access the annotated type bounds via an annotation processor ? Links to related documentation I missed are highly appreciated.Context : The annotation : An example class : The processor : Compiling the above SomeClass with Processor on the classpath will show the `` Intialized '' message but the process ( ... ) method is never invoked.Adding another annotation to the processor with @ Target ( ElementType.PARAMETER ) works fine when the annotation is present on a method parameter . If the method parameter is annotated with @ TypeUseAnno the process will again ignore the element .
"This prints Number Class Type.I understand the rules of wrapper class method overloading : If you are passing a primitive data type as an argument to the methodcall , the compiler first checks for a method definition which takes thesame data type as an argument.If such a method does not exist , then it checks for a methoddefinition which takes a larger-sized primitive data type than the passeddata type . I.e. , it tries to perform auto-widening conversion of thepassed data type.If auto-widening conversion is not possible , then it checks for amethod definition which takes the corresponding wrapper class type as anargument . I.e. , it tries to perform auto-boxing conversion.If such a method does not exist , then it checks for a method whichtakes the super class type ( Number or Object type ) as an argument.If such a method also does not exist , then the compiler gives acompile-time error.According to rule 1 , it should print Integer Class Type . What am I missing here ?"
"I want to compile my code down to Java version 1.0.I managed to compile down to 1.1 : But the target option does not seem to accept 1.0 : How do I target JDK 1.0 ? I want my .class and .jar file to work as many systems as possible , including very old ones , including JDK 1.0 . ( I do n't have access to a system running JDK 1.0 . ) What I 've tried so far : Compiling with ecj-3.0.2.jar : It does n't support -target 1.0 , the minimum is -target 1.1.Compiling with JDK 1.0 : I could n't run it , it was n't released for Linux.Compiling with JDK 1.1 : I could n't run it , it was n't released for Linux.Compiling with JDK 1.2 : The Linux i386 javac binary does n't work , it 's giving me Segmentation fault.Compiling with JDK 1.3 : javac : invalid target release : 1.0.Compiling with JDK 1.4 : javac : invalid target release : 1.0.Compiling with JDK 1.5 : javac : invalid target release : 1.0 . This is the first JDK with Linux amd64 binaries.Compiling with JDK 1.6 : javac : invalid target release : 1.0.Compiling with JDK 1.7 : javac : invalid target release : 1.0.Compiling with JDK 1.8 : javac : invalid target release : 1.0 . ( I got this error first , when I asked the question . ) The reason why I believe that -target 1.0 may work is this answer : https : //stackoverflow.com/a/26148408"
"I found cache mechanism is improved in jdk 1.6 or above jdk versions.In jdk 1.5 the cache array in Integer is a fixed one , seeIn jdk 1.6 or above version , an method named getAndRemoveCacheProperties and an IntegerCache.high property have been added to Integer class , like , // value of java.lang.Integer.IntegerCache.high property ( obtained during VM init ) With this change , it is allowed to configure a highest value for cache and to use a new cache range . ( -128 < = cachedValue < = highestValue ) . *Here are my questions : *Q # 1 Why the cache range is using [ -128 ~ 127 ] in jdk 1.5 or default cache of jdk 1.6 or above version ? Is it just to support bytes and char '\u0000'~ 'u007f ' ? Q # 2 What is the advantage to specify a high value for cache range in jdk 1.6 or above version ? What kind of appilication or sceen is suitable for us to do so ? Please help me out with these questions . Thank you very much in advance.Below is the Source code for IntegerCache and valueOf ( int i ) in Integer class . It just for referance.jdk 1.5 jdk 1.6"
I 'm following the spring tutorial.In section `` 3.2 . Add some classes for business logic '' an interface ProductManager is created : Then a SimpleProductManager implementation class is created : The implementation class adds an extra method setProducts ( ) . Should the interface ProductManager not also have a setProducts method to allow classes which use setProducts to instantiate SimpleProductManager polymorphically . Currently this is not possible -
"My question may be basic , but I am wondering how the pipe operator works in the following contexts in Android : We can set multiple input types in layout : We can set multiple flags to an intent as follows : Also we can set some properties as follows : There are multiple instances where we can see such examples in Android.So my question is , does the | operator act like the bitwise OR operator or does it just concat the results or something else ? If it acts like the bitwise OR operator , then how does it make the expected result correct ? Can anybody enlighten me on this ?"
"We have a class in our codebase currently that uses the synchronized keyword at the method level to ensure data consistency in multithreaded operations . It looks something like this : The nice thing about this is that anyone using the class gets the synchronization for free . When you create an instance of Foo , you do n't have to remember to access it inside of a synchronized block or anything like that.Unfortunately , it seems that synchronization at the method level is n't going to cut it anymore . Instead we 're going to have to start synchronizing on Foo itself . I do n't think anything like java.util.concurrent.AtomicReference is going to cut it either . I want to make sure no one else touches an instance of Foo while a particular ( and possibly somewhat lengthy ) operation is going on . So now we 're going to have blocks like this in the code : So the main thing I 'm worried about is that a few developers and I share this code . Foo objects are fairly ubiquitous . Since we 're not getting the synchronization for free any more at the method level , we must ALWAYS remember to access a Foo object within a synchronized block.So my question is , is there any mechanism ( built-in or third party ) in Java to allow me to generate warnings or errors at compile-time if an instance of Foo is accessed outside of a synchronized block ? Ideally it would be something I can either do to the class declaration ( made up example below ) : Or something I could do when I declare instances of Foo ( made up example below ) : I know if I really wanted to I could probably write a custom FindBugs or PMD rule to do this , but I was hoping something like this already existed.So I ask you , SO community , if you were in this situation , how would you try to ensure that Foo objects are only ever accessed and modified inside synchronized blocks ?"
I 'm examining a source code written by someone else . I 've encountered something like this : What does this expression object._ ( `` a string here '' ) mean ?
"Looking at the JDK source code for LinkedHashMap , I noticed that this class is declared as : why the redundant `` implements Map < K , V > '' ( since HashMap already implements Map ) ? I can not imagine this is a typo ... Thanks ."
"This I read from the threads : :shared description : By default , variables are private to each thread , and each newly created thread gets a private copy of each existing variable . This module allows you to share variables across different threads ... ( more ) Let 's say I have a shared variable like this : This means the variable exists only once for all the threads I create.Now about atomicity and visibility : If thread_A assigns a new value let 's say 11 : Is it guaranteed that thread_B ( and all the other threads I might have created ) will see the value 11 ? And is the assignment performed atomically ? Or do we have like in Java first to acquire a lock and then do the assignment and to release the lock . And only threads using the same lock are guaranteed to see the updated value ? Or this behaves like volatile primitive variables in Java ?"
"I have these entities : Now , this statement inside Room ... ... will cause that entire Player entity to be fetched from the database . However , I just need its primary key , id , which it should already have ( otherwise how can it fetch the data ? ) .How can I access the lazy Player proxy 's id without triggering database access ?"
"While investigating a stack trace discrepancy when composing another answer , I came across a behavior I do not understand . Consider the following test program ( this is as far down as I could narrow it ) : Lines 11 and 13 are labelled in the above snippet and it can be run on ideone . The output of that program is : My question is : Why is line 11 in the stack trace for the second and third test cases ? The difference between the three test cases there are the declared types of a and b.Line 11 ( the class declaration line ) is only present under the following conditions : If Test implements an interface , andIf the exception is thrown from the interface method , andIf the interface takes a type parameter , andIf the class declaration 's type parameter contains extends Test < T > ( line 11 is not included if it is declared as class Test < T > ) , andIf the method is called on the TestInterface type rather than the Test type.Noting that : It is definitely my exception being thrown ( message and stack trace ) .No other exceptions are thrown if I do not throw mine.I have reproduced this with the Oracle JDK 1.7 , and 1.8 on Windows , and 1.8 on Ideone . However , 1.7 includes a stack trace element on line 1 instead of 11 ( which is doubly weird ) .What is happening here ? How is that line ending up in the stack trace and why does it not appear if both objects are declared as Test ? Here is the original program that prompted this , where line 55 of java.lang.Enum is present if a is declared as Comparable but not present when it is declared as Enum . Line 55 is the declaration of Enum in the JDK source , line 180 is an explicitly thrown ClassCastException ."
"Part of a Java program I 'm making asks the user their home country . Another part uses a switch statement , and I get an error . The error is : The operator || is undefined for the argument type ( s ) java.lang.String , java.lang.String . Here 's the method where the problem occurs : How does one use & & and || in a Java switch statement ?"
"I 'm using ph-schematron , a Java library that validates XML documents via ISO Schematron : This library provides 2 ways of XML document validation : Validation via XSLTValidation via Pure SchematronI would love to use the second type , but my Schematron files contain XSLT functions so we MUST use the validation using XSLT and not the pure one.I have a validation method that has two input paramters : The XSLT representation of the schematron fileThe XML document to validateNow my XSLT file contains lines like this : And the doc function looks for a folder called 'include ' in the home directory of my project instead of the folder relative to the XSLT document ( which would be more logic ) .Now I got exceptions like : How can I force the doc function to look at the include folder in the same directory as the XSLT file and not in the root of my Java Project ?"
"I am wondering about JDK9 modules . Say you have the following 3 packages : Classes in package product.impl_a and product.impl_b can only be accessed by classes in package product . The user should only use classes from product package . You can imagine that passing certain flags or properties will decide whether impl_a or impl_b will be used , internally.In JDK8- , you have to make these classes inside impl_a and impl_b public . This kinda sucks , because users can be tricked that they can use these classes . It 's perfectly valid and allowed.How can JDK9 help here ? Will we declare a module for product.impl_a and another one for product.impl_b and declare that the exported classes are only to be accessed by a third module product , which will depend on the two modules product.impl_a and product.impl_b ? In addition , it will be effectively impossible to declare a new module which will depend on product.impl_a or product.impl_b ? Can other modules only depend on module product ?"
I know that you can change the position of a circle in an animation like this ( see also here ) : But is there also a possibility ( this means a Property ) to change the points of a polygon in an animation ? And if not : Which other possibilities do I have to morph a polygon in an animation using JavaFX ?
What classes do you use to make string placeholders work ?
"Possible Duplicate : intern ( ) behaving differently in Java 6 and Java 7 While doing example for this questionI noticed a strange behaviour of intern ( ) method when I call intern ( ) method on String thereafter I can use == operator for the Original String.JavaDoc of intern ( ) method : Returns a canonical representation for the string object . A pool of strings , initially empty , is maintained privately by the class String . When the intern method is invoked , if the pool already contains a string equal to this String object as determined by the equals ( Object ) method , then the string from the pool is returned . Otherwise , this String object is added to the pool and a reference to this String object is returned . It follows that for any two strings s and t , s.intern ( ) == t.intern ( ) is true if and only if s.equals ( t ) is true . Above Javadoc does not say that the orginal string gets changed . So why this program prints okay when test is the input ."
"I solve algorithmic problems on codeforces and I tried pushing the same solution using java 7 and java 8 and to my surprise using java 8 I got much worse solution.On the last test : Java 7 : time : 373 ms. , memory : 112 KBjava 8 : time : 623 ms. , memory : 3664 KBMy codeWhy is that ?"
"I have some text encrypted and stored in a db using PBE AES_256 . This was initially done using java 1.8.0_65 . After upgrading to latest java , I can no longer decrypt these fields . I have pinpointed the incompatibility to 1.8.0_71 . The release notes state the following : Problem with PBE algorithms using AES crypto corrected An error was corrected for PBE using 256-bit AES ciphers such that the derived key may be different and not equivalent to keys previously derived from the same password . JDK-8138589 ( not public ) So I assume I need to migrate those field values 'manually ' , by decrypting with the old version , storing the plain value and subsequently re-encrypting with the current version . Is there a better way to do it or am I perhaps missing something regarding this incompatibility ? Here is part of the code that is used for encryption : SolutionI was able to decrypt the existing values by doing some reflection magic on my cipher and re-initializing it . Here is the code if anyone is interested :"
"In javax.annotation.processing package there is a interface Processor in which there is a function : The Java API AbstractProcessor implements above interface . Now I created my own processor class : My questions : The API doc tells me the annotations in the process function are the the annotation types requested to be processedThen , why is it with type TypeElement not java.lang.annotation.Annotation ? I get confused by this because I am not sure whether the annotations actually mean the elements that being annotated or the real annotations annotating elements.Because of my 1st question above , how can I get each annotation 's class from the TypeElement ?"
"I 'm writing a program that displays flight information as seen bellow : The problem I have is when using the method : It does n't execute for some reason when normally running , but when I step though the program using the debugger everything executes fine and I get a meaningful output ( not very well formatted , but something I can work with ) , why is this happening ? The output should look like this : I get this when I just run it normally : and this when I step though ( or run on debug ) : the stepping though part is what I want to be outputted ( I 'll work on the formatting later ) eddit : I 've added a bunch of outputs on the error stream and here is the output when I run it ... for some reason it stops in the `` hasAPath '' method : at this point it should return out and then check hasAPath for the next flight which would be Boston and Toronto , which would then check all Bostons outgoign flights to see if their airports have a connection with toronto ... and so on"
I am in process of migrating a java project from weblogic 8.1 to weblogic 12c.As per oracle document i have converted below things.After all above changes did generate war file and deployed in weblogic 12c server which throws error like belowCode :
"Here is my sample code . The query is encoded to UTF-8 : After I run this example I get the following exception : char=324 means decoded ń from queryWhen I read stack trace I found jdk.incubator.http.Stream < T > this method in the class : In this method uri.getQuery ( ) is used which gives us the decoded query and causes the above exception.When I used uri.getRawQuery ( ) in debug mode ( which gave us the encoded query ) everything went fine.My question is : is that a bug or intentional usage ? If it is not a bug , how do I avoid the exception ?"
"How do I use Collectors in order to convert a list of DAOs , to a Map < String , List < Pojo > > daoList looks something like this : I want to groupBy 'team ' attribute and have a list for each team , as follows : Pojo looks like this : This is how I 'm trying to do that , obviously the wrong way :"
"I am reading an article about the Java Volatile keyword , got some questions . click hereThe udpate ( ) method writes three variables , of which only days is volatile.The full volatile visibility guarantee means , that when a value is written to days , then all variables visible to the thread are also written to main memory . That means , that when a value is written to days , the values of years and months are also written to main memory.So , what does `` all variables visible to the thread '' mean ? Does it means all variables in thread 's stacks？And what does `` visible to the thread '' mean ? How can I know does months and years visible to the thread？"
"Why ismore strict then This is a follow up on Why is lambda return type not checked at compile time.I found using the method withX ( ) likeproduces the wanted compile time error : The type of getLength ( ) from the type BuilderExample.MyInterface is long , this is incompatible with the descriptor 's return type : Stringwhile using the method with ( ) does not.full example : javac SO58376589.javaExtended ExampleThe following example shows the different behaviour of method and type parameter boiled down to a Supplier . In addition it shows the difference to a Consumer behaviour for a type parameter . And it shows it does not make a difference wether it is a Consumer or Supplier for a method parameter ."
"I 'm trying to understand add operation of ArrayList Class in Java from here . Here is a portion of code : Steps for the elements insertion are : verify if it does exist enough space before inserting a new element by calling ensureCapacityInternal , in case there is no enough space we call grow operation to increase elementData capacity . My problem is that I ca n't see a case where newCapacity - minCapacity < 0 condition in grow operation will satisfied . Can you explain to me the utility of this condition or give an example where this condition would be satisfied ?"
"Consider a Dagger module : Context is an object may be connected to e.g . an HTTP sessionthat can not be known at startup , when one would normally create agraph : Given that Module is sufficiently long , it would seem to makesense to first create a graph for Module : and then , on processing a particular request , to create a uniquegraph that makes the graph complete : However , .plus ( ) seems to assume that the inherited graph is complete : Have I misunderstood what .plus ( ) does or is this a limitation inDagger ? Is there some other straightforward way to introduce theuser late into the graph ? ( It would be annoying if each providein Module would have to look up the user from a threadlocal orsome such . )"
"I have an abstract class called sessions . Lectures and tutorials extend sessions . Then I have a class called enrollment which holds a list of sessions ( Lectures & tutorials ) . How can I loop through the session list in Enrolment and return a list of Lectures only from the session list ? My next question is should I instead store 2 lists . One list of Lectures and one list of Tutorials , instead of 1 session list ? This is because the sessions list is useless to me and I have to loop through it each time to get information about lectures and tutorials . Is there a way I am missing to get all the lectures objects ? I am new to java ."
"My standard AppEngine application needs to perform changes in a Google Sheet documents ( among others ) .To achieve this , I need to obtain a credential for service account , and somehow configure that it should act in behalf of a user.This method allows gives me default service account credentials : but it does not work in behalf of a user.Following code is similar , uses other ( non-default ) service account , but still no impersonation happens : For impersonation , Google Docs ( and many SO advices ) mentions how to do it with use of PKCS12 file ; however , that file can only be read as PrivateKey on installed application and not on AppEngine.Is there any way to obtain impersonated credential for java application running in AppEngine ? Or , is there a trick to read from a File on AppEngine ? Note that , for all service accounts that I tried , I configured them with role Owner and with DwD ( Domain-wide delegation ) . Is there anything else to configure ?"
i try to android 3.0. i upgrade my android project to android studio 3.0 after that i cant run my project and i have this error . i use MultiDex and use java 8. this is my build.gradle and this is my compile error
"Looking at the example above , it seems the main point of generics is to enforce type on a collection . So , instead of having an array of `` Objects '' , which need to be cast to a String at the programmer 's discretion , I enforce the type `` String '' on the collection in the ArrayList . This is new to me but I just want to check that I 'm understanding it correctly . Is this interpretation correct ?"
"I have the following class : I want to change it to the following definition : Is this change binary compatible ? I.e. , will code that is compiled against the old version of the class work with the new version without reocmpilation ? I know that I need to change SomePrivateSubclassOfFoo , this is ok . I also know that this change will trigger warnings about raw types when old client code is compiled , this is also ok for me . I just want to make sure that old client code does not need to be recompiled.From my understanding , this should be ok because the erasure of T is Foo , and thus the signature of doSomething in the byte code is the same as before . If I look at the internal type signatures printed by javap -s , I indeed see this confirmed ( although the `` non-internal '' type signatures printed without -s do differ ) .I also did test this , and it worked for me.However , the Java API Compliance Checker tells me that the two versions are not binary compatible.So what is correct ? Does the JLS guarantee binary compatibility here , or was I just lucky in my tests ? ( Why could this happen ? )"
"So I have a random question when coding the image processing function that involves time complexity . The following is my original snippet of code : And after coming out with that code , I was wondering whether it would be faster not to create 4 temporary variables for floor and ceiling values but , instead , calculate them directly in array indexing . So I modified it this way : I was expecting the later to be faster ( because you do n't have to write to a temporary variable and then access it ) but it turned out that the later is , at least , 2.5 times slower than the former code . Test case used is 3x zoom of 1024x768 img.former code : Time used : 812later code : Time used : 2140So what is cause of the time difference ?"
"I was trying to parse a date string using jodatime with a leading '+ ' before the yyyy part . I expected an error to be thrown , but it actually did not throw an error . I got outputs that do n't make any sense instead : Can anyone explain why this is happening ? I expect either an exception , which means '+ ' sign is disallowed , or it should interpret +2013 as simply 2013 , which is what it seems to do in the last case . But what is the deal with 20130 in case 2 and 3 , and month = 10 in case 2 ?"
"Starting with Java 8 so need a bit of time to get used to it . It 's a classical problem , I 've an array of objects that I want to transform.Before Java8 the ideal code would be ( no null pointers ) : What is the best version in Java8 ?"
I 'm battling to understand why this is possible . I 'm a java newbie and do n't understand how you can have a collection of any type ( lists or sets ) be of type Example . I 'm battling to understand both the recursive nature of this as well as why this is used .
"So , I have a root process ( running as root ) , and I want it to load another process with a non-root uid.At the moment , I 'm calling seteuid , and setegid , then resettting to root after the process has been created . I found that the process still loads with a uid of root . What should I be using to do this ? Java Code ( JNA ) :"
"In the function below , what can I use to replace < typedefinition > to make the program print `` O noes ! `` ?"
I think that question is pretty straight . but here is an examples.Example below is OK . I can take rounding and no truncating was done here.Output : And now number out of range of long : Output : This one troubles me . I can not continue work with completely different number . I would rather get an error or an exception.Is there any way to detect this in Java ?
"I receive a AbstractMethodError when invoking a method that , I think , should have a default implementation in the target instance.I create a functional interface in three parameters but also derive from java.util.function.Function and provide a default implementation of Function # apply ( .. ) . I then create an instance of my interface using a 3-parameter lambda expression . Both the 3-argument method and Function # apply ( .. ) work just fine in the created instance.When I pass the created instance to a method expecting my interface , I can invoke Function # apply ( .. ) from within the method and it works fine.But when I pass the instance to a method that is expecting a Function , I receive the AbstractMethodError when I try to invoke Function # apply ( .. ) .It seems I am missing an understanding of how and when default methods are bound to an instance . What am I doing incorrectly ? To demonstrate :"
"I 'm making application that requires to get data from Facebook.To avoid duplicating code I decided to create a class for GraphRequest . To call the class I useThe problem is GraphApiRequest method always returns object=null and only after that executes request . What should I change to get actual object on call ? EDIT : Thanks to This answerSo I found a solution to get object on call , but it 's not perfect option ( maybe even wrong , since I am not very experienced in programming , but it works for me ) When I am calling request It get 's executed after some timeTo get actual object on call I use.It is still not working if I call for a JSONObject right after creating constructor . I am looking forward to improve this code , If you will give me some advice ."
"I 've done a lot of searching through generic type questions and just have n't found anything that has helped me figure out what I am doing wrong here . I have an interface as follows : Now , the next step is making a class that implements this interface . This particular class is going to use an insertion sort and I need to keep the ArrayList type ' E ' generic , so I tried all sorts of things and ended up with the following : My problem is that when I try to do this for the parameterthe compiler gripes at me about implementing a supertype method.I would really appreciate any direction of help.Thanks ! **I ca n't mark this as answered yet , but it is . I think my problem had been that when I hadI did not have the generic typing listed after the class name . **"
"I 'm preparing myself to a Java exam , and I 'm reading `` OCA Java SE 8 Programmer Study Guide ( Exam 1Z0-808 ) '' . In operators section I found this sentence : Shift Operators : A shift operator takes two operands whose type must be convertible to an integer primitive.I felt odd to me so I tested it with long : and it worked , no compiler errors and result is correct . Does the book has a bug or am I misunderstanding the quote from the book ?"
"Just removed the following code from a colleague 's code : I just want to make sure I did the right thing . Why would someone intentionally write this ? This is exactly what the compiler inserts by default is n't it ? Edit : To clarify : that 's the only constructor.Also , this is not a trick question . The guy who wrote this is more senior than me , so I want to make sure I covered all possibilities before I talk to him about this ."
"I recently discovered the `` assert '' statement in Java , and have been littering my software with them as I debug it . My initial instinct was to avoid making control flow statements just to handle assert statements , but then I realized that these control statements would probably be removed during a production build anyway , since their block would be empty . My impression is that they would be eliminated by the JIT compiler.Unfortunately , I am working off of vague recollections of how the JIT compiler works , and can not find appropriate documentation . The best I could find was this brief outline of the optimization process from IBM.Before I get into the habit of implementing assertion-based tests , I wanted to know if there are best-practices to minimize their impact on performance . I 'd hate to implement a bunch of tests only to find that their collective effect is to substantially decrease performance , even if individually their impact is negligible.Can any of you tell me whether the following lines would be a drag on performance on a production build ( with `` assert '' disabled , as is the default ) ? For a bonus , what if I were something more complicated , including short-lived objects that are only used for the assertions ? Or a method whose only effect is to call `` assert '' ? Thanks in advance ! Relevant excerpts from Oracle 's documentation of the `` assert '' statement : These discuss how to remove assert from the class file , which is not exactly what I 'm concerned about . Removing all Trace of Assertions from Class Files Programmers developing applications for resource-constrained devices may wish to strip assertions out of class files entirely . While this makes it impossible to enable assertions in the field , it also reduces class file size , possibly leading to improved class loading performance . In the absence of a high quality JIT , it could lead to decreased footprint and improved runtime performance . The assertion facility offers no direct support for stripping assertions out of class files . The assert statement may , however , be used in conjunction with the `` conditional compilation '' idiom described in the Java Language Specification , enabling the compiler to eliminate all traces of these asserts from the class files that it generates : static final boolean asserts = ... ; // false to eliminate asserts if ( asserts ) assert ; and from the FAQ section : Why not provide a compiler flag to completely eliminate assertions from object files ? It is a firm requirement that it be possible to enable assertions in the field , for enhanced serviceability . It would have been possible to also permit developers to eliminate assertions from object files at compile time . Assertions can contain side effects , though they should not , and such a flag could therefore alter the behavior of a program in significant ways . It is viewed as good thing that there is only one semantics associated with each valid Java program . Also , we want to encourage users to leave asserts in object files so they can be enabled in the field . Finally , the spec demands that assertions behave as if enabled when a class runs before it is initialized . It would be impossible to offer these semantics if assertions were stripped from the class file . Note , however , that the standard `` conditional compilation idiom '' described in the Java Language Specification can be used to achieve this effect for developers who really want it ."
"I have two example class files , one from an example Java app and one from an example C app ( compiled to bytecode using LLJVM ) .Looking at their outputs , I can see through javap -c -p that for initializing the ( static ) fields , the Java app shows the following block : Which is basically the < clinit > method , if I understand . Or detected as such by a VM I am using.The C-app however has this : What is this ? My VM does not detect it.Sample class files.THe first one is from a Java App that prints a message and waits 20s , repeat.The second is a C app that does roughly the same.http : //www.fast-files.com/getfile.aspx ? file=156962http : //www.fast-files.com/getfile.aspx ? file=156961Apologies for doing it this way - I do not immediately know how to attach files or efficiently show .class files ."
"I can add abstract keyword inside static initialization block , but I ca n't add abstract method as So I can only add abstract class inside static block , as follows : But it does n't sound realistic to add classes hierarchy inside static block which will be in lower access level than private , is there other usage of abstract inside a static block ?"
"I want the GUI to change the title of a button from `` Go '' to `` Working ... '' before an object is instantiated and actually does the work . When finished , I want the title of the button to switch back to `` Go . `` Here 's the code : What actually happens in practise is name is instantiated , methodName gets called , and THEN the button gets updated on the screen , despite the fact that I have told the VM to change the button title first.My working theory is , given I have not made this program threaded , this has something to do with operational priority , or internal threading of the JVM , or something ... Any suggestions ?"
"I need to declare an instance of Map.class , but the Map is typed ... So I need something like this : This line causes a compile error . What is the clean way of expressing this ?"
I have seen examples on the site that deal with generics with multiple parameters but none that work for my situation.So here is the deal : I am trying to learn Java generics and have decided to create a simple binary array search utility function . I am testing it out using custom objects and integers . To get feedback on errors and warning I am using Eclipse . Here is what I have : So obviously I get the warnings for Raw types saying the generics should be parameterized . How can I do this correctly given that I have multiple parameters which both need to be the same type ? SOLUTIONHere is the working solution using generics with the correct parameter checks :
I have the following sealed interface ( Java 15 ) : This interface is implemented by 2 classes : Can someone tell me the difference between final and non-sealed ? final stops me from creating other sub-classes but what behavior does non-sealed apply to Duck ?
"The method of the Arrays class in its implementation navigates through the array argument a following the binarySearch algorithm and converts the elements of a into Comparable and invokes compareTo ( key ) until it either finds a match or runs out of possibilities . I 'm stumped by the implementation however , if it 's the case that the method will always cast the elements to Comparable , and furthermore will throw a ClassCastException if it encounters an element that does not implement Comparable , would it not be clearer for the API user that the method will take into account the comparator of the elements of the array only and not the comparator of the key , be more foolproof by preventing compilation where an invocation was made where the type of the array was not compatible with Comparable , and also execute more efficiently if the method were defined as ? What are the advantages to defining the first argument as an array of Object ? EDIT I only saw this after I posted the question and it had been answered but there is a related post here : Why does Arrays.sort take Object [ ] rather than Comparable [ ] ? where they state that if the method took the parameters ( Comparable [ ] , Object ) it would not be possible to pass an array of type Object [ ] to that method without `` reallocation '' which is also expensive ."
"This question is probably language-agnostic , but I 'll focus on the specified languages.While working with some legacy code , I often saw examples of the functions , which ( to my mind , obviously ) are doing too much work inside them . I 'm talking not about 5000 LoC monsters , but about functions , which implement prerequisity checks inside them.Here is a small example : Now , when this kind of function is called , the caller does n't have to worry about all that prerequisities to be fulfilled and one can simply say : Now - how should one deal with the following problem ? Like , generally speaking - should this function only do what it is asked for and move the `` prerequisity checks '' to the caller side : Or - should it simply throw exceptions per every prerequisity mismatch ? I 'm not sure this problem can be generalized , but still I want to here your thoughts about this - probably there is something I can rethink.If you have alternative solutions , feel free to tell me about them : ) Thank you ."
"I 'm having a problem with RxJava , Retrofit and Multi-Window mode ... I 'm calling our own api with Retrofit inside an Activity ( the actual code is a little bit more complex than this ) : When the app is in `` normal '' mode ( full-screen ) everything runs fine ... I can put the app in bg , put it back to foreground and the api call method is called again ( it lies in the onResume method - kind of ) and the UI is drawn without problems.When I activate the Multi-Window mode , instead , onResume is called , the api method is called with success but the subscribe ( ) method is never reached.The stacktrace for this situation is : The app does n't crash but the UI stays in a `` placeholder '' state and the loading ProgressBar goes forever.EDIT : I have the same code structure in other activities . The issue does n't appear nowhere else though ."
"I 've read a lot of posts and tried many solutions , but the common point of all posts was that they were all outdated and at least I could n't find a solution that would work on newer versions of Android.Post 1 , Result : intent.getExtras ( ) .getInt ( `` simId '' , -1 ) always returns -1Post 2 , Result : intent.getExtras ( ) .getInt ( `` slot '' , -1 ) always returns -1Post 3 , Result : Logs : it displays the same logs with the same value 0 for first SimCard and second SimCard.I 've also tried other similar posts . None worked on new versions of android ! Is there another solution that works on newer versions of Android ( 7.0 or higher ) ?"
"I wrote a simple Util method to convert a String in Java to util.Date . What I am not able to figure out is why the method works for the first input , and fails for the second one , given that the inputs are identical : Code : Output : Logically , the output should 've been Sat Feb 04 13:17:00 CET 2012 going by the first output . Why is the ParseException being thrown ? EDIT : The following two lines work correctly : Output : But the exception happens when I try to parse both date and time together ."
Would it be considered worsening the future readability of the code if I used them throughout the code ? For example using : so I can use this code
"For example : When e.printStackTrace ( ) executes , are we guaranteed to own the object 's monitor ? The reference says that when wait ( ) returns after a notify ( ) or notifyAll ( ) call , the thread waits until it acquires the object 's monitor . But what about the case when wait ( ) throws an exception ?"
Consider the following codeWhen are these Strings created ? I assume the Strings will get created when an Exception occurs at run time . The string gets created at run time and is displayed . A peer of mine tells me that since these are constant Strings they will get created as soon as the Class loads . Is that correct ? When are the Strings garbage collected ? Are they garbage collected at all ? Assuming the same method may get called many times in the programs life time does it not make sense to just cache them ?
"In java , I use the function all the time . Is there an equivalent function in python ?"
"now i get some logs like below ( log-1 ) line 1010I think , the log should be like this ( log-2 ) I wannna know that why do i get log-1 , is it right ? If log-1 is right , then how can i write code to create an exception like that ? ps : I know that ClassA $ 1 is an anonymous class.ps : I get this log in a monkey test , and it 's vrey hard to reappearsomeone tell me : then the log will be like log-1but why the log did not point out the `` cast '' method line ? and i check the folder frameworks/base/core , no one call the method `` ? java.lang.Class.cast ( Object obj ) '' any ideas ?"
"I need to validate a user given String and validate that it is a valid Set , possibly a set that contains inner sets . Examples : This is the regex I am using ( broken up for readability ) : Currently the it accepts Sets with optional opening and closing brackets , but I need it to only accept if they are both there , and not if an inner set is missing a bracket . In my current implementation the 4th example is accepted as a valid set . How can I accomplish this ?"
"I am in the following situation ... I am used to being able to check out a Subversion server subproject into JBoss as an exploded war : in my case , I call a directory Blah.war , put it in C : \jboss-6.1.0.Final\server\default\deploy\Blah.war , and JBoss picks it right up.I 'm having trouble doing this with Git . The SVN repository I 'm pulling from is laid out as follows : If I check the entire project into the deploy/ folder , there wo n't be a .war directory at the top . Obviously , I ca n't check out make trunk/ into my deploy/ directory . I 've thought of using some kind of symbolic link , but ca n't see this working in Windows.Does anyone have any idea how to do this ? I 've been hearing good things about DVCS , but Git is useless to me if I ca n't handle the server development use case ."
"I am hoping to get some help debugging this problem.If I send the following JSON to my backend it works correctly : However , if I now send the following : I get the above error . In my backend code I have the following : And the API method signature looks like this : I believe the problem I am having is that the JSON can not be parsed to ZonedDateTime . Does anyone have advice as to either , ( 1 ) what time of json string format ZonedDateTime automatically accepts or ( 2 ) how to make a DTO to parse zoned date time ? Thanks !"
"Inspired by this question , I wrote the test : This program are printed in common case : First : I explain this behaviour is presence of the JIT-compiler . JIT-compiler cache value non volatile field for each thread after `` warmup '' . It right ? Second : If first right or not right , how can I verify this ? P.S . - I know about PrintAssebly-option.Update : enviroment : Windows 7 64bit , JDK 1.7.0_40-b43 ( Hot Spot ) ."
"Suppose I have an interface : Now , suppose I have created an instance of this interface somewhere in my main class , How can I go about printing this function , in plain text ? So , something a bit like this : Running a .toString on this Function prints something like Main $ 1 @ 6d06d69c . How can I go about getting the java representation of this interface ?"
"I 'm a beginner in Java programming . Currently I 'm reading about Inheritance and the equals method at this page.I understand the explanations until this point : Compare the classes of this and otherObject . If the semantics of equals can change in subclasses , use the getClass test : If the same semantics holds for all subclasses , you can use an instanceof test : I do n't understand what 'semantics of equals ' mean . Can someone share scenarios where we use getClass ( ) and instanceof please ? Thank you for reading ."
"So I got a classMenuBarController is an interface whose implementation is set via setController after the MenuBar ist created . The code throws a NullpointerException at menu.add ( createMenuItem ( `` Report '' , controller : :writeReport ) ) which can only be caused by controller : :writeReport . If I replace this with a lambda like ( ) - > controller.writeReport ( ) no NPE is thrown.1 . Why does controller : :writeReport throw an NPE ? 2 . Why does n't the lambda throw an NPE ? The funny part is : If I replace the lambda with the method reference used before after I ran it once with the lambda , no more NPEs are thrown.Anyone got any idea why that could be ? Some javac / eclipse weirdness ?"
"I 've been experimenting with Python as a begninner for the past few hours . I wrote a recursive function , that returns recurse ( x ) as x ! in Python and in Java , to compare the two . The two pieces of code are identical , but for some reason , the Python one works , whereas the Java one does not . In Python , I wrote : Where variable num multiplies itself by num-1 until it reaches 0 , and outputs the result . In Java , the code is very similar , only longer : } If I enter 25 , the Python Code returns 1.5511x10E25 , which is the correct answer , but the Java code returns 2,076,180,480 , which is not the correct answer , and I 'm not sure why . Both codes go about the same process : Check if num is zeroIf num is not zeronum = num multiplied by the recursion of num - 1If num is zeroReturn 1 , ending that stack of recurse calls , and causing every returned num to begin multiplyingreturn numThere are no brackets in python ; I thought that somehow changed things , so I removed brackets from the Java code , but it did n't change . Changing the boolean ( num ! = 0 ) to ( num > 0 ) did n't change anything either . Adding an if statement to the else provided more context , but the value was still the same.Printing the values of num at every point gives an idea of how the function goes wrong : Python : A steady increase . In the Java : Not a steady increase . In fact , num is returning negative numbers , as though the function is returning negative numbers , even though num should n't get be getting below zero . Both Python and Java codes are going about the same procedure , yet they are returning wildly different values . Why is this happening ?"
"Why the order of declaration important for Java enums , I mean why does this give ( compile time ) errorsbut this one is fine :"
below is my code where Im trying to check id id =101 and getting the name= Pushkar assosiated with the id=101.But the code is not working as expected .
"I was trying to check that a String is a palindrome using StringBuilder and reverse ( ) . For a word with no symmetry like `` chan '' it correctly returns false , but it also returns false for genuine palindromes like `` madam '' .Code : Output : I am running Eclipse Neon with Java 8 ."
"I have this code : I know , it looks like it should be an enum , and it would be , but it needs to inherit from Person , an abstract class.My problem is : If I try to access the list of Guys , I 'm okay . But it I try to access any one Guy in particular , I have a problem : Guy gets loaded before Person . However , since Guy inherits Person , Person gets loaded , and tries to access TOM , but since Guy is already being loaded , it ca n't start to load again , and so we have a null reference . ( And ImmutableList does n't accept null , so we get an exception . ) So I know why this is happening , but I 'm not sure how to avoid it . I could move the List into the Guy class , but I 'll have more than one implementation of Person , and I 'd like to have a master list of all Persons in the Person class.It seems strange to me that it 's possible to load a static inner class without loading its containing class , but I guess it makes sense . Is there any way to solve this problem ?"
"Given a code sample from Oracle docs https : //docs.oracle.com/javase/8/docs/api/java/util/concurrent/locks/StampedLock.htmlAnd provided that all methods of class Point might be called from different threads : Why exactly do we not need fields x and y to be declared as volatile ? Is it guaranteed that the code executing the Point # moveIfAtOrigin method would always see the freshest changes to the x and y fields after acquiring StampedLock # readLock ? Is there any kind of memory barrier being established when we call StampedLock # writeLock , StampedLock # readLock ? Could anyone point to a quote from documentation regarding that ?"
I have this method : With these two variables : But I 'm getting found for addAll ( Stream ) filteredListIn.addAll ( Stream.of ( listRef ) ^ method Collection.addAll ( Collection ) is not applicable ( argument mismatch ; Stream can not be converted to Collection ) method List.addAll ( Collection ) is not applicableWhat is the problem and how can I solve this ? Is it possible it 's happening because I use external library for supporting streams under api 24 ?
I was wondering why is it not possible to call List < Number > not with List < Integer > even Integer is an extended class of the abstract class Number ? There is a logical error as I could call a Method with the parameter Number also with Integer . To solve it I could work with List < ? > or List < ? extends Number > ... so I do n't need the solution I want to know the exact reason.The only solution I could think of List is bind with Number as a new Type of Data Structure .
"So , follwoing some job interviews I wanted to write a small program to check that i++ really is non-atomic in java , and that one should , in practice , add some locking to protect it . Turns out you should , but this is not the question here.So I wrote this program here just to check it . The thing is , it hangs . It seems that the main thread is stuck on on t1.join ( ) line , even though both worker threads should finish because of the stop = true from previous line.I found that the hanging stops if : I add some printing inside the worker threads ( as in the comments ) , probably causing the worker threads to sometime give up CPUor If I mark the flag boolean stop as volatile , causing the write to immediatelybe seen by worker threads , orIf I mark the counter tas volatile ... for this I have no idea what causes the un-hanging.Can someone explain what 's going on ? why do I see the hang and why does it stop in those three cases ?"
"Java.Is there a difference in a way I initialize a variable : or Can the results be different ? Here I tried to do it with a very big floats , but looks like the loss of precision is the same.- > 2.0E9 2.0E9 true 2.0E9 2.0E9 trueAny difference with the doubles ?"
"Is using a String ( ) constructor as against string literal beneficial in any scenario ? Using string literals enable reuse of existing objects , so why do we need the public constructor ? Is there any real world use ? For eg. , both the literals point to the same object ."
I was using AtomicReference to implement AtomicInteger . However while in testing I notice even in single threaded environment the CAS operation got stuck once its value hit 128.. Am I doing something wrong or there is a caveat in AtomicReference ( may be related to CPU ) ? Here is my code :
Purpose is to reduce the number of variables so instead of making many variables I want to do something like this : Instead of
"OverviewUsing FlyingSaucer within a JavaFX application , to avoid WebView for various reasons : does n't provide direct API access to its scrollbars for synchronous behaviour ; bundles JavaScript , which is a huge bloat for my use case ; andfailed to run on Windows.FlyingSaucer uses Swing , which requires wrapping its XHTMLPanel ( a subclass of JPanel ) in a SwingNode to use alongside JavaFX . Everything works great , the application renders Markdown in real-time , and is responsive . Here 's a demo video of the application running on Linux.ProblemThe text rendering on Windows is blurry . When running in a JFrame , not wrapped by a SwingNode , but still part of the same application shown in the video , the quality of the text is flawless . The screen capture shows the application 's main window ( bottom ) , which includes the SwingNode along with the aforementioned JFrame ( top ) . You may have to zoom into the straight edge of the `` l '' or `` k '' to see why one is sharp and the other blurry : This only happens on Windows . When viewing the font on Windows through the system 's font preview program , the fonts are antialiased using LCD colours . The application uses grayscale . I suspect that if there is a way to force the rendering to use colour for antialiasing instead of grayscale , the problem may disappear . Then again , when running within its own JFrame , there is no problem and LCD colours are not used.CodeHere 's the code for the JFrame that has a perfect render : The code for the blurry SwingNode is a little more involved ( see full listing ) , but here are some relevant snippets ( note that HTMLPanel extends from XHTMLPanel only to suppress some undesired autoscrolling during updates ) : Minimal Working ExampleHere 's a fairly minimal self-contained example : Blurry capture from the minimal working example ; zooming in reveals letter edges are heavily antialiased rather than sharp contrasts : Using a JLabel also exhibits the same fuzzy render : AttemptsHere are most of the ways I 've tried to remove the blur.JavaOn the Java side , someone suggested to run the application using : None of the text rendering hints have helped.Setting the content of the SwingNode within SwingUtilities.invokeLater has no effect.JavaFXSomeone else mentioned that turning caching off helped , but that was for a JavaFX ScrollPane , not one within a SwingNode . It did n't work.The JScrollPane contained by the SwingNode has its alignment X and alignment Y set to 0.5 and 0.5 , respectively . Ensuring a half-pixel offset is recommended elsewhere . I can not imagine that setting the Scene to use StrokeType.INSIDE would make any difference , although I did try using a stroke width of 1 to no avail.FlyingSaucerFlyingSaucer has a number of configuration options . Various combinations of settings include : The xr.image . settings only affect images rendered by FlyingSaucer , rather than how the output from FlyingSaucer is rendered by JavaFX within the SwingNode.The CSS uses points for the font sizes.Researchhttps : //stackoverflow.com/a/26227562/59087 -- looks like a few solutions may be helpful.https : //bugs.openjdk.java.net/browse/JDK-8089499 -- does n't seem to apply because this is using SwingNode and JScrollPane.https : //stackoverflow.com/a/24124020/59087 -- probably not relevant because there is no XML scene builder in use.https : //www.cs.mcgill.ca/media/tech_reports/42_Lessons_Learned_in_Migrating_from_Swing_to_JavaFX_LzXl9Xv.pdf -- page 8 describes shifting by 0.5 pixels , but how ? https : //dlsc.com/2014/07/17/javafx-tip-9-do-not-mix-swing-javafx/ -- suggests not mixing JavaFX and Swing , but moving to pure Swing is n't an option : I 'd sooner rewrite the app in another language.Accepted as a bug against OpenJDK/JavaFX : https : //bugs.openjdk.java.net/browse/JDK-8252255JDK & JREUsing Bellsoft 's OpenJDK with JavaFX bundled . To my knowledge , the OpenJDK has had Freetype support for a while now . Also , the font looks great on Linux , so it 's probably not the JDK.ScreenThe following screen specifications exhibit the problem , but other people ( viewing on different monitors and resolutions , undoubtedly ) have mentioned the issue.15.6 '' 4:3 HD ( 1366x768 ) Full HD ( 1920x1080 ) Wide View Angle LED BacklightASUS n56vQuestionWhy does FlyingSaucer 's XHTMLPanel when wrapped within SwingNode become blurry on Windows , and yet displaying the same XHTMLPanel in a JFrame running in the same JavaFX application appears crisp ? How can the problem be fixed ? The problem involves SplitPane ."
"I have an XML file I want to generate an XSD schema from , using xmlbeans , specifically inst2xsd . I 'd like to package the script so it can be run via Maven.I could not find any documentation how to run inst2xsd when installing xmlbeans using Maven.This is my pom.xml so far : Installing this via mvn install works . Just for the reference - not important for the answer - I 'm building it via Docker , so I 'm using OpenJDK14 : Now how do I run the executable for inst2xsd after installing xmlbeans via Maven ?"
"I need some kind of service that will run a few tasks simultaneously and in an interval of 1 second for 1 minute.If one of the tasks fails , I want to stop the service and every task that ran with it with some kind of indicator that something went wrong , otherwise if after one minute everything went well the service will stop with an indicator that all went well.For example , i have 2 functions : Any ideas on how should I tackle this and make things as generic as possible ?"
May be simple question but i am confused which code is optimized ? and should i use ? what is the difference in internal process ?
"I have sort of a hard time understanding an implementation detail from java-9 ImmutableCollections.SetN ; specifically why is there a need to increase the inner array twice.Suppose you do this : More exactly I perfectly understand why this is done ( a double expansion ) in case of a HashMap - where you never ( almost ) want the load_factor to be one . A value of ! =1 improves search time as entries are better dispersed to buckets for example.But in case of an immutable Set - I ca n't really tell . Especially since the way an index of the internal array is chosen.Let me provide some details . First how the index is searched : pe is the actual value we put in the set . SALT is just 32 bits generated at start-up , once per JVM ( this is the actual randomization if you want ) . elements.length for our example is 8 ( 4 elements , but 8 here - double the size ) .This expression is like a negative-safe modulo operation . Notice that the same logical thing is done in HashMap for example ( ( n - 1 ) & hash ) when the bucket is chosen . So if elements.length is 8 for our case , then this expression will return any positive value that is less than 8 ( 0 , 1 , 2 , 3 , 4 , 5 , 6 , 7 ) .Now the rest of the method : Let 's break it down : This is good , it means that the current slot in the array is empty - we can put our value there.This is bad - slot is occupied and the already in place entry is equal to the one we want to put . Sets ca n't have duplicate elements - so an Exception is later thrown.This means that this slot is occupied ( hash collision ) , but elements are not equal . In a HashMap this entry would be put to the same bucket as a LinkedNode or TreeNode - but not the case here . So index is incremented and the next position is tried ( with the small caveat that it moves in a circular way when it reaches the last position ) .And here is the question : if nothing too fancy ( unless I 'm missing something ) is being done when searching the index , why is there a need to have an array twice as big ? Or why the function was not written like this :"
This piece of code compiles in Eclipse but not in javac : javac output : Which compiler is wrong and why ? ( Eclipse bug report and parts of discussion here )
"I 'm currently taking an intro to Java class and I 'd really like to improve but I 'm struggling to complete this assignment . The requirements for the assignment was toImplement a loop that allows the user to continue to play the game by typing yes.Keep track of the users : Wins , Losses and Games Played using incrementing variablesWhen the user no longer wishes to continue , print their results displaying the tracked variables : Wins , Losses and Games PlayedImplement an input validation loop to ensure the user enters correct input ( h , t , H , T ) I believe I 've done all but the last one , I 've tried numerous times to use do and while loops but the closest I 've gotten was the wrong input looping while the correct input would bypass all other if/while/else statements . If at all possible I 'd greatly appreciate someone taking a look at my code and explaining what I could do better , and how I could complete or approach the last requirement . Thank you ! I expect the program to require T/t or H/h in order to continue , and if the user inputs an incorrect letter or number it 'll ask them to input t or h ."
"I created java binding library via visual studio extension called Xamarin.GradleBinding . I added ru.rambler.android : swipe-layout:1.0.14 package and while using its SwipeLayout , it all works well . But unfortunately it did not created corresponding C # classes or anything like that . I tried adding package manually but still nothing.I checked the source on GitHub . SwipeLayout has a public void method reset ( ) without parameters : I try to call this method from c # with JNIEnv.Type and method are successfully found but calling This method crashes the app , it does not even goes into catch block.Tt must be cause of the _swiper.Handle first parameter . _swiper field is of type ViewGroup since SwipeLayout is derived from ViewGroup . I ca n't find how to get the pointer of the view to pass that method.while debugging , when I investigate the _swiper , it seems to be the correct instance of SwipeLayout"
"I do not need to change the implementation of the final method , I just want to change the Javadoc for it ."
"I 'm working on an encryption algorithm and I need to generate some information in Java ( a binary file ) to read in C++.I 'm not sure if the problem is how I create the binary file or how I read it , though I can perfectly read the information in Java.So I made a simple test . In Java I save the number 9 to a binary file , and then I try to read it in C++ , but it does not read a number.Can someone please tell me how I can do this ? The Java code : The C++ code : This is the output :"
"When i was reviewing Builder pattern in Josh 's Bloch book , i came up with simpler implementation , but i 'm not sure whether it 's proper . For example : Is it can still be considered as a Builder pattern or i missed something ? EDITWhat about this ?"
"Why does the following code : produces this result : should n't first part ( -- -- -- -- -- -- -- -- -- ) be excluded from the output ? Also , I understood that combiner in collect can potentially be called out of order so it is possible to have instead :76:77:78-:79:80:81 e.g . :63:64:65-:79:80:81 ? UPDATE ( after @ Holger response ) This is the tree generated using code he linked for this case :"
I came across something like This line is from the source of GWT . By digging into Java 's grammar I found it to be ( `` .new '' ) inner creator.But I did n't find any proper documentation about why exactly we need the inner creator.How does this differ from a normal object/instance creator ?
"The compareToIgnoreCase method of String Class is implemented using the method in the snippet below ( jdk1.8.0_45 ) . i . Why are both Character.toUpperCase ( char ) and Character.toLowerCase ( char ) used for comparison ? Would n't either of them suffice the purpose of comparison ? ii . Why was s1.toLowerCase ( ) .compare ( s2.toLowerCase ( ) ) not used to implement compareToIgnoreCase ? - I understand the same logic can be implemented in different ways . But , still I would like to know if there are specific reasons to choose one over the other ."
"I am receiving a MultipartFile Spring object from rest controller . I am trying to convert any inage file to JPG image but I just need the byte array to save it on mongoDbI found this code to do thatBut result as a false with not error , so ImageIO.write is not workingAlso I found this to do the same but using File object , I do n't want to create the file on directory , I just need the byte arrayTestingHow can I solve my problem ?"
I am fetching data from server and saving in room database and then from room showing it in recycler view.Data is perfectly saving in room database and showing in recycler view.Problem : When I am deleting some data from server database then its old copy that saved earlier still persists in room.What I want : I do n't want to show data deleted from server in recycler view.So how can I update room database based on server response.This is what I have done so far : UserDao.javaUser.javaUserRepository.javaMainActivity.javaSomeone please let me know how can I get desired result . Any help would be appreciated.THANKS
"Consider the following example : In the main method , I am calling test with a String and an ArrayList < Integer > object . Both are different things and assigning an ArrayList to String ( generally ) gives a compile error.But I am doing exactly that in the 3rd line of test and the program compiles and runs fine . First I thought that the type parameter T is replaced by a type that 's compatible with both String and ArrayList ( like Serializable ) . But the two println statements inside test print `` String '' and `` ArrayList '' as types of a and b respectively . My question is , if ais String and b is ArrayList at runtime , how can we assign a to b ."
"I was solving some exercises to understand better how inner classes in java work . I found one quite interesting exercise . The condition of the exercise is to make printName ( ) print `` sout '' instead of `` main '' with minimum changes . There is its code : We 've got an amusing situation - the two classes have is-A and has-A connections . It means that the anonymous inner class extends the outer class and also objects of the inner class have references to the objects of the outer class . If you run the code above , `` main '' will be printed . The child can not invoke getName ( ) of the parent through inheritance . But the child being inner class uses reference to parent ( outer class ) to access the method.The simplest way to solve this task is to change the access modifier of getName ( ) from private to anything else . So the child is able to use getName ( ) through inheritance and thanks to late binding `` sout '' will be printed.The another way to solve this task is to use super.getName ( ) . And I can not understand how it works . Can someone help me to understand this problem ? Thank you for trying )"
Try this piece of code - The output is - Why does System.out.println ( ) terminate at ASCII code zero ? I tried this in JCreator LE under Windows 7 .
"I 'm trying to improve startup performance of a Java web app in development environment . It uses jetty-maven-plugin and mvn jetty : run is used to start the app.I followed instructions at http : //www.eclipse.org/jetty/documentation/9.3.x/jetty-classloading.html to register this new CachingWebAppClassLoader.However , org.eclipse.jetty.webapp.WebAppClassLoader . * continued to show up in jvisualvm CPU sampler but not the CachingWebAppClassLoaderI verified that my registration of classloader is at least being discovered by supplying an invalid class name in which case ClassNotFoundException was thrown . I 'm guessing my configuration of classloader is being consumed but not being used or something like that . Any ideas ? In addition , please let me know if you are aware of any other variants of classloaders that could be used to improve performance ."
"I am creating a web application similar to quora/stackoverflow that allows users to perform CRUD operations on question bank ( question bank is very small , ~500 questions with maximum 5 answers per question ) along with search . How can I build a free flow search or auto suggestion functionality on question bank ? Tech Stack : Restful services for CRUD operations are exposed from Java EE ( spring boot ) based server hosted on tomcat.Frontend app is built using React and served from Node server.Database used is SQL Server.Question Bank Schema : Requirement : For my web application , I want to build a free flow search or auto suggestion functionality on question bank ( that searches existing questions in questionbank on fields like description , title , answer notes etc ) . This is to prevent duplicate questions from getting created in the question bank and to help users search similar questions . For ex . something similar to the image below ( snipped from Quora ) .Questions : Is elastic search a good fit for indexing or building a search functionality for such a small data set ? or , Should I build indexes using self created data structure like suffix tree in application server itself ? Are there some other quick to use recommended solutions for building free flow search functionality for such use-case ? Leads/pointers here are appreciated ."
"I have this class where I cache instances and clone them ( Data is mutable ) when I use them.I wonder if I can face a reordering issue with this.I 've had a look at this answer and JLS but I am still not confident.My thinking : The runtime can reorder the statement in constructor and publish the current DataWrapper instance ( put in the map ) before initializing the data object . A second thread reads the DataWrapper instance from map and sees null data field ( or partially constructed ) .Is this possible ? If yes , Is it only due to reference escape ? If not , could you please explain me how to reason about the happens-before consistency in simpler terms ? What If I did this : Is it still prone to the same issue ? Please note that I do n't mind if there are one or two extra instances created if multiple threads try to create and put the instance for the same value at the same time.EDIT : What if the name and data fields were final or volatile ? Is it still unsafe ? As far as I understand , the constructor initialization safety guarantees only applies if the reference has n't escaped during initialization . I am looking for official sources that confirm this ."
In documentation code I see some things like this : what does characters like @ ( # ) meaning ?
"I have an exception handler which handles exception from an Activity class , the exception handler looks like this.it is initialized from the activity classwhen the control comes to the exception handler , the activity is not created , instead of a blank page that hangs my app.The only message I get isEDIT : Ok , after some digging I find , if no exception is thrown then the activity is started ( i.e I can see the Activity page ) but when an exception is thrown that 's when a blank page is displayed . Why is this the condition for only when an exception is thrown and what is a better way to handle exception in android ? ? any help ? EDIT 2 : it 's similar to this https : //codecrunch.co/blog/custom-error-handling-in-android/"
"The my question is addressed to the post : https : //shipilev.net/blog/2014/safe-public-construction/And , it is written : Notice that we do several reads of instance in this code , and at least `` read 1 '' and `` read 3 '' are the reads without any synchronization — that is , those reads are racy . One of the intents of the Java Memory Model is to allow reorderings for ordinary reads , otherwise the performance costs would be prohibitive . Specification-wise , as mentioned in happens-before consistency rules , a read action can observe the unordered write via the race . This is decided for each read action , regardless what other actions have already read the same location . In our example , that means that even though `` read 1 '' could read non-null instance , the code then moves on to returning it , then it does another racy read , and it can read a null instance , which would be returned ! I can not understand it . I agree that compiler obviously can reorder memory operations . But , doing it , the compiler has to preserve the behaviuor of the original program from the one-thread 's point view.In the above example , the read 1 read non-null . The read 3 read null . It means that read 3 was reorderd by the compiler and read the instance in the precedence to read 1 ( We can skip CPU reordering , because the post raises Java Memory Model ) .But , on my eye read 3 can not overtook read 1 because of store operation- I mean instance = new Singleton ( ) ; After all , there is data dependency , it means that the compiler can not reorder instruction read 3 with store because it changing the meaning of the program ( even one-threaded ) . The compiler also can not change order the read 1 because it has to precede the store . Otherwise , the semantic of one-threaded program is different.Therefore , the order must be : read 1 - > store - > read 3What do you think about it ? P.S . What does it mean to publish something ? Especially , what does it mean to publish somegthing unsafely ? It is an re-answer to the @ Aleksey Shipilev 's answer . Let me say this again -- failure to construct the example does not disprove the rule . Yes , it is obvious . And Java Memory Model allows returning null on the second read . I agree with that as well . I do n't claim that it does n't allow . ( It is possible because of data race- yes , they are evil ) . I claim that read 3 can not overtake read 1 . I know you are right , but I would like to understand that . I still claim that Java compiler can not generate a such bytecode that read 3 take over read 1 . I see read3 can read null because of data race , but I can not imagine how it is possible that read 1 read non-null and read 3 read null while read 3 can not overtake read 1 because of data dependency . ( We do n't consider here memory ordering on the hardware ( CPU ) level )"
I have a Java class and I need to write a similar one in F # . How can I define a private class inside public in f # ?
"I want to run certain tests in Lists . The Lists can contain entirely different classes.I have one method to check the consistency of the list - not null , not empty , no more than x elements . This is common to all the lists . Then I want to test each of the objects , using overloading.The idea would be something like : and thenBut I also had to add a method like this : And this was called at runtime - not my other methods with the specific classes . Although the class was exactly the same . I 'm evidently missing some generics understanding.Now if I do n't use the general method at all and try to solve it this way : Compiler error - `` Method check ( List ) has the same erasure check ( List ) as another method ... '' So is there any elegant solution for this ? I could just use different method names but would like to know how it 's possible without that.Thanks !"
"I run a very simple , single-threaded java program . When I check the threads using command under Ubuntuit shows there are 14 threads at OS level . I expect there is only one thread when the program has one thread , and x threads if the program has x threads . Is my expectation wrong ?"
"In my java program I have a for-loop looking roughly like this : Since the size of the list is n't changing , I tried to accelerate the loop by replacing the termination expression of the loop with a variable . My idea was : Since the size of an ArrayList can possibly change while iterating it , the termination expression has to be executed each loop cycle . If I know ( but the JVM does n't ) , that its size will stay constant , the usage of a variable might speed things up.However , this solution is slower , way slower ; also making myListSize final does n't change anything to that ! I mean I could understand , if the speed did n't change at all ; because maybe JVM just found out , that the size does n't change and optimized the code . But why is it slower ? However , I rewrote the program ; now the size of the list changes with each cycle : if i % 2==0 , I remove the last element of the list , else I add one element to the end of the list . So now the myList.size ( ) operation has to be called within each iteration , I guessed . I do n't know if that 's actually correct , but still the myList.size ( ) termination expression is faster than using just a variable that remains constant all the time as termination expression ... Any ideas why ? Edit ( I 'm new here , I hope this is the way , how to do it ) My whole test program looks like this : Performance of the posted code ( average of 10 executions ) :4102ms for myList.size ( ) 4230ms for myListSizeWithout the if-then-else statements ( so with constant myList size ) 172ms for myList.size ( ) 329ms for myListSizeSo the speed different of both versions is still there . In the version with the if-then-else parts the percentaged differences are of course smaller because a lot of the time is invested for the add and remove operations of the list ."
"I ca n't seem to figure out how to chain constructors when the constructor I 'm trying to call is supposed to use values passed to the constructor I 'm calling it from.I tried this : but I 'm told that the call to this must be on the first line of the constructor.I 'm trying to call this constructorIdeally , I could chain these constructors . Otherwise , I may have to restructure my code ."
"Is there a way to add additional information to a java stacktrace ? I am developing an interpreter for a script language and would like to see the corresponding lines of script code in the java stacktrace.The output could look something like this : or this : This would make debugging a lot easier , unfortunately google could not find anything to achieve this.The only way I could think of was to dynamlically generate a lot of classes with methods , whose name contains the information I need and which simply call the next method in the stacktrace - but that seems like a waste of ( permgen ) memory and cpu cycles to me ."
"I am using a lambda to implement a functional interface in the Java program below . When the lambda is passed as an argument to a generic method , the compiler flags an `` incompatible types '' error because it infers that the lambda implements the Func < Shape > interface , which has the compiler interpreting the lambda parameter ( `` thing '' ) as being of type Shape when the lambda attempts to pass it to a method ( testRound ) that requires an argument of type Round . That error makes sense to me.But the equivalent method reference does not provoke an error message . I had been under the misconception that a lambda and a method reference that could replace that lambda were interchangeable . Here , that 's not so.Why does the method reference succeed when the lambda fails ? UPDATEVince Emigh found the answer , which I 've marked as accepted , below . While it 's not part of my question , here are four ways to work around the fact that the lambda is only inferred as being of type Func < Shape > if one were really stuck on using lambdas : I do n't see any reason to prefer one of these over the method reference , unless one feels that lambdas are a little less dense ( and , maybe , a little more readable ) . But , they 're there if you want them ."
"In my Java 11 application , I want to get Product Updates from a repository . One Product Update has a updateId and a list of productIds to update . If there are no product numbers that should be updated for update with updateId = X , I still want to write to another table that I 've processed the update X ; updateStatusRepository.setStatusProcessing ( updateId ) and updateStatusRepository.setStatusProcessed ( updateId ) should still be called for this updateId . If there are product updates present , they should be processed in the ProductProcessingService.For now , the groupingBy and mapping give me a Set with a null entry instead of an empty set , which is why I later remove all null Product IDs . I 'd prefer if it were possible to use mapping in such a way that it delivers an empty Set directly if all values are null.Is there a way to do this elegantly ?"
"This is more of a theoretical question to understand Java 's evaluation of arithmetic operations . Since + and - have the same precedence , I do n't quite understand how Java evaluates the following expressions ( where there are more than one + and - operators between the two operands ) .From the Java 8 Language Specification ( §15.8.2 ) : The binary + operator performs addition when applied to two operands of numeric type , producing the sum of the operands . The binary - operator performs subtraction , producing the difference of two numeric operands . [ ... ] Addition is a commutative operation if the operand expressions have no side effects . Integer addition is associative when the operands are all of the same type.What I also noticed , is that everytime the # operators is even , the result is the same and the order does n't matter.But when the # operators is odd , this does n't necessarily influence the result . E.g . in the following two expressions there is one more - than + , however the result is different.With all that information I still do n't see the pattern or the way how this works ."
I am facing a weird issue . My REST API server started successfully initially but within a second it shows an error : rest_web_1 exited with code 1Heroku Logs : Updated : Can anyone please help me to figure out what 's going wrong here ?
"I have an immutable User entity : I need to add a method that will return information if the user 's password must be changed i.d . it has not been changed for more than the passwordValidIntervalInDays system setting . The current approach : The question is how to make the above code more object oriented and avoid the anemic domain model antipattern ? Should the passwordMustBeChanged method be moved to User if so how to access SettingsRepository , should it be injected into User 's constructor , or should a Settings instance be provided to the ctor , or should the passwordMustBeChanged method require a Settings instance to be provided ? The code of Settings and SettingsRepository is not important , but for completness , here it is :"
"I find myself again and again faced with a similar problem : there 's some piece of code that processes data as it arrives from the user/network/produces of some sort . For efficiency reasons , I do n't want to call flush ( ) or commit ( ) on every piece of data that I receive , but only occasionally.I usually come up with code like this : I get the distinct feeling that I 'm reinventing the wheel every time I write this , and what 's more , I keep changing stuff every time I write this kind of code , depending if the various parts make sense in the specific context.It seems to me that this is a very common pattern , but I do n't remember seeing it named or implemented as a library utility . As long as I have to implement this myself , I keep facing analysis paralysis whenever I reimplement it . Please help me ! UPDATE : After I wrote this , I realized that I have n't accounted for flushing the buffer before JVM shutdown , so I added a shutdown hook in the constructor . Now I 've realized that this code will still not work properly if the shutdown happens less than MIN_SAVE_PERIOD milliseconds after the last save , so I should probably refactor saveData . It 's happening again ."
"My Sunday challenge is to get and persist working days in a particular year to a CSV , etc file.I have following code and the problem I am facing is : how to print dates in a specific format i.e . YYYYMMDD as the code currently prints something like Sat Jan 19 00:00:00 CET 2019 . Also , if I can exclude week-ends and generally if there is a better way to write a much shorter code in Java 8 ."
"I encountered a weird problem using Optionals and anonymous classes : The first two methods do not compile with the errorI 'd expected that , since both implement the interface Bar all three approaches work . I also can not figure out why the third option fixes the problem . Can anyone explain this please ?"
"I have a little Java application that implements a RESTful API using Micronaut 2.0.0 . Under the hood , it uses Redisson 3.13.1 to go to Redis . Redisson , in turn , uses Netty ( 4.1.49 ) .The application works fine in a 'classic ' java ( on HotSpot , both Java 8 and 11 ) .I 'm trying to build a native image out of this application using GraalVM.The command is approximately like this : Here is what I get : That 's just a part of the output , it also produces similar reports on other 3 errors.I 'm still struggling to understand the issue , but I suppose that , as java.net.InetAddress has native methods in it , neither it nor its subclass java.net.Inet4Address can be initialized at build time . This means that an instance of Inet4Address can not be visible for a code that is initialized at build time ( at initialization stage , in Java terms ) . And the native image builder found a way that kinda reaches a point where such an object is visible . It even shows the trace , but the thing is that ClusterConnectionManager $ 1 is a Runnable that is only submitted to an Executor at runtime ( waaaay after the static initialization ) .How do you debug such situations ? Namely : How do you find the culprit ? How do you fix it when the culprit is found ? PS . If I add -- initialize-at-run-time=java.net.InetAddress , it fails differently : Java reports itself as build 25.252-b09-jvmci-20.1-b02 , mixed mode.PPS . I found this No instances of ... are allowed in the image heap as this class should be initialized at image runtime and it seems that the Quarkus issue was fixed . But I still do not understand how to fix the issue at hand . Any help would be appreciated ."
"Normally , the Java compiler confirms that all checked exceptions that are thrown are in the throw specification . Does anything special happen when a native function throws a java checked exception that was not in the functions throw specification list , or does is the throw specification list simply ignored at runtime ? C++Java ( The C++ function name would probably be mangled . Also loadLibrary should be in a try catch . Do n't care , I do n't believe it 's relevant to the problem . There 's possibly other errors in the code , but they 're probably not relevant either . )"
"There is a table : key consists from 3 suffixes : region+s1+s2region , like US is always specified , but other ones can be not specified so * will be used for `` all '' .for example : for key = `` US_A_U '' value = 2 , because : trying to find full match : find in the table key ( `` US_A_U '' ) - notfound1 step less strict find : find key ( `` US_A_* '' ) - found == 2for key = `` US_Q_Q '' value = 3 , because : trying to find full match : find in the table key ( `` US_Q_Q '' ) - notfound1 step less strict find : find key ( `` US_Q_* '' ) - not foundfind key ( `` US_*_Q '' ) - not found1 step less strict find : find key ( `` US_*_* '' ) - found = 3for key = `` US_O_P '' value = 3 , because : trying to find full match : find in the table key ( `` US_O_P '' ) - notfound1 step less strict find : find key ( `` US_O_* '' ) - not foundfind key ( `` US_*_P '' ) - not found1 step less strict find : find key ( `` US_*_* '' ) - found = 3so to use HashMap method I will need to call 4 times map.get ( ) to find a value , which is too many as this code will be run very very often . Is there any nicer or faster solutions ? upd : I need to add that there are always 3 incoming params ( region , s1 , s2 ) . Each of this param never will equal `` * '' and never be empty , so the full key always be like US_J_K ( and not US_*_K etc . ) so by these 3 params I need to find right value from the init table ."
I 'm executing the following query using NamedParameterJdbcTemplate with a single parameter.DDL For TableSQLWhen I execute the query using I 'm getting the following error.If I remove the /100 for the SQL everything is working . Also if I hardcode the parameter it 's workingEnvironment : MSSql Server 2017 in Ubuntu.Application Server Jetty in macOsJava openjdk version `` 1.8.0_222 '' Reproducer can be found in GitHub
"So it seems that it 's a bad idea to pass this from a constructor in Java.My simple question is : Why ? There are some related questions on Stackoverflow , but none of them give a comprehensive list of issues that may arise.For instance , in this question , which is asking for a workaround to this problem , one of the answers states : For example if your class has a final ( non-static ) field , then you can usually depend on it being set to a value and never changing.When the object you look at is currently executing its constructor , then that guarantee no longer holds true.How is that ? Also , I understand that subclassing is a big issue , because the superclass constructor is always called before the subclass constructor , and that may cause problems.Besides , I read that Java Memory Model ( JMM ) issues such as differences in visibility across threads and memory access reordering may arise , but no details on that.What other problems may occur and can you elaborate on the abovementioned issues ?"
"This is a problem I 'm trying to solve on my own to be a bit better at recursion ( not homework ) . I believe I found a solution , but I 'm not sure about the time complexity ( I 'm aware that DP would give me better results ) . Find all the ways you can go up an n step staircase if you can take k steps at a time such that k < = nFor example , if my step sizes are [ 1,2,3 ] and the size of the stair case is 10 , I could take 10 steps of size 1 [ 1,1,1,1,1,1,1,1,1,1 ] =10 or I could take 3 steps of size 3 and 1 step of size 1 [ 3,3,3,1 ] =10Here is my solution : My guess is that this runtime is k^n where k is the numbers of step sizes , and n is the number of steps ( 3 and 10 in this case ) .I came to this answer because each step size has a loop that calls k number of step sizes . However , the depth of this is not the same for all step sizes . For instance , the sequence [ 1,1,1,1,1,1,1,1,1,1 ] has more recursive calls than [ 3,3,3,1 ] so this makes me doubt my answer.What is the runtime ? Is k^n correct ?"
"I like services . I also like the module system . Unfortunately for me , before I used Java 9 I got in the habit of getting service providers from jars loaded at runtime via URLClassLoader , something like this ( I 'll use Java 10 's var for brevity ) : This works fine , even in Java 9 and beyond , but it loads the jar on the classpath , which means that it uses the old META-INF\services method to find service providers . I would rather use the module-info method , but that requires the jar to be loaded on the module path instead , but I could n't find any way I might go about doing that . So here I am , hoping someone here who understands the module system more thoroughly will tell me how this can be done ( or that it ca n't , if such is the case ) ."
"This a question from a coding competitionThe original question can be found here http : //www.olympiad.org.za/olympiad/wp-content/uploads/2014/03/2013-PO-Question-Paper.pdfQuestion 5SHORTEST PATH THROUGH THE HALL [ by Alan Smithee of Hulsbos High ] The hall is packed wall to wall with rows of chairs , but in each row there are exactly two chairsmissing . The chairs in each row have numbersfrom 1 to 100 . Write a program that will calculatethe length of the shortest path from the front to theback of the hall.Each chair is 1 unit wide and each row is 1 unitdeep ( from the front of a chair to the front of thechair behind it ) . It is not possible to movediagonally . You may start in front of any gap in thefront row and end behind any gap in the last row.You always walk through the middle of a gap.Illustrated is the shortest path through a hall , withfive rows of chairs . In the illustration the hall isonly 10 chairs wide instead of 100.The first number in the input will contain thenumber n – the number of rows . The next n lineswill have two numbers , separated by a space , indicating where the gaps are.ExampleInput:53 62 84 57 83 10 I think I have an efficient algorithm that I think will work , but I 'm not sure how to implement it into Java.What I want to do is break up each choice into a search tree so for instance if the user input was : number of rows : 3Spaces : 4 7 2 9 8 11Make 2 search trees : And then find the path where the difference between each node is the smallest So in this case the shortest path would be in the second tree 7- > 9- > 8 with the total distance being 5 ( ||7-9|-8| ) So my question is then Is this acceptable algorithm given the problemHow would I implement either this algorithm or another in java @ JuanLopesTake for instance this example ( 0s represent a space ) .Row6 : 0 2 3 4 5 6 0 8 9Row5 : 0 2 3 4 5 6 0 8 9Row4 : 1 2 3 0 5 6 0 8 9Row3 : 1 2 3 0 5 6 0 8 9Row2 : 1 2 3 0 5 6 0 8 9Row1 : 1 2 3 0 5 6 0 8 9What I understand from your algorithm is that it looks at each row individually . So through rows 1-4 the distance between each space to the next row is equal but when you get to row 5 if you went down the path where all the 4s were missing it would take you longer compared to going down the path with all the 7s missing , does your solution take that into account ?"
"In my project there is an existing old.jpdl.xml definition . It is working fine.Now I want to run another new.jpdl.xml definition.After deployment of ear file I tried to read new.jpdl.xml using new ProcessDefinitionId with help of below code.I believe that I am missing deployment steps . Can someone guide me , how to deploy or read new.jpdl.xml ?"
"I am building an application that allows the user to connect to their local wifi network without leaving . However , whenever I select an item on the list the wrong network id comes up , and it connects to the wrong network . I 've noticed that : If I have three available networks , and I select the top one , the bottom one appears to connect to . The reverse is true as wellWhen I select the middle one it actually works . Here is my code below : Any idea why this would be happening ? Thanks everyone !"
"I 'm studying some exams of java and I came across with this question : The explanation describes that for an integer literal , the JVM matches in the order : int , long , Integer . Since there is no method with int type parameter , then looks for long type ; and so on.In this explanation they only provide the order for int , long and Integer.so my question is : What is the complete order list when an integer literal is introduced in a method that is overloaded for every type ( that uses integers ) ? Also , what is the order for float , double etc ... ? ( decimal values )"
"In JEP193 , one of the specific goals of VarHandles is to provide an alternative to of using FieldUpdaters and AtomicIntegers ( and avoid some of the overhead associated with them ) . AtomicIntegers can be particularly wasteful in terms of memory since they 're a separate object ( they use around 36 bytes each , depending on a few factors such as wether compressed OOPs are enabled or not , etc . ) .If you have many integers that may need to be updated atomically ( in many small objects ) , there are essentially three options if you want to reduce the waste : Use an AtomicFieldUpdaterUse a VarHandleOr re-arrange the code to use AtomicIntegerArray instead of fields in objects.So I decided to test the alternatives and get an idea of the performance implications of each.Using an atomic ( volatile mode ) increment of an integer field as a proxy , I 'm getting the following results on a Mid 2014 MacBook Pro : In this benchmark , the VarHandles are roughly four times slower.What I 'm trying to understand is where the overhead comes from ? Is this due to the signature-polymorphic access methods ? Am I making a mistake in the micro benchmark ? Benchmark details follow.I ran the benchmark with the following JVM on a Mid 2014 MacBook ProSource code of the benchmark : UPDATE : after applying apangin 's solution , these are the results of the benchmark : The difference disappears ."
"For a small project ( Problem 10 Project Euler ) i tried to sum up all prime numbers below 2 millions . So I used a brute force method and iterated from 0 to 2'000'000 and checked if the number is a prime . If it is I added it to the sum : The result of this calculation is 1179908154 , but this is incorrect . So i changed int to BigInteger and now i get the correct sum 142913828922 . Obviously the range of int was overflowed . But why ca n't Java tell me that ? ( e.g . by an exception )"
"I have the following code that does a circular shift of the bits in the array : Then I thought it 's easier and more readable to go backwards like this : But I noticed that the second one ( method2 ) is slower than the first one ( method1 ) ! I noticed the difference because I 'm calling the method thousands of times . So I did a test to make sure and here is the average result from 20 tests of calling each method 3000 times ( and the number of bytes is 1 million ) : So my question is : Why is the first one faster than the second ? Here is the testing code to make sure I 'm not doing something wrong with my testing : Update : Looks like the reason is I 'm accessing 2 different indices in each loop in the second method , while I was accessing only 1 index in the first method . So it has nothing to do with reversing the loop.Thanks @ rm5248 and @ Ben , I would choose the both of your answers if I could , but I chose the earlier one ."
"Here is the Java 8 code , using streams : I want to merge the output of map ( this : :getFields ) , i.e . a Stream < Set < Path > > into a Set < Path > and I 'm not sure of the correct usage of forEach.EDIT after Jon Skeet answer to summarize the comments and compile the codeThe two streams may be combined in one but files is reused later ."
"I have a basic LWJGL window set up and I am trying to draw a square using the glBegin ( GL_QUADS ) method . Square square = new Square ( 25 , 25 , 25 ) , is the way I am calling my Square class to draw the square ... but it is a rectangle . When I call it I pass in all 25 's as the parameters . the first two are the starting coordinates and the last 25 is the side length , as seen below . What am I doing wrong to produce a rectangle ? My Viewport code"
"I 'm trying to make and android app with some dynamically drawn views . Currently , the only thing the views draw is a circle in the middle of the view.The views are inside a grid view , but it does n't seem to be drawing them right.This is what happens when I load the screen : The orange block is the view in the grid view that has the focus.However , if I use my finger ( or mouse ) to drag along the view , it gets painted correctly : Why is this ? How can I make it draw the second image all the time.Here is the code I 'm using :"
"I am writing a program in Java . The picture is self-explanatory -The main method spawns three threads . The SAX processor processes the input XML file , generates JAXB objects and puts them in guava cache . Guava cache is handled by another thread . Whenever any object comes into the cache , this thread notifies the third thread which is the MDL generator ( it relates the similar JAXB objects , interconnects them and generates another XML file , called MDL ) . I have coded the following for the main class -But now I have doubts regarding how to pass objects between the threads and how to notify the MDL generator whenever a new object comes to the cache . In Java old threading model we could use notify ( ) , but I want to use the current ExecutorService . And there are asynchronous callbacks . So I am wondering how to design this framework . How to pass objects and notify the threads ? We are keeping the cache objects in HashMap and the CacheService thread needs to pass the key to the MDLService . So which pattern should I use ?"
"To my understanding following program should print 0,0 as an output.However , when I run this program I am getting 1,0 as an output.Please help me understand what is going on here ?"
Why works for and not I see them as the same since Integer is-a Number
"I 'm working on a project where many classes need proper typical implementations of equals and hashCode : each class has a set of final fields initialized at construction with `` deeply '' immutable objects ( nulls are intended to be accepted in some cases ) to be used for hashing and comparison.To reduce the amount of boilerplate code , I thought about writing an abstract class providing common implementations of such behavior.This is intended to be used like this : This is basically what proposed here with some differences.This seems to me a straightforward yet good approach to reduce verbosity and still have efficient implementations of equals and hashCode . However , as I do n't recall to have ever seen something similar ( except in the answer linked above ) , I would like to specifically ask whether is there some point against this approach ( or possibly some improvement which could be applied ) , before applying it across the whole project ."
"Is there a java library that implements something that behaves like a ReadWriteLock but uses listeners or CompletableFuture/CompletionStage instead of blocking ? Ideally I 'd like to write : And also important : I 'm looking to know if something like this exists and if it does how is it called.I 'm not looking to implement this myself , but rather use a library to simplify some framework code ."
"I was teaching students the old-school Generics and came across an unseen ! behavior while I was presenting ! : ( I have a simple class This gives output as 10 , without any error ! ! ! I was expecting this to give me a ClassCastException , with some error like Integer can not be cast to HashMap.Curious and Furious , I tried getClass ( ) on the return value , something like belowwhich is throwing a ClassCastException as I expected.Also , when I break the same statement into two , something like It is not throwing any error and prints class java.lang.IntegerAll are executed with Can someone point me in the right direction on Why this behaviour is happening ?"
"Is there a pattern , or built in function I am missing or shall I just loop through like soIts because I need to persist the list to a database and retain the ordering ."
"I 'm trying to use the Bitemporal framework of Erwin Vervaet to store with Hibernate a temporal collection instead of a temporal property as in his example . ( there is a presentation of the framework here ) I 'm trying to store a collection of addresses which change over time , i.e . a Person can have multiple addresses at the same time , and this set of addresses can change.The mapping works , I mean the tables are created in the db , but I get the following runtime error : I do n't understand the error . I understand a cast is being done when Hibernate tries to build the addresses bag of Person , but why does it get a ClassCastException ? If I comment out the mapping of value in the entity-name= '' AddressSet '' mapping , I have no error , but the addresses are n't saved . So the problem is in that mapping I believe.I also do n't understand if what I 'm trying to achieve can be done with this framework.Can you help me ? How I modified Vervaet 's example : I added the AddressSet class and modified the Hibernate mapping , the Person and test classThe classes involved are the following : PersonAddressAddressSetThe mapping is : The testThe full exception isedit : changed Set to List in AddressSet , because after using Tijkijiki 's solution I got an error while Hibernate was building the bag . After this the test passed . But I added two set of AddressSet to the test ( which is now modified since the original posting ) and now I get this error , someone can explain me why ? The AddressSet objects seem different to me ."
"Supposed I have two constraints ( c1 , c2 ) and I want to check whether they are syntactic identical : Option 1 : We could turn this into a satisfiability problem like this post : Whether two boolexpr are equalOption 2 : We could also turn them into strings and compare the equality : But both of those two options have a big overhead as the size of constraints increase . e.g . invoking the toString ( ) method in Expr is very expensive for large constraints.Two questions : How to check whether two constraints are syntactically identical efficiently in Z3 ( Java version ) ? If we do n't have a good solution for 1 , I am considering writing a wrapper for the Expr object and using a factory method to avoid generating duplicated ( syntactically ) objects from Z3 . Then I have to design my own equal ( ) and hashCode ( ) functions . But I still ca n't figure out an efficient way so far ."
"I 'd like to measure the execution time of a set of unit tests to be able to automatically monitor and compare performance when changes are made . Are there any suitable performance counters that can be reached easily from Java itself ? Ie , something like : with these additional requirements : gives the same answer independent of system load , even if the test runner is run in a virtualized guest OS ( this seems to disqualify nanoTime ( ) and friends , or even current thread 's cpu time , due to varying load on the host machine ) gives the same answer independent of what hardware it is run on ( counting number of executed bytecode instructions would be excellent ! ) ideally , can separate GC execution count from actual method execution ( in case GC is done in-thread )"
"I 'm playing with the RxJava retryWhen operator . Very little is found about it on the internet , the only one worthy of any mention being this . That too falls short of exploring the various use cases that I 'd like to understand . I also threw in asynchronous execution and retry with back-off to make it more realistic.My setup is simple : I 've a class ChuckNorrisJokesRepository that returns random number of Chuck Norris jokes from a JSON file . My class under test is ChuckNorrisJokesService which is shown below . The use cases I 'm interested in are as follows : Succeeds on 1st attempt ( no retries ) Fails after 1 retryAttempts to retry 3 times but succeeds on 2nd hence does n't retry 3rd timeSucceeds on 3rd retryNote : The project is available on my GitHub.ChuckNorrisJokesService.java : For brevity , I 'll only show the Spock test case for the 1st use case . See my GitHub for the other test cases.This fails with : What I 'm expecting is that fromCallable is called once , it succeeds , onNext is called once , followed by onCompleted . What am I missing ? P.S . : Full disclosure - I 've also posted this question on RxJava GitHub ."
"I have just read in Effective Java that the fifth principle of the equals ( ) method is that all objects must be unequal to null . The book goes on to say that some classes written by programmers guard against this using an explicit test for null : According to Effective Java , the above not null test is unnecessary . However , my question is , why then do so many programmers test for this not-nullity requirement ?"
"To protect the question from `` duplicate hunters '' , I need to mention that I did not think that the solution I am looking for is filtering . I did my search , never encounter an answer mentioning filtering.I have a list of objects with a class like that : I want to collect this List into a map , groupingBy gender , and counting the pets they have , and of course need to pass 0 if petName is null.Without implementing the Collector interface and it 's 5 methods ( Because I am already trying to get rid of another custom collector ) How can I make this to not count the object if it 's petName field is null.I can benefit from Java-11"
"Here 's a tough nut to crack . I have a clash between using varargs and generics together . Following given code : I want the compareTo method to use more than one compare condition . If the strings are the same then use the ints instead . Usual situation I would say.I would love to create a static method to handle this in general . And I want the new method chainedCompare to be called like this : The lambdas are varargs of the Java 8 interface Function . So first I wrote the method like that : But I did n't consider that in this case the generic type C must be the same type for all Function < T , C > comparisons in the varargs array . As you can see above , I want to use different Comparables ( like String and Integer in the example ) .Then I modified it to this version : Type C is here replaced with wildcards . While the method call would work now , the method itself does not compile , because of the wildcard typed parameter of compareTo.So on the one hand I need a fixed generic type ( extends Comparable ) for the Function interface , but on the other hand I need Function interfaces of different ( second ) generic types where you usually could set a wildcard . How to resolve this ? My only requirement is that I can call the static method as simple as shown with an undefined number of comparison conditions.Based on the suggestions of Tunaki I was able to modify the method as follows which can be used like desired :"
"In my program , I repeatedly1 collect Java 8 streams to reduce a collection of objects to a single one . The size of this collection can vary a lot throughout the execution : from 3 objects to hundreds.In the process of optimizing my code and searching for bottlenecks , I made the stream parallel at some point . This worked at that point in time , as the collections were all fairly big . Later , after changing other parts and parameters of the program , the collections became smaller . I realized that not making the stream parallel was more efficient . This makes sense : the overhead of distributing work over multiple threads for 4 objects is simply not worth it . It is worth it for hundreds of objects though.It would be really convenient if I could make only big streams parallel : Of course , this is possible to do manually when the stream is created from an array , a collection , or manually . That is , we know what elements go in the stream , so this can be tracked . I am however interested in solving this in a generic way , so that no matter what kind of stream is passed to findInterestingFoo , it is handled appropriately and as efficiently as possible.Something like count ( ) might help , except it terminates the stream before I can collect it.I am well aware that streams are designed to not have a set size , in particular : Possibly unbounded . While collections have a finite size , streams need not . Short-circuiting operations such as limit ( n ) or findFirst ( ) can allow computations on infinite streams to complete in finite time . — java.util.stream package description Still , I wonder if there is any way to determine how many elements are in a stream before performing any operations on it . Does a stream really not know that it is created from a finite collection ? __________1 Thousands of times . Optimizing this led to a speedup from about 1.5 to 0.5 seconds total running time in my case ."
"I got Parcelable encountered IOException writing serializable object and it caused by java.io.NotSerializableException : androidx.appcompat.widget.Toolbar error only in Android Version 10 devices.I 've searched many results for getting solutions to this problem but every solution I got , was telling to define implement serializable in both inner class and sub inner class and I 've done it , still , I got this error only in Android version 10 devices.If I will use transient this keyword to define View or object then this error will fix but this same error comes with another view , adapter , and class.LogcatActivity.javabuild.gradleEdit and Fixed ."
"Suppose I have a text represented as a collection of lines of words . I want to join words in a line with a space , and join lines with a newline : This works fine , but I end up creating an intermediate String object for each line . Is there a nice concise way of doing the same without the overhead ?"
"Given this situation : The method genericMethod ( ) in class Cat is definitely NOT overriding the superclass method ( and the compiler complains if I add @ Override signature ) which is reasonable , as the requirements to the type T are different.But I do not quite understand , how the compiler decides which of the two methods to use in the call cat.genericMethod ( cat ) in the main method . Because actually both methods are visible and both are applicable . I would have expected a compiler error like `` ambigous function call '' here . Can someone explain this behavior ?"
Possible Duplicate : Which constructor is chosen when passing null ? I recently came across this curiosity while coding a few days back and ca n't seem to figure out why the following happens : Given the class belowWhen the call new RandomObject ( null ) ; is made the output is always 2 regardless of the order in which the constructors were created . Why does null refer to the string array rather than the object ?
"I have a table in the following format : I want to generate some graph where each letter ( W , X , Y , Z ) is a node and have a link with some width according to the weight to the Item B.The question is what I can use to generate this graph ? Can be a tool , a Java or R library or another language . The way does n't matter , I only need to generate the graph ."
"We 've got 2 pieces of code : And : What is the time complexity of them ? I think that the first one is : O ( logn ) , because it 's progressing to N with power of 2.So maybe it 's O ( log2n ) ? And the second one I believe is : O ( nlog2n ) , because it 's progressing with jumps of 2 , and also running on the outer loop . Am I right ?"
"This is just for general knowledge and I am pretty sure it may not be possible , but I am curious to know . Suppose I have a Student class object s1 and I pass it to a function as myFunc ( s1.toString ( ) ) . I have n't overrided toString ( ) function . When the parameter will reach to the function , can I reference back to the original object just by it 's address ? code :"
"The above code works fine . However , if I add a method to Nested : I get a compilation error : This makes sense to me . The type of T gets erased at runtime , so Java ca n't apply an operator that 's only defined for certain classes like Integer . But why does a.val - b.val work ? Edit : Lots of good answers . Thanks everyone . The gist of it , if I understand correctly , is that the compiler can add casts to Integer in a.val - b.val because it knows a and b were instantiated as as Nested < Integer > . However , since this.val - other.val occurs inside the body of a generic function definition ( where T still could be anything ) , the compiler can not add the casts that would be necessary to make `` - '' work . This leads to a more interesting question , namely , if the Java compiler were capable of inlining , would it be possible for a generic function like diff to work ?"
"The challenge is to find a number whose individual digits multiplied by consecutively increasing power and added up , equal the initial number.Eg : take 89 , split it into 8 and 9 , then 8^1 + 9^2 = 89With an input of 1 and 100 ( the range ) , the output should be [ 1 , 2 , 3 , 4 , 5 , 6 , 7 , 8 , 9 , 89 ] , but I 'm getting all of the numbers [ 1 , 2 ... 100 ] .I 've started learning java fairly recently and ca n't seem to find the issue in the code . Any hints would be greatly appreciated ."
"I 've found this code of pixel perfect collision checking and used it in my code : And it worked perfectly , no problems what so ever . That until I set the images into Config_Alpha_8 using this code ( because of ram problems ) : Why Nothing wont happen , it does go inside isCollisioDetected , I 've checked with logs ! but it wont detect collision.. can anyone provide working function for checking pixel perfect collision of bitmap with config_alpha_8 ?"
"I am trying to access the EXTRA_ADDRESS_BOOK_INDEX constant using JNI : The GetStaticObjectField method crashes with an error : java_vm_ext.cc:534 ] JNI DETECTED ERROR IN APPLICATION : static jfieldID 0x6fd191b0 not valid for class java.lang.Class < android.provider.ContactsContract $ Data > On the other hand if I try to access the VISIBLE_CONTACTS_ONLY field on the same class , everything works as expected : Any clues what I might be doing wrong ?"
"The below code is a edited version of Dave Koelle 's AlphanumComparator . The edit contains code which sorts empty strings to the end of the list , or bottom of the JTable in my case . The problem is a java.lang.IllegalArgumentException : Comparison method violates its general contract ! occurs.To fix my problem I looked into it and found reasons such as the comparator does n't have a return 0 ; in the correct place . I also found a comment in the Java bug database which read The sorting algorithm used by java.util.Arrays.sort and ( indirectly ) by java.util.Collections.sort has been replaced . The new sort implementation may throw an IllegalArgumentException if it detects a Comparable that violates the Comparable contract . The previous implementation silently ignored such a situation . If the previous behavior is desired , you can use the new system property , java.util.Arrays.useLegacyMergeSort , to restore previous mergesort behaviorWould someone be able to help fix my problem and explain why this comparator is violating the Comparable contractException stack trace if needed"
"I want to select the first row in a table , order by time ( ascending ) , then delete that row . I do n't want to use two queries since there 's a possibility that another client could select that row before it gets deleted ( there will be several machines connected at once from different networks ) .I was thinking I could do something like ... but I got an error : You have an error in your SQL syntax ; check the manual that corresponds to your MySQL server version for the right syntax to use near ' ; DELETE * FROM pending ORDER BY time LIMIT 1 ' at line 1What 's the best way to do this ? Thanks ."
"Hi I have a question regarding a log4j logger.There is a part of the logger text I do n't quite follow.The line looks as followsI had a look but I ca n't seem to find this as a regular expression , it smells strongly like it could be though and I suspect that it will be replaced by the returned value of someObject.function ( ) much how one could replace string values in output by placing a % s . Would I be correct in this assumption ? if not please elaborate as to what it does ."
"Id like to improove continuous delivery . I am using a Tomcat 8 and maven.I use mvn tomcat : redeploy to deploy the webapp.In tomcat documentation I found this part : Deploy A New Application Archive ( WAR ) RemotelyIf installation and startup is successful , you will receive ( ... ) Otherwise , the response will start with FAIL and include an error message.As possible causes of FAIL one point is of interrest : An exception was encountered trying to start the new web application.So Id like to throw an exception at startup so in the web.xml I write : < ​load-on-startup > 1 < ​/load-on-startup > to the org.springframework.web.servlet.DispatcherServlet-Servlet . Then I write a Singleton : This causes this Stacktrace : ProblemThe application unfortunately deployed ! QuestionI fail the init . I said load-on-start . Tomcat said fail if not start . Tomcat said ( re ) deploy if can start.So the exception must fail the deployment . Right ? EDITI tested tomcat-8.5.30 as well as tomcat-8.5.37 , both unfortunately succeed ."
"I have a rather central class responsible for some Utility methods . I wanted to provide an additional overload for a method which was declared as follows : Now since I do n't really like Rawtypes , I specified the collections out into the least common denominator I can expect : So far so good , this got rid of the rawtypes warning and everthing 's fine up to now.I proceeded to write the method header for my overload : This is when eclipse ( and subsequently compiling with javac6 via ant ) gave me following error-message : Erasure of method removeDuplicated ( Collection < T > , Collection < ? extends Map < ? , ? > > ) is the same as another method in type [ Utilites-Class ] Now since I already had my share of problems with wildcard generics and their erasures I tried to specify things out completely , by replacing the unbound wildcards with Object . The error message still persists.Now from how I understand it , the first existing overload should erase to Collection < Map < Object , Object > > and the second one should erase to Collection < TeObjectWrapper > .The only way these could be the same erasure is , if TeObjectWrapper implemented Map ( or extended one of the Implementing classes of Map ) , but this is not the case . That can be seen in the supertype hierarchy of TeObjectWrapper : Why does the compiler consider the erasures the same and how can I make him not think that ?"
"We currently use Beyond Compare 3.0 and I am quite pleased with it . However , it would be great if I could easily specify an exclusion for a specific one-time case . This is needed when I am doing a code review of some refactoring . For instance : Old codeNew code : In this case , I have hundreds of changes that I am reviewing that are essentially all the same exact change and I just want to see the exceptions . It would be great if I could easily specify an exception that indicates these two cases are equal . I know of a way to do it in the grammar , but it is tedious and cumbersome in the case where there are ten or so exceptions.Any other tips ?"
"I have integrated some HTML/JS Code into my Vaadin WebApplication by creating an AbstractJavaScriptComponent . The Component almost works as intended.How do I call the passInfo ( ) method defined in the `` connector.js '' without having to manually click the Button defined in the innerHTML of the `` chessControll.JsLabel '' Component in `` chessControll.js '' . My Goal is to pass Information , when the onChange Event of the init ( ) function is called , which is located in the same file `` chessControll.js '' , but not part of the Component.I have already tried to create a Custom Event and then dispatch it whenever onChange ( ) in the init ( ) function is called , it worked as long as I did n't listen for the Event inside of my Component ( chessControll.js , chessControll.JsLabel ) . It seems it can only be accessed in a static way.How can I access the chessControll.JsLabel in `` chessControll.js '' from the init ( ) function and then dispatch the button click or listen for events inside the component to achieve the same ? connector.js : chessControll.js :"
I am trying to use putextra ( ) and getextra ( ) but my program is crashing after implementing itGo through my code and let me know my mistakeIf I am not using getextra ( ) and putextra ( ) the code is working flawlessly This is 1st class from where I am getting the valueNow the Second class where I am trying to Pass the item name } Or is there any other way to carry data from one page to other page other than putextra ( ) and getextra ( ) .Here is my LOGCAT
"I 've written a streams implementation that performs four simple reductions ( + and < ) on the lines of a file.At first I performed four streams , but I decided to write my own accumulator and combiner so that I could perform all four reductions in one stream . On small data sets ( 10,000,000 lines ) this reduces runtime to about 1/4 as expected , and runs in 14 seconds on my hardware.Results : :accumulate and Results : :combine correctly combine Users into Results and Results with Results respectively , and this implementation worksgreat for small data sets.I tried using .reduce ( ) as well , and results are similar , but I tried .collect ( ) to reduce the creation of short-lived objects.The problem is that when I use real-world sized data with 1 billion lines I am hitting an issue that suggests that Java 8 streams are incapable of the task . The heap memory is observed in JConsole to climb to the allocated 12 GB in a roughly linear fashion and then OOM.I was under the impression that the collector or reducer would provide performance comparable to an iterative solution , which should be bounded by CPU and IO but not memory , because the reduction step produces a Result that does n't grow , it 's a reduction ! When I take a heap dump and put it into jhat I see that about 7GB is taken up with Strings , and these strings can clearly be seen to be the lines of the input file . I feel they should not be in memory at all , but jhat shows a very large ForkJoin related structure being accumulated in memory : There are other references in ApplicationShutdownHooks , Local references , and System Classes , but this one I show is the crux of the problem , and it causes the memory to grow O ( n ) when Does the streams implementation make this O ( 1 ) memory problem O ( n ) memory by holding all the Strings in the ForkJoin classes ? ? I love streams and I do n't want this to be so : ("
"Since I could n't find a standard implementation of it I created this little class , but I think something simple as this should exist somewhere already : The purpose of it is to exchange a value between two threads ( main thread + EDT in my case ) . From the code using the getValue ( ) method it looks almost like a Future , but the Future implementations I found expect the caller to provide the code to be executed , which does n't work in my case.So my questions are : Is there a name for such a thingy ? Is there a standard implementation for it in java or scala ? Is my implementation even correct ?"
"I have a rollback exception with hibernate on my service `` duplicateContract '' The problem is , I just ca n't debug that , there is an error with the persisted object somewhere but I have no clue ( it 's not a timeout or missing @ Transactional ) . How can I get more details for this exception ? ( maybe somewhere in oracle log ? but where ? ) ."
"I found code examples in internet for reading the data from the latest version of Google Sheet as below : But I can not find any examples , to access a particular version of the Google Sheet and get a cells value in that revision.Also please let me know , if the above requirement can be completed using google spreadsheet APIs ."
"I´m developing an application for Liferay 6.1 EE GA3.Under the control panel , we have the section Private plugin installer where we can install / deploy new portlets . I was using the panel and the section was workng correctly.Then i tried to install a custom portlet . For some reason the installation failed and i removed the portlet from the `` deploy '' folder and i even restarted the server . This portlet don´t do anything very special , it just runs some custom queries against Liferay´s Lucene search engine.And then , after this process , the section `` Server > Plugins installation > Private plugin installer '' kind of `` disapeared '' from my screen . Below are the screens that i see when i acess the sections `` Server > Server Administration '' and `` Server > Plugins installation '' ( you can see that it appears empty , without the link for the Private Plugin installer ) : Screenshot 1 : Server > Server Administration ( showing an empty screen ) Screenshot 2 : Server > Plugins installation ( showing an empty screen ) Here is the screen where you can see that my user has all the necessary administrative permissions to install plugins : Screenshot 3 : My user profile and permissionsIn the screen below you can see that the Private Plugin installer Hook is installed in the webapps folder ( in fact it already was installed all the time ) as are some others hooks , themes and portlets : Screenshot 4 : Tomcat´s webaaps folderHere is the content of the /html/portlet/admin/view.jsp and /html/portlet/admin/view.portal.jsp ( with the initial comments removed from the code ) . Those files were not manually edited.Content of /html/portlet/admin/view.jspContent of /html/portlet/admin/view.portal.jspThanks for your attention"
"Sorry for really stupid question , I 'm learning a new language and taking this code : Why the output does not produce `` ] '' character ? Has it something to do with Unicode ? PostEdited : the variable E.c was not initialized for experimentation purpose ."
"I have the following code : This works fine on my computer and on my Android device . I get strings like 0product0 etc.BUT in production , on users ' Android devices , I get strings like : Does String.format ( ) not work OK when starting with a number ?"
"I 'm using removeNumbers to remove all numbers in a given string with the regex '' ( ^| ) \\d+ ( $ | ( \\d+ ) + ( $ | ) | ) '' Here 's the code : Output : Is there any better way to do this ? Edit : As suggested by @ mbomb007 in his previous answer , the regex `` ( |^ ) [ \\d ] + ( | $ ) '' works as well :"
"Just trying a hands-on the java.lang.Record . I have gone through the documentation and the JEP-359 for some understanding . So upon reading about the implicit declaration of the constructor I thought of mixing it up with an existing code generation library - Lombok ! Now what I 've ended up creating as a minimal reproducible example is this recordwhich when compiled using IntelliJ successfully produces the class file which looks like Note that the constructor for the .class file is just what I would have expected in the two worlds independently as well . But , further trying to create an instance of this record fails during compilation in IntelliJ : I would create a further simpler example to perform the compilation with javac and execution with java tools . I am still looking for an answer if this is a possible expected behavior that could occur because of something I might have overlooked ? This is how it reflects in IntelliJ for both the cases - with and without the @ AllArgsConstructor ."
"my Splash activity does n't change , it only changes if I change the name to another.For example : '' SplashActivity '' - Start with a ModificationIf I change the theme to another color , I need to rename the activity to : '' SplashActivityy '' or some other name than it was.If I go back to the name `` SplashActivity '' the modification goes back to later.Already formatted and cleared cache of android studio , this did not help ! AndroidManifest.xmlSplashActivity.javaApp.javaStyles.xmlbackground_splash.xmlEDIT : problems just like mine : Splash Theme is not changing anymoreEDIT 2 : I asked a question in a thread to find out what was going on in my code , after a while fidgeting I did n't find walks on the internet related.Already tried to clear cache , recreate the application , cleared the cache of files , already did everything in android studio.After a while I found something talking to restart the application that would appear to change.But I do not want the user to install my application to have to restart the application to appear the changes in the theme . How can I solve this problem ?"
i just stumbled onto this comment . in the 1.5 java source.what does this comment mean ? is it a reference to a book ? a spec ?
"Primitives are at it again , breaking rules , I learned before . Well not technically primitive but composed of them.I learned that whenever there 's no method more specific than rest , compile time error occurs as it happens here.Now comes primitives into the picture.Expected compile time errors occurs here.Now my question is , int [ ] , float [ ] , or any array of primitives are not primitive types then Why are they treated differently than other reference types ? -- UPDATE -- @ john16384 You do n't think I read your `` Possible duplicate '' Varargs in method overloading in Java Top answer there says You can not combine var-args , with either widening or boxing . Besides I forgot to mention , OP 's code posted there , works fine on my jdk 7.What exactly is going on which works for ( int ... is ) & ( float ... fs ) but not for ( Integer ... is ) & ( Float ... fs ) and not for ( int ... is ) & ( boolean ... bool )"
"Recently , I 've noticed , it is possible to have : Is there a reason for this ?"
"Each time our new android app released , I need to update app info on our website . So I try to update the app info automatically , by read the AndroidManifest.xml in the apk when uploaded to server.I use AXMLResource and jdom2 to get the AndroidManifest.xml and parse it.But I always get , The prefix “ data ” for attribute “ data : versionCode ” associated with an element type “ manifest ” is not boundAnd I print the AndroidManifest.xml , and found the data namespace is unclared.When I check android studio doc and found there use declared namespace.Then I think this may be caused by our app developers 's Irregularities.But when I think further , why app with AndroidManifest.xml with undeclared namespace can released , then I download some apks like facebook , youtube , centos , baidu disk and alipay , and found only centos does n't use undeclared namespace.For com.google.android.youtube.apk The prefix “ http ” for attribute “ http : versionCode ” associated with an element type “ manifest ” is not boundFor com.facebook.katana-225.0.0.47.118.apk The prefix “ manifest ” for attribute `` manifest : versionCode ” associated with an element type “ manifest ” is not boundSo here is comman to use undeclased namespace in AndroidManifest.xml , but how can I pase it ?"
"I have a simple sticker widget that allows the user to select one of the stickers upon placing the widget . My problem is that once the device is restarted , the sticker reverts to the default one . How can I ensure that the user selected sticker remains regardless of whether the device is restarted or not ? An example or push in the right direction would be very helpful . I 'm not looking for anyone to do it for me , just to be educated on how to go about doing that . Thank you.EDITIncluded CodeI 'm not sure but I think I 'm going about this all wrong . I have no clue how to incorporate SharedPreferences the way I have it now . Could someone give me an example of how I should go about doing this with at least one of the images I 'm using please ?"
"Is there any guarantee that an object will not be garbage collected while a thread holds its monitor ? e.g.In this case concretely , is there any guarantee that b will be non-null if thread2 ( ) is called while another thread is sleeping in thread1 ( ) ? Let 's just assume the whole of thread2 ( ) is executed while thread1 ( ) is sleeping in a different thread ."
"I need to implement current formula.It is for scoring the nodes in a taxonomy . Basically , the score of a node depends on the amount of child nodes and their scores ( ( nodes ( h+1 ) ) is the amount of nodes on the next level and Cl ( concept ) is a set of children ) .In my usecase term frequencies are only defined for the leaves as of now . I have made an implementation , but the issue is that when there are 2 children for the node then the implementation only goes to one side . For a given taxonomy : the frequencies are given : freq ( 11 ) = 3 , freq ( 13 ) = 5 and freq ( 17 ) = 10 . When I try to get the score for node ( 1 ) , the result is 0.0 , because the recursion does n't go into descendent node ( 4 ) , it retrieves only freq ( 17 ) and that 's it . Normally , the result should be 7.Here is the implementation : NOTE : subTaxonomy - stores the nodeID and its level in the taxonomyfrequencies - store the frequencies for leaf nodes.I also created a snippet at Ideone : SourceHow should I edit the code , so that it traverses all over the children for a given node ? UPDATESo now , in updated source , it traverses all over taxonomy , but the result is 0.0 still ."
"I have some code that uses the Swing/AWT printing functionality that I want to unit test . It uses the systems native print dialog , but is there any way to get the JVM to intercept that and replace it with a mock during unit testing so that I can get a copy of the image that would be printed ? My code for printing is straightforward and looks roughly like this : I 've been using FEST for my other GUI tests but it does not seem to have any support for printing tests . Is this even possible to do , or will I need to write up testing documentation that involves telling QA to go check their printer ?"
"I made a Java agent which is attached to a JVM during runtime and instruments all the loaded project classes and inserts some logging statements . There are 11k classes in total . I measured the total time taken by the transform method of my ClassFileTransformer and it was 3 seconds . But the duration of the whole instrumentation process takes about 30 seconds.This is how I retransform my classes : I assume most time is taken up by the JVM to reload changed classes . Is that right ? How can I speed up the instrumentation process ? Update : When my agent is attached , is called only once.Then MyTransfomer class instruments the classes and measures the total duration time of instrumentation : After all the classes are instrumented ( from the initial array ) ( a global cache keeps track of the instrumented classes ) total is printed and it will be ~3 seconds . But max-min is ~30 seconds.Update 2 : After looking at the stack trace this is what happens : I callwhich calls the native method retransformClasses0 ( ) . After some time ( ! ) the JVM calls the transform ( ) method of the sun.instrument.InstrumentationImpl class ( but this method takes only one class at a time , so the JVM calls this method multiple times consecutively ) , which calls transform ( ) on the sun.instrument.TransformerManager object which has a list with the all the ClassTransformers registered and calls each of these transformers to transform the class ( I have only one transformer registered ! ! ) .So to my opinion , most of the time is spent in the JVM ( after retransformClasses0 ( ) is called and before each call to sun.instrument.InstrumentationImpl.transform ( ) ) . Is there a way to reduce the time needed by the JVM to carry out this task ?"
"I have one repository in two different folders ( folder1 and folder2 ) . Within repositories has a `` oldFile '' fileIn the folder1 I do the following steps : After that , in the folder2 I do next steps : In this case I want to get a merge conflictAnd I want to see pulled files . I got the example from here.In pullResult.getMergeResult ( ) .getMergeConflicts ( ) I have only file oldFile and the diffs collection is empty.In a simple case ( when I do n't change the `` OldFile '' from folder2 ) the diffs collection is not empty - it has 1 the file `` newFile '' and pullResult.getMergeResult ( ) .getMergeConflicts ( ) is emtpy ( it 's obviously ) .What do I do wrong ? I want to get conflicted files and successful pulled files ."
"I want to use CoreNLP in my Android project . But when I create a CoreNLP instance like this : The project links to the following .jar files : ejml-0.23.jar stanford-corenlp-3.4.1.jarstanford-corenlp-3.4.1-models.jarOn my desktop java environment with java 1.8.0_92 , this code runs correctly , but when running the code on an Android ( after compiling without error ) , I am getting the error when the NLP class is instantiated : Caused by : java.lang.IllegalArgumentException : Ca n't return head of null or leaf Tree . at edu.stanford.nlp.trees.AbstractCollinsHeadFinder.determineHead ( AbstractCollinsHeadFinder.java:158 ) at edu.stanford.nlp.trees.AbstractCollinsHeadFinder.determineHead ( AbstractCollinsHeadFinder.java:138 ) at edu.stanford.nlp.pipeline.ParserAnnotator . ( ParserAnnotator.java:132 ) at edu.stanford.nlp.pipeline.AnnotatorImplementations.parse ( AnnotatorImplementations.java:132 ) at edu.stanford.nlp.pipeline.StanfordCoreNLP $ 10.create ( StanfordCoreNLP.java:719 ) at edu.stanford.nlp.pipeline.AnnotatorPool.get ( AnnotatorPool.java:85 ) at edu.stanford.nlp.pipeline.StanfordCoreNLP.construct ( StanfordCoreNLP.java:292 ) at edu.stanford.nlp.pipeline.StanfordCoreNLP . ( StanfordCoreNLP.java:129 ) at edu.stanford.nlp.pipeline.StanfordCoreNLP . ( StanfordCoreNLP.java:125 ) I am using CoreNLP 3.4.1 . It 's not the most recent version , but it works with Java 7 on Android . How can I use CoreNLP correctly on Android ?"
"In the documentation for public Object get ( Object obj ) method in the Field class it is stated that The value is automatically wrapped in an object if it has a primitive type.and for public void set ( Object obj , Object value ) that If the underlying field is of a primitive type , an unwrapping conversion is attempted to convert the new value to a value of a primitive type.So am I right that the only purpose of the specific primitive getter and setter like getInt and setInt is to prevent a redundant type conversion ? Since this code works fineI am asking if someone knows a scenario that needs you to use these methods aside from performance reasons ."
"So , lets say I have some game , take Pong for example . Obviously , you generally speaking do n't want to mix game-logic into graphics classes , so the class for Ball or Paddle is sepearte from the JPanel which actually draws them . Ball has the movement logic for the ball , its current location , hit detection , etc . However , is it bad practice for me to use graphics classes from Swing and awt in my Ball class ? For example , if I were to use a java.awt.Rectangle to determine the hitbox . Even though I am not drawing it in this class , I am using it . Or if I were to use Java.awt.Point to store coordinates . By the way , the reason I am asking is because I have been told many times on this site not to mix graphics with other parts . Using Rectangle in non-graphics class : ( Is this bad practice ? ) My Graphics class :"
"I have the following as AppCompatSpinner 's entries : Upon selecting Pick a time.. , a TimePickerDialog is opened and the user is allowed to choose a time . Here 's how : Upon selecting Pick a time.. the first time , TimePickerDialog is successfully opened and the chosen time is shown but when I choose it again or click on it again , nothing happens ! I do n't know why ! Please let me know how can I get the TimePickerDialog opened and chose the time no matter how many times I select/click it ."
I had a coding interview over the phone and was asked this question : Given a String ( for example ) : `` aksdbaalaskdhfbblajdfhacccc aoudgalsaa bblisdfhcccc '' and an expression ( for example ) : `` a+b+c- '' where : + : means the char before it is repeated 2 times - : means the char before it is repeated 4 times Find the number of times the given expression appears in the string with the operands occurring non continuously and continuously.The above expression occurs 4 times : I had no idea how to do it . I started doing an iterative brute force method with lots of marking of indices but realized how messy and hard that would to code half way through : After spending a lot of time doing it iteratively he mentioned recursion and I still could n't see a clear way doing it recursively and I was n't able to solve the question . I am trying to solve it now post-interview and am still not sure how to go about this question . How should I go about solving this problem ? Is the solution obvious ? I thought this was a really hard question for a coding phone interview .
"I am designing a game engine in Java.At the core of this engine exist the two classes Asset and Attribute , where an Asset has a list of Attributes . Most Attributes need no link back up to their Attribute , meaning that Attributes can and often do appear in the lists of more than one Asset . However , there is an extention of Attribute called UniqueAttribute , which is an implementation for those that are specific to their Asset , and utilise a link back.Ideally , my Asset 's addAttribute method would look something like this if I cut out the other code : Unfortunately , since they live in different packages , UniqueAttribute.setAsset ( ) must be public . This leaves the method open to outside users of the engine to mess with , and while I could just handwave it off by saying using this method directly is a bug - it seems rather sloppy.The second option is to provide the UniqueAttribute with the Asset on construction , meaning that the code at the point of creation would look something like this : While I can add a check-and-throwable or assert to confirm the correct asset is passed in , I am basically relying on the user to connect the two , which I also would prefer not to do.The third option is to bite the bullet and put 50 java files all into the same package so that I can just use the standard visiblity.Is there some kind of pattern or something that will help link these two together without exposing the wires , or forcing me to put everything into one massive package ? Irrelevant rant : I have always disliked that the concept of subpackages in java has not really been expanded in any meaningful way . A subpackage , as far as java is concerned is simply a different package , and there have been many occasions I could do with more visibility modifiers directly related to this ."
"I have a question about Java generics . Say I have the following interface : An example of usage : I would also like to be able to add Something < Integer > , Something < Double > , ... to the a Manager < Number > . I would say I have to change the signature of the add-function : So far , so good . Let 's look at a possible implementation of the manager : This fails , since you can not add a Something < ? extends T > to a Map < X , Something < T > > . So let 's change this : This fails since map.get ( key ) returns Something < ? extends T > while the get-function is required to return Something < T > , as defined in the interface.What is the common approach to solve this ? Thanks !"
"What 's the sense of this class definition , what 's kind of class is that ?"
"I 'm currently exploring Guice capabilities and faced a strange behaviour - when I declare variable asinjection works as expected , but when I want to declare dragon2 as interface ( it implements Creature ) , i. e. I get an error No implementation for warlock.rincewind.creatures.Creature annotated with @ com.google.inject.name.Named ( value=dragon ) was bound.Here 's my provider method : I know , there are lots of different ways to overcome this ( the simplest one is change provides return type to Creature ) but I 'm trying to get the reason for such limitation ."
"Using ZeroMQ .Context and .Socket instances , I am able to push/pull messages for example below my code for a Queue like setup : My questions are : Q1 : How to implement an active / standby mode in queues ? I mean there will be 2 queues , created for one host and port , if one queue ( the active ) fails , another ( i.e . the standby ) queue , will be started immediately to listen/pull messages.Any example or guidance to implement it , will be more helpful.Q2 : Is there any built-in Class to do this type of task ?"
I am new to java . I had a doubt .
i was working on the basic java program and i found verry funny thing which i am sharing with you . foo ( ) gives output ( s==s1 ) = false and bar gives ( s==s1 ) = true.I want to know why this happens .
"I have a code where my client send an excel file to the server . The server ( SpringBoot ) needs to 'translate ' the MultiplartFile to an excel File.From then , the data needs to be inserted into a database.However , I never need to generate an excel but rather should insert the data from the spreadsheet into the database directly.I first tried with : The output returns strange symbols.Then again i tried with : The console output shows strange symbols.How can i read the data from the excel file uploaded ?"
"I 'm using a PostUpdateEventListener registered viaand a few other listeners in order to track changes made by Hibernate . This works perfectly , however , I see a problem there : Let 's say , for tracking some amount by id , I simply executeon every POST_COMMIT_UPDATE ( let 's ignore other operations ) . The problem is that this call happens some time after the commit . So with two commits writing the same entity shortly one after the other , I can receive the events in the wrong order , ending up with the older amount stored.Is this really possible or are the operations synchronized somehow ? Is there a way how to prevent or at least detect such situation ?"
"Is it good programming practise , when dealing with multiple classes that need the same instance of variables , to create one central one ? For example : I have a class with a set amount of variablesI have another class that needs the same variablesAnd another that needs the same variables as the firstSo I have three classes that all use the same instance of variablesI only create the variable class instance using the first class ( 1 ) I access these variables using classes ( 2 ) , ( 3 ) through the class ( 1 ) Example : ( while in classTwo ( ) ) : EDIT : In basic form , my question is if it is OK to make a central 'variable class ' and use other classes to access the same isntance of it through a main class.I know my question is hard to understand but Im sure there is another , easier way . I tried passing the same instance of the first class through the constructor of the second and third classes but my solution some how seemed simpler ."
"Suppose you start with an auto-generated methodAnd write a test for itThen 3 month from now you decide that a more appropriate name for the method would be changeKeyTo . You refactor your production code and end up with : Life is good , however , your test name remained unchangedHow do you deal with something like this ? Can you refactor test code automatically with your production code ? Does eclipse allow this ?"
"Our application sends strings which then shall be localized on client side . Sometimes those are whole strings , sometimes only substring , so we have to mark them . It would be the best if it only used Unicode as it would n't require any protocol changes.Example : where 10 is length in cm but it should be converted so it is displayed as inches or mm.Are Unicode special characters ( 0xFFF0-0xFFFF ) right choice for marking such special substrings in text ?"
I use two Interfaces : My problem that I want to register a Distributor in a Distributor e.g.Distributor < Object > ==register== > Distributor < String > My first thought was to change the register method to register ( Receiver < ? extends T > receiver ) . But if I want to get the Classes the receiver is intrested in the Method getInterests would return something like Set < Class < ? extends ? extends T > > . Indirect I get something like Set < Class < ? extends T > > but I experienced that transitiv wildcards are not possible in Java.Got anyone an idea ? EDIT : As an example :
"Here is the original link , http : //electrotek.wordpress.com/2008/08/06/singleton-in-java-the-proper-way/I am asking why we can call the function doStuff this way in Java ."
"I am implementing a Java application using the Swing GUI framework on macOS . When using the system look and feel and a screen menu bar , Swing automatically inserts a search field called Spotlight for Help into the first menu labelled `` Help '' of the menu bar of a frame : As my application is localized , the English string `` Help '' is different in other locales ( e.g . `` Aide '' in French ) . But in those cases Swing does not insert Spotlight for Help since the string is different :"
"While investigating the subtler consequences of generational garbage collectors on application performance , I have hit a quite staggering discrepancy in the performance of a very basic operation – a simple write to a heap location – with respect to whether the value written is primitive or a reference.The microbenchmarkThe resultsSince the whole loop is almost 8 times slower , the write itself is probably more than 10 times slower . What could possibly explain such a slowdown ? The speed of writing out the primitive array is more than 10 writes per nanosecond . Perhaps I should ask the flip-side of my question : what makes primitive writing so fast ? ( BTW I 've checked , the times scale linearly with array size . ) Note that this is all single-threaded ; specifying @ Threads ( 2 ) will increase both measurements , but the ratio will be similar.A bit of background : the card table and the associated write barrierAn object in the Young Generation could happen to be reachable only from an object in the Old Generation . To avoid collecting live objects , the YG collector must know about any references that were written to the Old Generation area since the last YG collection . This is achieved with a sort of `` dirty flag table '' , called the card table , which has one flag for each block of 512 bytes of heap . The `` ugly '' part of the scheme comes when we realize that each and every write of a reference must be accompanied by a card table invariant-maintaining piece of code : the location in the card table which guards the address being written to must be marked as dirty . This piece of code is termed the write barrier.In specific machine code , this looks as follows : And this is all it takes for the same high-level operation when the value written is primitive : The write barrier appears to contribute `` just '' one more write , but my measurements show that it causes an order-of-magnitude slowdown . I ca n't explain this.UseCondCardMark just makes it worseThere is a quite obscure JVM flag which is supposed to avoid the card table write if the entry is already marked dirty . This is important primarily in some degenerate cases where a lot of card table writing causes false sharing between threads via CPU caches . Anyway , I tried with that flag on :"
"I 'm making my very own version of Java 's Stream library for fun . Here 's my class signature : Also , I wrote a basic infinite stream iterator that would generate an infinite list based on the given function : The function generate is a special case of iterate that repeats a given element forever . In the function above , I 'm generating an infinite sequence of null to indicate the end of the stream ( I do n't think I 'll be storing null values in the stream ) .I then wrote a reduce function where the reducing function is lazy on its second argument : Building upon the reduce function , I wrote the filter function.Finally , I proceeded to use my very own Stream class : But filter is n't lazy ! From the output given below , I think filter evaluates the elements until it finds one that matches the given predicate.What 's wrong with my code , and how can I make my filter function lazy again ? Update : Based on Sweeper 's remarks , I had another go at the filter function without using reduce.However , this function is n't lazy as well . The output of my main function using filter2 is as follows : How can I fix this , and is there a way to implement a lazy filter through a lazy reduce ? Acknowledgements : This exercise and the implementation of the above functions were inspired by the book Functional Programming in Scala by Chiusano and Bjarnason ."
I have the sample code below : and the following exception was thrown My question is why I am not able to add new string to my list ?
"There many ways to get a good security for REST ( easy ) services . I tried already . In this case only is a Basic Authentication needed . So , not based on login , RequestFilters , etc . Please focus on this example . While adding security to one RestEasy 'post ' method , I keep on getting 401 exceptions . How can I get secure access to the 'post ' ? I used the the Authenticator code of Adam Bien / Atjem König . Without the security settings in the web.xml I get normal access , so that part of the code is working fine . I do n't need/want any login-screen in between . Tomcat users : conf/tomcat-users.xml : Web.xml file : Application class : Authenticator utils : Resource class and method : Client class :"
I added this recursive BubbleSort algorithm to my game which runs on lwjgl . I 'm trying to sort an ArrayList of `` Cloud '' objects by a float which is the speed of this cloud.For some reason sometimes I get a `` java.lang.StackOverflowError '' at the line I invoke the method in itself.Here 's the code : And here are the errors I 'm getting :
"I have a static function with the following signature for a generic type Twhich should return a list of map keys with some property.Now I want to pass a generic HashMap of type Sin calling the static function within a generic class , which has the map as a member variable.I have listed a minimal code example below.However , I get an error message ( S and T are both T 's but in different scopes of my code , i.e . T # 1 = T , T # 2= S ) : How can resolve this issue ? I am surprised that Java does not allow inferring a generic type from a generic type . What structure in Java can one use to work with that kind of more abstract code reasoning ? Code :"
"What is the reason of the exception message complains about duplicate key but shows the value instead ? Instead of show `` John '' as the duplicated key , it show `` 40 ''"
Apologies that is probably the worst Title I 've used but I ca n't quite think how to word it.I 'm calling a method table.getColData ( COL_1 ) which returns a genericI am calling it twice and getting two lists of strings . I want to concatenate these and have ended up with this - which works nicely I think . I ca n't find a way to avoid the 2 declarations though without getting an error as the concat thinks it has a list of objects that are not Strings ( prompt : change type of c to List < Object > ) ? Is there an easy way to do this to make it look a little more polished ? !
"I am trying to develop an ObjectPool , which can be used with any Object without changing the source of neither the Pool nor the Object - but I can´t find any way to write the get ( ) -function ( `` Maincode '' getting some Object from Pool ) as there is a Type-Mismatch ( Can not convert from Object to TestObject ) Here´s my code so far : ObjectPool : In objects ( ArrayList ) there are all the objects in the pool , availableObjectsjust contains a list of all available objects . I am basically just returning the first available object and mark it as unavailable.Maincode : How can I make the get ( ) -Method more generic/specific so it works without adapting the pool everytime I use a different class and without parsing on the maincode ? Update : With a more generic version of that Pool , how would the get ( ) -method look like correctly ? ( Any other feedback greatly appreciated ! ) Update : Working ( Fixed ) Version of the MainCode belowUpdate 2 : I just realized that it can´t work like this , I need to create new Objects in the Pool - which seems hardly possible to do without adapting the Pool for every kind of Object.So can I somehow remove the reference between all the Objects in the Pool ? ( As I use baseObject to initialize all Objects , I actually only have 5 references to 1 Object ) Or is there a better way to manage it ? ( Without forcing the user to create the Objects in his Code ) Complete Code so far : ObjectPoolMaincode ( Original ) Maincode ( Fixed ) TestObject only contains a single int for testing purposesError"
"I was going through the Martin Odersky 's book Programming in Scala with it 's section on abstract modules , and his paper Scalable Component Abstractions : http : //lampwww.epfl.ch/~odersky/papers/ScalableComponent.pdfMy takeaway is that by making your modules abstract classes instead of objects ( or classic static , global modules like in Java ) : you can the instantiate multiple subclasses and instances of a module with different concrete characteristics . This lets you configure the module differently depending on the circumstances ( e.g . substituting the database component during testing , or the IO component when in a dev environment ) as well as instantiating multiple modules each with their own set of module-scoped mutable state . From what I can understand , on a basic level , it 's only hard requirement is that you can have nested classes , such that the enclosing class can act as a module . It 's other practical requirement is that you can spread out the class definition over multiple files , since a module with a bunch of classes in it is probably more lines of code than most would accept in a single source file.Scala does this with Traits , which bring some other goodies which are nice but not central to the whole spread abstract-module-class over multiple source files idea . C # has partial classes , which provide the same functionality , and also allows nested classes . Presumably some other languages have similar support for nested classes , as well as splitting a class over multiple files . Does this sort of pattern occur anywhere in C # or any other languages ? I would think large projects in many languages face the problem that abstract modules are meant to solve . Is there any reason this `` abstract-class as abstract-module '' thing does n't work , and therefore is not used ? It seems to me a much cleaner solution than the various DI frameworks with offer kind of the same functionality ."
"In my Java 8 app , I am scanning for whitespaces in text passed in . But \s in my Regular Expression does n't capture all whitespaces . The one whitespace that I 've found that it does n't capture so far in my testing is Non-breaking Space ( Unicode 00A0 ) . This was my regular expression that was running into that issue : To solve this , I added \h to my Regular Expression : Now , are there any other whitespaces that I need to be aware of that wont be captured by \s\h ?"
"I come from an Actionscript3 background and this is my first time writing any Java in my life . Hashtables seem to be similar to Dictionaries in Flash , but I want to make sure I am using them correctly . I believe the Hashtable is typed to accept Strings as keys and Typefaces as objects . Is this correct ? Is there a different Collection sub-class that would be more appropriate for something like this ? By all means , please tear my n00b Java up . I need to learn this ."
"I 'm trying to understand Generic types in Java , and in theory it looks understandable , but when I need to apply it to real code I have problem . I want to declare abstract method which will return generic type . Let 's assume that I have some empty interface called Magicable and 2 class implements it : Magican and Witch.Now I wonder what is the difference between those 3 declarations : In first case I have problem when I want to implement body of this method in some class which extends the abstract class : I have warning message : Type safety : The return type List < Magican > for getMagicable ( ) from the type MagicanService needs unchecked conversion to conform to List < Magicable > from the type MagicableService.In second case I do n't have this warning , but I have problem in abstract class in which I declared above abstract method : In this case I have compilation error in getMagicables ( ) call : Type mismatch : can not convert from List < capture # 2-of ? extends Magicable > to List < T > Third case causes compilation errors in both abovementioned places of code . I do n't think if it is properly solution in my case ."
"I 'm trying to ingest a mp4 file and make it a timelapse . It works with the code attached below . However , the output file has frame rate of 16*originalFrameRate . Since I do n't intend to play it as a slow motion video I 'd prefer to drop those redundant frames to make the output file smaller.I was unable to find any examples of how to change the output frame rate ."
"I 'm trying to solve the multithreaded bank account problem* without using locks but using multiversion concurrency control . It 's working . It 's just a bit slow . How can I speed it up ? ( * ) I have 5 users , each starting with 200 - each randomly withdrawing 100 and depositing 100 into another bank account owned by another user . I expect bank balances to total 1000 by the end of run . No money should be lost or created . This part works with my implementation below.Output I receive : How do I make it efficient ? I 'm sure Postgres does n't let transactions run thousands of times before admitting them.Someone said the code was obfuscated . This code reads a value ( and records a read ) like an SQL read statement . The code needs access to the name of the field being accessed as well as the actual value being accessed . This is why the code is written like this . The following code says : Read the field name generated by this function , store the name into fromAccountName and store the resulting value into fromBalance ."
"I have very simple thing to do , i have list of persons like this : Result of this array should be : Adam ( true ) , John ( false ) So i need to return list of latest entries from users , in this case John first confirmed that he is attending , then he changed his mind and told that he is not attending so i 'm returning his last entry ( note that sometimes it 's written JOHN and sometimes John but it is the same person , that is kind of tricky part ) My question what is best approach to filter out this kind of list , i was thinking applying `` unique by property java stream '' but first will need to order persons by date descending and names ( to upper/lower case ) and then i would need somehow to take latest entry.Anyone have any good idea what is best approach to this ?"
"given the interfaces ( which are very large and generated out of language definitions ) : Now compiling the interface VisitorA ( containing of about 2.000 overloaded methods ) needs about 10s.Compiling the interfaces VisitorB and VisitorC needs each about 1.5 min.But when we try to compile the interface VisitorD , the Java 8 compiler needs about 7 minutes ! Has anybody an idea why it needs so much time to compile VisitorD ? Is it because of the inheritance of the default methods ? Or is it because of the diamond constellation , VisitorB as well as VisitorC extend both VisitorA and VisitorD extends VisitorB and VisitorC again ? We already tried around and the following solution helped a little bit : And now the compilation time of the visitorD needs only about 2 minutes.But still this is a lot.Has anybody an idea how to reduce the compilation time of VisitorD to a few seconds ? If we remove the two extends relation of VisitorD , extends VisitorBPlain , VisitorCPlain , then the compilation time of this interface needs about 15s - even though it has about 5.000 default methods . But we need the that VisitorD is compatible to VisitorB and VisitorC ( either by direct extension or the indirect one with the intermediate Plain-interfaces ) for casting reasons.I also read the answers to the similar question : slow JDK8 compilationbut there the problem seemed to be the with generic type inference : '' There 's a severe performance regression in Java 8 when it comes to overload resolution based on generic target typing . `` So this is kind of different , if anybody would have a tip or a goodexplanation why it is so ; I would be very thankful.Thank you , Michael"
"The following code for Integer uses object interning : It is not clear from API documentation whether this code for Boolean also uses interned object : Obviously , it may . But does it have to ? UPDATEI agree that source code can explain what actually happens ( BTW , thanks for the answers ) . To make the question less trivial , is there any part of Java API spec or JSL which tells what MUST happen ? It was natural to ask the question against the code like this : The outcome depends on whether `` object interning '' is guaranteed or not . It 's better to avoid this code altogether and use true instead of Boolean.TRUE ( rather than looking up details in any specs or sources ) , but it is a valid reason to ask the question.NOTE : In fact , I did n't see guarantees of object interning for Integer in any googled specs . So , it may all be just an implementation detail nobody should rely on ."
"I have a method to rotate images but I always receive an OutMemoryError , but my images in the gallery iare taken from camera and size width is 5000~ from phone I resized photo to width 1280 and height 960my first method for show and resize image is And my method for rotate image is where is my error ? * -- -- -- -- -- -- -- -- -- -**UPDATE JUN 27 2016 ** -- -- -- -- -- -- -- -- -- -*MY CODE HAVE A BEST VERSION WORK FINE"
"My IDE ( IntelliJ IDEA ) is telling me that I have the option to remove the braces on this if statement : To become : I understand how this makes sense , and it 's tempting to lose the indent , but my concern is that readability may suffer . The latter looks cleaner , but is the space saved worth the potential confusion ? I assume the performance difference between the two is trivial , if at all.And as a follow up question : Is there a limit to how many 'if ( condition ) 's you can fit in a single line , or rather at what point does it become too many ?"
"I have a BigDecimal List such as : Then , I have another List of Integers : These integers refer to the index by which I want to reorder the first list . So , I would like to reorder the first list to be : I 'm using Java 8 ."
"I am creating a custom class to set the max height of a NestedScrollView , based on the answer provided in this StackOverflow question : How to set the Maximum Height for a NestedScrollView in Android ? However , when I include the custom class ( MaxHeightNestedScrollView ) in my activity_main.xml code layout , there is no scrollbar appearing when the TextView inside the MaxHeightNestedScrollView exceeds the defined max height . Below is the code for MaxNestedScrollView : Below is the code for the attrs.xml file in the values folder : Below is the code for activity_main.xml :"
"Due to a bug in the sigar library version I am using ( returns bogus values for swap ) , I tried using com.sun.management.OperatingSystemMXBean instead . This worked fine and gave me the desired results ( on Windows ) .However this breaks with java 9 . Is there another way to query swap file / partition information using java ? I do n't want to introduce a new library or version of sigar.Cross platform solutions appreciated but windows is enough : -- ) Thanks"
"& & is a short-circuit operator evaluated from left to right , so if the operand on the left side of & & operator is evaluated to false , evaluation should not continue . BUT I expected that the ++ should be evaluated before & & because it has higher precedence , and ( from the link ) : Operators with higher precedence are evaluated before operators with relatively lower precedence.In that case , why does n't count increment in the third line of this code ?"
"I 'm a Java programmer . I have little knowledge on C # . But from the blogs I have read , Java supports only pass-by-value-of-reference whereas in C # the default is pass-by-value-of-reference but the programmer can use pass by reference if needed . I have penned down my understanding of how a swap function works . I guess it is crucial to get this concept clear as it is very fundamental to programming concepts.In C # : Step 1 : A string object with value one is created on heap and the address of its location is returned stored in variable ONE . Runtime Environment allocates a chunk of memory on the heap and returns a pointer to the start of this memory block . This variable ONE is stored on the stack which is a reference pointer to the locate the actual object in memoryStep 2 : Method changeString is called . A copy of the pointer ( or the memory address location ) is assigned to the variable word . This variable is local to the method which means when the method call ends , it is removed from stack frame and is out of scope to be garbage collected.Within the method call , the variable word is reassigned to point to a new location where TWO object sits in memory . method returnsStep 3 : Printing on the console should print ONE , since what was changed in the previous step was only a local variableStep 4 : Variable one is reassigned to point to the memory location where object ONE resides.Step 5 : method changeString is called . This time reference to the ONE is passed . what this means is the local method variable word is an alias to the variable one in the main scope . So , no copy of reference is done . Hence it is equivalent in thinking that the same variable one is passed to the method call . The method reassigns the variable to point to a different memory location which happens to hold TWO . The method returnsStep 6 : Now the variable one on the outer scope i.e. , in the main method is changed by method call and so it prints TWO.In Java , step 5 is not possible . That is you can not pass by reference.Please correct if the programming flow I described above is correct ? Articles I have read , here and here ."
"I 'm looking for a java api that will correctly identify if a given ip address is private or local . This code seems to work for most ipv4/ipv6 addresses : Particularly , it identifies `` fec0 : : '' as a local/private type address but it does not identify , for example , `` fc00 : : '' or `` fd00 : : '' as local/private type addresses.Looking at this wikipedia link https : //en.wikipedia.org/wiki/Private_network # IPv6 : The address block fc00 : :/7 is reserved by IANA for Unique Local Addresses ( ULA ) . [ 2 ] They are unicast addresses , but contain a 40-bit random number in the routing prefix to prevent collisions when two private networks are interconnected . Despite being inherently local in usage , the IPv6 address scope of unique local addresses is global.The first block defined is fd00 : :/8 , designed for /48 routing blocks , in which users can create multiple subnets , as needed.Can anyone help with explaining if there is some false assumption here ( e.g . that `` fc00 : : '' or `` fd00 : : '' should be identified as a local/private ipv6 address ) or if there is some other java api that will correctly identify all local/private ip addresses ? Thanks for any feedback/answers !"
"I am working on a bytecode instrumentation project . Currently when handling objects , the verifier throws an error most of the time . So I would like to get things clear concerning rules with objects ( I read the JVMS but could n't find the answer I was looking for ) : I am instrumenting the NEW instruction : original bytecodeafter instrumentationNote that I added a call to Profiler.handleNEW ( ) which takes as argument an object reference ( the newly created object ) .The piece of code above throws a VerificationError . While if I do n't add the INVOKESTATIC ( leaving only the DUP ) , it does n't . So what is the rule that I 'm violating ? I can duplicate an uninitialized reference but I ca n't pass it as parameter ? I would appreciate any help . Thank you"
"While making up some arrays I noticed that prints out but only prints the stack location . I know char and String are both very different , but how come the JVM knows to output chars for the first and only a stack location for the second ? I am using IntelliJ and the command System.out.println ( javaArray ) ;"
"It is said in manual , that if child does not implement Scrollable , then JScrollPane rely on preferredSize properties of it 's content.Apparently this is not true for me . I am increasing preferred height , but JScrollPane does not feel or react on it ."
"I am trying to deserialize the following XML : My Jackson classes are : Bar is identical , just a different class name . ( In the real code they are different , this is just an example ) .And the root class isWhen I try to deserialize the XML , using this codeThe result is this ( note the lack of `` AAA '' ) : However , if I move the fields in the XML so that both foo tags are next to each other , it printsI 'm using jackson-dataformat-xml 2.11.1 which is the latest.What is going on here , and how can I fix it ?"
"I need a function which can calculate the mathematical combination of ( n , k ) for a card game . My current attempt is to use a function based on usual Factorial method : It 's working very well but the matter is when I use some range of number ( n value max is 52 and k value max is 4 ) , it keeps me returning a wrong value . E.g : I know that it 's because I overflow the long when I make Factorial ( 52 ) but the range result I need is not as big as it seems.Is there any way to get over this issue ?"
"I am working on a small java bytecode instrumentation tool . The general idea is to have all of a class methods renamed with a _CONGU suffix , creating then proxy methods with the original method names that will call their _CONGU counterparts . For instance , if a class C contains a int m ( ) { return 1 ; } method , the instrumented C class will have a int m_CONGU ( ) { return 1 ; } method and a int m ( ) { return m_CONGU ( ) ; } method . Later on I 'll add some extra logic on int m ( ) that will do some checks before calling m_CONGU ( ) .At the moment , I am in the process of instrumenting all constructor invocation calls to a method of mine with the _CONGU suffix.Bellow you can see both the instrumented and non-instrumented versions of the inverse ( ) method of a Fraction class.When trying to run this codeI get the following exception which is puzzling me for the last couple of hours : Exception in thread `` main '' java.lang.VerifyError : ( class : jorgeTestes/system/fraction/Fraction , method : inverse_CONGU signature : ( ) LjorgeTestes/system/fraction/Fraction ; ) Expecting to find object/array on stack at jorgeTestes.system.fraction.XyzTest.main ( XyzTest.java:9 ) I guess this must be a dead obvious mistake , but I ca n't get what the problem might be . It looks to be in some way related to having the wrong number of data in the stack , but it looks to me that the number of elements in the stack is the same both on the original and instrumented code ( at least that 's what should be happening ) . Any ideas ? Some more info:1 ) here are the descriptors of both < init > and Fraction_CONGU ( which are the same , as one would expect ! ) :2 ) I 'm wondering if the color of [ 0 ] Code being different in Bytecode Viewer could mean there 's some other problem with my instrumented code ? Maybe there is some metadata that 's being broken in the process , so that could be the reason the code looks alright and there 's still a problem when trying to run the code ?"
"I replied to a question earlier about thread safety which did not get a definite answer ( I think ) .So I have been trying to convince myself that the design is broken ( visibility ) by having thousands of threads read and write that object - but I have not been able to get anything unexpected . That is obviously not a proof that it is thread safe , probably merely a proof of my own limitations ! I understand the risk of reordering but I do n't see how it could apply in that case , in the sense that the clone instance in the bar ( ) method is local and the change on its fields is done before being released to the outside world with return , after which the instance is effectively immutable . So a thread looking at the returned object would see it with its bar field already set to the correct value ... So my question is : what kind of code Could you show a piece of code that uses IsItSafe and that could lead 2 threads to see different values of the bar field of a given instance of IsItSafe ? For reference and ease of reading I copy the code here :"
"Taken from the official Java tutorial by Oracle , see question 2 here ( boilerplate by me ) .The answer says that studentName is not eligible for garbage collection since the array students still references it . However , the final line prints `` Peter Smith '' , so to me it seems wrong that students [ 0 ] references studentName . Can someone please explain this ?"
"Using Java 8 , I get a compiler error for the following code : So essentially the compiler says `` I know you return boolean but you should n't , and if you do n't I 'm not sure what method to use '' instead of `` oh you 're returning boolean , you must mean the Predicate version of the method '' ? How does this confusion get created ? I 'd understand if Predicate < T > extends Function < T , Boolean > ( so they have a common Type ) but that 's not the case.I do know how to fix it ; it 's fine if I dobut I 'm curious what causes it ."
"I am trying to design a data model which can hold a very large amount of data , does anyone with experience in large volumes of data have any feedback on this , ie : Based on what I have read , the only way to get transactional integrity on inserting a Transaction and updating balance is to make it one entity group.However over time there would be millions of transactions for a particular TransactionAccount . The number of writes to this entity group would be low , but the reads would be much higher.I know it could possibly be sharded , however reading the balance is a very frequent operation , and sharding it would make one of the most common operations getBalance ( ) the slowest operation ."
"I am a bit confused about this method reference syntax.counter ( ) expects a BiFunction however HighTemp : :lessThanTemp is a valid argument despite HighTemp.lessThanTemp ( ) only taking one argument.What exactly is happening in the line : if ( f.func ( vals [ i ] , v ) ) ? MCVE :"
"This is somewhat of a follow up on Java8 retrieving lambda setter from class.I 'm trying to get a getter method for a given fieldThis is the underlying method : This does not compile , due to a type mismatch : This however does compile : And , to my surprise , this does work using the getter which was retrieved above : However , once I do this : I get the following exception : Is there some way to catch this earlier on ? The TestEntity class :"
"I 'm reading the source of java.util.concurrent.ArrayBlockingQueue , and found some code I do n't understand : Notice this line : Why it does n't use this.lock directly , but assigns it to a local variable ?"
"When calling out the function testFunc ( ) , I am not using the syntax Apples.testFunc ( ) . Yet the code runs successfully . How so ?"
"I am currently evaluating implementations between Apache StopWatch and Guava 's Stopwatch and the split functionality in the former intrigued me , but I am struggling to understand what exactly it does , and what value it has.According to the documentation for StopWatch : https : //commons.apache.org/proper/commons-lang/javadocs/api-3.9/org/apache/commons/lang3/time/StopWatch.htmlsplit ( ) the watch to get the time whilst the watch continues in the background . unsplit ( ) will remove the effect of the split . At this point , these three options are available again.And I found some examples , such as this , which offer very little , since it appears split is just cumulative . The page says the method is for `` splitting the time '' , which I figured as much based on the method , but the page makes no mention to what that actually means . It would even appear that this example is utterly wrong , because the docs suggest that you should unsplit before you split again.I initially thought it was for the following usecase : I thought that stopwatch total time would read as 15 seconds , and stopwatch split time would read as either 10 or 5 seconds , but it appears that both methods output 15 seconds.Next , I thought maybe the split value is a delta you can take , and then remove from the total timer , something like : My thought here was that the split time would be 10 seconds , and when unsplit from the main timer , the main timer would read as 5 seconds ... but this seems no different from a suspend ( ) call ... I also tried this , and the timings remain the same nonetheless for me.Am I missing something here , or is my interpretation of what this is supposed to do all wrong ?"
"I have a div that is a save button that has an awesome font symbol . After clicking the div , a new CSS class disabled is added where the opacity is reduced to visually signal the clicking of the button . After the save event the disabled CSS class is removed again and the button is fully visible again . If I try to verify this by Selenium naively the adding of the CSS class and the removal is too fast for Selenium , i.e . is working and finds the button and clicks it , but the next find throws a NoSuchElementException : It does n't work with explicit wait neither ( I did n't mention for simplification ) . Selenium is too slow to recognize the change , i.e . the CSS class is removed before the second find started . Do I need something like a listener started before the click event , maybe via JavaScript solutions of Selenium ? Any other approach ? Looks like threading a wait before is not possible in Selenium ."
I 'm having an issue with libgdx skin . When the app is paused or goes into the background and then reopens all my scene2d textures are just showing up black . I assume that the underlying textures need to be reloaded.I 'm creating my skin using the following codeMy question is if there any way that I can detect when the texture needs to be reloaded and how to best do this ?
"This is homework . I do not want the solution , just a small number of links or ideas.Simply speaking what I want to do is , Simple example : doThat ( ) is a method that is known to be time consuming , which results in my program blocking until results are back . And I want to use different methods of this Object , but program is frozen until doThat ( ) is finished . Those different methods do not necesserely have to be invoked from the method ( ) used in this example , but maybe from outside the object.I thought about using threads but if I have a huge number of objects ( 1000+ ) this probably wont be very efficient ( correct me if I am wrong please ) . I guess if I use threads I have to use one thread per object ? Is there any other way besides threads that can make the invoking object not block when calling doThat ( ) ; ? If threading is the only way , could you provide a link ? Knowing questions like that get downvoted I will accept any downvotes . But please just a link would be more than great.Thanks in advance . I hope question is inline with the rules ."
"I have a strange problem with variable initialization.There is following code : What ? ? ? Variable is initialized , what is wrong ? also when I change org.junit.Assert.assertFalse to my own local method error disappears.I am using jdk 1.7.0_51 if that matters . Class code is here"
"I have following code : If fist string equals `` email '' I want to remove first string from the Stream . For other strings from the stream I do n't need this check.How could I acheve it ? P.S.Sure I can transform it to the list , then use old school for loop but further I need stream again ."
"Is there any significant difference ( in performance or best practices ) between those two stream creation methods ? EDITThanks to Stack Community answers I can add some addons to question completeness for new readers : As many pointed out , .boxed ( ) IntStream method is defined as : What basically re-defines issue to which one of following is better : or"
"when I open windows cmd and type jshell , it works , but when I 'm writing something . whenever I press the BackSpace key . for example if I want to delete a letter that is wrong . jshell crashes with bellow error , i 'm using windows 10 , and C : \Program Files\Java\jdk-11.0.1 is my only path in windows System Environment variables , i also use cmd as terminal .here is the error :"
"I have defined a function in Kotlin : I have defined a Java method with this signature : I attempt to compose them like so : When I compile I get this error : Error : ( ln , col ) java : unreported exception java.io.IOException ; must be caught or declared to be thrownHow do I define my function parameters to accept a function that throws ?"
I have list of students.I want to return list of objects StudentResponse classes that has the course and the list of students for the course.So I can write which gives me a map Now I have to iterate through the map again to create a list of objects of StudentResponse class which has the Course and List : Is there a way to combine these two iterations ?
I have a method which takes String argument . In some cases I want to pass int value to that method . For invoking that method I want to convert int into String . For that I am doing the following : One more option is : Both are correct . I do n't know which is appropriate ? Which gives better performance ? Mostly this is happen in GWT . In GWT for setting size of panels and widgets I want to do this .
"As of now I have an object that looks similar to the below . Background : The problem is with this last toJSON function . I have two different functions ( listed here as TakesADataObjOrCollectionOfDataObjs and TakesAnObjectOrCollection ) which do different things based on if the object implements JSONable or not . Now I can not simplify these all down to one function and let the compiler choose because with type erasure , I can not have a function that takes both Collection < ? > and Collection < ? extends JSONable > as they have the same function signature . It was easy when I only had to differentiate between just Object and DataObj types ( it 's a pretty simple check and all I have to do is pass in the Class < ? > of the type we 're working with ) but now I need to start storing List < ? > and List < ? extends JSONable > .Current Solution : I do have a bit of code for this solution but it is not the same as what 's pictured above . The current solution is to just include the type of the generic that I 'm using as well like having typeClass and a genericTypeClass . The problem with this is it starts becoming really messy because : All appropriate methods that take just typeClass would need two methods now , one that takes both typeClass and genericTypeClass and one that takes typeClass but sets genericTypeClass to null.I 'd having much more trouble performing type checks ( for get and set ) if I could even do it at all for some instances.The toJSON switch statement would be filled with more cases , one for each supported generic , and then under each of those , checking the genericTypeClass to see if it 's a DataObj or not.Question : Is there any other way that I could create this class to do what I want ( store differing data yet still be able to output different JSON based on the type the DataField holds ) ? Hopefully just explaining the situation and not asking 3 or 4 other related questions will stop me from falling prey to the XY Problem by just asking this ."
"I 'm seeing an extremely strange issue with Maven today : it 's trying to build classes that are not in my project , but coming from dependencies . mvn compile crashes with : There is no AppConstants.java in my project , and a search with grep -r AppConstants . gives no results . The class exists in another artifact that 's a dependency of my project.I managed to get my project to compile by passing -Dproject.build.sourceEncoding=Cp1252 to mvn compile , but this is not a solution , because my project should use utf-8 encoding . Sure enough , when compiled this way I see AppConstants.class under target/classes/ but where can it come from ? How is this possible ? Nothing changed in the pom of the project recently , but I know that the dependent project is working on migrating to Maven these days . What could be going on ? UPDATEThere is no AppConstants.java file in my project , and AppConstants is not mentioned anywhere within the project : This AppConstants exists in another project that mine depends on . I do n't have the source code of that other project on my PC . My teammates can all reproduce this problem , it 's not specific to my PC . Our pom has n't changed recently , but we know the pom of the other team is changing a lot these days.There is one class in my project that uses SomeOther class from the other project . If I build using -Dproject.build.sourceEncoding=Cp1252 , then the build works , and in my target folder I see SomeOther.class , AppConstants.class , and a few other clases from the other project generated . If I remove from my project the class that uses SomeOther , then I can build normally , though the project will not work , as it needs those other classes . @ Gus : Knowing that it 's in SomeOther , can you make a public-safe sample project that exhibits the same behavior ? Failing that , describe the heirarchy , and where you 're running mvn compile from ... do you have a multi-module project , and you 're building a subproject ? Too hard to create a public-safe sample . My project is multi-module , when I run mvn compile at the top , it fails at a submodule , so for faster iteration I 've been running in the submodule instead . The result is the same but faster . But you made me think : I will check if our builds generate .class files for other projects in other submodules.Sharing code and the full pomThis is at work , so I can not share complete code and pom , unfortunately . I can include anonymized snippets , if you ask for specific sections ."
"I have read http : //cr.openjdk.java.net/~briangoetz/lambda/lambda-state-4.html and noticed that all the examples have argument type declared explicitly , even though it 's already known from the interface-function declaration.Ca n't we go with justUPDATE : In the JSR-335 Draft , I have found that inferred-type parameters are most likely to be supported"
"I 've seen a bunch of examples on the internet that , in order to use the streams API to do parallel stuff , just call the .parallelStream ( ) method like this : But in other cases I 've seen the parallel stream being used inside a thread pool submition , like this : Does just calling parallelStream ( ) executes whatever comes next in multiple concurrent threads ? Like in some pre-configured thread pool or something . Or do I have to create my threads and then use the parallel stream ?"
"The Java Stream.forEach function has the serious limitation that it 's impossible for its consumer to throw checked exceptions . As such , I would like to access a Stream 's elements one by one.I want to do something like this : However , findAny is a short-circuiting terminal operation . That is , it closes the stream . This code would crash on the second iteration of the while loop . I can not simply put all elements inside an array , and go over that array one by one , because there are potentially tens of millions of elements.Please note I am not asking how to throw exceptions from within forEach . This question has already been answered ."
here why is ex implicitly final ? What is the use of making ex implicitly final ?
"The following code compiles using JDK6 ( I tried 1.6.0_24 ) But compiling under JDK7 ( e.g . 1.7.0 ) , I get this error : Can anyone point as to whether this was an intentional change to Java 's generics ?"
"I guess I might be missing something obvious here , but anyway lets see the code.On Running this you will get a output as following : I can see super is referring to FreeMap , not TreeMap , if it would have thrown a StackOverflow Exception I could have understood . Why nullpointerexception ? Thanks in advance"
"I have a bitmask to be stored in one byte , as I only need 8 bits . When I 'm creating it I do it as a String ( I thought it would be easier in this way ) and then I transform it to a byte with Byte.parseByte ( mask,2 ) , but I found it does not work for certain values : But if I do : There is no problem.PS : I found a workaround , byte b= ( byte ) Integer.parseInt ( bits , 2 ) ; but anyway I want to know why I can not convert 8 bits into a byte"
"I have a build.xml which imports other ant xml files . I 'd like to get all javac tasks from it so I can see what classpath is set to for these tasks ( javac is used at multiple targets ) . I came up with the following code ( simplified a bit ) : However , there are tasks like MacroDef which may have nested other tasks . The TaskContainer interface only specifies addTask ( task ) , I see no way to retrieve nested tasks.How can I retrieve all javac tasks ? It 's okay to have a solution where the ant library is not used , but XML parsing seems to be cumbersome since ant uses properties , references , buildfiles can import other files etc ."
"Say I have a queue , and I want to exhaust it . The way I would do it is something likebut this feels like an archaic method.I would like something more like the forEach method . It is , of course , present - the Queue being a Collection - but it iterates over the elements , rather than consuming them.Ideally , I would have liked a pollEach method on Queue - but I ca n't seem to find anything appropriate.How do you write this kind of code ?"
"I 'm trying take screenshot of a cardview which is in a DialogFragment . When I take a screenshot via Code . Top rounded corners are not showing but the bottom rounded corners are showing correctly . I saw these issues mentioned in the below Questions ... Cardview loses its radius when taken a screenshot programmaticallyUsing PixelCopy to copy a scaled View within a DialogFragmentAs per the above question , I tested the same layout & code in a Fragment class . Then the rounded corners are showing up correctly ... LAYOUTShotDialog.javaBottomDialogFragment.java ( From this Bottomsheet the screenshot code is triggered for the above Dialog ) ShotFragment.java ( This Gives expected result with rounded corners )"
"I have a list of allowed custom annotations and I 'm trying to check whether a specific annotation is allowed by calling the contains method on the list.This works but Sonar complains about rule squid : S2175 . It says : A `` List < Class > '' can not contain a `` Class '' A couple Collection methods can be called with arguments of an incorrect type , but doing so is pointless and likely the result of using the wrong argument . This rule will raise an issue when the type of the argument to List.contains or List.remove is unrelated to the type used for the list declaration.How can I fix this ? Here 's a minimal example :"
"I have a quick question . The code block that starts right after the static keyword declaration , what type of method is that ? I have n't ever seen that before . If anyone could enlighten me , that would be greatly appreciated . Thanks ."
"I have this class called Container : and the class called Token : and finally a test class for the Token classThe test compiles and runs just file in eclipse . When building on the commad linea compile error is raised : The compilation also fails when I change line 21 to one ofWhen I change the line to one ofcompilation is successful.I can not undestand why this compiliation error is raised.I came across the follwong links boxing and unboxing , multiple generic types and intersection types and this eclipse compiler bug but I still can not relate to the mentioned causes.My question is , what makes the compiler think that both signatures of the verify method are matching when the mapper String : :valueOf is passed to the get method ? For compilation the following jdk is used ( with maven and gradle ) :"
"I have a problem when trying to convert bytes to String in Java , with code like : and the original bytes are not the same as the transferred bytes , which are respectively I once thought it is due to the UTF-8 charset mapping for the negative `` -3 '' . So I change it to `` -32 '' . But the transferred array remains the same ! So I strongly want to know exactly what happens when I call new String ( bytes ) : )"
I am trying to port some java code to scala . The code uses annotations with a member called type however this is a keyword in scala . Is there a way to address this valid java member in scala ? Here is the Java codeThis part of the code is identical in scala except that type is a keyword so it does not compile . Is there a way to escape the type keyword ? This is also a problem with java classes with a type memberHasType.javaUseType.scala
"http : //grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/ArrayList.java # 473My question is , why did they have to do an cycle through the backing array { O ( n ) } to make each element eligible for garbage collection when they could just have reinitialized the backing array , discarding references to the entire array as a whole { O ( 1 ) } and making it eligible for garbage collection ? O ( n ) performance for clear ( ) does n't seem so nice to me or am I missing something ?"
"I know that double check locking without volatile variable is not safe based on this link http : //www.cs.umd.edu/~pugh/java/memoryModel/DoubleCheckedLocking.htmlI want to simulate this situation at my home computer . I have standard jdk1.7 and multicore processor . But I am not able to simulate the broken behaviour . I am using this test http : //www.cs.umd.edu/~pugh/java/memoryModel/DoubleCheckTest.java that should simulate this.I also create some of my test , but without success.Do you have any idea how to simulate the situation when this double check idiom without volatile is broken ? So it returns partially created Helper class ."
"We have the following rules for our username validation : Username can have alphanumeric charactersUsername can have an underscore , hyphen or a periodFor now assume the username is in ASCII Username can not start or end with a periodUsername can not start , end or have any spacesWe have the following regex for the same : Now trying to match a particular String , the CPU usage grows exponentially . For e.g : Obviously , matching a String like above should fail instantly but I want to know why is it taking that much CPU cycles . Final code : On a different lines , I rewrote the regex like below and it fairs well :"
"I am using android studio 1.3 , and libgdx 1.6.2 to create a game . I want to incorporate google play services to my game and I have completed everything in one step , because I did it before without problem . However , this time it gave me an exception : So here is what I changed other than adding baseGameUtils ( which was sucessfully added ) .EDIT : The Full Android ManifestAnd here is my android main activity.I ca n't tell whats wrong here . Thanks in advance ."
"I 'm going over some source code and trying to figure out where _csrf came from . As far as I can guess , it looks like an implicit EL object . Maybe related to authentication and spring security.The below is the code that contains _csrf . What does $ { _csrf } do ? Is this an implicit EL object ?"
"I was given the assignment to compare a pair of 3 positive double variables , while ignoring their order , in Java.I did the following : I 've heard from the teacher that there is a mathematical way of comparing this pair of 3 numbers.So far , I 've tried to compare their addition , subtraction , the sum of their power by 2 but I always found a case where the pair were different and the statement was true.Any ideas ? EDIT : I already sent the assignment and the teacher said that my answer was true . I 'm asking out of curiosity ."
"Can any one help me to get out of this exception . unexpected element ( uri : '' http : //cpps.xxx.com/splm-service '' , local : '' PartInquiryService '' ) . Expected elements are ( none ) Here is the code and xml i am usingHere is the xml am using it ..I will be getting this xml as a response from MQHere is the PartInquiryService.java"
"Can anyone explain this to me , does the += operator evaluate the right side first then it concatenate it with the left side ?"
While reviewing for an exam I noticed I had written a logical error and I believe it is because of the compound assignment += because the Increment ++ executes as intended but it only occurs when assigning the value of foo to foo +1 or Here is the code.My question is why does foo+=foo+1 result in -1 ? Please Note : I am new to Stackoverflow and unable to vote up your answer so know that I am thankful for any help and thank you in advance !
"I am using RestTemplate as my HttpClient to execute URL and the server will return back a json string as the response . Customer will call this library by passing DataKey object which has userId in it.Using the given userId , I will find out what are the machines that I can hit to get the data and then store those machines in a LinkedList , so that I can execute them sequentially.After that I will check whether the first hostname is in block list or not . If it is not there in the block list , then I will make a URL with the first hostname in the list and execute it and if the response is successful then return back the response . But let 's say if that first hostname is in the block list , then I will try to get the second hostname in the list and make the url and execute it , so basically , first find the hostname which is not in block list before making the URL.Now , let 's say if we selected first hostname which was not in the block list and executed the URL and somehow server was down or not responding , then I will execute the second hostname in the list and keep doing this until you get a successful response . But make sure they were not in the block list as well so we need to follow above point.If all servers are down or in block list , then I can simply log and return the error that service is unavailable.Below is my DataClient class which will be called by customer and they will pass DataKey object to getData method.Below is my DataExecutorTask class : My block list keeps-on getting updated from another background thread every 1 minute . If any server is down and not responding , then I need to block that server by using this - And to check whether any server is in block list or not , I use this - I am returning SERVICE_UNAVAILABLE if servers are down or in block list , on the basis of response == null check , not sure whether it 's a right approach or not.I am not following Single Responsibility Principle here I guess at all . Can anyone provide an example what is the best way to use SRP principle here.After thinking a lot , I was able to extract hosts class like given below but not sure what is the best way to use this in my above DataExecutorTask class ."
"I 'm fairly new to Android development and I 've created my first `` real '' application that does the following : Launches MainActivityMainActivity processes Extra Data and then displays a ViewDialog that extends Dialog . ViewDialog has a showDialog ( ) method that does the following to setup and display the Dialog : MainActivity shows the ViewDialog as follows : When the timer expires or the user presses a button the ViewDialog is closed and the application is finished with the following code : The problem is that when the ViewDialog is dismissed I can occasionally see what looks like a message that is displaying the activities android : label that is setup in the AndroidManifest file.Video of what is happeningI 'm not sure why this happens , but I assume it 's displaying some item of the MainActivity layout when the ViewDialog closes that uses it 's own dialog_layout layout file.I 've fiddled with so many different things and changed code/layouts etc and I have n't been able to find my error.What are some pointers and hints that will help me fix this ? I 'm happy to provide more details if needed.The layout and manifest files are here : manifest https : //pastebin.com/GL70FxGhactivity_main.xml https : //pastebin.com/qDVa0LrNdialog_layout.xml https : //pastebin.com/RC4e6W9T"
SummaryRecently we upgraded to Spring Data Elasticsearch 4.x . Part of this major release meant that Jackson is no longer used to convert our domain objects to json ( using MappingElasticsearchConverter instead ) [ 1 ] . This means we are now forced to add a new id field to all our documents.Previously we had domain objects like this : Which resulted in documents like this in ES : Note that : The @ JsonIgnore annotation used to ensure that we were not required to have a id field in the _source.We are setting the document id ourselves and it ends up in _id.ProblemWith Spring Data Elastic 4.x the @ JsonIgnore annotation is no longer respected which means we are now forced to have an id field in the _source as shown below : QuestionsIs it no longer possible to omit the duplication of the identifier of the document ( i.e . in the _id and id fields ) ? If so how ? ( Note we already tried @ org.springframework.data.annotation.Transient which does not work because spring-data-elastic then thinks our document does not have an id ) .Was our previous approach of suppressing the id field in _source incorrect or problematic ? Versionsjava : 1.8.0_252elasticsearch : 7.6.2spring-boot : 2.3.1.RELEASEspring-data-elastic : 4.0.1.RELEASEReferences [ 1 ] - https : //spring.io/blog/2020/05/27/what-s-new-in-spring-data-elasticsearch-4-0
My problem is that I am using a class not developed by me ( I took it from Microsoft Azure SDK for Java ) . The class is called Node and you can see it here.As you can see the class is a generic class declared recursively like this : When I try to instantiate it I do n't know how to do it . I am doing this but I know IT IS NOT the way because it has no end : I hope you understand my question . Thanks .
"I have the code like this : I can understand why str1.intern ( ) == str1 and str3.intern ( ) == str3 are true , but I do n't understand str2.intern ( ) == str2.Why this is false ? My java version is : 1.8.0_73"
"I made an implementation of Wagner Fischer algorithm in java with input cost , but I want to display all steps.I search but ca n't find any idea.After a long time I tried to keep each transformation in matrix alongside cost and to go through back to first solution then reverse it ... is this a good idea , if it is , how should I set condition ? I tried to make function for display steps and ca n't figure out how to solve it.Output for kitten to sitting :"
"According to my understanding , the following piece of code should result in a deadlock.The reason being , when thread t1 locks static object firstData , he has acquired a lock on the class . So , when he tries to lock another static object secondData , the request should block . However , the program runs fine and prints *** Successfully acquired both the locksWhat is it about locking static objects that im missing here ? For all those who answered that the locks are on object , instead of class , please take a look at this"
"I 'm trying to download a pdf file using URLConnection . Here 's how I setup the connection object.I obtained inputstream from the connection object.And the output stream to write the file contents.BlockingQueue is created so that threads performing read and write operations can access the queue.Now created thread to read data from InputStream.Now the writer thread reads those file contents.Finally , threads are started.Theoretically it should read the file from InputStream and save it to the target file . However , in reality , it produces blank pdf file . At some other time , it shows invalid pdf format exception . File size matches with content length of the InputStream . Is there anything I 'm missing ?"
"I went through the default implementation of the new Java 8 Map methods like getOrDefault and noticed something slightly weird . Consider for example the getOrDefault method . It is implemented as follows.Now , the `` weird '' thing here is the `` Result of assignment used '' pattern in ( ( v = get ( key ) ) ! = null . To my knowledge , this particular pattern is discouraged , since it rather obstructs readability . An IMO more concise version would be something along the lines ofMy question is if there is any particular reason to use the former over the latter pattern aside from coding standards / habits . In particular , I wonder if these two versions are trace and performance equivalent ? The only thing I could imagine is that the compiler might e.g . determine that containsKey is usually faster to evaluate and thus evaluates it first , but as far as I know short-circuiting has to preserve order of execution ( this is the case for C at least ) .EDIT : Following @ ruakh suggestion , here are the two bytecodes ( as generated by javap -c ) andI have to admit that even after years and years of Java coding I have no idea how to interpret Java bytecode . Could someone kindly shed some light on the difference here ?"
Below are the 3 java classes which I am using for my android application development . I would like to add the student data ( name and phone number ) from the AddActivity to be stored in MainActivity page after clicking `` Add '' . I have researched on this and tried using an array . But I am quite confused on how the logic must be for the code to send the data keyed in AddActivity into the MainActivity page . Can anyone give me a guidance on how to work this out and would really be grateful if you could show me another way rather the way I am trying . I want the data to be stored in a ListView format in the MainActivity after each `` Add '' I have clicked in the AddActivity page . I do hope that someone will be able to guide me in doing this . Thank you.MainActivity.java -https : //jsfiddle.net/eb1fprnn/AddActivity.java -https : //jsfiddle.net/40k5mas2/Student.java - https : //jsfiddle.net/gy0g7b0s/ [ 1 ] : [ Image of Main Activity Page ] http : //imgur.com/a/pMWt4 [ 2 ] : [ Image of Add Activity Page ] http : //imgur.com/a/8YvVc
"I have a List < String > called lines and a huge ( ~3G ) Set < String > called voc . I need to find all lines from lines that are in voc . Can I do this multithreaded way ? Currently I have this straightforward code : Is there a way to search for few lines at the same time ? May be there are existing solutions ? PS : I am using javolution.util.FastMap , because it behaves better during filling up ."
I 'm trying to write the following condition : How can I do it in a better way ?
"I am trying to create a table class that extends ArrayList . In it , I would like to be able to create a map method that takes a lambda expression and returns a new table with the mapped values . I would also like to do this with filter . I use the map and filter a lot and I do n't like typing out the whole thing over and over.I am still trying to figure out generics . Maybe there is a better way . I do n't know . I have tried duplicating what is in the original code for the ArrayList , but everything I try seems to create new problems ."
"When i tried to convert a String Object to boolean , the result is different.boolFlag ends up having a false value ."
If each of them is guaranteed to have a unique key ( generated andenforced by an external keying system ) which Map implementation isthe correct fit for me ? Assume this has to be optimized forconcurrent lookup only ( The data is initialized once during theapplication startup ) .Does this 300 million unique keys have any positive or negativeimplications on bucketing/collisions ? Any other suggestions ? My map would look something like this
"In Go , it is OK to call a method on a null pointer so long as that pointer is never dereferenced : ( For runnable code , click here ) In Java , however , calling a method on a null pointer , even if the method never dereferences any member variables , still causes a null pointer exception : Does anybody know why this behavior exists ? Is there some advantage that it gives ? Thoughts ?"
"I am developing JavaFx application in netbeans , in netbeans the project is building and running fine . I made a build ( mvn package ) from my project its finished without error but when I launch the program its not loading all the scenes and the FXMLLoader return with null value in this cases . All .fxml file in the same folder . Screen controller where the screens loaded : My github repo : https : //github.com/eszikk/ExamSuperVisorServer"
"Pure methods are those without side effects : their only effect is to return a value which is a function of their arguments.Two calls to the same pure method with the same arguments will return the same value . So , given two calls to a pure method with identical arguments , can HotSpot optimize away the second call , simply re-using the value from the first call ? For example : If HotSpot does n't inline add inside addTwice does it understand that add is pure and thus call add only once and double the return value ? Of course , such a trivial [ mcve ] is n't likely to be of direct interest , but similar situations can occur in practice due to inlining , divergent control flow , auto-generated code , etc ."
"A friend of mine found this tidbit in the Java API ( https : //docs.oracle.com/javase/7/docs/api/java/lang/Enum.html ) , and by reading the following article https : //docs.oracle.com/javase/tutorial/java/generics/genTypes.html I could understand what the aforementioned line entailed syntactically but from the examples given I could not figure out a use case for this beyond the Enum class ( reviewed the source ) .I 'd like to learn more about possible problems where the above may present a solution ."
I want to do this to protect the card from erasable or cloning the card . I read many documentsSome tell the user the fourth block to set permission to reading and write..According to @ Michael RolandThe authentication keys and the access conditions for each sector of a MIFARE card are located in the last block of that sector ( the sector trailer ) . You can update this block with new access conditions and authentication keys using a regular write command.The sector trailer looks like this : So the access bits are located in byte 6-8 and look like this : How I perform this in my ongoing project
"Consider the following example code : When I now call new TestClass ( ) .doSth ( `` foo '' , `` bar '' ) I get the expected result A . But if I change the method signature of the first method by chaging the parameter l to a primitive type : calling new TestClass ( ) .doSth ( `` foo '' , 2L ) will yield a reference to call ambiguous compile time error . I thought about that one for some time now and also consulted this stackoverflow question , but I was unable to understand why this happens . In my opinion the doSth ( `` foo '' , 2L ) is more specific to the doSth ( String string , long l , Object ... obj ) signature and should allow the compiler to also come to this conclusion ."
If I have something like this : and I eventually make a SubClass object . Will x be true or false ? From http : //docs.oracle.com/javase/specs/jls/se5.0/html/execution.html # 12.5it looks like it will be false .
"I use the OpenOffice API from my Java Program to handle Documents for me . Sometimes ( once every 100k or so calls ) the dispose method of a Document does not return , the CPU load stays at 100 % but nothing seems to happen.How should I act / code correctly in this situation ? My current approach is to wait for the dispose to succeed for two seconds . If it does not I try to terminate OpenOffice through the appropriate API . If that fails as well ( as I would expect ) then I kill the soffice process with a call to and then callto the Thread that initially tries to dispose the XComponent . Now the Java API says that Thread.stop ( ) should not be used ( and there are valid arguments to that ) so I 'm wondering if there are any better solutions that what I did ."
There is the following code : It prints : 12.0This one does n't compile . Why ?
Can you please explain this code snippet from HashMap constructor specifically the line capacity < < = 1 :
"In this answer I recommended usingbut two people complained that the result contained the string `` null '' , e.g. , 23.null . This could be explained by $ 1 ( i.e. , group ( 1 ) ) being null , which could be transformed via String.valueOf to the string `` null '' . However , I always get the empty string . My testcase covers it andpasses . Is the exact behavior undefined ?"
"First of all I would like to clarify my understanding of the WeakReference as the following question depends on the same . The output of the above code isnulljava.lang.ref.WeakReference @ 7852e922Which means that although there is the actual person object is garbage collected once a GC runs , there is an object of WeakReference < Person > class is there in the memory which does not point to anything at this point.Now considering the above understanding true , I am confused about how does WeakHashMap < K , V > works . In the below codeOUTPUT : Value gone Now the the question is as it is said that the key in WeakHashMap < K , V > is an weak reference which means that in the above code when p becomes null the actual object can be garbage collected as there is no more strong reference to the object , but how does the and the value which is an object of PersonMetadata class is getting garbage collected as the first code proves that object of WeakReference class is not garbage collected even though the actual object is collected ."
"I 'm trying to replace a reflective invocation with a MethodHandle , but varargs seem to be impossible to deal with.My reflective invoker currently looks like this : My current attempt at rewriting it looks like this ( the interface the Invoker exposes has to stay the same ) : And this works just fine in most cases . But varargs break everything.E.g . have a method like : And the arguments like : And execute as implemented above will fail . I tried various combinations of asSpreader ( ) , MethodHandles.explicitCastArguments ( ) , invoke instead of invokeWithArguments etc with no success.The only way I can invoke a varargs method is to provide the arguments inline and not as an array . E.g.but I can not do that and maintain the generic nature of the Invoker that it currently has.Is this really impossible to do the way I 'm trying ? UPDATE : After benchmarking various scenarios , I decided to stick to reflection as invokeWithArguments performs significantly worse in all tested cases ."
"Before I ask for help , let me tell you what I did : Assuming I have a sampling rate of 8000Hz and sample size of 16 bits ( 2 bytes ) , at the end of the second I need 16000 byte or 8000 short.Now I have a 10fps recording speed then for each fps I need 16000/10 = 1600 byte.So , here is how the story proceeds : Variables Declared : Looping and subsequent conversion of byte [ ] to short [ ] Issues Even though buffer.position ( ) returns 16000 in the if statement , I get a BufferUnderflowException when I do buffer.asShortBuffer.get ( audioSamples ) ; I used java.util.Arrays.toString ( ) to see what my eachPassand audioSamples contains , I got some numbers like -107 , 0 , 32 , etc in eachPass and all zeroes in audioSamples . Why ? veterans , will you please help me nail this code ? I have no clue what 's going on ."
"I 'd expect this code to throw a ClassCastException : But it does n't . Casting String to T does n't fail , until I use the returned object somehow , like : Background : I created a Class which uses JAXB to unmarshal an XML file . It looks like this : Depending on whether the root-Element is an anonymous type or not , either T or JAXBElement is being returned . JAXBElement of course , ca n't be casted to T.In my unit test , where I only called unmarshal ( ) without doing something with the result , everything worked fine . In Code , it failed.Why does n't it fail directly ? Is this a bug ? If not , I 'd like to understand why ."
"As Hans Boehm in the Google I/O '17 talk `` How to Manage Native C++ Memory in Android '' suggests I use the PhantomReferenceclass to ensure native peers are deleted properly.In the linked video at 18 min 57 sec he shows an example implementation of an object registering itself to the PhantomReference class for it 's type . This PhantomReference class , he shows then at 19 min 49 sec . So I copied his approach for my example object . See below.While this approach works fine , it does not scale . I will need to create quite some amount of objects and I have n't found a way to create a base class ( either for my objects or a PhantomReference base class ) which would take any objects and would handle the native deletion properly.How can I make a generic base PhantomReference class which can call the native static method on the provided object ? I 've tried to transform the PhantomReference generic but the native static deletion method hinders an implementation.My WorkViewModelMy WorkViewModelPhantomReference"
"I 'm adding millions of entries of a custom object to a List . This turns out to be very slow and the graphical user interface keeps freezing randomly as well ( not responding on Windows ) even though the adding operation is wrapped in a SwingWorker so it should not affect the EDT . Furthermore , the CPU utilization goes up to around 70 % - 90 % .I 'm initializing the list as follows : Then I 'm repeatedly callingto add elements.I 'm aware that the ArrayList internally uses an array which is resized when it is full and all elements are copied over . However , using a LinkedList has shown to be slower than the ArrayList though and no other List implementation exists.According to this answer , adding to an ArrayList has a performance of O ( 1 ) . The question arises why my approach of collecting all results is still so awful performance-wise . SearchResult is a simple data object encapsulating fields and initializing it is cheap since only fields are set.As comparison , adding to the list is noticeably slower than sending the same amount of data over a network socket . This does n't make any sense since local operations should always be way faster than network related operations.1 million elements finishes in about 0.2 seconds but 67 million wo n't even finish in a reasonable amount of time . It should finish like a few seconds at maximum.What is the big issue here ?"
"When overloading methods that contain parameters that dont match , the JVM will always use the method with the smallest argument that is wider than the parameter . I have confirmed the above with the following two examples : Widening : byte widened to int } Boxing : int boxed to IntegerBoth the above examples output `` In Int '' which is correct . I am confused though when the situation involve var-args as shown in the following exampleThe above produces the following error : Why does it not apply the same rule as in the previous examples ? i.e . widen the byte to an int as it is the smallest that is larger than byte ?"
"Question based on https : //stackoverflow.com/a/29671501/2517622Given a list of employees with id , name and IQ : I want to output : So , remove duplicates from the list based on id property of employee and choose employee with the highest IQ for obvious reasons . : ) Particularly , I am interested in adjusting this solution which removes duplicates only based on id : Is there a way ?"
"EditThis post pertains to a homework assignment I have for school that dictates I rely on swing to display my threads and boolean flags for blocking.My application creates a bunch of `` job '' objects that each contain a thread . Each job belongs to a creature . A creature can possess multiple jobs but can only perform 1 of them at any given moment.My thread utilizes 2 boolean flags to tell whether or not it should be running called `` killFlag '' and `` goFlag '' . It designates the creature it belongs to as `` target '' . And each target has a boolean `` isWorking '' to denote whether or not it is busy with another job.This is the thread each job should run : At first I thought it was target.notifyAll ( ) because it is throwing an IllegalMonitorStateException , but when I comment it out the thread will objects will construct but when I view them in the GUI 80 % of them are displayed as complete without any interation from me and the other 20 % are stating that the creature is busy.At first I thought this was because I pop the kill flag too early but when I moved it lower or removed it the symptoms still persist . I 'm deployed at the moment and there are no programmers here haha , any advice you could provide would mean the world.For the sake of making sure I provide enough information below are the methods I use for interacting with the threads . The below methods work with a button that changes based on whether or not the thread is running.This is killing me , I 've been digging around to solve this for 6 hours . EditAfter adjusting my code based on MadProgrammer 's comment the `` target.notifyAll ( ) '' is fixed . Now the issue seems to be that all threads appear on the display as complete even though the buttons flash randomly between states for a fraction of a second.EditA lot of edits included below in response to commentsBelow is how I define the job class where killFlag , goFlag , etc . are defined.Below is where Creature ( target ) is defined where boolean isWorking resides : And in response to the comments here is a picture of how I am displaying the threads :"
"I am running Matlab2017 on windows 10.I call a python script that runs some Speech Recognition task on cloud with something like this : When the above command is called , the python script runs the input audio file on the ASR cloud engine , and as it runs , I can see Speech Recognition scores for the audio file from Python in the Matlab console . I want to do the following : ( 1 ) Execute multiple such commands in parallel . Lets say , I have 2 input audio files ( each having different audio segments ) , and I would like to run the above command 2 times , but in parallel , using separate processes . I was able to create a code snippet that should be able to do this : Now , when the above code is executed , I can see ASRE scores for data1 , but not for data 2 . The exit status in variable rc , is 0,1 , which confirms this . The problem is I do not know the cause of the error , as nothing is printed in Matlab . How can I get error message from Python captured in a java/Matlab variable so that i could take a look ? The issue could be that multiple Calls to ASRE in parallel ( with different user accounts of course ) may not be supported but I wo n't know unless I can see the error . ( 2 ) When I run a single command standalone , as mentioned at the start of the post , I am able to see Score messages for each audio segment being printed in the Matlab console , as they are obtained from Python . However , with multi-processing using java.lang.Runtime.getRuntime ( ) and the associated code , no messages appears in the Matlab console . Is there a way to display those messages ( I am assuming display might be asynchronous ? ) Thankssedy"
"I 'm delving into the question of is String.equals ( ) really that bad and while trying to do some benchmarking of it came across some surprising results.Using jmh , I wrote up a simple test ( code and pom at end ) which sees how many times the function can be run in 1 second.The this is a 1300x factor between testEqualsIntern and testEqualsNew which is frankly quite surprising to me.The code for String.equals ( ) does have a test for the same object , which would kick the identical ( interned in this case ) string objects out quite quickly . I just have have significant difficulty believing that the additional code which appears to amount to walking over an array of size 1 for the two tests and comparing elements is that much of a performance hit.I 've also put in a test with another simple method call in the String to make sure I was n't seeing something that is too crazy.The .pom for maven ( to quickly set it up yourself if you wish to reproduce this ) : This was auto generated with ( appropriate tweaks made for group and artifact ) : To run the tests : As it will be a question , the Java version this is running under : The hardware ( which might come into question ) is OS X , 10.9.4 on an Intel Xeon processor ."
"I am working on someone 's code and came across the equivalent of this : Where someVolatileMember is defined like this : If some thread , A , is running the for loop and another thread , B , writes to someVolatileMember then I assume the number of iterations to do would change while thread A is running the loop which is not great . I assume this would fix it : My questions are : Just to confirm that the number of iterations thread A does can bechanged while the for loop is active if thread B modifiessomeVolatileMemberThat the local non-volatile copy is sufficient to make sure that whenthread A runs the loop thread B can not change the number ofiterations"
"I know that if the Collection will be changed while some thread is traversing over it using iterator , the iterator.next ( ) will throw a ConcurrentModificationException.But it shows different behavior depending on the number of elements in the list.I tried a code snippet in which I traversed a list in for-each loop and in between it 's traversal removed an element from the list using remove ( ) method of the list.Ideally it should throw a ConcurrentModificationException in this condition without depending on number of elements in the list , But it is not true when number of elements in list are two.Case 1 : Number of elements in list - 1 Output : One Exception in thread `` main '' java.util.ConcurrentModificationExceptionThat 's was as expected.Case 2 : Number of elements in list - 2 Output : OneNo Exception is thrown ? ? ? ? ? ? ? ? ? Case 3 : Number of elements in list - 3 Output : One Exception in thread `` main '' java.util.ConcurrentModificationExceptionAgain an exception is thrown which is ideal behavior.But why it runs properly in case-2 without throwing any ConcurrentModificationException ."
"I 'm working with Shopify at the moment and using their webhook notifications so I can save stuff to our database.Within their webhook headers , they provide a header of : X-Shopify-Hmac-Sha256which is : Each Webhook request includes a X-Shopify-Hmac-SHA256 header which is generated using the app 's shared secret ( looks like : '267bb1719a8e6ff75c4f2d709be0ca11 ' ) , along with the data sent in the request.This is jolly wonderful ; However , I 'm really struggling to calculate the value of the X-Shopify-Hmac-Sha256.I have a .cfm page which the webhook hits and I pass through the getHTTPRequestData to a function like thus : I then stole some code from StackOverflow and Ben Nadel , but neither seem to end up giving me the value that I want . Currently I 'm using Ben Nadels code like thus : ( arguments.key is the shared secret ) Somewhere along the way , I am going wrong . Have I completely misunderstood what I am meant to be doing . This looks so easy in PHP ."
"In Java , we have functions of the sort : Do note that I am not modifying the input in any way because a lot of time we happen to use ImmutableList for the List . More commonly , we try to ensure immutability in functions to whatever degree possible . However , a pitfall I see here is that , all my methods very often use their own implementation of Collection . If somebody using my library was using LinkedList or a Set or a SortedSet , an assumption like `` lookups are O ( 1 ) '' or `` the list is always sorted '' breaks whenever my function is called on their list : In case of a LinkedList , this becomes even more subtle , if my function were to return a List , then I would continue to use the list . It wo n't have any compile-time errors , nor would the problem we visible to me . In the previous case the problem was atleast visible because I still had to convert the returned Collection ( or List ) to a Set and I knew what was up . The problem would only arise later on , if there was some heavy processing going on which depended on a LinkedList being used . An ideal way ( that does not mean `` recommended '' though ) would be : This way , I am ensuring that atleast the same implementation of a type is being used . What , in your opinion , the solution to this problem ? EDITJust to clarify a bit , I do not actually have a removeNulls method and that is not what I am looking for . This question does not pertain to a real-life problem , but is more of a `` something to think about '' . In other words , my question would be , given that you give me a collection , I have to return another collection that is somehow derived from it and does not modify the input , how do I ensure that my output collection adheres to the contracts ( or specifically , the implementation ) of the input collection ?"
"I 'd like to print headers of *.java files in all sub-directories recursively that have more than two type parameters ( i.e . parameters within < R ... H > in the samples below ) . One of the files looks like ( with names reduced for brevity ) : multiple-lines.javawith expected output : but another could look like this , as well : single-line.javawith expected output : Files that should not be considered/printed : X-no-parameter.javaX-one-parameter.javaX-two-parameters.javaX-two-line-parameters.javaAll the spaces in the files could be \s+ . extends [ ... ] and implements [ ... ] immediately prior to { are optional . extends [ ... ] is also optional at each of the type parameters . See The Java® Language Specification , 8.1 . Class Declarations for details.I 'm using gawk in the Git Bash : with : and ws-class-type-parameter.awk : This finds all the *.java files ... great , executes gawk with each of them ... great , but you see the results as comments after my tries . Please note : The ClazzA literal is just for testing and MCVE here . It could be \w+ in real , but with 500.000+ lines in thousands of files when testing ... It works if I try it on regex101.com . Well , sort of . I did n't find how to define /start-regex/ , /end-regex/ there , so I added another . * in between.I took the flags from there but I could n't find a description whether gawk supports the flag syntax / ... /sU , / ... /U so I just gave it a try . A now deleted comment told me that no flavour of awk supports this.I also tried it with grep : with types.grep : which results in output of singleline.java only . ( ? s ) is -- perl-regexp , -P syntax and grep -- help claims to support this.UPDATEThe solution in Ed Morton 's answer works well but it turned out that there are auto-generated files with methods like : which give an output of e.g . : and others with class comments and annotations like : with an an output of e.g . :"
"I would like to know the use of ? in java generics . By studying placeholder T and the wildcard ? , I wondered about ? , gone through several websites/pages and books but failed to understand it . So I created the below class to study the differences . Here in one case , There might be several scenarios missing from my class so what I have written is incomplete , in this case can anyone please help me to realize more scenarios . Or I found ? as redundant from , except it provides features like , use of super keyword and lesser characters in a method signature along with return type.EDIT : Basically my question is to know the reasons behind , the purpose of introducing ? wildcard where a generic type can replace it everywhere . It is not the question of how to use ? or T types . Ofcourse , knowing its usage will provide someanswers.For example , the things I have deduced : ? makes the code more readable and less easy to code at certainplaces It reduces the code bloating sometimes . We can use super classes , which is not possible with T type.Restricts the addition of new random elements to a list . Where casting ( without classcastexception ) is valid for T type sometimes.Are there any more ?"
"Why does combining images where BG is a JPEG cause unexpected results ? This is a follow-up to my answer in Overlaying of 2 images doesnt work properly . The source posted there ( using a BG image created in memory ) looks like this : The BG image is on the left.The FG image ( a PNG with transparency ) is in the middle.The combined image is on the right.So far , so good . But then the person who asked the question commented that if the BG was a JPEG , it failed . Thinking they were mistaken , I altered my example to encode the BG image to a JPEG . Now if I use BufferedImage.TYPE_INT_ARGB or BufferedImage.TYPE_INT_RGB for the final image I get what they were referring to : TYPE_INT_ARGBTYPE_INT_RGBI expected the result to be the same as the original for at least one of those ( more so the ARGB variant ) ."
"I have the following two interfaces : I want to enforce the following : The type parameter of the View ( called ( a ) ) , should be a Viewable that views upon that view ( a ) .The type parameter of Viewable ( called ( b ) ) , should be a View , which is viewable via that same viewable ( b ) .I think I got the bounds done for View , but how am I going to make them work for Viewable ? What I got now compiles , but does not offer enough protection.I can not , as of now , formulate something that gets accepted which I do not want , I can however formulate what I do want , if that helps : public class Hand implements Viewable < HandView > public interface HandView extends View < Hand >"
Is there a good reason to use parameters that shadow fields ? What is the difference between these two : andAnd what if you use the this keyword without parameters that shadow fields in this example ( I 'm guessing it 's just unnecessary ) :
"Is there a way to copy some List ( or combined string if necessary ) N times in Java using Stream APIIf the list consists of { `` Hello '' , `` world '' } and N = 3 , the result should be { `` Hello '' , `` world '' , `` Hello '' , `` world '' , `` Hello '' , `` world '' } What I 've done so far is to get combined String element and I am not sure how to procees to copy it N times . While I can do it externally , I would like to see if it is possible to do with the help of streamsI would like to use stream , because I am planning to continue with other stream operations after the one above"
"I want to make clickable cell of the palette in Vuforia ( without Unity ) by tap on screen : I found Dominoes example with similar functionality and do that : create one plate object and multiply cells objectscall isTapOnSetColor function with parameter x , y ( click coordinates ) on tap and get coordinates , coordinates is correct , but get the id/name of part of objects is wrongI think problem with this line : In the Dominoes example this was : But I do n't know what does do domino- > pickingTransform and paste instead of this line modelViewMatrix ( Tool.convertPose2GLMatrix ( trackableResult.getPose ( ) ) .getData ( ) ) Full code of my touch function : http : //pastebin.com/My4CkxHaCan you help me to make clicks or may be another way ( not Unity ) to do that ?"
"I have a system of object instances that contain a reference to a definition object . I have a top-level class for each inheritance tree . The instance object has a generic reference to the corresponding definition class.Using generics in the getter , a subclass of the top-level object can get the right type of definition without casting . However , an abstract subclass that is subclassed again can not : Why does getDef require a Bear to be cast to ( Animal < BearDef > ) to get a BearDef ? Bear is conclusively defined as extends Animal < ? extends BearDef > . [ Edit ] Even stranger , if I change the Bear class line : ( In which case D is unused and is irrelevant ) it still does n't work . Erase D and the following line resolves the error in the code above ( but does n't help me do what I need to do with subclass definitions ) :"
"I saw java hash map , the clear method , like this : I do n't understand , why to take new tab to clear.Why not use table to clear ?"
"Are these two ( valid ) generic bounds : the same ? Suppose I have an interfaceAnd some enums that implement it : And I want to require that an implementation uses not only a MyInterface but also that it is an enum . The `` standard '' way is by an intersection bound : But I 've discovered that this also works : With the above , this compiles : And the bound works as and intended and required by above for both cases.Is there a difference between these two bounds , if so what , and is one `` better '' than the other ?"
I run this in Java 7 and I get : But when I run the same operations in Perl 5.8.8 I get different results for two out of three : Why is there such a difference in the last two calculations ? How can I get perl to match java results ?
"I m learning about java optional wrapper , to do so I m reading the following tutorialhowever I have a simple question that is not answered in the article : in item 25 : Avoid Using Identity-Sensitive Operations on Optionals they are mentioning to NEVER use an optional object in a synchronized way like this : but there is no explanation why , so please would any one here explain to me why this is a bad practice ? ? ?"
"The following code : compiles without errors in JDK 8 ( using -source 1.6 ) , but fails in JDK 6 with the error message : While I do understand what the error is about , why does this compile with JDK 8 ? Is this documented anywhere ?"
"Consider following code , I want to make it a thread safe class , so that it will never get odd number : I am now doubt of the lock field , which is declared to be final , will this matter ? or it will break the thread safety ? I think if the lock field is not declared to be final , this should be a thread-safe class . If this conclusion is wrong , please correct me , thank you ."
"I 'm trying to have a functor F which may throw multiple exceptions ( in the example below Checked and SQLException ) . I want to be able to call a function with F as an argument , such that whatever checked exceptions F throws ( except SQLException which would be handled internally ) get rethrown.Intuitively , I would expect the above example to compile but it does n't . Is there a way to get this to work , or is the workaround of specifying the type arguments the only way ? The compile error is :"
"According to the Javadoc : ... If start is equal to ± Double.MAX_VALUE and direction has a value such that the result should have a larger magnitude , an infinity with same sign as start is returned . But according to this example : Output : Eh ? Not only is it not Double.POSITIVE_INFINITY , it 's actually smaller in magnitude.Am I just completely misreading the Javadoc ?"
"is an attribute in a JSON . How do I parse this date ? I tried the following piece of code . 2015-05-11T11:31:47 Works just fine . However,۲۰۱۵-۱۱-۰۲T۱۸:۴۴:۳۴+۰۰:۰۰ throws an IllegalArgumentException . Tried parsing the date with other locales/formats as well . No luck . Please help me out ."
"Output : In the above example , why does the compiler choose the widening option ( i.e . Integer -- > Number ) instead of unboxing the Integer and choosing the int option ? Thanks"
"I 'm trying to split a string with multiple sentences into a string array of individual sentences . Here 's what I have so far , And this code is working perfectly fine . I get , I use the lookbehind functionality to see if a sentence ending punctuation mark precedes some or a single white space ( s ) . If so , we split . But there are some exceptions that this regex does n't cover . For example , The U.S. is a great country , is incorrectly split as The U.S. and is a great country.Any idea on how I can fix this ? And also , am I missing any edge cases here ?"
"I recently was doing some coding challenges and this was one of the problems . A non-empty zero-indexed array A consisting of N integers is given . The array contains an odd number of elements , and each element of the array can be paired with another element that has the same value , except for one element that is left unpaired . Find the unpaired value . For example , given array A : A [ 0 ] = 9 A [ 1 ] = 3 A [ 2 ] = 9 A [ 3 ] = 3 A [ 4 ] = 9 A [ 5 ] = 7 A [ 6 ] = 9 the function should return 7.After finishing my own , I came across this solution.I was amazed at this code . I have never seen the exclusive OR assignment operator before and was wondering how this solution works . If someone could walk me through this simple code and explain how it works that would be wonderful ."
"I read a couple of posts such as here but I was unable to find the solution for my problem . Why I am unable to add d ? It is a subtype of Object ... Type of d : A < B < X > > EDITI tried to simplify the problem . When I do : I get the error : Type mismatch : can not convert from A < B < String > > to A < B < ? > > However , String is compatible with `` ? '' - so why is it not working ? I want to add elements to a list where the last type can by anything , something like this :"
"Why does the declarationwork but the declarationchoke ? I 'm aware that 'top level ' ( not sure if that 's the correct phrase here ) generics in a declaration play by different rules than those inside the pointy brackets , but I 'm interested to learn the reason . Not an easy question to google , so I thought I 'd try you guys ."
"I have a java string that looks like this ; And I want to split this String from delimiter ( fname : jon ) < here > ( lname : doe ) .I tried splitting through regex \ ) \ ( but it just breaks my codeOutputI also looked at this question : How to split a string , but also keep the delimiters ? , but it did n't helped because in my case , I want to keep the delimiter ) ( and split delimiter evenly as well , i.e. , the first bracket should go to first result and second to second result.The regex that i used was s.split ( `` ( ? < =\\ ) \\ ( ) '' ) and it gave output : This is my desired output :"
"Here is an example of some code I 'm working on : Let 's further assume there will be many different concrete implementations of FooMaker . So I wrote some code to utilize the FooMakers.The second line of code causes the issue , eclipse tells me the code should be : I 'm having trouble understanding why the Foo declaration as the parameterized type in List has to go away to make the return type correct.Any ideas ?"
"I 'm trying to rename a method in my Eclipse Java project , but it seems to be renaming every method which has the same name . ( Perhaps I 'm misunderstanding what this feature is for - maybe it 's just using sed ? ) Here is a simplified example : If I select the f method in C2 , and select `` rename '' from the `` refactor '' menu to rename it to g , C1.Listener.f is also renamed , resulting with C1 being changed to this : I expected it to be changed to this : Is there a way to make it only rename C2.Listener.f ? I tried in Eclipse Helios and Android Development Tools 22.3.0 ."
How can I invert the last bit in an int ? I wrote this : But how should I rewrite invertLastBit ( ) ?
"Given this code : When you compile that and run javap -c -p 'Test $ 1.class ' , you get this : When the anonymous class is created , the variable p is captured into val $ p ( as expected , because it 's needed ) , and the variable q is not ( as expected , because it 's not needed ) . However , Test.this is captured into this $ 0 even though it is n't needed . Is this mandated by the Java specification , or is it just the way it happens to work ? Why does it work this way ?"
It 's a followup question of jgit - git diff based on file extension.I am trying to add the formatted diff to List < String > but If I try to use same DiffFormatter as below then previous entries getting appended to the next one . Therefore I forced to create a DIffFormatter for every diff entry.Is there a better way to create List < String > from List < DiffEntry > without creating a new DiffFormatter every time ?
"Many people asked similar questions like this , but none of their answers satisfied me.The only two reordering rules that I am very sure of are as follows : Operations inside the synchronized block ( or just call itcritical section ) are allowed to be reordered , as long as it confirms to the as-if-serial semantics.Operations ( including both reads and writes ) are disallowed to be moved ( reordered ) out of the critical section.However , for those operations that are before or after the synchronized block , can they be moved into the critical section ? For this problem , I found some contrary . For example , the cookbook said that the compiler will insert some barriers after the MonitorEnter and before the MonitorExit : According to be above placement made by the compiler and given below pseudo code : According to the cookbook and reordering prevention rules enforced by such XY ( X is Load or Store , Y is Load or Store ) memory barriers , it seems to me that valid/invalid reordering are as below : Understanding 1 : Any stores ( Store 3 and Store 4 here ) after the MonitorExit can NOT be moved up before MB3 and MB4 , because of the existence of a LoadStore ( MB3 ) followed by a StoreStore ( MB4 ) . That 's to say stores after the MonitorExit can not be moved into critical section . However , it can be moved up after MB4 , namely the bracket area.Understanding 2 : Any loads ( Load a and Load b here ) before the MonitorEnter can NOT be moved down after MB2 and MB1 , because of the existence of a LoadLoad ( MB1 ) followed by a LoadLoad ( MB2 ) .That 's to say loads before the MonitorEnter can not be moved into critical sention . However , it can be moved down after MB2 , namely the bracket area.Understanding 3 : Any loads ( Load c and Load d here ) after the MonitorExit can be moved up before the MonitorExit , including the critical section and the bracket area , but it can not exceed the MonitorEnter.Understanding 4 : Any stores ( Store 1 and Store 2 here ) before the MonitorEnter can be moved down after the MonitorEnter , including the critical section and the bracket area , but it can not exceed the MonitorExit.However , all the above understanding or claim see to be contrary to what Jeremy Manson said in his blog , where he claimed that give below code : Reordering that produce below code is allowed : According to Understanding 1 , `` y=1 '' can not be moved up inside the critical section , So I just was confused , which one is correct and complete ?"
"I 'm looking for a solution for this problem : I have an excel file , that contains data . Some of the cells have yellow background . I already created a code for importing the text to JTable , which works fine . But I want to import the background-cell-color to specific cells also . For simplicity-sake of this example , I did n't use loops , reading the excel data from source etc . After reading the forum I understood I need CustomCellRenderer.I have a problem with this approach , because this code colors the cells in the column correctly at first , but when I start to scroll over the colored cells in this table , it recolors the whole column to yellow . ( see the screenshot ) I thought I could add else statement to specifically color the remaining cells to white , but this approach wo n't work for me , because I would be overwriting my previous cell results.Can you point me to a solution on this one ? ( is this a bug , or expected behavior of JTable ? ) . I 'm using NetBeans and the GUI drag n drop generator"
I declare a class as follows : This ... ... yields `` AdditionalClass '' . What method call or calls would allow me to interrogate that object and get `` GenericClass '' as a result ?
"Consider the following method : The method can be abbreviated to : Are these two representations equal in actual run time ? In other words , does the Java compiler optimize away the unnecessary definition of extra variables , that I 've placed for readability and debugging ?"
"Let 's compile the following code with ECJ compiler from Eclipse Mars.2 bundle : The compilation command is the following : $ java -jar org.eclipse.jdt.core_3.11.2.v20160128-0629.jar -8 -g Test.javaAfter the successful compilation let 's check the resulting class file with javap -v -p Test.class . The most interesting is the synthetic method generated for the ( a , t ) - > { } lambda : I was quite surprised to see this ! * entry in LocalVariableTypeTable . JVM specification covers LocalVariableTypeTable attribute and says : The constant_pool entry at that index must contain a CONSTANT_Utf8_info structure ( §4.4.7 ) representing a field signature which encodes the type of a local variable in the source program ( §4.7.9.1 ) . §4.7.9.1 defines a grammar for field signatures which , if I understand correctly , does not cover anything similar to ! *.It should also be noted that neither javac compiler , nor older ECJ 3.10.x versions generate this LocalVariableTypeTable entry . Is ! * some non-standard Eclipse extension or I 'm missing something in JVM spec ? Does this mean that ECJ does not conform to JVM spec ? What ! * actually mean and are there any other similar strings which could appear in LocalVariableTypeTable attribute ?"
"Item has name , price , condition attributes . I want to keep the priceand conditionbut replace the name.For now I figured out this by creating new object but I think this is not best option . I just want to change one field of ArrayList item"
"Now I have an existing class that I would like to refactor to be an Enum . The class currently extends another class which is from external library . As I still would like to benefit from some logics from that extended class meanwhile would like to refactor . How should it be done ? In Java , an enum class can not extend another class whereas it can implement interface . Or is it already wrong for the idea of refactoring it to be an Enum ? Let me show it in the example code below . Assume an existing class Existing is extending another class Parent and the Parent class is from an external library and it is NOT an interface.The idea is to have those static final fields to be Enums , e.g . : and possibly when needed , with new extra attr added as below :"
"This is the second time I found myself writing this kind of code , and decided that there must be a more readable way to accomplish this : My code tries to figure something out , that 's not exactly well defined , or there are many ways to accomplish it . I want my code to try out several ways to figure it out , until it succeeds , or it runs out of strategies . But I have n't found a way to make this neat and readable.My particular case : I need to find a particular type of method from an interface . It can be annotated for explicitness , but it can also be the only suitable method around ( per its arguments ) .So , my code currently reads like so : There must be a better way…Edit : The methods return a method if found , null otherwise . I could switch that to try/catch logic , but that hardly makes it more readable.Edit2 : Unfortunately , I can accept only one answer : ("
"I was playing around with generics and found that , to my surprise , the following code compiles : I would expect T to be inferred to B . A does not extend B . So why does n't the compiler complain about it ? T seems to be inferred to Object , since I can pass a Generic < Object > as well.Moreover , when actually running the code , it throws an ArrayStoreException on the a [ 0 ] = b.get ( ) ; line.I 'm not using any raw generic types . I feel like this exception could have been avoided with a compile time error , or at least a warning , if T was actually inferred to be B.When further testing with the List < ... > equivalent : This does produce and error : As does the more generic case : The compiler correctly recognizes that the first ? might be further down the inheritance hierarchy than the second ? .e.g . If the first ? were B and the second ? were A then this is n't type safe.So why does n't the first example produce a similar compiler error ? Is it just an oversight ? Or is there a technical limitation ? The only way I could produce an error is by explicitly providing a type : I did n't really find anything through my own research , except for this article from 2005 ( before generics ) , which talks about the dangers of array covariance.Array covariance seems to hint towards an explanation , but I ca n't think of one.Current jdk is 1.8.0.0_91"
"For my flow chart I generate three different agents via different sources . Now I want to handle them differently in diverse blocks in the flow chart . For instance , I want to have a different delay time for the agents . Since I am new to AnyLogic and not that good with Java , I have problems to understand how to handle the agents in my model.I gave the agents a string-parameter with a name and tried to use a function with an if-else-statement to differentiate the agents in the delay . My approach is summarized in the following image ( I hope I did it right ) : The code in the function is : I get the error report ( translated from german ) : agent can not be solved to a variable.the method delayPrepFeeder ( ) in type Main is not applicable for the arguments ( Agent ) Thank you and kind regards ."
I ran into some strange behaviour of Java generics today . The following code compiles fine and works as you would expect : but if you change the type of the variable generic to GenericClass ( note no type parameters ) compilation fails with the message `` incompatible types : java.lang.Object can not be converted to java.lang.String '' .This issue seems to happen with any generic class that contains a generic object with a concrete type parameter . A few Google searches have n't turned up anything and the JLS mentions nothing about this scenario ? Am I doing something wrong or is this a bug in javac ?
"Using vaadin ( 7.7.3 ) I 'm filtering a grid by name , this filtering takes a couple seconds to remove the objects from the Grid gui . And so , if I click on that timelapse a row of the Grid which is removed from the Container , it raises an exception : I guess this is normal because it removes the objects from the Container and then it will propagate to the gui.I have thought of catching the exception overwriting the checkItemIdExists ( ) method in my Grid class but it would catch the exception for every situation and that is not the behavior I am looking for.My question is : How can I capture this exception just in this case ?"
"My original question used FileNotFoundException and IllegalStateException and therefore they are included in the answer . I have changed them to their superclasses IOException and RuntimeException respectively for simplicity.This compiles ( not using ternary , 1 checked , 1 unchecked ) : This also compiles ( using ternary , 2 unchecked exceptions ) : But why does this not compile ( using ternary , 1 checked , 1 unchecked ) ? From Eclipse : Unhandled exception type Exception2 quick fixes available : J ! Add throws declarationJ ! Surround with try/catchAnother pair of examplesThis compiles : This does not : From Eclipse : Unhandled exception type Throwable2 quick fixes available : J ! Add throws declarationJ ! Surround with try/catch"
"I used to think was a reliable way to determine whether the shell that launched my Java application was interactive or not . This allowed me to use ANSI escape sequences in interactive mode and plain System.out/System.err whenever the program 's output was redirected to a file or piped to the stdin of some other process , similarly to -- color=auto mode of many GNU utilities.System.console ( ) behaviour is different in Windows , however . While the method does return a non-null value when the JVM is launched from cmd.exe ( which is useless for me , as cmd.exe does n't understand escape sequences ) , the return value is always null when I launch my program from any of the terminal emulators available in Cygwin -- xterm , mintty or cygwin ( the last one is merely a cmd.exe running a bash child process ) .How do I test for an interactive shell in Java w/o reading $ - in shell scripts and passing command-line args to my Java program ? Testing for PS1 environment variable from Java is not an option , as Java is launched from a shell script , so the parent process is a non-interactive shell , and PS1 is unset ."
"In some old Java code , I found a class that contains a lot of methods that all use the same error handling code ( try-catch with a lot of error handling , logging and so on ) . It looks like the first method was simply copied and then the code in the try block was slightly adapted . Here is what it basically looks like : } How could this be simplified ? I do n't want to change the interface of the class ( much ) , I 'd just like to get rid of the copy-pasted catch blocks , so that only the code from the try block stays within the original method . I thought about using the Factory Method pattern , where one method implements the error handling and calls the original method in the try block . But then , all calls would have to go through this method.Any ideas ?"
"As per the documentation on Oracle 's website : Side-effects in behavioral parameters to stream operations are , in general , discouraged , as they can often lead to unwitting violations of the statelessness requirement , as well as other thread-safety hazards . Does this include saving elements of the stream to a database ? Imagine the following ( pseudo ) code : What are the unwanted effects opposed to this implementation :"
"The polynomial 's degree should be # of points - 1 e.g . if there are 2 points given it should be a line.I know I can solve this using a matrix e.g . if there are 4 points : the polynomial would be y = ax^3 + bx^2 + cx + d and the matrix would beand I can solve for a , b , c , d . Is there a library that can do this operation with the inputs being the points { x0 , y0 } to { xn , xn } ?"
"I 'm having some trouble trying to read a String and a Double from a txt file . Here is my txt file : And here is the code I am using to read them : Whenever I run this code , Exception in thread `` main '' java.util.InputMismatchException appears telling me the problem is in nextDouble ( ) .Does anybody know how to solve this ?"
"A customer is complaining that he 's experiencing a memory leak in our Java application.Despite all my efforts to reproduce his environment , configuration and usage , I was n't able to reproduce , and thus identify , the leak.I 'd want to go down another path ... Instead of trying to replicate it , maybe I could ask him to generate some view of his heap that would allow me to identify the leak.Being run by the customer who would send it to me , there are some requirements on this : Should not contain confidential infoShould be small enough that it can be sent through the internetShould be generated by an easily available tool ( would be best if it was in the Java distribution ) A complete heap dump is impossible because of 1. and 2.Most of all , it should allow me to find the leak . So it should at least show the retained heap size for objects of each class ( size of itself + everything it keeps a reference to ) .jmap -histo is definitely not good enough.Is something like that useful at all ? I do n't think so ."
"I have this codeand it works . But when I flip the order , I get an illegal forward reference error . I 'm a little bit shocked , I did n't expect something like this from Java . : ) What happens here ? Why is the order of declarations important ? Why does the assignment work but not the method call ?"
"I want to use JavaPoet to generate an annotation with a type literal as value . For example : I 've tried all the options I can think of , but none work : using $ L generates interface MyServiceusing $ T generates my.package.MyService , which is close but misses the .class part.using $ N gives an error : expected name but was my.package.MyServicehow do I get it to generate MyService.class as the annotation value ?"
"I am trying to get current time in other time zone . I used this code for this : But , when I am running this code , this code provides the current time in CET as the time in my local machine is in CET.I am confused . Then why there is scope to provide a TimeZone in constructor ?"
"Out of the two methods in StringBuilder 's append , which of the following code is better ? or"
"If I have a class that implements two interfaces and I send that class to an overloaded method that accepts either interface ; which variant of the method will be called ? In other words , if I have something like this : And I send my class C to the method/s in D : Which method should be called ? Does the Java standard cover this ?"
"Why does it seem that Gson ignores the nested generic type declaration when serializing ? I am trying to get Gson to use the compile-time type I specify , instead of the runtime type of objects in the list . I am also using an abstract superclass for A.java , but the example below has the same problem.Output : Expected :"
I have used SLF4J logging to print all the logs . I am using the latest version of org.slf4j . implementation 'org.slf4j : slf4j-api:2.0.0-alpha1 ' implementation 'org.slf4j : log4j-over-slf4j:2.0.0-alpha1'But I 'm getting the following error and also no logs are being printed.The logs are working fine with the older version ( 1.7.25 ) . Is there anything needs to be added or configured on the project so that these logs can be printed
"I have an android application which is getting gesture coordinates ( 3 axis - x , y , z ) . I need to compare them with coordinates which I have in my DB and determine whether they are the same or not.I also need to add some tolerance , since accelerometer ( device which captures gestures ) is very sensitive . It would be easy , but I also want to consider e.g . `` big circle '' drawn in the air , same as `` small circle '' drawn in the air . meaning that there would be different values , but structure of the graph would be the same , right ? I have heard about translating graph values into bits and then compare . Is that the right approach ? Is there any library for such comparison ? So far I just hard coded it , covering all my requirements except the last one ( big circle vs small circle ) .My code now : EDIT : I found JGraphT , it might work . If you know anything about that already , let me know.EDIT2 : See these images , they are the same gesture but one is done in a slower motion than another.Faster one : Slower one : I have n't captured images of the same gesture where one would be smaller than another , might add that later ."
"The code below succeeds in Java 8 but throws a ClassCastException in Java 11 . Why did the behavior change ? I could not find any related changes in OpenJDK 's Java 9 , Java 10 or Java 11 feature sets ."
"The question : while this function has been called from a thread , IS there a way the list passed to this function can be modified by another thread ?"
"I am working with Java 8 streams , and would like to come up with a way to debug them . So i thought I could write a filter that printed out the elements at a stage of the stream , something like this : Close , but that 's not quite it , as it does n't have the proper delimiters to make it legible : What I want is : Is there a more standard way to do this ? Note that Peek as the linked article says does not do this , because I somehow want to collect all the elements of the stream at each stage together ."
"I 'm working on an app for a robot where the user can define punch combinations which the robot will later fetch from the device . To allow the user to store these trainings I have defined a class `` Trainings '' which holds the id , the name and the punch combination of the training . This training is later saved in a database , for which I have written a DatabaseHandler class . Adding and displaying the data works fine , but whenever I want to delete an entry with the method below : and later try to populate my GridView again ( handled by a GridAdapter class ) , I get a Nullpointer Exception java.lang.NullPointerException : Attempt to read from field 'java.lang.String com.noeth.tobi.mcrobektrainingsplaner.Training._name ' on a null object reference at com.noeth.tobi.mcrobektrainingsplaner.GridAdapter.getView ( GridAdapter.java:50 ) the getView method of the GridAdapter : I figured that it must have something to do with the id of the deleted training , as the loop simply goes through all ids so I wrote a method recalcIDs which recalculates the id of every item coming after the deleted training : recalcIDs However this does not fix it.When reinstalling the app and starting with a completely new database everythings works again.Does anybody have an idea what I 've done wrong ? P.S . : Here 's the getTraining method where it ca n't find the name :"
"I just learned from Peter Lawreys post that this is valid expression , and evaluates to true.My question is , why is it allowed to have double literals which ca n't be represented in a double , while integer literals that ca n't be represented are disallowed . What is the rationale for this decision.A side note , I can actually trigger out of range compile error for doubles literals : - ) So as long as we 're in ( min , max ) range , the literal gets approximated , but when going outside of that , it seems the compiler refuses to approximate it ."
"The code : is used by my class : As you see it has two type parameters P and X . Despite of that the X can always be deduced from P but the language requires me to supply both : Is there any trick to get rid of the X type parameter ? I want just useAlso , I do n't want lose type information and use it as :"
"Input string is `` 1.01 '' and output is `` . '' . I ca n't understand why matcher.find ( ) returns true , there are no symbols like `` + '' , `` - '' , `` * '' , `` ^ '' , `` % '' in input string . Why did it happen ?"
"Consider the following code : I came across this the other day when accidentally calling a static method in a non-static way.I know that you should n't call static methods in a non-static way , but I am still wondering , why is n't it possible to infer the type in this case ?"
"Since this question is back to four votes to close , I 'm trying again to ask a more narrow question that hopefully the community will view more favorably.Which specific design decisions in Java are documented to be done the way that they are not because that was the preferred design decision , but rather because it was necessary to support backwards compatibility.The obvious case is Generics , where you can not detect the type parameter at runtime . ( So you ca n't do : What other such examples exist in the language design and standard API ?"
"I have a CreateOrder instance which has some String , Integer and Double states in it . When I create an object for CreateOrder in my JUnit test and send it over , I am able to validate String attributes but not Integer using Optional API as follows - Like for aoid , I also want to user ofNullable ( ) for integer but not able to figure it out how . My intention behind this is to make my code safe from NullPointerExceptions and hence I want to make the user of powerful Optional for Integer and Double . I am fairly new to Java 8 and getting confused if I should use OptionalInt or Optional < Integer > ? If Optional < Integer > , how to use it like I have used for String ?"
I found a scenario where java program behaves differently after renaming a variable . I understand this is n't actually code that anyone would use but if someone knows whats going on it would be nice to have an explanation . I tried this with java 1.6 on Eclipse Kepler.This outputs : hello Exception in thread `` main '' java.lang.NoSuchMethodError : _test.TestClass $ 1.doStuff ( ) V at _test.TestClass.main ( TestClass.java:13 ) As far as I understand the compiler creates a TestClass $ 1.class file for the testClazz $ 1 object and this causes a naming collision . But after renaming the object to testClass $ 1 : The output is : _test.TestClass $ 1 @ 2e6e1408 hello2Any ideas what is going on here ?
"I 've read pretty often , that using try-catch is quite slow compared to normal code.Now I wonder if the number of caught exceptions affects the performance of the code or not.So isslower than ? Of course I 'm only referring to the code in the try-clause and if no exception is caught ."
Coursework brief requires me to assign an optional cmd argument to a static final variable.I have tried doing it in main ( ) but compiler complains `` can not assign a value to final variable '' . I 've tried doing it in a static method called by main ( ) but same error . I 've heard about static blocks being used in other answers but I need to be able to reach cmd args when I decide what to assign . I 've also got some headaches over argument parsing as both arguments should have default values unless one is provided . Any bonus advice is very welcome.Thanks for reading !
"I am trying to call into a Rust library from Java and I really want to use SWIG to generate the interface layer from a C header file that I write ( I also want to allow regular C clients to call into my library , hence I think it makes sense to maintain one interface header ) .I am doing this all on Windows using Mingw and Rust ( GNU ABI ) .I will go into exactly what I did and the result below but essentially I am getting an UnsatisfiedLinkError at the end . There are a couple of things that I think may be wrong but I am not sure and I am not sure how ( or if ) I can fix them : SWIG puts numbers in the function name ( you can see this if you edit the testlib_wrap.c file it produces in my example ) .The JNI documentation says I need to pass the argument -Wl , -- add-stdcall-alias when compiling but as I am building with cargo I am not sure how to do that ( can I pass it if I build with rustc directly perhaps ? I could not see anything in the man page ) So in a nutshell , my question is : How do you call into Rust from Java using SWIG ? But I feel like I am scratching the surface of a solution so the answer may be resolving one or both of the points above so here is exactly where I am so far ... I start by making a new Rust library using Cargo : Create testlib.h with the contents : Create a swig input file ( testlib.i ) with the following contents : Run swig to generate some Java and C : Create a main java class ( Program.java ) with the contents : Compile the java : Edit the src\lib.rs file that cargo made to implement the function : Create a new build.rs file to hook in compiling the swig output via the gcc-rs library , which contains : Edit the Cargo.toml file so that it contains : Compile the rust project : Run the java application : Get the following error : I had a look at the DLL that cargo made me in dependency walker and it looks kind of empty ( in terms of it 's exports ) and the single function looks a bit weird , to me at least , due to the 1s in the name and the @ part which I think the -- add-stdcall-alias would remove right ? Am I close and the name in the DLL as shown in dependency walker is the root of my problem ? If it were Java_testlib_testlibJNI_tell_me_the_answer would it work ? If so , how do I make it so ( I edited the _wrap.c file SWIG produced to remove the 1s but I am not sure how I will get rid of the @ ) ? If not , what 's the problem ?"
"Consider the abstract Data class with an abstract Builder : The class is extended , which also includes its own extended Builder : The Extension object gets all methods from both classes . However the order the setter methods is called is important . This is OK : Whereas this produces a compilation error : I know the reason why , the withOne ( ) setter has downcast the type of Builder object from the concrete class to the abstract one . I would like to know what I need to do to solve this , so setters can be called in any order ."
"I 've been experimenting with the HttpClient stuff in the Java 9/10 incubator , and have the following trivial code ( virtually stolen from the project home page ! ) : I find it works fine if it 's pointed at a URL that is not the localhost , but fails if I ask for the localhost ( whether by the name `` localhost '' , by 172.0.0.1 , or by the actual IP address of the local host ) . The error is very strange , and the entire stack trace does not mention any of my code.There is a server running locally , and I can connect to it just fine using a simple request from a web browser.Any thoughts ? [ EDIT ] I found , I beleive , the mail list for this project . It 's `` obfuscated '' ( which fooled me completely ! ) but shown as : net dash dev at openjdk dot java dot net I 'll post there too , and see if they have any input . [ EDIT 2 ] I 'm pretty sure that this has nothing to do with localhost ( per original title ) but is something in the protocol negotiation with node.js/express ( which is the server I 'm using because it 's easy to experiment with ) . Node occasionally ( e.g . with a last line of text that 's not LF terminated ) seems to report the wrong content-length , but this is n't the problem , as the failure still occurs with correct length . I think it 's possibly a bug in the attempt to upgrade the connection to HTTP/2.0 but do n't know yet ... [ EDIT 3 ] After wasting way too much of my life experimenting , I 'm fairly sure that there 's something in the way node.js 8.11.1 ( and express 4.13.4 and body-parser 1.15.1 ) handle a request to upgrade a to HTTP 2.0 that 's causing the problem . But I have no idea what . I 'm giving up , and will continue the learning process for httpClient using a different server ."
"I 'm building ( well , trying to build ) a simple usenet news reader . The code below works . Is grabs the username , host , password from the SharedPreferences and connects to the server and sucessfully authenticates , however it locks up the UI until all the tasks are done.How would i change this code so that it does n't lock up the UI ?"
"So here it is this exampleand class Stuff is defined as followThe output isHow does Java tell the null is a String ? If I change Stuff to I get compilation error for Stuff ( null ) : Again , why does Java `` decide '' null is a String ?"
"I would like to do the following : That is , given an immutable list of T , you can add any U to the list to yield an immutable list of U , with the constraint that U must be a supertype of T. For exampleI can add a monkey to a list of monkeys , yielding a new list of monkeys ; I can add a human to a list of monkeys , yielding a new list of hominids ( presumably the least upper bound of monkey and human ) ; I can add a rock to a list of hominids , yielding a new list of Object ( assuming rocks and hominids share no other common ancestor ) .This sounds great in theory , but the lower bound on U is not legal per the JLS . I could instead write : In this fashion , the compiler will correctly infer the least upper bound between the list 's element type and the U we want to add . This is legal . It also sucks . Compare : I 'm a big fan of functional programming , but I do n't want my Java code to look like a Lisp dialect . So I have three questions : WTF ? Why is the < U super T > bound not legal ? This question has actually been asked here before ( `` Why ca n't a Java type parameter have a lower bound ? '' ) but I think the question as phrased there is sort of muddled , and the answers there boil down to `` it 's not useful enough , '' which I do n't really buy.JLS section 4.5.1 states : `` Unlike ordinary type variables declared in a method signature , no type inference is required when using a wildcard . Consequently , it is permissible to declare lower bounds on a wildcard . '' Given the alternative static method signature above , the compiler is clearly able to infer the least upper bound it needs , so the argument seems broken . Can somebody argue that it is not ? Most importantly : Can anybody think of a legal alternative to my method signature with the lower bound ? The goal , in a nutshell , is to have calling code that looks like Java ( list.add ( monkey ) ) and not Lisp ( add ( list , monkey ) ) ."
"I want to create two interfaces with inverse relationships . I 'm not sure if expression C extends Category < D , Item < D , C > > is correct , but at least there are no compiler errors.I extends Item gives the warning Item is a raw type . References to Item < D , C > should be parametrized . I triedbut this results in the error Bound mismatch : The type Category < D , I > is not a valid substitute for the bounded parameter < C extends Category < D , Item < D , C > > > of the type Item < D , C > . How to I parametrize the interface Category correctly with generics ?"
"I have a requirement to trigger the Cloud Dataflow pipeline from Cloud Functions . But the Cloud function must be written in Java . So the Trigger for Cloud Function is Google Cloud Storage 's Finalise/Create Event , i.e. , when a file is uploaded in a GCS bucket , the Cloud Function must trigger the Cloud dataflow.When I create a dataflow pipeline ( batch ) and I execute the pipeline , it creates a Dataflow pipeline template and creates a Dataflow job.But when I create a cloud function in Java , and a file is uploaded , the status just says `` ok '' , but it does not trigger the dataflow pipeline.Cloud functionpom.xml ( cloud function ) cloud function logsI went through the below blogs ( adding for reference ) where they have triggered dataflow from cloud storage via cloud function . But the code has been written in either Node.js or python . But my cloud function must be written in java.Triggering Dataflow pipeline via cloud functions in Node.jshttps : //dzone.com/articles/triggering-dataflow-pipelines-with-cloud-functionsTriggering dataflow pipeline via cloud functions using pythonhttps : //medium.com/google-cloud/how-to-kick-off-a-dataflow-pipeline-via-cloud-functions-696927975d4eAny help on this is very much appreciated ."
I 've been trying to figure out what the best practice is for form submission with spring and what the minimum boilerplate is to achieve that . I think of the following as best practise traitsValidation enabled and form values preserved on validation failureDisable form re-submission F5 ( i.e . use redirects ) Prevent the model values to appear in the URL between redirects ( model.clear ( ) ) So far I 've come up with this . Is there a way to do this with less boilerplate code or is this the least amount of code required to achieve this ?
"I am trying to create a huffman tree , and am in the middle of attempting to merge two trees . I can not figure out how to remove a Tree in my program without getting the `` concurrent Modification Exception '' because I am iterating over a list and attempting to remove from the list at the same time ."
"I am trying to take a part of a String from point ( a , b ) and replace letters from given values in the string into ' X's.Example : If the string is ABC123 and switch ( 3,5 ) is called , it would change it to ABCXXX.So far I have : I am very lost ... .thanks for any help !"
"Can somebody who understand the Java Memory Model better than me confirm my understanding that the following code is correctly synchronized ? I understand that this code is correct but I have n't worked through the whole happens-before math . I did find two informal quotations that suggest this is lawful , though I 'm a bit wary of completely relying on them : The usage model for final fields is a simple one : Set the final fields for an object in that object 's constructor ; and do not write a reference to the object being constructed in a place where another thread can see it before the object 's constructor is finished . If this is followed , then when the object is seen by another thread , that thread will always see the correctly constructed version of that object 's final fields . It will also see versions of any object or array referenced by those final fields that are at least as up-to-date as the final fields are . [ The Java® Language Specification : Java SE 7 Edition , section 17.5 ] Another reference : What does it mean for an object to be properly constructed ? It simply means that no reference to the object being constructed is allowed to `` escape '' during construction . ( See Safe Construction Techniques for examples . ) In other words , do not place a reference to the object being constructed anywhere where another thread might be able to see it ; do not assign it to a static field , do not register it as a listener with any other object , and so on . These tasks should be done after the constructor completes , not in the constructor . [ JSR 133 ( Java Memory Model ) FAQ , `` How do final fields work under the new JMM ? '' ]"
I have a string ; How can I split/extract logical values from this string inside parenthesis as ; Any idea ? all is welcome
"The Java project I 'm working on uses a combination of code analysis tools : PMD , Checkstyle and FindBugs . These pick up on plenty of bugs , style issues etc . but one often slips through the net : Note the other way round is checked , i.e . public abstract BadlyNamedClass gives PMD warning `` Abstract classes should be named AbstractXXX '' .Could anyone advise whether there is a way of checking for this , either with one of the mentioned tools ( perhaps some kind of custom rule ? ) or another automated tool that would do the job ?"
"I have currently two queues and items traveling between them . Initially , an item gets put into firstQueue , then one of three dedicated thread moves it to secondQueue and finally another dedicated thread removes it . These moves obviously include some processing . I need to be able to get the status of any item ( IN_FIRST , AFTER_FIRST , IN_SECOND , AFTER_SECOND , or ABSENT ) and I implemented it manually by doing the update of the statusMap where the queue gets modified likeThis works , but it 's ugly and leaves a time window where the status is inconsistent . The inconsistency is no big deal and it 'd solvable by synchronization , but this could backfire as the queue is of limited capacity and may block . The ugliness bothers me more.Efficiency hardly matters as the processing takes seconds . Dedicated threads are used in order to control concurrency . No item should ever be in multiple states ( but this is not very important and not guaranteed by my current racy approach ) . There 'll be more queues ( and states ) and they 'll of different kinds ( DelayQueue , ArrayBlockingQueue , and maybe PriorityQueue ) .I wonder if there 's a nice solution generalizable to multiple queues ?"
"I have a constructor which gets a HashSet and a HashMap . I need to run a validation check on one hashMAp and combine it with the hashSet , as 'super ' must receive only one hashSet.I ca n't find a way to do it as I get following error : can not reference this before supertype constructorExample : I want to do something like that : I thought converting the constructor to private and then run it like that : but it also did n't work . Can you please advice ?"
"I have TypeToken class used to represent some generic type like this : TypeToken < List < String > > listOfStrings = new TypeToken < List < String > > { } And this works fine , TypeToken is just class TypeToken < T > { } with simple method to get that type . Now I wanted to create simple methods for common type like List for more dynamic usage : TypeToken < List < ? extends Number > > numbers = list ( extendsType ( Number.class ) ) using : ( return nulls as I 'm only asking about compiler not logic ) But for some reason this does not work how I would expect : ( as code that I expected to be valid does not compile , and code that I expected to be invalid does compile ) What I 'm doing wrong here ? And what is causing generics to behave like this ? I 'm using JDK 11 , but I also tested this on JDK 8Compiler error :"
"If I run my project in Eclipse all is OK . But when I do : and afterwards start my project then it is not working . I found this difference : Eclipse : mvn package : Why ? What could I do , that mvn package loads the same jetty version 9.2.13 ? UPDATE : I found some additional differences : Compiling in Eclipse ( WebApplicationInitializer ) : Compiling with mvn package ( ServletContainerInitializers ) : Why does mvn not use the WebApplication ? POM.xml :"
"When an exception occurs during the handling of an exception , only the last exception gets reported , because I can add just one exception to an Error object . How to report all exception in the final error message ? Example : In the example everything fails . The database insert causes ex1 . The rollback causes ex2 . And closing the database causes ex3 . When the program gets executed only the last ex3 gets reported in the Error object . How to include also ex1 and ex2 to the Error object ? The constructor of Error accepts just one exception ."
"I am preparing for the OCA SE 7 exam , and some of these questions are really ( ! ) tricky.In one of the books Im using I found an error I think , so I would like to confirm the following please ... After the println method executes , how many String objects are there in the pool ? It is my understanding that : - line one does not add the string to the pool- line two creates `` autumn '' and `` summer '' and adds them to the poolSo the correct answer in the book is 2 . However , I also think ... since Im supposed to be paranoid with the exam questions ... that also the string `` false '' is created and added to the pool ... So I think 3 should be the correct answer ... or does some other black magic happen like ... `` true '' and `` false '' are already put into the pool by the JVM by default or something ? ... Can someone please confirm ? Edit : after some research I find that it was not fair of me to speak of an 'error ' in the book ; as a general tip : exam questions are usually formulated in terms of 'the following code ' ; so they are clearly interested in plain old simple calculation of what the code itself is locally doing . So the scope therefore does not allow inspection of the println ( boolean b ) implementation or compiler optimizations . Fair enough : )"
"Assume this code : Here , a temporary object new Foo ( ) creates a statically held Thread thread which utilizes an instance-tied String thing in an anonymous implementation of Runnable . Does the String thing get garbage collected after expiration of new Foo ( ) , or will it persist for its use within run ( ) ? Why ?"
"Scenario : I want to have an enum containing all the playing cards in a standard deck . For this example ignore the jokers.Writingfeels wrong.I 'd like to be able to do something like thisI 've considered defining card as a class containing suit and face fields , where suit and face are themselves enums . However in other scenarios ( such as jokers having the suits red and black ) this would allow for invalid card objects to be created ( ie a joker of diamonds , or a red 10 ) .Self-answer : Apparently I do n't have enough rep to post an answer to my own question ."
"I 'm new to Netty . There is a problem about file transfer confusing me for days . I want to send image file from client to server.The code below is executable . But only I shutdown server forcibly can I open received image file normally . Otherwise , it shows `` It looks like you do n't have permission to view this file . Check the permissions and try again '' . So I want to close fileoutputstream when there is no data in ByteBuf using ByteBuf.isReadable ( ) , but the else block in method channelRead in ServerHandler never reach . It 's useless.Besides , if sending text file , it can be open normally when server is alive . I do n't want to shutdown server every time after transfer . Please give me some suggestions to solve it.This is FileClientHandlerThis is FileServerHandler"
"Java requires the instantiation of a bounded type parameter to its upper bound class to have a cast , for example : T is already restricted to Integer or one of its sub classes ( I know , there are n't any ) upon declaration , and it seems to me that any bounded type parameter may only be instantiated to its upper bound class or one of its sub classes , so why is the cast needed ? Also , I know that this is n't the case if I instantiate the parameter through invocation outside of this method , so do n't offer that as a answer ; the question is specific to bounded type parameters being instantiated within their declaring class/methods ."
"Bridge methods are used in java to handle covariance in derived methods , and to change visibility on derived methods.However , both of these cases are for instance methods ( as you ca n't derive static methods ) .I was looking at how Kotlin generates argument defaults , and I was struck that it uses static bridge methods.I ca n't think of a circumstance under which Javac generates static bridge methods - can anyone else ? ( by this , I mean a method which has the ACC_BRIDGE flag ( 0x40 ) set , not just a semantically bridging method ) ( fwiw - example code and decompilations ( using cfr 0_124 with -- hidebridgemethods false ) ) Variancedecompiles toVisibilitydecompiles toKotlin defaults - yum ! decompiles ( into java ) to ( note the static bridge )"
"I have something like the below : A collection of say 100 , where the stackid could be duplicate with different questionIds . Its a one to many relationship between stackId and questionIdIs there a streamy , java 8 way to convert to the below strcuture : Which would be a collection of 25 , with each instance having a nested collection of 4 questionIds.Input : Output"
"Actually , this is the first time I see a code like this : two lines I do n't understand :"
Hello I was trying to use Java regular expression to get the required context path from the following path information.I want to write regular expression to get `` /Systems '' and `` /lenovo '' separately.I tried the following regular expression using groups but not working as expected.Could any body tell me what might be the wrong in my Regx ?
"I am wondering if there is a way to combine multiple attributes from an object into a list of String . In My Case , I have an object with the name `` debitCardVO '' and I want it to convert from object to ListHere is my code Snippet :"
"Found fact about unbounded wildcards that is annoying me . For example : It fails , although works with Map < ? , ? > or Map < ? , Map < Integer , String > > return type.Could someone tell me the exact reason ? Thanks in advance.UpdateSeems that i understood and the simplest explanation for this question ( omitting all these sophisticated rules ) , in my opinion , is the last note in Capture Conversion ( link ) : Capture conversion is not applied recursively ."
"The Dagger 2 documentation suggests providing different configurations for testing and production using an interface for ProductionComponent and TestComponent , as follows : Let 's say we have an Android activity ( MyApp ) which uses ProductionComponent : Generally , what 's the best way to use DaggerTestComponent.builder ( ) rather than ProductionComponent.builder ( ) in Android integration tests ? I 'm unsure of how to use the fakes ; Should I make a new activity in /androidTest which extends MyApp ? Or should I pass in a new DaggerTestComponent into MyApp using a getter/setter when I setup my test ?"
"I have a series of points , which represent mobile devices within a room . Previously I have systematically emitted a ping from each and recorded the time at which it arrives at the others to calculate the distances.Here 's a simple diagram of an example network.The bottom A node should have been a D insteadAfter recording the distances I have the distance information in hashes.My maths is rusty , but I feel like I should be able to then draw circles using these values as the respective and then intersect the circles to calculate a relative graph of the nodes.Every time I try to do it I start out with a series of circles drawn around the root node ( in this case A ) that looks something like this : I know that the other nodes must lie on the lines that I have drawn around A , but without being able to position them , how do you draw their distances so that you may intersect the circles and create the graph ?"
"While refactoring some code I stumbled over this oddity . It seems to be impossible to control the strictfp property for an initializer without affecting the entire class . Example : From the JLS , Section 8.1.1.3 I gather that the initializer would be strictfp if the class would be declared using the strictfp modifier . But it also says it makes all methods implicitly strictfp : The effect of the strictfp modifier is to make all float or double expressions within the class declaration ( including within variable initializers , instance initializers , static initializers , and constructors ) be explicitly FP-strict ( §15.4 ) . This implies that all methods declared in the class , and all nested types declared in the class , are implicitly strictfp.So , the modifier is not accepted for the static initializer , and when applied to the entire class , everything becomes strictfp ? Since there is no opposite to the strictfp keyword , this is impossible to achieve ? So , am I screwed to use a static method to hold the body of the initializer block to achieve precise control over strictfp'dness ?"
"When user change Display settings scaling ( Windows 10 , right click on desktop , select Display settings and scale to 150 % ) , suddenly all values reported by or orbecome invalid . Is there a way how to get the actual values ?"
I am trying to create an app that will redirect to a certain webpage when run . I would like this app to be full screen with no title bar or browse bar . I am able to call a BrowseSession to bring up the proper website in the browser but it does n't give me the desired feel . Here is the code I am using for the BrowseSession : I have looked into using a BrowseField for this but I find that it does not act in the same fashion as a regular BrowseSession . The device Back Button closes the app and I receive errors in my simulator when JavaScript code is being run . My code for this follows : Any help will be greatly appreciated .
I have a question about g1gc.These are the heap usage graph.The above is -Xms4g -Xmx4g.The bottom is -Xms8g -Xmx8g.I do n't know why the 8g option causes g1gc to happen more often . Other options are all default.And server spec is 40 logical process . ps . What are the proper tuning options ? addtional questionCan the memory allocation be faster because the larger the memory size - > the larger the region size ? gc.log4G gc.log8G gc.log
"Recently I was playing around with some simple Java code using main methods to quickly test the code I wrote . I ended up in a situation where I had two classes similar to those : I was quite surprised that the code stopped compiling and Eclipse complained that Exception IOException is not compatible with throws clause in A.main ( String [ ] ) .Well , both methods are static and the main function in B is just hiding the one from A , so I thought that there is completely no relation between them . In static methods we have no polymorphism and the call is bound to the concrete method implementation during the compilation , therefore I can not understand why main in B can not throw exception that is not declared in main signature in A . Why Java designers decided to enforce a constraint like this and in what situations it would cause problems if the constraint was not enforced by the compiler ?"
I saw a similar code in google guava ( as factory methods ) for making instances of Hashmap without mentioning the generic types.I do n't understand how the generic is getting inferred by the above program.I mean how can the function getHashMap understand the type of map since i 'm not passing any type information to the function .
I 'm trying to get a head start on practicing interview questions and I came across this one : Turn String aaaabbbbddd into a4b4d3You would basically want to convert the existing string into a string with each unique character occurrence and the number of times the character occurs . This is my solution but I think it could be refined into something more elegant : Does anyone have any other suggestions for a solution ?
I have a simple xml file and I want to remove everything before the first < item > tag . The following java code is not working : What is the correct way to do this ? And how do I address the non-greedy issue ? Sorry I 'm a C # programmer .
"I 'm trying to create a work queue class ( FooQueue ) that has : a set of function members doing work ( do* ) . Each one of them take one parameter , having the same type ( FooItem ) .an 'add ' function that takes 2 parameters : one of the above functions , and a FooItem . Most importantly , the add function should only be able to take in a member function of the FooQueue class , rather than a member function of another class with the similar signatureThe code compiles when the do function is static , but not when the function is non-static , even though acording to this the definition of the instance function member is correct.What should be changed to make it compile/run ?"
When I 'm looking at Spring FrameWork 3.0 I see the following code example : This option does n't work for me . Only when I change the code the following way : It works fine . Can anybody tell me why ?
"I 've just been profiling some code where I increment some frequency counters with the following code : The creation of the query takes almost 50 % of the execution time , and I 'd like to reuse the work somehow . Is it safe to save the query and ops objects in a ThreadLocal and just call query.field ( `` text '' ) .equal ( text ) again to replace the `` text '' field ? It also looks like validation is taking up some 30 % of the total time ."
"I am designing the API for a service that deals with Job entities . I need to retrieve jobs given a status . So , I ended up naming my methods like so : A while later I realised that I also need to be able to retrieve jobs which do n't belong to a given status . Say , I want to retrieve all but the closed jobs.I have been unable to think of a suitable and intuitive name for this method.I thought of the below but do n't quite find them right.I ca n't use a specific status such as closed and christen my method getAllButClosedJobs because my method will be a generic one capable of handling any status.PS : I hope this question belongs to SO though it is not technically programming . Otherwise , please feel free to migrate it to a suitable site ."
"I just started working in Java networking protocols . I am trying to connect to the internet using my proxy server . When I see the post at 'https : //www.tutorialspoint.com/javaexamples/net_poxy.htm ' , they set the http.proxyHost property to 'proxy.mycompany1.local ' . I know I can set this to my proxy server IP , but I am curious to know why my program still works , even though I set it to some random string like `` abcd '' .A . What does 'proxy.mycompany1.local '' stand for ? B . How come my program works , even though I set the http.proxyHost '' to `` abcd '' ? Following is my working program : This is the output :"
"If I have this interface : Why ca n't I implement it like this ? It seems like void should be covariant with everything . Am I missing something ? Edit : I should have been clearer that I 'm looking for the design justification , not the technical reason that it wo n't compile . Are there negative consequences to making void covariant to everything ?"
"I 've been working on some ways to optimize LinkedList 's . Does anyone know if the Java default doubly-linked LinkedList class is optimized to do get ( ) operations in reverse ? For example : Would the call to list.get ( half + 1 ) optimize the search and go in reverse since it is a doubly-linked list ? It would make more sense to do the search from the end and go towards the center if you know the element is in the second half of the list.I know using get ( index ) is O ( n ) time and that you should use an iterator when traversing a LinkedList , but I am just curious ."
"Possible Duplicate : Java import confusion When i read play frameworks documentation , I found this.In the first line itself they have imported all the classes under play package . Then what is the use of second line . Check this link . Go to 'Providing an application error page ' section.Correct me if i 'm wrong in imports concept ."
"This question has received a total of several paragraphs of answer . Here is the only sentence that actually tells me what I was looking for : Your examples would make little difference since intermediate computations need to be stored temporarily on the stack so they can be used later on.In fact , it answers my question perfectly and completely = ) Unlike all the cruft telling me `` nooo do n't ask that question '' . > _ < Like if you have a method , and you change it by increasing the number of local variables but make no other changes , does it make the method slower ? Here 's an example : orAnother example : orReally , what I 'm asking is : Is the number of this sort of local variable even relevant by the time the method 's compiled to bytecode ? If so , what about once Hotspot gets to work on it ? This question is relevant to the code generator I 'm working on ."
"I was asked to implement an `` access policy '' to limit the amount of concurrent executions of a certaing process within an application ( NOT a web application ) which has direct connection to the database.The application is running in several machines , and if more than a user tries to call the process , only one execution should be allowed at a given time , and the other must return an error message ( NOT wait for the first execution to end ) .Although I 'm using Java/Postgres , is sort of a general question.Given that I have the same application running in several machines , the simplest solution I can think of is implementing some sort of `` database flag '' .Something like checking whether the process is currently active : If it 's active , return a 'concurrent access policy error ' . If not , activate it : Once the execution is finished , simply update the active flag : However , I 've encountered a major issue : If I do n't use a DB transaction in order to change the active flag , and the application is killed , the the active flag will remain with the Y value forever.If I use a DB transaction , the first point is solved . However , the change of the active flag in a host ( from N to Y ) will only be visible after the commit , so the other hosts will never read active with Y value and therefore execute anyway.Any ideas ?"
"Occasionally , I meet an interesting , strange thing : same block of encrypted text can be decrypted using several different key ! Can anyone please indicate me what 's going wrong ? Thanks a lot.Please do n't try to let me switch to triple DES/AES etc , I just want to know where the problem is - the way calling the Java SDK , or the bug in Java SDK ? Below is output on Windows 7 , same result in Linux box : The source code :"
"I 'm working on a legacy Java application , that deals with `` fruits '' and `` vegetables '' , let 's say , for the sake of the question.They are treated as different things internally , cause they do n't have all methods/properties in common , but a lot of things are DONE very similar to both of them.So , we have a ton of methods doSomethingWithAFruit ( Fruit f ) and doSomethingWithAVegetable ( Veg v ) , that use the proper doOtherStuffWithAFruit ( Fruit f ) / doOtherStuffWithAVeg ( Veg v ) . And those are very similar , except that methods that do things with fruits only call the methods that do things with fruits , and the same thing for vegetables.I want to refactor this to reduce the duplication , but I 'm not sure what is the best way to accomplish that . I 've read a bit about some design patterns , but I do n't know if it has made any clearer to me . ( I can recognize some patterns in the code I use , but I do n't really know when I should be applying a pattern to improve things around . Maybe I should be reading more about refactoring itself ... ) I was thinking of these two options:1 . Creating a class that can have an instance of either a Fruit or a Vegetable and pass it around to the methods , trying to minimize the duplication . It would go like this : This would get things a bit better , but I do n't know ... it still feels wrong.2 . The other alternative I thought was to put an interface in Fruit and Vegetable with the stuff that is common to them , and use that to pass it around . I feel this is the cleaner approach , although I will have to use instanceof and cast to Fruit/Vegetable when it needs stuff that is specific to them.So , what more can I do here ? And what are the shortcomings of these approaches ? UPDATE : Note that the question is a bit simplified , I 'm looking for way to do things WITH the `` plants '' , that is , code that mostly `` uses '' them instead of doing things TO them . Having said that , those similar methods I refer to can not be inside the `` Plants '' classes , and they usually have another argument , like : Namely , those methods have other concerns besides Fruits/Vegetables , and are n't really appropriated to be in any Fruit/Vegetable class.UPDATE 2 : Most code in those methods only reads state from the Fruit/Vegetable objects , and create instances of other classes according to the appropriate type , store in the database and so on -- from my answer to a question in the comments that I think it 's important ."
I try to find the greatest common divisor for two integers . But I do n't understand what is wrong with my code :
"i am basically coming from java background and struggling to understand the modulo operation in Ruby . The above operation in Java yields , 2 -2 2 -2But in Ruby , the same expression yields 21-1-2 .How logically ruby is good at this ? How the module operation is implemented in Ruby ? If the same operation is defined as a web services , how both services can match the logic ."
This works ok : This does not compile : Error message : Why ?
"I try to learn about good practices in programming and I 'm stuck with this question . I know that in Java , recursive functions can be ' a pain in the ass ' ( sometimes ) , and I try to implement as much as I can the tail version of that function . Is it worth bothering with this or should I do in the old fashioned way ? Is there any difference between this two functions ( in Kotlin ) :"
I created a class MyList that has a fieldI would like to be able to iterate the list like this : ( when my list is an instance of MyList ) .How ? What should I add to my class ?
"Is there any difference performance-wise between the two code snippets below ? andFor me , I think the second one is better , but it is longer . The first one is shorter , but I am not really sure if it is faster . I am not sure , but to me it seems like every time that loop is iterated , auth.getProjects is called . Is that not so ?"
"A common pattern with a map is to check if a key exists and then act on the value only if it does , consider : However this is generally considered poor , as it requires two map lookups , where this alternative only requires one : Yet this second implementation has it 's own problems . In addition to being less concise and readable , it 's potentially incorrect , as it can not differentiate between the case where the key does not exist and where the key exists but maps explicitly to null . In individual cases of course we can create external invariants that the map will not contain null values , however in general we can not rely on this second pattern , needing to fall back to the less efficient implementation.But why does the first implementation need to be less efficient ? HashMap 's .containsKey ( ) looks like this : And Guava 's ImmutableMap.containsKey ( ) similarly is : Since these calls go through all the work of doing a .get ( ) , what is the disadvantage of caching the result of this call , and then short-circuting a successive call to .get ( ) for the same key ? It seems like the cost is a single pointer , yet the benefit would mean the `` right '' way to implement such a pattern is also the `` efficient '' way to do so ."
can anybody explain this why its happeningit prints zero .
"I have a classI also have another classThe Log class works perfectly fine , I use it all the time . Now when I do this : I get the compiler error The method d ( String , Object ... ) in the type Log is not applicable for the arguments ( Configuration ) . I can solve this : My problem : How is this different ? In the first solution , the compiler notices that it has to concatenate two Strings , but the second one is a Configuration . So Configuration # toString ( ) is called and everything is fine . In the compiler error case the compiler sees that a String is needed , but a Configuration is given . Basically the same problem.Needed : StringGiven : ConfigurationHow are these cases different and why is toString not called ?"
"I 'm trying to dynamically load a Groovy script as a class but the class object is created even when the script 's code does not compile.For example , a simplified version of my Groovy code to load the Groovy script is as follows : Clearly , the code blah blah blah is n't a legitimate Groovy script . And yet , a class object is successfully created for this dynamic code . According to GroovyClassLoader 's Javadoc for the parseClass method a CompilationFailedException should be thrown for cases such as this.How is it possible that the class is still created for broken code and how can I successfully create a class from dynamic Groovy source code conditionally on whether or not the code will compile ? I 've done a lot of research and experimentation but to no avail ."
"I have producer and consumer connected with BlockingQueue.Consumer wait records from queue and process it : I need pause this process for a while from other thread . How to implement it ? Now I think implement it such , but it 's looks like bad solution :"
"example code : Question : will the literal string `` hi '' somehow stay in memory , even after the StringBuffer has been garbage collected ? Or is it just used to create a char array for the StringBuffer and then never put anywhere in memory ?"
"Some background : I created a contrived example to demonstrate use of VisualVM to my team . In particular , one method had an unnecessary synchronized keyword , and we saw threads in the thread pool blocking , where they did n't need to be . But removing that keyword had the surprising effect described below , and the code below is the simplest case I can reduce that original example to in order to reproduce the issue , and using a ReentrantLock also creates the same effect.Please consider the code below ( full runnable code example at https : //gist.github.com/revbingo/4c035aa29d3c7b50ed8b - you need to add Commons Math 3.4.1 to the classpath ) . It creates 100 tasks , and submits them to a thread pool of 5 threads . In the task , two 500x500 matrices of random values are created , and then multiplied.The ReentrantLock is actually unnecessary . There is no shared state between the threads that needs synchronization . With the lock in place , we expectedly observe the threads in the thread pool blocking . With the lock removed , we expectedly observe no more blocking , and all threads able to run fully in parallel.The unexpected result of removing the lock is that the code consistently takes longer to complete , on my machine ( quad-core i7 ) by 15-25 % . Profiling the code shows no indication of any blocking or waiting in the threads , and total CPU usage is only around 50 % , spread relatively evenly over the cores.The second unexpected thing is that this is also dependent on the type of generator that is used . If I use a GaussianRandomGenerator or UniformRandomGenerator instead of the StableRandomGenerator , the expected result is observed - the code runs faster ( by around 10 % ) by removing the lock ( ) .If threads are not blocking , the CPU is at a reasonable level , and there is no IO involved , how can this be explained ? The only clue I really have is that the StableRandomGenerator does invoke a lot of trigonometric functions , so is clearly a lot more CPU intensive than the Gaussian or Uniform generators , but why then am I not seeing the CPU being maxed out ? EDIT : Another important point ( thanks Joop ) - making generator local to the Runnable ( i.e . one per thread ) displays the normal expected behaviour , where adding the lock slows the code by around 50 % . So the key conditions for the odd behaviour are a ) using a StableRandomGenerator , and b ) having that generator be shared between the threads . But to the best of my knowledge , that generator is thread-safe.EDIT2 : Whilst this question is superficially very similar to the linked duplicate question , and the answer is plausible and almost certainly a factor , I 'm yet to be convinced it 's quite as simple as that . Things that make me question it:1 ) The problem is only shown by synchronizing on the multiply ( ) operation , which does not make any calls to Random . My immediate thought was that that synchronization ends up staggering the threads to some extent , and therefore `` accidentally '' improves the performance of Random # next ( ) . However , synchronizing on the calls to generator.nextVector ( ) ( which in theory has the same effect , in the `` proper '' way ) , does not reproduce the issue - synchronizing slows the code as you might expect.2 ) The problem is only observed with the StableRandomGenerator , even though the other implementations of NormalizedRandomGenerator also use the JDKRandomGenerator ( which as pointed out is just a wrapped for java.util.Random ) . In fact , I replaced use of the RandomVectorGenerator with filling in the matrices with direct calls to Random # nextDouble , and behaviour again reverts to the expected result - synchronizing any part of the code causes the total throughput to drop.In summary , the issue can only be observed by a ) using StableRandomGenerator - no other subclass of NormalizedRandomGenerator , nor using the JDKRandomGenerator or java.util.Random directly , display the same behaviour.b ) synchronizing the call to RealMatrix # multiply . The same behaviour is not observed when synchronizing the calls to the random generator ."
I am trying to change the default font in my app . But its not working . These are steps I have taken:1 ) Created class TypefaceUtil.java2 ) In a class extending Application:3 ) In styles.xmlStill its not working . Am I missing something ?
"I 'm missing some kind of collection functionality for a specific problem.I 'd like to start with a few informations about the problem 's background - maybe there 's a more elegant way to solve it , which does n't end in the specific problem I 'm stuck with : I 'm modelling a volume mesh made of tetrahedral cells ( the 2D-analog would be a triangle mesh ) . Two tetrahedrons are considered to be adjacent if they share one triangle-face ( which occupies three vertices ) . My application has to be able to navigate from cell to cell via their common face.To meet some other requirements I had to split the faces into two so-called half-faces which share the same vertices but are belonging to different cells and have opposite orientation.The application needs to be able to do calls like this ( where Face models a half-face ) : The implementation of the getPartner ( ) -method is the method in question . My approach is as follows : Face-objects can create some kind of a immutable Signature-object containing merely the vertex-configuration , the orientation ( clockwise ( cw ) or counter-clockwise ( ccw ) ) and a back-reference to the originating Face-object . Face.Signature-objects are considered to be equal ( @ Override equals ( ) ) if they occupy the same three vertices - regardless of their orientation and their associated cell.I created two sets in the Mesh-objects to contain all half-faces grouped by their orientation : Now I 'm able to determine if a partner exists ... ... but Set does not allow to retrieve the specific object it contains ! It merely confirms that it contains an object that matches via .equals ( ) . ( end of background informations ) I need a Collection-concept which provides the following functionality : add a Face-Object to the Collection ( duplicates are prohibited by the application and thus can not occur ) retrieve the partner from the Collection for a given Face-Object that .equals ( ) but has the opposite orientationA possible ( but way to slow ) solution would be : To be complete : The final application will have to handle hundreds of thousands of Face-Objects in a real-time environment . So performance is an issue.Thanks in advance to anyone who at least tried to follow me up to this point : ) I hope there 's anyone out there having the right idea to solve this ."
"In class B , how can I create an object of class A other than the process of object creation ( i.e . without creating an object having null ) ?"
"My question is pretty simple , I would like to launch a .exe in its own directory but with elevation rights/privileges.I know that this question as been raised before but I did n't found the right way for fixing my problem.Indeed , I first tried this : I got the following error : Then I tried this : And it runs but not in its own directory . How can I fix this please ?"
"How can I make the controllerAdvice class catch the exception that is thrown from completablefutrue . In the code below I have a method checkId that throws a checked exception . I call this method using completablefuture and wrap the checked exception inside CompletionException . Although I have a handler method in controller advice class , but it did n't handle the error. -- -- Stack trace :"
"I want to count the number of occurances for a particular phrase in a document . For example `` stackoverflow forums '' . Suppose D represents the documents set with document containing both terms.Now , suppose I have the following data structure : where numMatchedDocuments is the size of D and numOccurInADocument is the number of occurrences a particular term occurs in a particular document , for example : means , the term `` stackoverflow '' occurs in document `` document1 '' and its first occurance is at position `` 3 '' . Then I pick the term that occur the least and loop over all its positions to find if `` forum '' occurs at a position+1 the current term `` stackoverflow '' positions . In other words , if I find `` forum '' at position 4 then that is a phrase and I 've found a match for it.the matching is straightforward per document and runs reasonably fast but when the number of documents exceed 2,000,000 it gets very slow . I 've distributed it over cores and it gets faster of course but wonder if there is algorithmically better way of doing this . thanks , Psudo-Code :"
"Is it bad practice to use the instanceof operator in the following context ? There is a lot of myths about the use of that operator and I am not completelysure that what I am doing is not bunk.I have a lot of different writer implementationswhich I want to combine in one interface . The problem is not every DTO is applicable for every writer . In my actual code there is a deep hierarchy of DTOs , which extend DtoA and DtoB , and either thehierarchy branch of DtoA or DtoB is applicable for a writer , but only in a few cases both.Should I avoid using the abstract class Dto as argument for the abstract write ( Dto dto ) method ? EDIT : Please read the comments on the accepted answer ."
build.xmlAntTask.javaExecutionQuestionI search the applicable naming rules for elements and attributes and the mapping rules to Java language .
The following Java code does not invoke the static initializer of class B . Why ? Code : Program output : Tested on JDK 1.8.0_25
"I 'm trying to convert this : Which compiles just fine , to the more modern Java 8 streams version : Which produces an error message : I can see why the compiler would have trouble with this -- - not enough type information to figure out the inference . What I ca n't see is how to fix it . Does anyone know ?"
"Here 's the code I 'm using : Compiles perfectly , but nothing happens at runtime . What am I doing wrong ?"
"I was trying some basic Java I/O operations , I try to run the below code : When I run the above I get the following output in the file created : Can anyone explain why the ' f ' is coming in the last line ?"
"UPDATEWhen new Fish is called , is there a new instance of Fish floating around somewhere without a reference or have I just allocated memory for a new Fish without actually instantiating it ? Can I get the new Fish call to create an actual instance of the Fish with a unique reference name other than iterating through a loop ?"
"Consider the UnaryFunction interface defined in Effective Java generics chapter .and the following code for returning the UnaryFunctionWhy is the cast of IDENTITY_FUNCTION to ( UnaryFunction < T > ) safe ? The book says this about the question I am asking but I ca n't follow the logic here . Where are we invoking the apply function which does the identity operation ? i am confused because it is that function which returns the same object passed into it without modifying anything . The cast of IDENTITY_FUNCTION to ( UnaryFunction < T > ) generates an unchecked cast warning , as UnaryFunction < Object > is not a UnaryFunction < T > for every T. But the identity function is special : it returns its argument unmodified , so we know that it is typesafe to use it as a UnaryFunction < T > whatever the value of T. Therefore , we can confidently suppress the unchecked cast warning that is generated by this cast . Once we ’ ve done this , the code compiles without error or warning ."
"I a beginner when it comes to development for Android and I am trying to understand JavaCPP . I want to execute a C++ function from Java inside an Android application . In my example I just use a simple TextView widget that prints what I receive from C++.Following the documentation , inside the app 's build.gradle I have included my javacpp library dependenciesin order to use it in my app . I am testing inside a Native C++ Android Studio template project.I have uploaded the full project on GitHub for reference : https : //github.com/jacobkrieg10/javacppnewexampleAnd also , down are the relevant files in the project that I think need attention : NativeLibrary.java : NativeLibrary.h : NativeLibrary.cpp : CMakeLists.txt : Note that native-lib.cpp is just the C++ file used in the template , I am ignoring it for now.build.gradle ( corresponding to the app module ) : MainActivity.java : The application builds fine , but it crashes at runtime inside NativeLibrary.NativeClass l = new NativeLibrary.NativeClass ( ) ; , with the message could n't find `` libjniNativeLibrary.so '' this is my crash log : Note that the example is working when I execute it on desktop x64 . So , e.g. , using the following NativeLibrary.java file : the output ofis Hello World ! so it works fine . But I do n't know why it does n't work inside an Android app.Can anybody help me with this ? Does anybody know why it could n't find libjniNativeLibrary.so ? Is there something I need to add in order to complete the setup ? Perhaps libjniNativeLibrary.so needs to be generated somehow ? EDIT 1 : I have added the Build Plugin and the Platform Plugin to the project 's build.gradle file ; this is how it looks like now : The project synchronizes without errors but when I run it , I get : Is it beacause I did n't write anything inside javacppBuildCommand , javacppBuildParser and javacppBuildParser ? I know this is a basic question , but does anyone know what exactly I should write inside those blocks ? I 'm quite new to this and I do n't know exactly where to look for this information.EDIT 2 : After trying the solution presented in EDIT 1 , above , I came across A guide on how to run Javacpp on Android studio together with gradle wiki page and as instructed there I have added this to my app 's build.gradle file : The gradle sync runs ok but when I build the project I get : Any idea how I can solve this ?"
"Consider this method : As you can see , I have to count how many times each number between min and max can be expressed as a sum of two primes.primes is an ArrayList with all primes between 2 and 2000000 . In this case , min is 1000000 and max is 2000000 , that 's why primes goes until 2000000.My method works fine , but the goal here is to do something faster.My method takes two loops , one inside the other , and it makes my algorithm an O ( n² ) . It sucks like bubblesort.How can I rewrite my code to accomplish the same result with a better complexity , like O ( nlogn ) ? One last thing : I 'm coding in Java , but your reply can be in also Python , VB.Net , C # , Ruby , C or even just a explanation in English ."
I have a simple modular javafx application.i compile it usingThis creates mods directoryI then create runtime image using the commandThis creates the runtime image in hellofx directory Now i use the jpackage command to create the windows installer . In the directory i have an icon for the application.This icon was used for the installed application but is there a way to create an icon for the installer file itself ? The installer file named HelloFX-1.0 doesnt have an icon . Is there a way to configure jpackage to also change icon of this file ? Thanks for the help !
"The Java memory model guarantees a happens-before relationship between an object 's construction and finalizer : There is a happens-before edge from the end of a constructor of an object to the start of a finalizer ( §12.6 ) for that object.As well as the constructor and the initialization of final fields : An object is considered to be completely initialized when its constructor finishes . A thread that can only see a reference to an object after that object has been completely initialized is guaranteed to see the correctly initialized values for that object 's final fields.There 's also a guarantee about volatile fields since , there 's a happens-before relations with regard to all access to such fields : A write to a volatile field ( §8.3.1.4 ) happens-before every subsequent read of that field.But what about regular , good old non-volatile fields ? I 've seen a lot of multi-threaded code that does n't bother creating any sort of memory barrier after object construction with non-volatile fields . But I 've never seen or heard of any issues because of it and I was n't able to recreate such partial construction myself . Do modern JVMs just put memory barriers after construction ? Avoid reordering around construction ? Or was I just lucky ? If it 's the latter , is it possible to write code that reproduces partial construction at will ? Edit : To clarify , I 'm talking about the following situation . Say we have a class : And some Thread T1 instantiates a new Foo instance : Foo myFoo = new Foo ( ) ; Then passes the instance to some other thread , which we 'll call T2 : T1 performed two writes that are interesting to us : T1 wrote the value 5 to bar of the newly instantiated myFooT1 wrote the reference to the newly created object to the myFoo variableFor T1 , we get a guarantee that write # 1 happened-before write # 2 : Each action in a thread happens-before every action in that thread that comes later in the program 's order.But as far as T2 is concerned the Java memory model offers no such guarantee . Nothing prevents it from seeing the writes in the opposite order . So it could see a fully built Foo object , but with the bar field equal to equal to 0.Edit2 : I took a second look at the example above a few months after writing it . And that code is actually guaranteed to work correctly since T2 was started after T1 's writes . That makes it an incorrect example for the question I wanted to ask . The fix it to assume that T2 is already running when T1 is performing the write . Say T2 is reading myFoo in a loop , like so :"
"I 'm trying to convert this Scala expression to Java : This is what I have in Java : But I get an error on a._2 : .If I go to the `` super '' method , this is what I see :"
I was reading an article on Java Generics when I stumbled on this method signature : The part that I do n't get is why we need to have wouldn'tdo as well ? Could someone please explain why the following signature is not adequate ? Thanks in advance for your replies . This keeps puzzling me for quite some time now..
"I was wondering if it is possible to get the return type of a Supplier that was assigned to a constructor.E.g.How do I get `` Foo.class '' from the supplier ? I have been using typetools to solve this problem for other things.This works , for example : But if I assign Supplier like : Supplier < Foo > sFoo = Foo : :new , the return type can not be resolved ... Any thoughts ? I do n't have to use typetools btw ..."
"I 'm using the Spark Java Web Framework with Apache 's Velocity Template Engine in order to help design a responsive web application that pulls data from a SQL database . Using SQL2o I 've created some Java objects of custom class types , i.e . user , group , site , etc.I 've checked and the list of objects created is populated . When I then go to put my object list into a hashmap and return a ModelandView , for some reason my list is there but I ca n't use any of its properties in vtl.Relevant portion of main method and Spark code : Relevant portion of Parsed User VTLRelevant portion of Layout VTL"
"I have a static method declared in Java : I would love to use this method as extension method for instances of type Y in Kotlin : Is that possible ? I have control over all source code in question , e.g . to add annotations ."
"I 'm using Scene Builder ( v11.0.0 ) to create FXML files for scenes in JavaFX ( v12 ) but , despite instructing all containers to USE_COMPUTED_SIZE for the preferred widths and heights , the rendered scenes ( as seen in Scene Builder and also when run as a JavaFX application which loads those FXML files ) are being clipped at the right and bottom edges so that bits of nodes are chopped off.And in Scene Builder it seems that the renderer must know that the scene wo n't fit the allowed bounds because the editor shows blue boundary markers which are clearly some way beyond the rendered rectangle.View in Scene BuilderThe view in Scene Builder shows that more space is needed at the bottom in order to give the buttons sufficient space ( their bottom edge , and the lower edge of the TitledPane is missing ) . And more space is needed at the right in order to fit the right edges of the DatePicker and TitledPane . The blue boundary markers show clearly where the actual content ends , so it 's not clear why the display area is being calculated to be several pixels shorter than this.View of running Java applicationOnce the FXML files are used to populate a window in a JavaFX application , the same thing is seen : the calculated size for the window is a number of pixels too few to fit the whole scene correctly.If the blue boundary markers have correctly been calculated to show that extra display area width and height are needed , how do I tell the FXML to require this additional space when rendering ? Is this a known bug/limitation in Scene Builder , FXML , or JavaFX . Or is there something more I need to do beyond just selecting USE_COMPUTED_SIZE for the preferred dimensions ? In order to make this explicit , see the example FXML below which displays the problem illustrated.scene.fxmlsubscene.fxml"
"My Android client get server JSON response as follows : My Android client code parses the JSON response to Java object by using gson.My corresponding Java classes : Everything works fine for me at this point , I can successfully parse JSON data to my Java objects , like following : Then , I would like to modify a bit to get the students ( from json data ) in an alphabetic order , sorted by student 's name . I tried the following way : ( I changed the Student class to implement the Comparable < > interface ) : With above modified Student class , I tried to parse the json data again : But the resulted students are still the same as before the sorting . My sorting solution does not work at all . Why ? ? Where am I wrong ? ?"
"I was curious to see how Java and Scala implement switches on strings : It seems like Java switches on the hashcode and then does a single string comparison : In contrast , Scala seems to compare against all the cases : Is it possible to convince Scala to employ the hashcode trick ? I would rather prefer an O ( 1 ) solution to an O ( n ) solution . In my real code , I need to compare against 33 possible keywords ."
"A static field can not be referenced before it is defined or initialized : However , when it is referenced from an instance initialization block ( in an anonymous inner class ) , not even a warning is generated.See example : The result is : j == null , k == 5 , so clearly we 've made a reference , order matters , and no warning or compilation error.Is this code legal ?"
"I 'm making a tank game and to avoid redundancy I 'm making classes to extend.My MenuPanel looks like this atm ( I 've only written the code that matters for the question ) ( knop = dutch for button ) because the code to make the buttons is exactly the same ( except for the backgroundPath and the y-coordinate ) I made a class button : that way , my menuPanel COULD look like this : I do n't know why , but when I do this the buttons wo n't appear , although the code from the button class is correct ( bc when I use the code in the menuPanel itself it works ) I do n't know how to fix this problem and I have multiple problems like this in my whole JavaProject , but if someone could explain me how to fix this I could get rid of all the redundancy in my project.Thanks in advance , LolaThank you all so much ! a combination of your answers helped me to let the buttons appear , but for some kind of reason the images do n't load with them . my code now looks like : public class MenuPanel extends JPanel implements ActionListener { } ( all the buttons do work ! )"
"I started learning java and I am now at the concurrency chapter . After reading some stuff about concurrency I tried an example of my own.The problem is that i was expecting to see the following output : but after I get this , the program continues printing until I close it.So , my question is what am I doing wrong ? why does the program continues printing ?"
"In this code sample from page 114 of The Well-Grounded Java Developer , the last line : contains the note : Pass zero-sized array , save allocationWhat allocation is this saving , exactly ? The javadoc for List # toArray ( T [ ] a ) mentions : If the list fits in the specified array , it is returned therein . Otherwise , a new array is allocated with the runtime type of the specified array and the size of this list.Which is what I remembered : if the array you pass to toArray ( T [ ] a ) ca n't fit everything in the list , a new array is allocated . Plainly , there are 256 elements in the list , which can not fit in an array of size 0 , therefore a new array must be allocated inside the method , right ? So is that note incorrect ? Or is there something else it means ?"
"My code currently returns the length of the largest substring : assuming seq is the numbers in the sequence . So if the sequence is : 5 ; 3 ; 4 ; 8 ; 6 ; 7 , it prints out 4 . However , I would like it to also print out 3 ; 4 ; 6 ; 7 which is the longest subsisting in ascending order.I am trying to get the length of the largest sub sequence itself and the actual sequence , but I already have length..My instinct is to store each number in the array , while it is working out the count , with the count . So returning the longest count , can also return the array attatched to it . I think this can be done with hashtables , but I 'm not sure how to use those . I am just looking for a hint , not the answer.Thanks"
"I have an application that starts a few threads , eventually a thread may need to exit the entire application , however other threads may be in the middle of a task so I 'd like to let them continue their current loop before exiting.In the example below Thread2 has no idea when Thread1 is trying to exit , it simply forces everything to finish right away.How can I let Thread2 , 3 & 4 etc . finish up their loops before shutting down ? Edit : To address the duplicate question concerns : this varies from the typical situation in that the parent class can not be responsible for puppeteering the shut downs , any of the individual threads must be able to initiate the shut down.Edit2 : I 've also left an answer with what I ended up doing which is an implementation of the accepted answer ."
"Just came across a place where I 'd like to use generics and I 'm not sure how to make it work the way I want.I have a method in my data layer that does a query and returns a list of objects . Here 's the signature.This is what I 'd like the calling code to look like.I 'd like to make it so that I do n't have to cast this to a List < Whatever > coming out , which leads me to this.But now I have the problem that what I get out is always the concrete List < WhateverImpl > passed in whereas I 'd like it to be the Whatever interface . I tried to use the super keyword but could n't figure it out . Any generics gurus out there know how this can be done ?"
"This is a plain Java 8+ question , no frameworks used.We are producing an API for a higher layer which deals with the presentation layer among other activities . We have and interface agreed with the invoker , so they are happy to receive some particular exceptions we throw.At the same time , we are also using other APIs under the same agreement , so we can do stuff by ourselves and throw exceptions or we can invoke other APIs which throw the agreed exceptions.Currently , we do nothing with the exceptions thrown by the APIs we are invoking.Thing is , we are the best positioned in this infrastructure to deal with intermediate activities while exceptions are thrown , so we need to capture both , our exceptions and the exceptions provided by those we are invoking ; basically reporting the issue , raising system controls , etc , and then re-throw the original exception so the top layer keeps as it is now.We have around 300 methods in the entry point class of our API : I clearly understand that I can create a method to centralise the actions to be taken in the exception management , something like : But I 'd also avoid modifying those 300 methods.Any idea how to inject a try-catch in those 300 methods to send the Exception to myExceptionHandler without really adding a try-catch in each of them ? Any comments and ideas are much appreciated ! -- -- -- -- -- - After mprev0 suggestion -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -I tried this approach . It really catches the exception and so on , but I ca n't re-trow an Exception : I 'm forced to catch it , but this goes against the requirement of re-sending the exception back to the top layer.While I can throw an Error , I got a compiler error at line throw new FileNotFoundException ( ) ; Any ideas ? -- -- -- -- -- -- After some more digging , fixed with a decorator pattern -- -- -- -Previous class implementation does not work , as I ca n't change the signature of the method and I need to re-throw the java.lang.Exception.Using a decorator and handling the interface there makes the trick.As a summary : Top layer class : Bottom layer class contains specific APIs and some implementation , the only interesting thing is that it contains java.lang.Exceptions uncontrolled , expecting the top layer to do this job . But , we are working in the middle and we will do this job : In this way , I can get the system.out and the java.lang.Exception is propagated to the Top Layer.Decorator inspiration came from here : Rethrow UncaughtExceptionHandler Exception after Logging ItAdditional comments are welcome !"
"I 'm looking for an explanation for Java 's behavior when handling the following scenarios . I understand that the ASCII table is arranged so that the value of the character 5 is five positions greater than 0 . This allows for calculations to be done on the char without converting to an int as seen in the first example . What I do n't understand is why Java seems to inconsistently handle when to provide a value from an ASCII table and when to do a calculation on the chars as though they were integers . output x = 5 ; output x = 53 ; Now for some examples , that introduce confusion.output x = -4output 54output 102Java seems to be doing an implicit type conversion , but how is Java inferring which representation of the int/char should it be using ?"
"I do some image processing with OpenCV . I want to invert this bitmap ( black to white , white to black ) and i have some problems with it.I got this Bitmap after doing this : This is the result after inverting.This is my code : The white lines from the first image should be inverted to black lines , but it´s not working . I checked the file with Adobe Photoshop . When i point at a white area of the image it shows that the color is white ( # FFFFFF ) .What am i missing ? Can anybody enlighten me ?"
"I need to type method signature so it accepts 2 equally typed parameters of different particular concrete subtypes.Is it possible to code something like this with generics ? How would you solve it ? ( The case is absolutely an example ) EDIT : In the end , what I am looking for is a way for the compiler to pass : but not : norEDIT 2 : I found a better example . Imagine an interface Tuple , with child classes Duple , Triple > ... , it would be perfectly nice to have something like"
"I recently learned , while converting some Java code to C # , that Java 's increment operator '+= ' implicitly casts to the type of LHS : is equivalent to : ( details here ) thus silently causing the opportunity for loss of magnitude.C # is more conscientious about this at compile-time : Can not convert source type long to target type int.Are there other similar situations allowed by Java ?"
"I have a test class with multiple nested test classes inside . The outer test class uses an extension that implements BeforeAllCallback and AfterAllCallback . The methods of these interfaces are called for each nested class when executing the outer test class . Is this expected behaviour ? I could not find any documentation specifying this explicitly.The outer test class has @ BeforeAll and @ AfterAll methods as well . These are executed once when executing the outer test class . I kind of expected extensions to behave the same.If this behaviour is indeed expected , is there a way to suppress it ? Here is a minimal code example . Non-custom extensions e.g . SpringExtension show the same behaviour however : Leads to output :"
"I am using JGit API ( https : //www.eclipse.org/jgit/ ) to access a git repository . In the git repository , I am storing .txt files and other file formats also . I ran into a requirement where I should get the diff of only .txt files . Basically I am trying to achieve the equivalent of How to filter git diff based on file extensions ? using JGit API.From this answer , ( Equivalent of git diff in JGit ) I understood how to get the normal diff . But I would like to add the file extension restriction to that but I could not see anything in the DiffCommand doc ( https : //download.eclipse.org/jgit/site/5.2.0.201812061821-r/apidocs/index.html ) .Could some one please give some pointer ?"
"This is a weird error . After adding the selenium dependencies to the pom of my maven project and upload it to a lambda , it says it is unable to unzip the file . However after removing the dependencies , the lambda is able to unzip the file just fine ( however it comes up with a class not found afterwards ) . I have tried removing the dependencies one by one but each one triggers the error.Any ideas on how to solve this ? Class not found errorlambda can not zip errorThe dependencies causing the issueupdated dependancies ( for Vishal ) Configuration"
"When I try to write in a file a binary files with value like this : The thing is that when I look at the file generated , it seems that the double is putted in little endian style , and when I switch ByteOrder to little-endian , the double is written in big-endian ... But when I put an int , the endianness is correct.Output with double in BigEndian : Output with double in littleEndian : Output with int in bigEndian :"
I would like to deploy an artifact together with javadoc and a Maven site . I use ( the split between site and site : deploy is just to avoid the deployment of a site if deploy fails ) . Now the javadoc is created twice - once in javadoc : jar and once in site . Is it possible to create it just once and use it both for the javadoc-jar in Nexus and the Maven site ?
"While going through articles of sequential streams the question came in my mind that are there any performance benefits of using sequential streams over traditional for loops or streams are just sequential syntactic sugar with an additional performance overhead ? Consider Below Example where I can not see any performance benefits of using sequential streams : Using classic java : Point Here is in streams processing of a2 starts only after all the operations on d2 is complete ( Earlier I thought while d2 is being processed by foreach , filter would have strated operating on a2 but that is not the case as per this article : https : //winterbe.com/posts/2014/07/31/java8-stream-tutorial-examples/ ) , same is the case with classic java , so what should be the motivation of using streams beyond `` expressive '' and `` elegant '' coding style ? I know there are performance overheads for compiler while handling streams , does anyone know/have experienced about any performance benefits while using sequential streams ?"
"I 'm trying to understand how method references work in java.At first sight it is pretty straightforward . But not when it comes to such things : There is a method in Foo class : And in another class Bar there is a method like this : And a method reference is used : It complies and works , but I do n't understand how does it match this : to BiFunction method : ? ? ?"
"I 'm trying Java 8 , I want to iterate over 2 collections and call a parameter function for each pair of values.In abstract , I want to apply a foo ( tuple , i ) function for each iterationNow what I got so far ( java and pseudo code )"
I have been skimming through the news and the source code of Java 16 and I have encountered with new Stream method called mapMulti . The early-access JavaDoc says it is similar to flatMap and has been already approved to the very same Java version.How to perform one to 0..n mapping using this method ? How does the new method work and how does it differ from flatMap . When is each one preferable ? How many times the Consumer mapper can be called ?
"Java disallows usage of final variable inside a supplier as it might not be initialized , yet prepending `` ( this ) . '' to variable makes it compile and run fine . Furthermore calling such supplier results in NullPointerException instead of compiler error if called before assigning the variable and runs as expected if called after.Is this behaviour described somewhere ? I am using OpenJDK 1.8.0_151.Example :"
"For better debugging , I would often like to have : The debug stack frame as shown above would be dynamically generated , just like a java.lang.reflect.Proxy , except that I 'd like to be in full control of the entire fully qualified method name that ends up on the proxy.At the call site , I would do something silly and simple as this : As you can see , the wrappingMethod ( ) is a real method that ends up on the stack trace , Hah.method ( ) is a dynamically generated method , whereas World.foo ( ) is again a real method.Yes , I know this pollutes the already deep deep stack traces . Do n't worry about it . I have my reasons.Is there a ( simple ) way to do this or something similar as the above ?"
"Joda 's AbstractInstant interface extends the raw type Comparable , instead of Comparable < AbstractInstant > , which seems to violate Java best practices . In particular , it means that I can not use DateTime to parameterize a class like this : It was my understanding this kind of class was perfectly valid ( it certainly works with Double , etc. ) . To get it to work with DateTime , though , I have litter my own code with the raw type and suppressed warnings : There is a related question that suggests a workaround ( wrapping the DateTime in another class for the purposes of comparison ) , but I do n't see why that should be necessary . My question then is : Does anyone know why Joda is extending a raw type , orIs this a bug I should report to the library maintainers ?"
"I am using a large open source library and need to generate personal subclasses of a few of the classes . What are the best strategies ? I would like to keep the original library unaltered and be easily able to reconfigure when it is updated . It is unlikely that my code is worth contributing to the project ( though I am happy to write in a way that permits this ) .The problem is a general one but I will illustrate it with my example . I am using Apache PDFBox which has a routine to write to java.awt.Graphics2D . I have replaced this by the Apache Batik toolkit which provides a subclass of Graphics2D ( org.apache.batik.svggen.SVGGraphics2D ) so I can capture the SVG representation . I create an instanceThe place where PDFBox uses the graphics is org.apache.pdfbox.PDFReader which I have edited to allow for the new graphics : I have got it to work ( that 's not the problem ) . My concern is that I have had to hack/edit and recompile a number of the distributed PDFBox classes simply to generate and use the subclass . I end up with classes such as PMRPDFReader in the same packages as the library . It 's very messy - I ca n't immediately remember where I made the edits , etc.I feel I ought ought to be able to use the library as-is and simply add/link my subclasses . I use maven so maybe there is a way of excluding the original classes ."
"I have this factory collection : which embeds the Product as products . When I have to add a product to an existing factory : However , the issue is that product is a large object which contains a set of heavy attributes and the factory can have 2000 products . So , the retrieved factory causes large memory consumption although it is not required in this phase . Is there a way to append a new product object directly into the factory document without reading the whole object ? EDIT : As for the comments , I tried : This gives error : So I modified to convert it to a string before push : This pushed object correctly but when reading : Still , I got nowhere here . Any ideas on fixing this issue ?"
"I do n't know where to seek clarifications and confirmations on Java API documentation and Java code , so I 'm doing it here.In the API documentation for FileChannel , I 'm finding off-by-one errors w.r.t . to file position and file size in more places than one.Here 's just one example . The API documenation for transferFrom ( ... ) states : `` If the given position is greater than the file 's current size then no bytes are transferred . `` I confirmed that the OpenJDK code too contains this code ... ... in file FileChannelImpl.java consistent with the documentation.Now , while the above code snippet and the API documentation appear mutually consistent , I 'feel ' that the above should be 'greater than or equal to ' and not merely 'greater than ' because position being a 0-based index into the file 's data , reading at position == size ( ) will have no data to return to the caller ! ( At position == size ( ) - 1 , at least 1 byte -- the last byte of the file -- could be returned to the caller . ) Here are some other similar instances in the same API documentation page : position ( ... ) : `` Setting the position to a value that is greater than the file 's current size is legal but does not change the size of the file . '' ( Should have been 'greater than or equal to'. ) transferTo ( ... ) : `` If the given position is greater than the file 's current size then no bytes are transferred . '' ( Should have been 'greater than or equal to'. ) read ( ... ) : `` If the given position is greater than the file 's current size then no bytes are read . '' ( Should have been 'greater than or equal to ' . ) Lastly , the documentation section for the return value of read ( ... ) fails to remain even self-consistent with the rest of the documentation . Here 's what it states : read ( ... ) Returns : The number of bytes read , possibly zero , or -1 if the given position is greater than or equal to the file 's current sizeSo , in this lone instance , I do see them mention the right thing . Overall , I do n't know what to make of all of this . If I write my code today matching this documentation , then a future bug fix in Java ( code or documentation ) will render my code buggy , requiring a fix from my side as well . If I do the right thing myself today with things as they stand today , then my code becomes buggy to start with !"
"If I execute the JUnit test below WITHOUT the line `` inputStream.close ( ) '' ( see below ) , more than 60000 requests can be processed ( I killed the process then ) . WITH this line , I did not manage making more than 15000 requests , because of : I run it on Windows , before starting the test I wait for the netstat list to be back to normal.Questions : why is calling socketInputStream.close ( ) on the client side harms in this case ? or what is wrong with the code ?"
"I 'm experiencing an unexpected interaction between system events and the window refresh rate in simple Java2D applications on Linux/XWindows . It is best demonstrated with the small example below.This program creates a small window in which a half-circle is displayed at different rotations . The graphics are updated at 60 frames per second in order to produce a flickering display . This is achieved through a BufferStrategy , namely by calling its show method.However , I note that when I ( a ) move the mouse over the window so that the window receives mouse-over events or ( b ) hold down a key on the keyboard so that the window receives keyboard events , the flickering increases visibly.As the rate at which BufferStrategy.show ( ) is called is not affected by these events , as can be seen by the print-outs on the console ( they should constantly be at around 60 fps ) . However , the faster flickering indicates that the rate at which the display is actually updated , does indeed change.It looks to me that actual , i.e. , visible 60 frames per second are not achieved unless mouse or keyboard events are generated.A sample image to use with this program ( the path to which must be passed as a command line argument ) is this : So my ( 2-part ) question is : Why is this effect happening ? How can I reach actual 60 fps ? ( Bonus question for commenters : do you experience the same effect also under other operating systems ? )"
program output : Hello world ! .I thought it would throw a NullPointerException . Why is it happenning ?
"I tried to implement an Enum styled factory pattern as inner Enum , but it did n't work.Is there any solution without separating inner Enum into a new file ? In other words , is it possible of inner Enum styled factory pattern ? The code is below.The compile error message is below"
"I 've made a simple code to get jumping ball positions , but I definitely missed something , because I get this : Here 's the code for getting x and y positions :"
I compiled a simple Java file to assembly using Java 8 on Mac OS X . This is Test.java : I output the assembly code using : This is the Test.asm output : The question is : why does the generated assembly code have two main methods and how do I make it have only one ?
ERROR : Can not make a static reference to the non-static field name
"let 's say I have this code in javascript : and let the code in the servlet be : Will xhr1 still wait for new changes in readystate ? Or it is closed as soon as it gets the first response ? If it remains open , will it lead to memory leaks/slower browser after a while and accumulating a few of those ? Should I always call resp.getWriter ( ) .close ( ) at the end of the servlet code ? And , lastly , for the jQuery fans out there : does $ .ajax ( ) behave as XMLHttpRequest ( ) in that respect ?"
"I was wondering if there is a Java API that could tell you whether a particular language feature ( e.g . `` diamond '' operator ) is available on the current platform . ( In other words , what I 'm trying to do is analogous to `` browser sniffing '' in JavaScript . ) This would be really handy in meta-programming ( writing a Java program that generates Java source code.The best solution I 've found so far is to parse System.getProperty ( `` java.specification.version '' ) and check whether it 's ≥ the version that introduced this feature , but I 'm not 100 % sure that this property is available in all JVMs ( or even whether it conforms to the same syntax in all JVMs ) . Another minor annoyance with this approach is that you have to take the extra step of looking up which version of Java introduced the language feature you 're interested in . Not a big deal , since that info is pretty easy to google , but ideally it would be nice if there was an API that could readily provide the info , for example : Obviously there 's no package named javax.meta , but I was wondering if there might already be an existing solution for this problem that 's cleaner than parsing the `` java.specification.version '' property.Update : I just realized that Package # getSpecificationVersion ( ) also provides the same value as System.getProperty ( `` java.specification.version '' ) but is probably more reliable , because System properties are mutable . In other words , the best way to get the Java spec version is probably to call Package # getSpecificationVersion ( ) on any `` built-in '' package . For example : String.class.getPackage ( ) .getSpecificationVersion ( )"
"note : I am new to play frameworkFor my Play ! project , I require some form of asynchronous programming . Simply , I need to display a view , whilst doing processing in the background , followed by a redirect or a new form being rendered.This question has been asked with no response . I have had a look on the Play Documentation pages , I did n't find any solution there.What I have tried : I attempted to modify the AsynchController that is given with the play starter example . However when navigating to http : //localhost/message , the function seemed to act more as a sleep instead of a scheduled task which is set and `` forgotten '' about , i.e . one can continue on with further coding.AsynchController snippet : with own modificationroute entryPurpose : My aim here was for the message Waiting 5 seconds ... to be displayed , followed by a +/- 5s delay . Thereafter it would reach the `` future '' ( is this correct ? ) whereby it would render a view ( or redirect to a controller ) , in this case the verified page ( for account verified ) .Am I on the right track with my original goal , where can I get a good example of something similar ?"
"I have some class which is not thread safe : ( I 've used a long as the field here , but we should think of its field as being some thread-unsafe type ) .I now have a class which looks like thisThat is , the thread unsafe class is a final field of it . Now I 'm going to do this : That is , from thread T ( main ) , I invoke some work on T ' ( the fork-join-pool ) which creates and mutates an instance of my unsafe class and then returns the result wrapped in a Foo . Please note that all mutation of my thread unsafe class happens on a single thread , T'.Question 1 : Am I guaranteed that the end-state of the instance of the thread-unsafe-class is safely ported across the T ' ~ > T thread boundary at the join ? Question 2 : What if I had done this using parallel streams ? For example :"
I am new in Java Programming language . I am familiar with C and C++ but unable to understand the behaviour of the below program.Correct Output : Output expected : Even changing the line from y = 44 ; to this.y = 44 ; is not giving the expected output .
"When using Mockito , I only use it to mock out dependencies , i.e . my workflow looks mostly like this : I have a class with dependencies : In my test class , I mock out those dependencies , and tell them which values to return when some specified methods are called : ( I hope this example is not too simple or too derived ; - ) ) . This works fine , it allows me to test classes ( here : C ) in isolation . Still , I never use Mockito 's verify methods or any other of its features . Is it okay / sufficient to use Mockito this way ?"
"So I have a couple futures which I want to run , even if some fail I 'd like all to have a chance to run . So if I do : Will that be the case ? My reasoning is that every future would have its own queed job in its executor and therefore all would run provided the main thread does n't finish first . My issue is that I specifically .join ( ) on .allOf ( ) so my application doesnt end before running everythingSo allOf ( ) semantics confuse me : Will the future return complete when all of the passed futures complete regardless if successful ? Or will it complete a failed future if it sees one failed without waiting for the rest ? EDITTo illustrate my question further , does .allOf behaves like this : Or does it behaves like the following : Which is it ? first or second case ? Since I want the first case thats what I 'm using on my code temporarily , but I 'd like to use allOf ( ) if possible because its more aestheticThanks !"
"Should I use `` _activity = this ; '' ? I 've seen _activity referenced many times in sample code . So , I arbitrarily decided that it looked like a good practice and have been using in all my code for awhile ( over a year ) . But , before I start spreading the word around more I wanted to find some proper documentation that using a global ( activity-local ) context variable is good practice or not.Anybody have ideas/thoughts/links ? Know of any pros and cons ? One resource that I have found so far seems to say there are good and bad times to use thisI know that I could use this or MainActivity.this , but that 's not the question ... Just in case you do n't know what I 'm talking about , here is a trvial example made up on the spot : EDIT : Another side-question for the comments : By a show of hands , who actually uses _activity ?"
How can the static inner class M and static member M [ of class C ] share the same name ? The following code generates `` White '' as output : how the member object is accessed and not the static class member : W [ `` Black '' ] if i want to access the member within static class M how to do that ?
"BackgroundIn Java 101 , we 're taught : A String is immutable.Yes . Good . Thanks.Then we get to Java 102 ( or perhaps Java 201 ) , and we discover : A String is n't really immutable : you can change it using reflection.Ah . Fine . Either quite cute or immeasurably perverse , depending on your perspective.These things , thus far , have been discussed ad infinitum on Stack Overflow and elsewhere . I am taking this much for granted in framing this question.What I 'm interested to ask is this : The question Once we discover that a String is n't really immutable , what are the implications for how we should write our code ? Let me make that more specific in two respects.JVM SandboxingIs it possible for a malicious class to use this trick to break the security of the JVM , and get up to tricks that it should n't ? Are there places in the JDK , for instance , where a String is returned from a method , and it 's safe only on the assumption that it ca n't be changed ? Here 's a promising start : What this does is to retrieve a system property from the JVM , which comes back as a String , and then alter the String ; the consequence is that the underlying property is changed too . Can this be used to wreak havoc ? I 'm not certain . It 's worth noting that you have to have the right permissions to perform reflection . Is the security game already up by that point ? It allows me here to get round not having permissions to change security properties , but is that to be expected , or is it a problem ? Are there ways of extending this to do something much worse ? Defensive cloningWe 're always told that it 's a good idea to clone arrays and other objects before passing them to methods that might modify them , unless we want them to be modified . It 's just good coding practice . It 's your own silly fault if you give someone the only copy of your array and it comes back messed with.But it looks as though the same argument ought to apply to a String ! I have never , ever heard anyone say that we ought to clone a String before passing it to a method someone else has written . But how is this any different , if a String is as mutable as an array ? Argument in favour of defensively cloning stringsIf defensive cloning is all about not really knowing what a method might do to the things we pass it , and if what we 're passing it is mutable , then we ought to clone it . If the code might be malicious , then it might alter a String ; so whenever it 's important that the String stay unchanged , we should make sure we send a copy rather than the real thing.It wo n't wash to say that untrusted code ought to be run under a security manager if we do n't trust it not to do bad things to the String . If that were true for a String , it would be true for an array ; but no one ever says that cloning of arrays and other objects is only to be done in cases where you 're also locking the code down with a security manager.Argument against defensively cloning stringsAn array might get modified just by sloppy coding ; in other words , it might get modified unintentionally . But no one alters a String unintentionally : it can be done only with sneaky tricks that mean the programmer was trying to break immutability.That makes the two cases different . We really should n't be passing an array , even a clone of it , to code that we do n't trust on any level . You do n't download a library from somewhere dodgy and then think you 're OK because you cloned your array . You clone defensively because you think the programmer might be making mistakes or making different assumptions from you about what 's allowable with the data you 're sending . If you 're worried that the code might be modifying Strings behind your back , you really should n't be running the code at all . All you achieve by cloning a String is performance overhead.The answer ? How should we think about this ? Can JVM sandboxing be broken using these tricks ? And should we code defensively in the light of the mutability of a String , or is this all a red herring ?"
"I 'm not habitual to casting a primitive data type to an object . Saw some code like : The instantiation of age1 seemed extraneous , so I tried to write the code as : But that raised a compiler error because p1.getAge ( ) is a primitive data type int and not an Integer , which is an object.Intuitively , I did : and it worked ! The question : What did I miss ? Since when did we start casting primitives as value types ?"
"Gives me this , which is as expected . But when I highlight it and copy paste it , I get `` somewords otherwords '' . The same thing done inside Firefox when copied would paste `` somewords [ fire3 ] otherwords '' ( it substitutes alt text for image ) . Is there any way to replicate this behavior where the alt text is copied , or any other indication that a picture was copied ? I 'm guessing it is not a built in feature , so what I probably need to know is what should be overloaded to mimic this behavior.Its for an output/chat window so its important that when the users quote it it includes the images ( like emotes would ) Update : Successfully overrode the copyAction method ... now what ?"
"I 'm developing the server part of a system that has to send messages to a device . This was working fine with the GoogleLogin method , but I want to migrate it to OAuth 2.0 since the other authentication method has been deprecated.In the Google API console I created a project and then I created a key for a service account.This is the code I 'm using to authenticate the server : When I execute this , the method onTokenResponse gets called and I get an access_token with token_type `` Bearer '' expiring in 3600 seconds . So far , so good.This is the code I 'm using to send the message to the device , which is always giving me a 401 status ( not authorized ) . Any ideas ? Thanks !"
"I 'm trying to compile a simple Java Hello World application to native code using the native-image utility provided by GraalVM on Windows but I always run into errors ( see below ) .HelloWorld.java : First , I compile the code to a class file using the following command : Next , I invoke the native-image command from the VS 2017 Developer Command Prompt : I also tried the Windows SDK 7.1 Command Prompt and the VS 2019 version but neither worked . How can this issue be fixed ? It ca n't be the compiler since it works for regular C/C++ applications . Is there anything else you need to configure for this ?"
"I 'm trying to play ads on Android using the Google IMA sdk . I used the example app to come to my solution but for some reason I only get the audio of the ad and the overlay ( ad length , read more button etc. ) . The video is not playing , or at least invisible.I build up the video player using the VideoView : Is anyone familiar with this issue ? EDIT : after completion I get a playerstate error ( -38 , 0 ) .But I doubt this is the problem since it 's not working from the beginning.The issue is does not occur , or is rare on some devices . While it always appears on other devices ."
Why does the following happen : By saying < T extends Foo > am I saying that Foo can be overridden with a super type ? Note : My question is not why function2 ( ) throws an error ... but why function1 ( ) does n't throw an error .
"I 'm looking for a standard Javafx or java interface ( if it exists ) that acts like a Callback , except that it does not return a value.The standard Callback from javafx.util package is as follows : This is useful when you need to return the value , but I do n't . I 've looked into Callable < T > : But this does n't actually pass in a value into call . What I 'm looking for is basically this : Is there a standard Java interface , or should I just create my own ?"
"Assuming that I have given a Stream of Futures , which I want to reduce by invoking the Stream # reduce method.But I do n't want to reduce the Futures itself , but the result of the Future ( Future # get ) .The problem is , that the get method may throw an ExecutionException and does not provide a result in this case.This is the reason whySo , I have to catch the exceptions : But in this approach , I may get troubles because null values may appear.So , to get rid of these , I would have to filter those out , where a ExecutionException appeared : I think , this code would work.. But I do n't want to believe , that this is the only and the smartest way to reduce Futures.Any ideas or suggestions ?"
"E.g. , It should execute only if exactly one of the conditions is met ."
"I 'm trying to match the string iso_schematron_skeleton_for_xslt1.xsl against the regexp ( [ a-zA-Z|_ ] ) ? ( \w+|_|\.|- ) + ( @ \d { 4 } -\d { 2 } -\d { 2 } ) ? \.yang.The expected result is false , it should not match.The problem is that the call to matcher.matches ( ) never returns.Is this a bug in the Java regexp implementation ? I 'm using :"
"This question is different from this one Difference between Java8 thenCompose and thenComposeAsync because I want to know what is the writer 's reason for using thenCompose and not thenComposeAsync.I was reading Modern Java in action and I came across this part of code on page 405 : Everything is Ok and I can understand this code but here is the writer 's reason for why he did n't use thenComposeAsync on page 408 which I ca n't understand : In general , a method without the Async suffix in its name executesits task in the same threads the previous task , whereas a methodterminating with Async always submits the succeeding task to thethread pool , so each of the tasks can be handled by adifferent thread . In this case , the result of the secondCompletableFuture depends on the first , so it makes no difference tothe final result or to its broad-brush timing whether you compose thetwo CompletableFutures with one or the other variant of this methodIn my understanding with the thenCompose ( and thenComposeAsync ) signatures as below : The result of the second CompletableFuture can depends on the previous CompletableFuture in many situations ( or rather I can say almost always ) , should we use thenCompose and not thenComposeAsync in those cases ? What if we have blocking code in the second CompletableFuture ? This is a similar example which was given by person who answered similar question here : Difference between Java8 thenCompose and thenComposeAsyncTo my mind in this situation using thenComposeAsync can make our program faster because here blockingRequestForQuote can be run on different thread . But based on the writer 's opinion we should not use thenComposeAsync because it depends on the first CompletableFuture result ( that is Quote ) .My question is : Is the writer 's idea correct when he said : In this case , the result of the secondCompletableFuture depends on the first , so it makes no difference tothe final result or to its broad-brush timing whether you compose thetwo CompletableFutures with one or the other variant of this method"
"In the oracle docs , it appears to be For mapper as a Function , it makes the parameter contra-variant but does not make the return type covariant . I wonder if the mapper can ( should ) be or ?"
"I want communicate between java and typescript with encrypted AES-GCM data ( PBKDF2 hash used for password ) .I used random bytes for pbkdf2 : This is my java PBKDF2 Code : and this is typescript code : Result in java and typescript : Why i have difference result ? What part of code has wrong ? UPDATEInteresting , I try to generate pbkdf2 key with linux nettle-pbkdf2 command , result exactly match by javascript output :"
"I am still new to Docker and Gradle , but I am trying to setup a Gradle build that builds a Docker image.I just finished setting up a Dockerfile which locally deploys and runs the jar as expected . I have this in my build.gradle : I run ./gradlew build buildDocker to build the image . I am happy with this so far.Usually I create a throwaway class ( e.g . Playground.java ) with a main method that I can run and disregard . Usually I just run this in the IDE , but now I would like to be able to connect to the other Docker containers that I know will be running.I know I could try changing the sourceSets I 'm using by excluding com.myapp.Main , but I was imagining there might be a more elegant solution resembling this : Another approach might be to have another task that I use to replace build when I call ./gradlew build buildDocker , e.g . ./gradlew playground buildDocker . Is this more practical ?"
"I 'm trying to integrate Eclipse Texo into my existing Hibernate project . I have modeled my domain model in ECore and generated both EMF and POJO code from there using Texo and the regular EMF code generation.Fetching entities ( POJOs ) stored in the database works without problems , now I would like to use Texo 's ModelEMFConverter to transform the Hibernate-mapped data model into the corresponding EMF model . However , this attempt fails due to the entities returned by Hibernate being transparently proxied . Texo 's ModelResolver is unable to look up a model descriptor for these proxied entities , since it compares the class of the entity ( which is the proxy class ) to the mapped classes and fails with an exception in my case : Exception in thread `` main '' java.lang.IllegalStateException : The class class foobar.Entity_ $ $ _jvst4f2_5 is not managed by this ModelResolver at org.eclipse.emf.texo.utils.Check.isNotNull ( Check.java:66 ) at org.eclipse.emf.texo.model.ModelResolver.getModelDescriptor ( ModelResolver.java:366 ) at org.eclipse.emf.texo.model.ModelResolver.getModelObject ( ModelResolver.java:298 ) at org.eclipse.emf.texo.resolver.DefaultObjectResolver.toUri ( DefaultObjectResolver.java:188 ) at org.eclipse.emf.texo.resolver.DefaultObjectResolver.resolveToEObject ( DefaultObjectResolver.java:98 ) at org.eclipse.emf.texo.converter.ModelEMFConverter.createTarget ( ModelEMFConverter.java:146 ) at org.eclipse.emf.texo.converter.ModelEMFConverter.convertSingleEReference ( ModelEMFConverter.java:265 ) at org.eclipse.emf.texo.converter.ModelEMFConverter.convertContent ( ModelEMFConverter.java:189 ) at org.eclipse.emf.texo.converter.ModelEMFConverter.convert ( ModelEMFConverter.java:107 ) [ ... ] The relevant code bits from ModelResolver : I tried manually unwrapping the proxied entities before passing them to the model converter using the following code : In theory this approach seems to work ( I checked by single-stepping through the conversion code ) , however it fails for entities referenced by associations in my data model , that are not contained in the original entities list . I would like to avoid having to traverse the entire object graph by hand in order to get rid of the proxies.Is there a way to retrieve unproxied entities from Hibernate ? Or does anyone maybe have a suggestion as to how I could approach this model transformation from a different angle ? Thanks for your help in advance !"
"update : looks like it 's not a memory leak , would someone create on based on an extension of this example ? Original question : Suppose I create and starts a thread that does not terminate , the thread creates an object and references as long as it 's alive . See the following code . Would the JVM garbage collect x ? would this be considered a memory leak ?"
"I am working on the following problem : In a room with people , we will define two persons are friends if they are directly or indirectly friends . If A is a friend with B , and B is a friend with C , then A is a friend of C too . A group of friends is a group of persons where any two persons in the group are friends . Given the list of persons that are directly friends , find the smallest group of friends..Example : Input : Groups : The number of people in the smallest group is 2 i.e . 4-9 so we should return 2.I came up with the code below but I do n't understand how to use this holder map now to get the required output . I am kinda confused here . What is the best way to solve this problem ? Looks like I need to use recursion here to get smaller groups ?"
"æ , ø , å are latest letters in the norwegian alphabet When we try to sort it using Hibernate Lucene then Å clubs with A , Ø clubs with Ø , Æ clibs with A which is wrong . For example : Currrent Results : Aaalu , Åaalu , Baalu , Zaalu , Expected Results : Aaalu , Baalu , Zaalu , Åaalu , Following is working code : Main : Following are versions of Lucene ( which i can not change ) : Could anyone suggests the way to get correct results ?"
"I am a Javascript front-end developer , but need to write a simple Java program to write file and sent Email and HTTP request . Here is the Java code that I use to write log to disk file : You can ignore the detail . My real question is that for those heavy IO operation , e.g . : file reading , sending email and making HTTP request ( post data to a web hook ) , how to do it in a non-blocking async way in Java ? I know it is standard in Javascript to use callback , but in Java , how do you do async http request ? Thanks !"
"Basically this came up while trying to answer another question . Suppose this code : I understand the fact that IntStream # generate is an unordered infinite stream and for it to finish there has to be a short-circuiting operation ( limit in this case ) . I also understand that the Supplier is free to be called as many number of times the Stream implementation feels like before it reaches that limit.Running this under java-8 , would print count always 512 ( may be not always , but it is so on my machine ) .On the contrast running this under java-10 rarely exceeds 5 . So my question is what changed internally that the short-circuiting happens so much better ( I am trying to answer this on my own by having the sources and trying to do some diffs ... )"
I have a list of objects and i want to process subset of objects based on condition and then create a new list with processed objects.The List if ObjectsIn the above list i want to the names which has two titles ( kim taylor ) and glue the title because prof is a subset of prof.dr . My final list should look like the followingI tried with following codeBut i did not get idea how to compare and get the name which has two titles .
"I am currently creating a Map < String , Map < LocalDate , Integer > > like this , where the Integer represents seconds : How could I instead create a Map < String , Map < LocalDate , Duration > > ?"
"Possible Duplicate : Why use getters and setters ? This is a newbie question . Is it very much necessary to use getmethods to access property values ? Once the value has been assigned , one can get the values directory . For example , in the below code , displayName ( ) can display firstName value without the help of any getter method . Or it is a standard coding standards that one must have getter and setter method or any other methods which gives that value ?"
"I 'm trying to develop an static method in Java to generate a pure tone.In the begining it seemed easy , but when I 've try to write the double array to the loudspeakers I appreciate too much harmonics.I test it with an spectrum analyzer ( sonometer ) and then , also I 've drawn in a graphic the array resultant . When I 've done it I 've seen the problem : It 's about the wave form , it 's abrupted . I want to smooth this array , but I do n't know how to do it.This is the code :"
"When a Java member needs to be thread-safe , we do like the following : This syntax equivalent to : That is , it actually uses this for a lock.My question is , if I use synchronized with a static method , as follows : In this case , on what is the lock made for the synchronized method ?"
Is there any difference between following two initializations of static variables : Are these two different ways of initializing a static variable functionally the same ?
"Consider this example : Why does it print 1 in ( A ) , but 2 with ( B ) ? I know how method resolution works , so no need to explain that to me.I want to know the deeper motivation behind this `` feature '' .Why is there no erasure warning about it ? ( There is just one about Foo foo = new Foo ( ) . ) Why does method resolution use erased semantics although the generic type is given ?"
"Consider this code : With javac version 1.6.0_29 , it fails to compile , stating : Yes , this is silly code and there are at least two obvious workarounds , but I 'm curious . Based on section 15.12.2 of the specification , this compilation error seems like a bug in javac , because the first step should remove the non-varargs doIt , as it is inaccessible according to section 6.6.1 . Am I missing some other details in the lookup algorithm or is this as obviously wrong as I think it is ?"
"I wanted to create an enum where each constant has a Map associated with it . I accomplished this by giving each constant an instance initializer , like so : I found that if mMap is private , it can not be referenced in the instance initializer . The error is Can not make a static reference to the non-static field mMap . Before the reason for this occurred to me , I consulted JLS §8.9.2 , which says in part : It is a compile-time error for the constructors , instance initializer blocks , or instance variable initializer expressions of an enum constant e to refer to e or to an enum constant of the same type that is declared to the right of e.Are n't I breaking this rule by implicitly referencing FOO in FOO 's own instance intializer ? How does this compile ? It not only compiles , but works correctly at runtime . ( It occurred to me that mMap can not be private because I 'm implicitly creating an anonymous subclass which can not reference a private field in its superclass . Which is a bit weird in itself since enums are implicitly final ... )"
Possible Duplicate : Why is there no Constant keyword in Java ? I recently started developing in Java and I was wondering why the keyword const was n't implemented and you had to use a rather long constant definition in a class : Instead of the expected wayIs there anyone who can point me out why you have to use ( or has n't made it in the current syntax ) the former instead of the later since the later is assuming the former ?
I 'm attempting to add markers to a map from a GeoJSON File that has been added to the `` asset '' folder.I 've attempted to follow the documentation however have been unable to get the expected result since the markers are no where to be found when running the app.My Attempt : I have noticed that SymbolLayer expects a layer-id and source-id however fail to understand what these are .
"I 'm writing a backend application in Kotlin.To speed things up , I 'm currently relying on RxKotlin on the server to do parallel execution of IO tasks such as database calls & API calls . The code usually looks like this.However , since do n't work really work with multiple events ( just singles ) , Rx feels a bit messy and just adds a bunch of boilerplate ( it also causes complications if I want to return a null value and could sometimes mess up the stack trace ) I 'm thinking of removing Rx and use Executors ( or threads ) for parallelism insteada . Are there any performance considerations to consider here ? Example what I 'm thinking of : And using it like so : Or maybe using regular threads and join them ? Or why not streams ?"
"I was reading jls 8 and I got stuck on Example 8.1.2-1 , Mutually Recursive Type Variable Bounds I searched stackoverflow , and found a question what is a mutually recursive type ? but this was not in terms of Java.Example 8.1.2-1 . Mutually Recursive Type Variable BoundsQuestion : What does Recursive Type and Mutually Recursive Type means in Java ? Here what does T extends ConvertibleTo < S > , S extends ConvertibleTo < T > means ? If I just use T extends ConvertibleTo < S > as type parameter for class ReprChange I am getting compile time error ?"
"I used to use enums as indexes in C. ( each enum something like an alias for an int value ) Example : With enums as indexes , I can always be sure that I am updating the right cell . Furthermore , I need the simplicity of arrays as well.I would like to do the same in Java . But , I cant seem to find a simple replacement.Does anyone know a replacement that can be used the same way as Array+enum combo did in C ?"
"I am using a simple random calculations for a small range with 4 elements.When I attach the debugger I see that for the first 2-3 times every time the result is 1.Is this the wrong method for a small range or I should implement another logic ( detecting previous random result ) ? NOTE : If this is just a coincidence , then using this method is the wrong way to go , right ? If yes , can you suggest alternative method ? Shuffle maybe ? Ideally , the alternative method would have a way to check that next result is not the same as the previous result ."
"While I move my gaming mouse inside a javax.swing.JFrame , all animated GIFs ( javax.swing.ImageIcon inside a javax.swing.JLabel ) stops animating until the mouse stops moving.This only happens with a gaming mouse with a driver on macOS ( tested it with a Rocket-Kone XTD and a Razer gaming mouse on two computers ) . When I use other mice everything works fine.The gaming mice also causing javax.swing.Timers to stop calling their actionPerformed ( ) methods . I opened a thread here for this problem , but this can be solved using java.util.TimerTask instead . ( Edit : Actually TimerTask also do n't fix it because the JFrame does n't repaint until the mouse stops moving . ) But I found no alternative for animating GIFs . I 'm more interested to solve the problem instead of using alternatives though I would be thankful for an working alternative too.Code : Running application : MCVE :"
"Let 's consider the following example : Some languages allow us to specify \U $ 1 in place of $ 1 which converts matched groups with uppercase letters . How can I achieve the same using Java ? I know we can use Pattern class and get the group and convert it to uppercase , but that 's not what I am looking for . I want to just change $ 1 with something that gets the job done.I have also tried : But it looks like `` $ 1 '' .toUpperCase ( ) is `` $ 1 '' and not the match . I confirmed it using : Is it even allowed in Java ? EDIT : EDIT FOR POSSIBLE DUPE : I am not looking for way using m.group ( ) , is it possible using something like \U $ 1 in place of $ 1 with replaceAll ( )"
Interfaces : Attempt to use intersection type : Attempt to compile with javac 1.8.0_60 : Why this intersection type is invalid for javac ?
"[ EDIT ] The solution of @ antonio works . See the screeshots below for proof..I am trying to use JorgeCastilloPrz 's AndroidFillableLoaders Library and this is the first time i am using SVG ( or Path for that matter ) . So please bear with me if the question is too naive.Library Link : https : //github.com/JorgeCastilloPrz/AndroidFillableLoadersCode : activity_main.xmlI am using the INDOMINOUS_REX string from the sample app in library as the SVG Path . Link : https : //github.com/JorgeCastilloPrz/AndroidFillableLoaders/blob/master/sampleapp/src/main/java/com/github/jorgecastillo/Paths.javaMainActivity.javaWhen i run the code , i get the following exception : Can someone help me in figuring this out ? The solution of @ antonio works and here is the proof ..."
"In the code belowThen I can call new B ( ) .v ( 1 , 2 , 3 ) ; //print Sub rather than Super which is ridiculous but does work well . If I change B to the call to new B ( ) .v ( 1 , 2 , 3 ) ; will be invalid . You have to call it as new B ( ) .v ( new int [ ] { 1 , 2 , 3 } ) ; , why ?"
My Java source code : The output is : ee1e2e3e.Why ?
"I 've been banging my head around , trying to figure what 's wrong with the following mapping . I understand the following mapping is not ideal for ORM , but that 's how the database is and I can not change its structure . I 'm using JPA 2.1 and Hibernate 5.0.2.Final.Besides this structure , I also have a converter to handle LocalDate to java.sql.Date , which is annotated with autoApply=true.When I try to load CampaignBroadcastProcess through entityManager.find ( ) , hibernate tries to convert campaign_id to Date , even though it 's mapped as a String , causing java.sql.Date to throw an IllegalStateException , because the String passed to valueOf is n't a valid date String.I 'm suspicious Hibernate is mixing up the types of the JoinColumns on CampaignBroadcastProcessPK , handling them both as a LocalDate.Has someone ever faced this issue ?"
This is a simple code My question is : How Java knows that the passed null is Bar and not Foo ? I know why the compiler chooses Bar and not Foo ( because there is a conversion from foo to bar and from bar to foo and not vice-versa ) .But how would the method know this null comes from Bar and not Foo ? does null contain some information about the object which is assigned to ?
"In java.util.stream.Stream interface , the combiner is a BiConsumer < R , R > , whereas in the combiner is a BinaryOperator < A > which is nothing but a BiFunction < A , A , A > .While the later form clearly defines what will be reference of the combined object after combining , the former form doesn't.So how does any Stream implementation library know , what is the combined object in the former case ?"
"I have a lambda that currently returns 1st row where date matches passed in date , by using RecordNumber.Here is my current code : Now , I have to add functionality for if ProEffectiveDate is null to simply return first row from the list.When ProEffectiveDate is null , how do I ignore this filter ?"
"If I write the Java methodthen I can call this method viaas well asand both calls are treated exactly the same . However , the two callsandare not treated the same . The section on evaluating arguments in the JLS states `` The final formal parameter of m necessarily has type T [ ] for some T '' so why is n't the `` final formal parameter '' in case ( b ) above not an integer array which would create a three-element list , like case ( a ) ? The only thing I can think of is that Arrays.asList is generic , and something about type compatibility ( mentioned in JLS Section 15.12.4.2 ) is at play here , but I ca n't quite put my finger on the actual sentence in the JLS that makes the two cases different.The commentary in the JLS talks about the need to craft these semantics carefully in order to handle the interplay between `` parameterized types and array types that occurs in a Java Virtual Machine with erased generics '' but what we end up is my function f and Arrays.asList appearing to behave inconsistent . In the former case I can `` unpack '' or `` pack '' my args and all is the same ; in the latter case , the two cases are different.How is this explained in language-lawyer terms ?"
"The Java API documentations states that the combiner parameter of the collect method must be : an associative , non-interfering , stateless function for combining two values , which must be compatible with the accumulator functionA combiner is a BiConsumer < R , R > that receives two parameters of type R and returns void . But the documentation does not state if we should combine the elements into the first or the second parameter ? For instance the following examples may give different results , depending on the order of combination be : m1.addAll ( m2 ) or m2.addAll ( m1 ) .I know that in this case we could simply use a method handle , such as ArrayList : :addAll . Yet , there are some cases where it is required a Lambda and we must combine the items in the correct order , otherwise we could get an inconsistent result when processing in parallel . Is this claimed in any part of the Java 8 API documentation ? Or it really does n't matter ?"
"I understand that the argument of myMethod ( ) being an int literal , and the parameter b being of type byte , this code would generate a compile time error . ( which could be avoided by using an explicit byte cast for the argument : myMethod ( ( byte ) 12 ) ) After experiencing this , I expected that the above code too would generate a compile time error , considering that 12 is an int literal and the return type of myMethod ( ) is byte . But no such error occurs . ( No explicit cast is needed : return ( byte ) 12 ; ) Thanks ."
"We are designing a system for processing XML messages.The processing Java class needs to split out various attributes and values from a largish XML and pass these as parameters to individual handler classes for varied operations.We have thought of following options : A ) Pass the entire XML to each handler and let it extract the relevant bits - but feel this might be inefficient to pass the XML around each timeB ) Convert the XML into a DTO or set of smaller DTOs and pass each DTO to relevant handlerC ) Cut the XML into snippets and pass these to each handler methodWe 're not happy with each of these , so any suggestions which way to go ? Example XMLThis contains 4 blocks processed by 4 handlers one does another doesnext does and so on"
"I have two classes A & B , where B is derived from A . Both the classes have a method with same signature . They are called in the following manner in Java & c # -- > In case of JAVA : This program generates the following output : -In case of C # : This program generates the following output : -Why does the output differ ?"
"When I 'm using a JXTable to render and edit my data , some input into the CellEditors gets lost . If I click on the Resizing-Divider of the JXTable-ColumnHeader or change the width of the JFrame , the CellEditor gets terminated without commiting the value . The values are saved if I use the JTable . I want to use the JXTable because of its other features , so is there a way to fix the JXTable ? Example :"
"I am having trouble comprehending why parallel stream and stream are giving a different result for the exact same statement.ResultParallel : 1 , 2 , 3Result : 1 2 3Can somebody explain why this is happening and how I get the non-parallel version to give the same result as the parallel version ?"
"I 'm trying to re-order my items list ( Using android getListView , not custom ) by distance and I 'm having issues.I 'm getting the Spherical distance in meters ( double ) using Maps Utils inside the adapter ( SomeAdapter ) .double distance = SphericalUtil.computeDistanceBetween ( fromCoord , toCoord ) ; But after I fill the adapter ( AsyncTask ) I need to short by distance on my onPostExecute and I have no idea.Thank you"
"I searched about a day now , but didnt find any example for my problem in Javacode.I have a worldmap with a size of 2000*1400 Pixels with a 'Mollweide ' projection.How can I find out what is the longitude and laltitude of the point ( 500,300 ) in my map ? I would like to code this in Java.I tried to do this with the 'Java Map Projection Library ' : Could anyone help me with that ? Codeexample or hint.thanks and regards"
"On page 140 of Effective Java we are advised that a method signature with a wildcard is preferable to one with a type parameter that only appears once . For example , is preferable toHowever it is not possible to set an item of a List < ? > to be anything ( except null ) so Effective Java suggests writing a private helper method to make the signature with a wildcard work.However I looked at the source code for Collections.swap and discovered that the way that they got around the List < ? > problem was to use raw types.We are advised not to use raw types in new code ( except in instanceof checks ) . So , I would like to know what is the reason here ? Is there a performance benefit in using raw types here rather than calling a private helper method ? If not , are there any examples where using raw types can improve performance ?"
"The following signature is valid and commonly used in Scala : However , since > : is the Scala equivalent of super in Java , my first idea to convert this signature ( replacing the function type with BiFunction and making use of Use-Site variance annotations aka Bounded Wildcards ) would beBut oh no ! The compiler complains about the super token in < B super A > because you ca n't have lower-bounded type variables ! Now how would I write this method in Java code without having to time-travel back to when generics did n't exist in the Java world ? Yes , I know that you think I could use B extends A , but that is not the same thing , as shown by my implementation : Instead , I had to use this slightly more restricted version :"
"I made a little test to manipulate a short and I came across a compilation problem.The following code compile : while this one does n't : I 've read that shorts are automatically promoted to int , but what 's the difference between those two codes ?"
What is the reason that the first line does not compile and the second and third one does ?
"I receive some crash reports from android ( with java.lang.NullPointerException ) , but I do n't understand what mean __null __ in stacktrace below : And I do n't understand what access $ xxx functions is ? Furthermore , formatElapsedTime is not called from onEnterPressed neither directly nor indirectly ! That is absolutely ! formatElapsedTime is called from timer thread through runOnUiThread . This is very rare bug has occurred for the second time only on two different devices.Help , please , by any idea ! I have a lot of __null__ ."
"Hello dear Programmers , I have a String String input = `` 30.09.1993 '' ; Then i want to save all numbers in this string in an array ( Only numbers ! ) . The `` . '' are at index 2 and 5 so i want to skip these parts of my string in my loop with an if-statement.I fixed my problem and everything works fine but I 'm confused with the logic of the & & and || operators . This is my working code : And this is the code which doesnt work : The only difference between these two code snippets are the operators in the if-clause.I thought that the results for these operators are : & & operator : || operator : So in my opinion the second code snippet should work and the first should throw a NumberFormatException . But thats not the case . I 'm sure there are some better solutions for what im doing but my question is only about the logic in my if-statement . Can someone explain me the logic behind this ? I 'm totally confused and thankful for every helping answer.GreetingsLukas Warsitz"
"I 've been reading up on ( and experimenting with ) several Java mocking APIs such as Mockito , EasyMock , JMock and PowerMock . I like each of them for different reasons , but have ultimately decided on Mockito . Please note though , that this is not a question about which framework to use - the question really applies to any mocking framework , although the solution will look different as the APIs are ( obviously ) different.Like many things , you read the tutorials , you follow the examples , and you tinker around with a few code samples in a sandbox project . But then , when it comes time to actually use the thing , you start to choke - and that 's where I am.I really , really like the idea of mocking . And yes , I am aware of the complaints about mocking leading to `` brittle '' tests that are too heavily coupled with the classes under test . But until I come to such a realization myself , I really want to give mocking a chance to see if it can add some good value to my unit tests.I 'm now trying to actively use mocks in my unit tests . Mockito allows both stubbing and mocking . Let 's say we have a Car object that has a getMaxSpeed ( ) method . In Mockito , we could stub it like so : This `` stubs '' the Car object to always return 100.0 as the max speed of our car.My problem is that , after writing a handful of unit tests already ... all I 'm doing is stubbing my collaborators ! I 'm not using a single mock method ( verify , etc . ) available to me ! I realize that I 'm stuck in a `` stubbing state of mind '' and I 'm finding it impossible to break . All this reading , and all this excitement building up to using mocks in my unit testing and ... I ca n't think of a single use case for behavior verification.So I backed up and re-read Fowler 's article and other BDD-style literatures , and still I 'm just `` not getting '' the value of behavior verification for test double collaborators.I know that I 'm missing something , I 'm just not sure of what . Could someone give me a concrete example ( or even a set of examples ! ) using , say , this Car class , and demonstrate when a behavior-verifying unit test is favorable to a state-verifying test ? Thanks in advance for any nudges in the right direction !"
"So , I use IntelliJ IDEA to program in Java , and I was experimenting with the keyword instanceof and my code looked eventually like this : IntelliJ gives me at the two instanceof Two line a hint `` [ ... ] is allways true '' , but for one instanceof Two IntelliJ does n't give me a `` [ ... ] is always false '' hint . Does anyone know why ?"
"How can a stream be created lazily ? During migration of collection based code I have run into this pattern multiple times : The resulting concatenated stream is typically processed lazily , as we know . Therefore the expensive collection is not needed at all , if the stream processing stops in the first part of the concatenated stream.So for performance reasons I would like to defer the creation of the entire collection until the concatenated stream actually tries to iterate the elements of the second part of the concatenation.Pseudo code would look likeEdit : I 'm aware refactoring the collection creation to streams would be best , to make all of the API stream aware . However , this is part of another component with a non modifiable API in this case ."
"I am opening file pick Intent with , Bellow code I Want remove Contact option from list , please can anyone help.Thanks"
"Right now I 'm implementing a method that has one parameter of the type Class and this method returns a boolean if the given class object requires an instance of it 's enclosing class for it to be instantiated.This method currently works as follows : To explain why it is designed as such : It first checks if it 's a top-level class , if so , the algorithm can safely return falseIf the class is anonymous or a member class , it requires a closing instance if it 's not static ( an anynmous class is automatically static if it 's declared in a static constructor/method/initializer-block ) The class can now be assumed to be a local class ( disregarding arrays and primitives ) , so it 's defined in either a constructor , method or initializer . However , unlike an anonymous class , a local class is never considered static , but still requires an enclosing instance if the local class is defined in a non-static block.A constructor is never static , so in that case return trueIf it 's defined in a method , return true if the method is n't staticI need step 6 to determine whether the local class resides in either a Static Initializer Block or an Instance Initializer Block , so I 'm done with the implementation for this function.So here 's where the reflection API falls a bit short . There 's no method Class.getEnclosingInitializer ( ) or such , nor is there a class that represents an initializer in the reflection package.Is n't an initializer block a member of a class ? In the java 1.8 spec the Member interface only has the implementation classes Field , Executable ( with subclasses Constructor and Method ) , and then there 's MemberName that 's out of the scope for most users of reflection . I 'm not really sure if the people behind the spec forgot about this situation and local classes actually should be static if declared in a static method/initializer ( like anonymous classes ) . But it seems to me that it 's lacking this last bit of consistency from this point of view.So does anybody have an idea on how to ascertain in which type of initializer block the local class is declared ? I 'm not really keen on digging through fields for a synthetic one of a type that equals it 's enclosing class , or looping through it 's constructors for something akin to that ( sidenote : Parameter objects from Constructor.getParameters ( ) always return false on isImplicit ( ) and isSynthetic ( ) no matter what i try ... that just seems wrong ) . So if I can avoid such solutions that would be great ."
"I just want to replace one element with different list of elements , I ca n't find a way how to do it . Where dynamicContentHtmls is list of Elements and element is the one which should be replaced.My experimental code :"
"We are using openJDK11.0.6 java.net.http HTTP ( HTTP1.1 ) client to fetch content from websites . After a long execution time , we noticed a performance decrease . CPU is 100 % used even when the app does nothing . We were able to determine that it comes from a lot of app leaked socket ( CLOSE-WAIT state ) . There is already some question about it here ( like this one ) , but all submitted bugs are supposed to be fixed and backported to java 11.0.6 . I 've been able to reproduce the bug into a minalist project on github . It seems it happens only when the client receives a 204 NO-CONTENT from the server . If we run it : OpenJDK bug ( fixed ) : https : //bugs.openjdk.java.net/browse/JDK-8221395https : //bugs.openjdk.java.net/browse/JDK-8236596"
"Preface : I understand generics and how they 're declared at the class level ( e.g . class MyClass < T > ) but I 've never seen it declared at the level of a static method , and without any explicit bindings ( e.g . class MySubclass < String > extends MyClass ) .I found this code snippet in an app I 'm working on ( I did n't write this part ) . I 've never seen a method declared this way . < T > is not defined anywhere else in the class . Intent.getExtras ( ) .get ( ) returns an Object which may actually be a String , Boolean ... etc.Sample usage : How does the JVM know what type to use for < T > ? ( Yes this method compiles and executes successfully ) ."
"I 've developed a Jersey API which returns either XML or JSON ( depending on the request header ) . When deployed on my Windows 2012 server ( Tomcat ) , it works no problem.When I deploy ( after compiling it on Ubuntu ) to an Ubuntu machine in AWS ( Glassfish ) , I get the following errors when I request JSON : No errors when I request XML.I was originally using moxy for JSON serialization , but then started using Jackson.Any ideas why it would work on one server and not another ? Thanks"
"Referring to the FeedReaderContract class on Android Developers page : Saving Data in SQL DatabasesThe code starts as : i.e . there is a default public constructor for the class.Is that code comment correct ? How does a public empty constructor prevent instantiation - should this maybe be private ? ... am I still half asleep ? ... PS I 'm not concerned about the rest of the example , or how to use it . I am purely trying to confirm that I 'm not going mad and stupid at the same time ..."
"i am planning to perform a standard list command to get a vector or a list of the content of a directory.I know this is easy by usingThe problem is that I need a list/array/vector of URLs . So my thoughts were to convert the files to URL . With the org.apache.commons.io.FileUtils library this is possible with the following simple code : This does exactly what I need , but is unfortunately very slow ( especially for directories with thousands of files ) , although it is just using a for-loop and parses every single File object with the `` toURL ( ) '' method.Does someone know a way to do this task in a better performance ?"
"In Java8When I write such code : Java8 streams are divided into two sections ; intermediate vs terminal operations , where the -AFAIK - actual action ( under-the-hood iterations ) is done in the terminal ops , while each intermediate ops appends its own -let me name it- Apply inner classes.By this , there will be only one iteration over the list.Sample code from JDK8 : In ScalaWhen I write such code : I have been a while reading about it , but I never hear about such terms explicitly , moreover , the SDK implementation loops ( either using recursion or regular loops ) on each operation : My questions is : Can we consider that Java implementation on the same thing would be much faster . ( O ( n ) in Java vs O ( multiples of n ) in Scala )"
"Following https : //developer.atlassian.com/bamboodev/bamboo-tasks-api/executing-external-processes-using-processservice I would like to invoke some command using ProcessService bean . The injection as described in the link , does not work . I checked the source of several other plugins at Bitbucket , but each is using the concept as described in the link.My class : However Bamboo does not find the ProcessService bean and fail with following : ( org.springframework.beans.factory.UnsatisfiedDependencyException : Error creating bean with name 'bamboo.tasks.CheckTask ' : Unsatisfied dependency expressed through constructor argument with index 0 of type [ com.atlassian.bamboo.process.ProcessService ] : : No qualifying bean of type [ com.atlassian.bamboo.process.ProcessService ] found for dependency : expected at least 1 bean which qualifies as autowire candidate for this dependency . Dependency annotations : { } ; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException : No qualifying bean of type [ com.atlassian.bamboo.process.ProcessService ] found for dependency : expected at least 1 bean which qualifies as autowire candidate for this dependency . Dependency annotations : { } ) Am I missing something ? Bamboo version : 5.13.0AMPS version : 6.2.6"
"I knew one can prevent the code formatting in eclipse by surrounding the code withBut I do n't want to write it manually all the time . It would be perfect just mark the code , press a hotkey and the code gets prevented from formatting.Anybody knows how ? Thx !"
"The easiest way to convert a Java Collection to a Scala equivalent is using JavaConversions , since Scala 2.8.. These implicit defs return wrappers for the contained Java Collection . Scala 2.9 introduced parallel collections , where operations on a collection can be executed in parallel and the result collected later . This is easily implemented , converting an existing collection into a parallel one is as simple as : But there 's a problem with using 'par ' on collections converted from Java collections using JavaConversions . As described in Parallel Collection Conversions , inherently sequential collections are 'forced ' into a new parallel collection by evaluating all of the values and adding them to the new parallel collection : Other collections , such as lists , queues or streams , are inherently sequential in the sense that the elements must be accessed one after the other . These collections are converted to their parallel variants by copying the elements into a similar parallel collection . For example , a functional list is converted into a standard immutable parallel sequence , which is a parallel vector.This causes problems when the original Java collection is intended to be lazily evaluated . For instance , if only a Java Iterable is returned , later converted to a Scala Iterable , there 's no guarantee that the contents of the Iterable are intended to be accessed eagerly or not . So how should a parallel collection be created from a Java collection without sustaining the cost of evaluating each element ? It is this cost I am trying to avoid by using a parallel collection to execute them in parallel and hopefully 'take ' the first n results that are offered.According to Parallel Collection Conversions there are a series of collection types that cost constant time , but there does n't appear to be a way of getting a guarantee that these types can be created by JavaConversions ( e.g . 'Set ' can be created , but is that a 'HashSet ' ? ) ."
Lets say I have two observable streamsHow can I join these on when they have an attribute that matches ? Something like the psudo code below :
"Can I instantiate a concrete Java class that uses recursive generics in Kotlin , if so then how ? DetailsI am trying to instantiate a Java class that uses recursive generics similar to the example below . I found a work around for wrapping the Java class in a new class , but that feels like I am sidestepping a problem that I should be able to handle directly . Java Class With Recursive GenericsHow it is Instantiated in JavaFailed Attempts to Instantiate in KotlinKotlin workaround"
I am trying to understand what the following means ? What is the advantage of doing something like this ( e.g . use-case ? ) .
"I have the following available methods in a Utils class : And in a method of myClass I have : The second piece of code has a compilation error : The method withTx ( Function < OrientGraph , Object > ) is ambiguous for the type myClassI guess this comes from the compiler , which is not able to determine if the lambda is a Consumer or a Function . Is there a noble way to disambiguate this situation ? Whatever the method anotherMethod returns ( void , Object , anything ) , I do n't want to use this return value.One solution is to do : But I wanted to know if there was something better , because this triggers SonarLint ."
"Mouse events and scroll events behave in different waysMouse Events : The event is captured by mainStageThe event is captured by mainStageThe event is not capturedScroll Events : The event is captured by mainStageThe event is captured by secondStageThe event is not capturedIs there any way that transparent secondStage does not capture scroll events ? My code : Java version : 1.8.0_201 ( 64 bits ) , Windows 10edit : The example is a simplification with only two windows . Fire the event programmatically implies discovering which stage is immediately lower and that is another problem in itself ."
"Can someone imagine when this code : should become this : ( In our company we have a Sonar rule that forces such coping or arguments for all methods . ) I can imagine why it can be important for standard methods , but I can not find any benefit of having it done at a start of tools main method . Am I missing something ?"
"I have a problem when trying to persist a data model class into a database . I have a class like this : The second field was added after first one . When to persist object created with this class via : A new row in database is created , but only with first field added . The second one is empty . When I am debugging the object dataModelClass has every field set with some integer value.When I am adding a value for number2 through pgAdmin , and then retrieving this row with java code via : Than dmc.getNumber2 ( ) is not empty/null.Anyone have any ideas what is wrong ? [ Edit ] Maybe it will help a little more , On data model ( DataModelClass ) class i got this annotation : Obviously this field exist in my class"
"Abstract : I would like to interact with two classes ( 'Item ' and 'Block ' ) that share many similar functions as if they were implemented from an interface with these functions , however they are not and I can not edit them . What are my options for dealing with this ? Am I stuck writing super hacky code ? Details : I am working on a minecraft mod in Java , part of working with minecraft is that I can not edit the base code of the game . There are two fundamental classes to the game ; `` Block '' and `` Item '' , both of these share a number of functions however the developers did not make them implement an interface ( as I wish they had ) .To keep my code clean and avoid a lot of if statements switching between handling Blocks and Items I would like to keep both in a generic list , preferably casting to Block or Item as little as possible , and while attempting to maintain readability.My current solution fails to satisfy as a good one , it 's hard to read and while it cleans up some code duplication I still have to cast return types.Update : Based on the answer left by Eran I have updated my solution to this problem and I now find this to be satisfactory : I created adapter ( taking the adapter name as suggested in comments ) classes that interfaced with an ItemOrBlockAdapter and extended Block and Item : This is a lot better than the hacky solution I used before ( looking through Block and Item methods to find the desired method every call ) ! However it is not without fault , I now have to write every function I wish to add an adapter for three times , and a fourth time if something else inherits the head adapter.I consider this solved but I 'm open to superior solutions since this involves quite a lot of code duplication ( Understand that I will have to add a lot of methods to make this complete , not just two as shown above ) ."
Consider : I found no way to express that I mean the X from Bar < X > and not Foo.X in the foobar ( X t ) implementation . Is there no other way than renaming the generic parameter X in Bar or the static inner class ?
"I am developing a programming tool on the Netbeans Platform.In that , I have an action to find usages and I want to add Alt + F7 as a shortcut to fire my action . I have implemented this for Alt + F3 and some other shortcuts . But in this case , Alt + F7 is already used in the Netbeans Platform to find usages . How can I override Alt + F7 ? Here is what I have already done :"
"How is one supposed to document Java Record parameters ? I am referring to the parameters that end up becoming constructor parameters , class fields.I tried : but IntelliJ IDEA flags @ params as an error . I could n't find an online example of how this is supposed to work . The closest discussion I found is https : //bugs.openjdk.java.net/browse/JDK-8225055.I found some unit tests in the JDK that seem to imply this should be working . Perhaps this is an IDE bug ? I am using OpenJDK 14+36-1461 , IDEA 2020.1.I filed a bug report against IDEA just in case ."
"Against this pattern designThe only , I guess , with method ( ) in Base I can get the specific type.Are there more benefits ?"
"The javax.activation.MimeType class does not compare intuitively ( to me ) due to a lack of an overridden equals-method . Consider the following snippet ; It seems to me that a and b are equal in every aspect and that a.equals ( b ) should return true.Is there a reason that this class does not implement an equals-method ? Update : There exists a match-method which does exactly what I want , but I only found out after posting this question which kind-of confirms the not-so-intuitiveness of this class ."
"This question goes from my previous post in here.. Before I post my question , I am pasting the contents from oracle docs ; My understanding of type erasure when overriding is involved is as follows : if after erasure , the signature of m1 and m2 are same , then then they are considered overridden.so in my previous post above , I tried to override a parent class method that takesList < String > by a subclass method that takes List < Integer > assuming after type erasure what is left is just List < Object > . but that is wrong . so my understanding of the above definitionof method overriding when erasure is involved is totally wrong . can some give a simpleexample to explain the above point.Thanks . btw the above points come from here ."
"This question may be a little bit subjective , but I 'm just trying to follow the best programming practices for organization of code.I have a class Polynomial that makes a lot of reference to the class Rational , and in many different methods it uses a Rational value that is equivalent to 1 , 0 , or -1 for comparisons.As such , I have the following constants defined : However , the thing I 'm not certain about is where to store these values in a meaningful way.On the one hand , Polynomial is what uses them , so storing them inside of the class localizes it to where it is going to be used . This also means that it can be changed to private so that it is only used within the one class.On the other hand , if it is defined inside of Rational , then all calls to the values become Rational.ZERO , Rational.ONE , Rational.NEG_ONE -- which makes it very human-readable , and organizes it in a lexically understandable manner . It also gives the opportunity to define similar constants in Polynomial as well if ever it were needed.So basically , opinions aside , what 's the most common practice for organization in something like this ? Are my thoughts right for either of the locations for it , or is there another solution that I had n't considered ?"
"I really do n't know how to explain this error properly ... It started when I added this method to my controller class : And I 've confirmed that without this method ( which is called on by a class , on start up of the program ) I do n't have an error.My error ? When I run from eclipse , the programe starts to load the top bar of the frame appears , but the actual content doesn't.As well as this there is a strange drowing empty box , that I believe is caused by multiple processes being started up.This , I beleive was caused by a stack overflow , as my getInstance ( ) methods recursively called each other . I ca n't get the stacktrace back for some reason , and at the moment the debug screen is just blank . I 've checked my .log and it does n't have an error corresponding to that time stamp . I do n't know how they could call each other though . Here is the ViewManager method : And the constructor : The IController.Util.getInstance ( ) method is identical , except the names of the class and objects it calls are different . Double checked locking just causes the first instance of IViewManager.getInstance ( ) in my launcher to return a null pointer , this is at the start of the synchronised block.To clarify , the programme calls IViewManager.Util.getInstance ( ) the first time in the launcher , then it calls IController.Util.getInstance ( ) for the first time in the above constructor . After that all calls to it should just return instances . What would cause this sort of error ? How can I even start to fix it ?"
"I have a Java class with multiple `` type '' values , and a class which can take one of those types.I 'm trying to change the implementation of the constructor depending the Type enum using Java 's type system , but ca n't find any information on how to do it.Is something to this effect possible in Java ? Like it is in Typescript for example ."
Having this method : Can I access the static variables of the class ?
"I 'm new to programming and Java . I 've noticed that , in the Java API , there are methods with strange assignments inside if statements . Here is an example from the Map interface : Is there some sort of benefit to nesting the assignment this way ? Is this purely a style choice ? Why not just do the assignment when curValue is first declared ? I 've noticed this in a lot of the newly added Java 8 methods in the Map interface and elsewhere . This form of nesting the assignment seems unnecessary.Edit : another example from the Map interface :"
"I have an swing panel with a JLabel inside of it . The JLabel looks like this : However it displays in the UI like the following : Bar Foo BarFor some reason , the first line just disappears . If I take out the slash or remove the html tags , it works as expected . Is there a way to make the first line show up with the slash ? The reason this even showed up is that we have JLabels which are populated by third party data . I could programatically remove the slash , but I would prefer to show it in the UI if there is a way to do it . We are using html and the BR tags in order to make sure each value is on a separate line ."
"The following simple examples cause compile-time error . But It 's not clear why. -- and -- DEMOBut the following works fine : Does it allow to tranfer control to the only while , for or do statement ? It does n't say in the JLS . What it actual says is : A continue statement with label Identifier attempts to transfer control to the enclosing labeled statement ( §14.7 ) that has the same Identifier as its label ; that statement , which is called the continue target , then immediately ends the current iteration and begins a new one ."
"Good ol ' JOptionPane contains a plethora of static methods . There are many combinations , yet to change certain options ( like buttons ) you still must specify other optional arguments - often defaults ( like a null icon ) . This does n't lead to easy to read code.Moreover the methods are n't particularly consistent ( does an int return correspond to a ***_OPTION constant or a button index ? ) so it requires a slew of documentation to disambiguate : it 's not quick & easy to learn , remember or write.It would seem natural to me to create a 'Builder ' wrapper . It might look something like this : The final method call could be : I 'm happy to go write it - but my failure to find anything existing makes me wonder : am I crazy ( it 's a bad idea / there are better ways ) ... or just inept at using Google ? : - ) So ... does anyone know of anything that achieves something like this ? My feeling is to stick with JOptionPane dialogs so that the UI delegates gets things like fonts and system icons correct for any Look and Feel ; but I guess if alternatives succeed at this , they would be fine too ."
"I 'm looking for a regex that will split a string as follows : with the output resulting in : The string is split at every character . However , if there are digits next to each other , they should remain grouped in one string ."
"In the life-cycle of my application , I have to re-create an ArrayList that contains other ArrayLists of objects ( reading them from storage ) . The ArrayList is always assigned to the same data member in a class , essentially leaving the older ArrayList-of-ArrayLists dangling ( unreference-able or inaccessible ) .My understanding is that , unlike in C++ , this does n't result in a memory leak because the system knows when an object becomes unreference-able and frees the memory when/as it sees fit.Still , old habits are hard to overcome and I am almost instinctively drawn to `` help '' the system by doing some cleanup myself before re-creating that ArrayList-of-ArrayLists : My questions : Is this redundant ? Am I doing more harm than good ? Is this good in any way ? Why ?"
"I have an IDevice interface and two enum realizations of this interface : AndroidDevice and IosDevice.The issue is : I want to use latent typing and call values ( ) method on an interface reference : So I have to add public IDevice [ ] values ( ) ; to my interface : But it does n't work . Eclipse asks me to remove static modifiers from AndroidDevice ( ... ) Please : Explain to me why it does n't work ? What is the best solution to this problem , should I use reflection instead ?"
"The following code compiles and runs successfully without any exceptionshould n't the line ArrayList < SuperSample > ssList = ( ArrayList < SuperSample > ) o ; produce a ClassCastException ? while the following code produces a compile time error error to prevent heap pollution , should n't the code mentioned above hold a similar prevention at runtime ? EDIT : If Type Erasure is the reason behind this , should n't there be additional mechanisms to prevent an invalid object from being added to the List ? for instancethen why , is not made to throw any Exception ?"
"I was writing a Sieve-type function in Clojure based on Sieve of Eratosthenes ... ..and came across an error with lists of pairs : ClassCastException clojure.lang.Cons can not be cast to java.lang.Number clojure.lang.Numbers.remainder ( Numbers.java:171 ) However , changing the marking style , giving up on cons and using conj or vector pairs instead , both solved the error.Still I am looking for a good explanation of the error ... ."
"I encountered with the case when I need to convert List < Book > to Map < String , Book > and the only solutions I can find is how to do Map < String , List < Book > > .The class itself looks the following way ( I ommitted getters/setters and constructors ) : I want to map all books by certain unique keys , so probability of duplication is either neglectable or 0.I tried to do it this way : It works but it looks ugly , hardly readable and not very nice to have in the codebase because it may confuse my colleagues . Is there any better way java 8 way to achieve the same result ?"
"What 's the advantage of this OpenJDK line number 1455.Code snippet : Notice that , although a reference to private final char value [ ] is copied to the local val for access inside the loop , its .length field is still accessed through value , not val.I suspect `` performance '' to be the answer ( e.g . it is faster to read from the local than from the field ) but I would appreciate a precise and easy-to-read answer , perhaps even some data about the advantage ."
"when you have a method , I understand that it makes sense to declare it generic so that i can take generic arguments . Like this : But what exactly is the idea behind making a whole class generic if I can simply declare every method generic ?"
"Its pretty basic UI , but I can not setup the JCheckBox buttons so that they are placed immediately after one another ( vertically ) without any spacing . How would I reduce the spacing seen below ?"
"What is the best way to put javascript/html/css code in the maven repository , so that is easily usable by java projects.Is there a way to do it such that the included project can be easily made `` web-visible '' by the including project ? For example assume I write a very useful tricks.js file an put it in the mvn repository.Is it possible to create a web project that adds tricks.js as a dependency and then doingcauses the tricks.js file to be served ?"
"I was looking at a way to optimize some things in our code base with generic functions . There is a function with return type List < Object > which could have return type List < SpecifiedType > .Bellow is a minimalist version of that function called function . It takes a parameter type , based on it calls a corresponding function ( here limited to String ) or generic function.The target is for function above to be called like this : ArrayList < SomeType > someTypes = function ( SomeType.class ) ; Two things I 've noticed about the code above : Cast to ArrayList < T > is required even though we know that if type String is passed as a parameter it will return ArrayList < String > just like forString ( ) methodCast to ArrayList < T > gives Unchecked cast warning , even though the return type will be ArrayList < String > My question is is there some better way to do so ( preferably without the casts ) and if not , then why"
"The above code will not compile without : If i remove it , I get the following errorCan someone explain this ? It seems like I am starting with and IntStream , converting to a Stream of Characters and then back to IntStream ."
"I 'm new to java ( 2 weeks ) and I 'm trying to convert a inputted string in to ascii code and trying to print the sum.I 've tried using IntStream.of ( AsciiArray ) .sum but since its a string and not an int it does n't work ( Understandably ) example of what I 'm trying to do : `` Enter a 5 letter word ( all lower case ) : `` hellothe ascii sum is 532what I get : '' Enter a 5 letter word ( all lower case ) : `` hellothe ascii sum is [ 104 , 101 , 108 , 108 , 111 ]"
"I 'm frequently running into performance issues when I XSL transform large amounts of data into HTML . This data is usually just a couple of very large tables of roughly this form : During transformation , I want to visually group the records like thisA silly implementation is this one ( set is from http : //exslt.org . the actual implementation is a bit different , this is just an example ) : It 's easy to see that this tends to have O ( n^2 ) complexity . Even worse , as there are lots of fields in every record . The data operated on can reach several dozens of MB , the number of records can go up to 5000 . In the worst case , every record has its own group and 50 fields . And to make things even much worse , there is yet another level of grouping possible , making this O ( n^3 ) Now there would be quite a few options : I could find a Java solution to this involving maps and nested data structures . But I want to improve my XSLT skills , so that 's actually the last option.I 'm maybe oblivious of a nice feature in Xerces/Xalan/Exslt , that can handle grouping much betterI can maybe build an index of some sort for /table/record/groupYou can prove to me that the < xsl : apply-templates/ > approach is decidedly faster in this use-case than the < xsl : for-each/ > approach.What do you think how this O ( n^2 ) complexity can be reduced ?"
I have created an API which allows users to build out queries using a tree . The tree is built from the SearchOperationRequest class.So from this example I could create a SearchOperationRequest that asks for all WHERE hidden = false AND X = 88This request is built into a specification using a generic specification builder.My current works great for RIGHT heavy tree 's . Meaning queries such as : But it does not work with building more complex trees where the criteria in braces should get precedence and executed first.The model for this more complex SearchOperationRequest would be : How do I modify my GenericSpecificationsBuilder to be able to handle more complex SearchOperationRequest trees ?
"I 'm currently stuck on a problem from CodeAbbey . I do n't want an answer to the entire thing.This is the meat of the question : Input data will have : initial integer number in the first line ; one or more lines describing operations , in form sign value where sign is either + or * and value is an integer ; last line in the same form , but with sign % instead and number by which the result should be divided to get the remainder.Answer should give remainder of the result of all operations applied sequentially ( starting with initial number ) divided by the last number.My problem is with the logic . So far I realize there is an operator , a space and then a number . To get the number I thought of usingand to get the operator I 'd use the same thing . Then I 'd just use a bunch of if-else statements to figure out the rest . But how do I do this in the large scale ? How do I read all of those numbers in and do it for every one of them ? A nudge on the right direction would help ."
Stumbled upon incompatible types error cause of which I do n't understand.Why is this piece of code wrong ?
"I 'd like to write a java framework , that supports JRE7 as a baseline , but takes advantage of JRE8 features , if being run in the context of a JRE8 ( upwards compatible ? ? ) . ( Or maybe I have this backwards ... i.e . JRE8 is the baseline , but degrades gracefully to support JRE7 ) .Does Java provide a way to do this ? My attempt / example : I thought I could address this in a similar manner to javascript feature detection , I could programmatically test for the presence of my Java8 method , if it exists programmatically invoke it , otherwise fallback to Java7 libraries.IMO this is a very arduous approach . It 'd be great if this `` feature toggling/detection '' could be handled by the Java Runtime Environment / Java Compiler . Is this possible , or am I taking crazy pills ? Disclaimer : I have n't addressed compilation , which would rule out the usefulness of this solution ( if I compile with Java7 , I ca n't add -parameters to the compiled classes ) ."
"I hope some one can help me , this is what I want to do.I have a JTextPane and I want to take a screenshot to that specific JTextPane coordinates and size , so far I can do a screenshot with the size of the JTextPane but I ca n't get the specific coordinates my screenshots always gets the ( 0,0 ) coordinates.This is my method :"
"This is n't a major issue , but I do n't understand why this happens , so I figured I 'd post it here . This is my code : The code runs fine except for one thing . The error message Make sure to enter a number . sometimes displays after the menu , sometimes before , sometimes in the middle of the menu . This is the output of the program : I am using Eclipse if it matters . I know it 's not a big problem , but I 'm curious why this happens ."
"I have code that extracts some specific large ( about 15k entries ) binary serialized file archive to folder on disk.extractExact function calls for every entry in archive.after this , if I try to call Files.delete ( < archive_file_path > ) method - I will get an exception : java.nio.file.FileSystemException : The process can not access the file because it is being used by another process.I checked my archive file in Process Explorer search and it says that I have ~15k file openings by my java.exe ( as many as the files in the archive ) this happens only in windows ( jdk1.8.0_162 ) . On Linux I do n't have any problems with `` zombie '' opened files ."
"I have two ArrayLists ( list1 & list2 ) . I would like to see if any 1 ( or more ) of the objects in list2 ( which are strings ) occur in list1.So , for some examples : However , the method containsAll ( ) does not work in this use case , as 1234 does not occur in list1 , and will result in a result of false , also contains ( ) does not work.Besides writing my own implementation ( comparing all of the values individually from list2 to list1 ) , is there a similar method to contains ( ) , where a list of strings can be passed in , and compare that to another list , and return true if one or more values are contained in that list ? More Examples :"
I 've got something along the lines of the following : How do I modify that so that I can do the following instead ?
Just curious about the directory layout for the JDK . So there are two separate java.exe files - one is in : and one is in : Why does there need to be two files ? The motivation for this question arises from some challenge I 'm having installing a program ( SQL Developer ) .
"I 'm new to generics , so not sure where I 'm going wrong ... I have classes , called Cat , Dog and Rabbit , which implement the interface Animal.The following code will compileBut the following code will notThe compiler says the types are incompatible . Where am I going wrong ? UPDATEThanks for everyone 's helpI 've changed the first line of code by adding another wildcardThe following code will compileSee also the solution given by Cyrille Ka below - use putAll ( ) to transfer values from dogMap to animalMap , instead of assigning dogMap to animalMap ."
"We have this code in many places where we swap integers if one value is higher than the other . Is there a way to re-factor this code , so it can be re-used ?"
"We are looking to migrate from Maven to Gradle , and have worked through most of the challenges you would expect for replacing the parent POM concept . There is one sticky point that we have n't figured out yet . We need to specify the version of Spring Boot we are using globally , but I run into invalid build file problems with both of the solutions I 've tried : I tried putting the plugins { id 'org.springframework.boot ' version ' 2.1.17.RELEASE ' } declaration in the common build script . Build error , `` Only Project and Settings build scripts can contain plugins { } blocks . `` I tried calling the common build file to specify the springBootVersion parameter and using that in the plugins declaration . Build Error , `` only buildscript { } and other plugins { } script blocks are allowed before plugins { } blocks , no other statements are allowed '' All of this would be easier if I could simply apply plugin : 'org.springframework.boot ' but then Gradle ca n't find the plugin . All but one microservice are on a single version of Spring Boot , and we want to be able to upgrade globally if possible.Additional InformationI have ~40 microservices plus some libraries used by those servicesSeparate repository for each of them , so the normal parent/child approach does not workMaven parent POMs allowed you to publish that POM as it 's own resource , and there is no 1:1 equivalent feature in GradleGradle pluginManagement concept also does n't work for us because it resolves the Spring Boot plugin but the dependency management plugin now ca n't be found.My common build script is included here : And that is called by our project build script that I want to parameterize :"
"Let 's say you have a Client and a Server that wants to share/synchronize the same Models/Objects . The models point to each other , and you want them to keep pointing at the same object after being sent/serialized between the client and the server . My current solution roughly looks like this : But i 'm not too satisfied with this solution , fields being integer and stuff . This should also be a pretty common problem . So what I 'm looking for here is a name for this problem , a pattern , common solution or a library/framework ."
"I have a BigDecimal amount that I want to cast to Long if it is not null , but I got a java.lang.NullPointerException exception doing :"
First I declare a class : Now I execute the expression in REPL : and it outputsBut why does n't the method *** go first ? Is n't the priority of *** higher than +++ ? And how about Java and C ? Is it the same as in Scala ?
Sample testThe strange result : Why this differs ?
"I have a little issue with my Collision Detection System for a Game.In the game are several structures which connect to each other . However they should not connect when there is another structure in between them.For some weird reason it sometimes fails to connect to directly adjacent structures when there is a structure in a direct line behind them . Rarely it produces other weird connections.Picture : The red marked nodes are supposed to be connected.Code : ( I added the comments for this text only , so please ignore them if they 'd cause compile errors ) .Can someone tell me what I am doing wrong ?"
A Sample can be deleted if status is S or P. I have this tests : Should I go further ? How should I test when the sample ca n't be deleted ? For example : Is this test useful ? What about the test naming ? Would be this logic tested enough ?
"I have added a chart in AnchorPane , and I want to get the bounds of its plot ( chart-plot , I have marked it with cyan color ) , so that I could add some texts on top of it , but I should know its exact bounds according to its ancestor ( s ) . If I do it manually , I may fail when the paddings ' size of the nodes will be changed when resizing etc.So the question is how to get bounds of a node or chart-plot in my case according to its ancestor no matter how many are there ?"
"I have two questions : Question 1 : Is this in O ( n ) ? Does it matter how many loops ( not nested loops ) are in method1 ? Question 2 : What if there is ainside the method1 , what function is it ?"
"There is the question on whether java methods should return Collections or Streams , in which Brian Goetz answers that even for finite sequences , Streams should usually be preferred.But it seems to me that currently many operations on Streams that come from other places can not be safely performed , and defensive code guards are not possible because Streams do not reveal if they are infinite or unordered.If parallel was a problem to the operations I want to perform on a Stream ( ) , I can call isParallel ( ) to check or sequential to make sure computation is in parallel ( if i remember to ) .But if orderedness or finity ( sizedness ) was relevant to the safety of my program , I can not write safeguards.Assuming I consume a library implementing this fictitious interface : Then what operations can I safely call on this stream to write a correct algorithm ? It seems if I maybe want to do write the elements to a file as a side-effect , I need to be concerned about the stream being parallel : And also if it is parallel , based on what Threadpool is it parallel ? If I want to sort the stream ( or other non-short-circuit operations ) , I somehow need to be cautious about it being infinite : I can impose a limit before sorting , but which magic number should that be , if I expect a finite stream of unknown size ? Finally maybe I want to compute in parallel to save time and then collect the result : But if the stream is not ordered ( in that version of the library ) , then the result might become mangled due to the parallel processing . But how can I guard against this , other than not using parallel ( which defeats the performance purpose ) ? Collections are explicit about being finite or infinite , about having an order or not , and they do not carry the processing mode or threadpools with them . Those seem like valuable properties for APIs.Additionally , Streams may sometimes need to be closed , but most commonly not . If I consume a stream from a method ( of from a method parameter ) , should I generally call close ? Also , streams might already have been consumed , and it would be good to be able to handle that case gracefully , so it would be good to check if the stream has already been consumed ; I would wish for some code snippet that can be used to validate assumptions about a stream before processing it , like >"
I am often in a situation where I have a method where something can go wrong but an exception would not be right to use because it is not exceptional.For example : I am designing a monopoly game . The class Bank has a method buyHouse and a field which counts the number of houses left ( there is 32 houses in monopoly ) . Something that could go wrong is a player buying a house when there is 0 left . How should I handle this . Here is 3 approaches I can come up with.What would you do ?
"I have a problem about Java Swing and JPanel . I could say that I am an unexperienced Java programmer , but not entirely new to programming.My problem is that I have an class called RandomParticle , which I want to move on the screen ( in a JFrame of course ) . The particle is a default object just to get up the graphics . However , it is said on many places , for example here , that to be able to draw the circle it has to override the method paintComponent in the JPanel . It does indeed feel reasonable that , to draw something in a JFrame it has to be a JPanel . However this may cause trouble since Java does not support multiple inheritance.In this case I do not really need RandomParticle to be a child of ellipse2D , but as my classes gets more complicated I will most likely need to inherent from some other class at some point . However , I felt this level of the question has a good dept for SO , since it does not require any specific knowledge of my program . So what I wonder is : Is it possible to draw a circle without the class being a child to JPanel ?"
"My app contains a few textViews which are supposed to be scrolling horizontally . This works when my layout is first loaded but after clicking on a button to load another layout and then re-click on that button to load back the first layout those textViews start scrolling after a `` big '' delay ( like 20 secs+ ) . I 'm trying to figure out the source of this problem with the Layout Inspector , Hierarchy Viewer etc . but no luck.UPDATE : I noticed something strange today.When i go from the 1st layout to the 2nd one and vice versa , although the TextViews stop scrolling , if i close and re-open the phone 's screen , the scrolling works like a charm . This seems totally strange to me , do you know what 's causing this and why ? CardViewActivity.java : firstLayout.xml : SecondLayout.xml :"
"Are there any disadvantages in using Java 6 wildcards in my classpath ? e.g.I can see that where there are two jars that both contain a class with the same path then using a wildcard may lead to results that are hard to track down.But other than that , is there anything else to be aware of ?"
"I created an image gallery app . My requirment : I want to select multiple images , click on button cut and come back to activity which displays all folders ( ImageGallery.java ) . Now , I want to select a folder and paste all the selected images in that folder , on selecting the folder.What is happening ? I am able to select images using my app and come back to activity which displays all folders but not able to move them using my app.I put the code for moving images in a background thread using task . I select images from one folder , come back to the activity which displays all the folders ( ImageGallery.java ) and select the folder to which the images are to be moved . But when I try to move images , selected images do not move to other folder being selected , on selecting a folder . I guess the code inside AsyncTask is n't even getting executed . How do I fix it ? PhotosActivity.java ( Activity used to select images ) : ImageGallery.java :"
"null is a reference and it is of null type only , i.e . null is not object type.But , when I run the following code snippet I was surprised when I pass null to method method ( null ) ; it calls method ( String s ) not method ( Object o ) .If null is itself a type defined by Java and not object type , then why does it call method ( String s ) not method ( Object o ) ? EditI have added one more method : Now the compiler gives the error The method method ( Object ) is ambiguous for the type Test.If it is legal , then why do I see a compile-time exception ?"
"I 'm trying to replicate this in Java . To save you the click , it says that a character array [ ' F ' , ' R ' , ' A ' , ' N ' , ' K ' , NULL , ' k ' , ' e ' , ' f ' , ' w ' ] , when converted to a null-terminated string , will stop after ' K ' , since it encounters a null pointer there . However , my Java attempts do n't seem to be working.Still prints ac . Aside from this I 've also tried ( 1 ) not initializing broken [ 1 ] and ( 2 ) explicitly setting it to null , at attempt which did n't even compile.Is this possible at all in Java ? Or maybe my understanding of things is wrong ?"
"I can only find stuff about the inverse ; using Clojure to implement Java interfaces . However , I want to write a programme in Clojure and allow one to extend it with Java . For example : Also , how would I specify parameter types so I don ’ t have to use Object everywhere ? The only option I currently see is using dot-notation and relying on duck typing but I prefer compile-time verification of interface implementation on the Java side ."
"Given this inputI need the 3rd column particularly from the file and find which is the last D1 for the group G1 and similarly last D2 for particular G2 . After finding the last value , I need something to be appended in the corresponding line like `` LL '' : I have tried it , but the line is getting appended parallel to each D1 not only to the last D1.This is my code : I tried using list , but `` LL '' is getting appended to the end of G2 ."
"I would like to migrate my java program from JDK8 to JDK11.I resolved build errors caused by APIs removed in JDK11.But , I got JNI related problem.To explain about the problem , let 's assume that we have the following java file.As you can see , it has only one int variable , and no method is defined.When I generate JNI header file with JDK8 , I do the following steps.1 ) Compile2 ) generating headerThen , it generates a header file ( mypkg_JNITest.h ) like below : As you know , JDK11 does not support javah any more.We have to use 'javac -h ' instead of it.So , I compiled the java file like below.It compiled well , but no jni file generated.To test if it generate jni file when it has a native method , I tried with the following java file.Then , it successfully generated a JNI file like below.Final Question : Is there a way to generate a JNI file with javac of JDK11 for a java file which just defines a 'static final int ' variable ?"
Is this bad practice ?
"This is a continuation of this question.I am trying to cover chart plot with an AnchorPane , i called it buffer . Here is a code example.Everything works fine until I resize the stage . When I resize the AnchorPane ( buffer ) is not covering a chart plot properly . i.e . it is not fitting the size . How to fix it or do it in proper way ?"
"I am currently working on a Spring Data Neo4j 5.0.3 REST API application that interfaces with a Neo4j 3.3.1 causal cluster consisting of 3 core nodes ( 1 leader and 2 followers ) . For better or for worse , we are also submitting a lot of custom cypher queries to the database using session.query a la SQL prepared statements . When we do this , we notice that virtually none of our custom Cypher submitted via session.query gets sent to any of the read-only followers.I 've cracked into the code and noticed that within Neo4jSession , the query method always creates a transaction with type READ_WRITE . Is there any way to get around this so that our queries get distributed across our cluster correctly ? I have also tried marking the appropriate methods with @ Transactional ( readOnly = true ) but it does n't seem to work . When I did into Neo4jTransactionManager , I see the following around line 218 : What does that second condition , isNewSessionHolder , in the first branch mean ? Within the context of a single HTTP API call , we call out to the database at least 2 times , so by the second query , I believe this condition always returns false.Given these observations , are there any easy ways forward for making my queries be respected as read-only ?"
"I 'm aware that Thread.stop ( ) is deprecated , and for good reason : it is not , in general , safe . But that does n't mean that it is never safe ... as far as I can see , it is safe in the context in which I want to use it ; and , as far as I can see , I have no other option.The context is a third-party plug-in for a two-player strategy game : chess will do as the working example . The third-party code needs to be given a current board state , and ( say ) 10 seconds to decide on its move . It can return its move and terminate within the allowable time , or it can , whenever it wants to , signal its current preferred move ; if the time limit expires , it should be stopped in its tracks , and its most recent preferred move should be played.Writing the plug-in to stop gracefully on request is not an option : I need to be able to take arbitrary untrusted third-party plug-ins . So I have to have some way of forcibly terminating it.Here 's what I 'm doing to lock it down : The classes for the plug-in get put into their own thread , into their own thread group.They are loaded with a class loader that has a highly restrictive SecurityManager in place : all the classes can do is number crunching.The classes do n't get a reference to any other threads , so they ca n't use Thread.join ( ) on anything they have n't created.The plug-in gets only two references to objects from the host system . One is the state of the chess board ; this is a deep copy , and is thrown away afterwards , so it does n't matter if it gets into an inconsistent state . The other is a simple object that allows the plug-in to set its current preferred move.I 'm checking when CPU time has exceeded the limit , and I 'm periodically checking that at least one thread of the plug-in is doing something ( so that it ca n't sleep indefinitely and avoid CPU time ever hitting the limit ) .The preferred move does n't have enough state to be inconsistent , but in any case it is carefully and defensively cloned after it is returned , and the one that was returned is discarded . By this point , there is nothing left in the host system to which the plug-in had a reference : no threads , no object instances.In consequence , it seems , the plug-in ca n't leave anything in an inconsistent state ( except for any objects it might create , which will then be discarded ) ; and it ca n't affect any other threads ( except for any threads it spawns , which will be in the same ThreadGroup , and so will also be killed off ) .It looks to me as though the reasons that Thread.stop ( ) is deprecated do n't apply here ( by design ) . Have I missed anything ? Is there still danger here ? Or have I isolated things carefully enough that there ca n't be a problem ? And is there a better way ? The only alternative , I think , is to start up a whole new JVM to run the untrusted code , and forcibly kill the process when it 's no longer wanted , but that has a thousand other problems ( expensive , fragile , OS-dependent ) .Please note : I 'm not interested in answers along the lines of `` Ooh , it 's deprecated for a reason , you want to watch it , mate . '' I know it 's deprecated for a reason , and I completely understand why it is not safe to be let out of the cage in general . What I am asking is whether there is a specific reason for thinking that it is unsafe in this context.For what it 's worth , here is the ( abridged ) relevant bit of the code :"
"and both output same result 0.8999999999999999 , but outputs 0.9.Perhaps by default Java performs calculations in double , then why does downcasting corrects result ? And if 1.1 is converted to 1.100000000000001 in double then why does System.out.println ( ( double ) ( 1.10 ) ) outputs 1.1 only.EDIT : To get why this happens we need to understand both answers . First the canonical representation is actually different at lower level . Next how the return value of toString is changed/rounded off/matched with the nearest double of argument ."
The following line of code is accepted by the compiler ( sun-jdk-8u51 ) without any warnings or errors : Whereas the next two code lines lead to a compilation error ( incompatible types : possible lossy conversion from int to short ) : Why is the compiler not able to perform the same narrowing conversion of the primitive integer 1 in the second case ?
I wanted to print 100 as output in the below program.I am getting 0 as answer .
"Consider the following JAVA model for hibernate : and the following model for API serialization ( using spring boot rest controller ) : What i want is to : Have some filtering applied at the Person ( statically defined ) Have some filtering applied at the PersonVO ( get from @ RequestParam ) In C # .NET i could make like : What i got in Java is : I want to have separated the `` projection to the VO model '' from the `` where expression '' applied to it , but have it indirectly applied if used a projected column ( like fullName ) .Is this possible in Java ? Using what ? Criteria ? Querydsl ? Stream ? ( do n't get necessarily stick to the java sample )"
If I placed 00 or 0 before digits values in array output become different.Output is :011091621
"I am running in to a lot of boilerplate code when creating language files for the application I am making . I currently have a class with all the language strings in it and then I use reflection to write these strings to the file.What I run into quite often is that I have certain placeholders in my strings that I want to replace , for an example I might have a String like this : public static String USER_INFO = `` Username : % name % money : % balance % '' ; What I would like to achieve is to generate a few methods based on Annotations like I can generate getters/setters and other methods with lombok . Based on the above string I would have an annotation called Arguments ( Properly should have been named Replacers or something more meaningfull ) like seen here : What I would like to do is to add the annotation like this : and get the following replacement methods auto generated : After doing some searching I ended up trying to implement AbstractProcessor in a class like this : But I ca n't seem to get it to register it ? So my first question is , is AbstractProcessor the way to go if I want to achieve this ? If not how then ? if yes , then why is this not registering ? I am using IntelliJ and went into settings - > build- > compiler and changed Annotation Processors to enabled and set the processor path to my SuggestProcessor"
"This was actually an interview question . I had to print the following using Java : During the interview , I wrote an embarrassing piece of code , but it worked nonetheless - using an outer loop , two inner loops ( one for the decrementing sequence and one for the incrementing sequence ! ) and a ton of variables . One of the variables was the length of each row.The interviewer asked me to try and rewrite it usingjust one outer and one inner loopwithout the row length variable.Note : After looking at the answers , I think the interviewer did n't really mean the second condition . He might have just wanted me to simplify my code and the second point just bumbled out of his mouth.So , later back home , I arrived at this : Here , I am using just one inner loop . I 'm using a delta value to determine whether increment or decrement happens . For each row , I compare the current index to the midpoint of the row and change the delta.I satisfied the first condition - just one inner loop . But I am not able to do it without using the row length.How can we print this without finding out the row length ? Many answers were acceptable , But I had to choose one , and picked the one that was simplest to understand for me ."
"I was excepting the value of i : 20 , but it is giving me the value 0 , Why I am getting value 0 in java 1.7 version ?"
"I want to create a list ( or collection in general ) by calling a method x times . In Python it would be something like this.I tried to code something similar in JDK 8.It works , but somehow it does n't feel allright . Is there a more proper way of doing it ?"
Is either option 1 or option 2 below correct ( e.g . one preferred over the other ) or are they equivalent ? Option 1or Option 2
"I want to create a List < String > with the numerical values from 72-129 and 132-200 . I thought about using an IntStream and mapping the values to strings and collecting to a list . I used this code : However , if I debug the actual values of strings72to200 , I get this : I believe that the Stream.concat ( ) as well as the .map ( ) are causing this , as I do have a working piece of code like this : Note that this piece uses .mapToObj ( ) instead of .map ( ) . So the question is , how can I create a list with these values ( note the initial split ) via streams ( as this seems to be smoother than a loop ) ? Should I create the full list and remove the unwanted items afterwards ( unfeasible on bigger gaps ) ?"
"Is it acceptable to use method-chaining , when working with a service that is managed by a dependency injection framework ( say HK2 ) ? I 'm unsure if it is allowed to `` cache '' the instance , even if its only within the scope of the injection.Example Service that creates a pizza : Here the service is injected into a JAX-RS resource :"
"I 'm letting the user import plugin-like classes from a remote location using URLClassLoader , so these imported classes do NOT exist in the build path ( however , they all implement an interface IPlugin which is included ) . I assumed one could simply use ObjectOutputStream to save all the loaded plugins to file , and later read these with ObjectInputStream . That does n't seem to be the case though , since all it saves is the state of the object , not the containing logic ( i.e . methods ) . What I 'd hope to do is to save the list of loaded plugins ( activePlugins ) with ObjectOutputStream : Then at another runtime , load/restore all these plugins with ObjectInputStream : But since the actual object classes are not available in the build path ( they are somewhere else on the harddrive ) , it goes haywire . What I 'm after is some way of loading objects without having the classes available , i.e . loading objects with states and without dependencies ."
"I have a string like a1wwa1xxa1yya1zz.I would like to get every groups starting with a1 until next a1 excluded . ( In my example , i would be : a1ww , a1xx , a1yyand a1zzIf I use : myGroup capture 1 group every two groups.So in my example , I can only capture a1ww and a1yy.Anyone have a great idea ?"
"What does redis.publish ( ) ; method do in the following module.redis.publish ( `` WordCountTopology '' , exclamatedWord.toString ( ) + `` | '' + Long.toString ( count ) ) ;"
"Assume class B inherits from class A . The following is legal Java : In terms of the specification , this means that List < A > assignsTo List < ? super B > . However , I am having trouble finding the part of the spec that says this is legal . In particular , I believe we should have the subtype relationbut section 4.10 of the Java 8 spec defines the subtype relation as the transitive closure of a direct supertype relation S > 1 T , and it defines the direct supertype relation in terms of a finite function which computes a set of supertypes of T. There is no bounded function which on input List < A > can produce List < ? super B > since there might be an arbitrary number of Bs that inherit from A , so the spec 's subtype definition seems to break down for super wildcards . Section 4.10.2 on `` Subtyping among class and interface types '' does mention wildcards , but it handles only the other direction where the wildcard appears in the potential subtype ( this direction fits into the computed direct supertype mechanism ) .Question : What part of the spec says that the above code is legal ? The motivation is for compiler code , so it 's not enough to understand why it is legal intuitively or come up with an algorithm that handles it . Since the general subtyping problem in Java is undecidable , I would like to handle exactly the same cases as the spec , and therefore want the part of the spec that handles this case ."
"I tried to deploy a web service with 2 ways SSL in java using the class ‘ javax.xml.ws.Endpoint ’ . My SSL setup is very restrictive . I have to set a specific set of options and settings . That ’ s a requirement I can not discuss.In order to setup SSL , I need to provide a Server Context object . After doing some search I end up using the class ‘ com.sun.net.httpserver.HttpsServer ’ ( and some others related classes also in package ‘ com.sun ’ ) . It works perfectly on a Windows JVM and on the HPUX JVM.However , I know ( I should say , I believe ) that classes from package ‘ com.sun ’ should not be used because they are not part of the standard runtime environment . Those classes could be moved/modified/removed without any prior notice and are JVM implementation dependant.My actual code is : Question 1 : Is the statement ‘ should not use classes in com.sun ’ valid ? For the reason I explained ? From my search ( e.g . What is inside com.sun package ? ) , I found out it seems to have a difference between package ‘ sun. ’ and ‘ com.sun. ’ . Still no definitive ( documented ) answer . Please , give reference for your answer.Question 2 : If I should not use the class ‘ com.sun.net.httpserver.HttpsServer ’ , what could/should I use ? NOTE : I do n't want to use a container ( like Tomcat , Jetty , ... ) . I wo n't explain the reason . That 's off topic ."
"I try to understand final fields semantic.Lets research code : I have some questions : Does jmm guarantee , that if application terminates then it output [ 1,2 ] ? Does jmm guarantee that instance.data not null after loop termination ? P.S . I do n't know how to make title correct , feel free to edit.AdditionalIs there visibility difference if we replace : withalso I want to know wjat will be if replace final with volatile in my example.Thus I want to get explanation about 4 new cases"
I got two examples : Example 1 : Compile all three classes . Remove A.class . Run main . No exception is thrown.Example 2 : Compile the classes . Remove D.class . Run main method . Why ? D is never referenced .
"This has got to be one of the strangest things I have ever observed . Consider the following Java program : I compiled it with javac StrangeError.java , copied it to my server running Windows Server 2012 R2 , and ran it with java StrangeError.Here 's where things start to get weird . The program hangs , waiting for the process it spawned to finish . This is not the expected behavior , since the vcvarsall.bat script should complete immediately as well as set.So I started playing around and discovered the following : Removing set causes vcvarsall.bat to terminateRemoving vcvarsall.bat causes set to terminateReplacing & & with || causes everything to terminate correctlyCopying vcvarsall.bat to a location on the desktop and changing the path causes everything to terminate correctlyA nearly equivalent program works fine in Go using the same commandsI get this output if I run everything in WinDbg and interrupt the process after it hangsThis does not appear to be reproducible with vcvarsall.bat from MSVC2013 but is also reproducible with MSVC2015 on Windows 10What on earth is wrong with the original program ? If I copy and paste the entire command ( cmd /c `` C : \ ... ) into Start- > Run , it immediately launches cmd and terminates , as expected.Is this a bug with Java ? Is this a bug with Windows ?"
"This is sort of a strange bug I discovered.But if I have a RecyclerView in a fragment and I open then close my DrawerLayout , my RecyclerView comes in focus . That means closing my DrawerLayout will cause the ScrollView to jump to my RecyclerView . Obviously , I would like the ScrollView 's position to not move when the DrawerLayout is closed , and definitely not settle on my RecyclerView.CODEThroughout my application , I have RecyclerViews contained within ScrollViews , similar to this setup : And my DrawerLayout 's XML design is arranged like this : I am not sure what other Java Code I need to include here but this is how I instantiate my RecyclerView : And For My DrawerLayout :"
"It 's looks like java.io.File . ( File , String ) is JDK version dependent.Code example was run on Windows 10.Code example : Could you please address is there any known issue or solution for the case"
"I am trying to use the Reddit API to save a post . I know I am formatting the request wrong , but I ca n't seem to find any documentation on how to do it correctly . If anyone could either lead me in the right direction , or help me format the request correctly . This is what I have so far.I am very very new to using APIs and I am not sure exactly what I am looking for . Here is the link to the reddit API for savinghttps : //www.reddit.com/dev/api/oauth # POST_api_saveThank you in advance for any help ! ! !"
"This is Android specific.I derive all of my Activities in Android from a custom class that provides a nice , clean place to put common code used by all layouts in the application , especially some common setContentView ( ) override code that injects layouts into my layouts . So here is what a typical hierarchy looks like : For one of my apps , I needed Google Maps support . So I tried to turn MyBaseClass into a template/generic so that I could do something like : Which , of course , failed to compile because Java templates/generics are not nearly as useful as C++ templates as I discovered shortly after the attempt . So I ended up creating a whole separate class as a temporary workaround : And copied all the code from MyBaseClass into MyBaseMapClass . The code is identical except for a few minor changes involving imports . It works , but it is hardly a good solution.I crossed my fingers that the above would be the end of the problem and I would never have to revisit it again.Unfortunately , I 'm starting to experiment with a fragment and activity mix with a much more complex base class and the problem of code duplication with the above is getting to be a serious issue . Any time I make a change in one file , I have to remember to clone it to the other files and development is moving fast enough that I 'm quickly getting out of sync.Activity , MapActivity , FragmentActivity , ListActivity , PreferenceActivity , etc . Do I need to make a separate derived class for each and every one of those that I wish to use ? I hope not and , for this reason , I 've already limited my derivations to begin with ( some of my activities do n't have certain features as a result ) . The problem is further exasperated by the fact I sometimes use two separate base classes ( where some activities need to inflate even more views into the layout but not all activities need to do so ) : If I want to use the code for AnotherBaseClass in Maps , I not only have to create MyBaseMapClass , but also AnotherBaseMapClass and copy the code . I 'm up to four classes at this point where two of the classes are a couple thousand lines of cloned code . Replicated code bothers me because it makes maintenance and development that much harder to do.Deriving Android classes introduces complexities such as findViewById ( ) being a part of the Activity base class . That 's important because I 'm not sure how I would write an interface or composite without running into the same problems I just described.Anyone here encountered this issue and come up with a workable solution ?"
"Just like in title . Is it okay to make something like this : Or maybe there 's better container that allow adding values at any index ? When saying `` better '' I mean `` having better performance '' , and then `` having less RAM usage '' .A want to do something like in this code above , but this of course does n't work with ArrayList . The list that I want to make is sparse ; the indexes are spread - that 's why I was thinking about HashMap and not ArrayList.Regards ."
"I ca n't seem to get my date with variable whitespace to parse . This is the format I have to acceptI can get the top to pass if I change my formatter to the below , but it will break with a 2 digit number"
"How do I take a String [ ] , and make a copy of that String [ ] , but without the first String ? Example : If i have this ... How would I make a new string that 's like the string collection colors , but without red in it ?"
"I find the generics whose generics params extends itself ( here ) . I do n't understand that well.I suspect that it is wrong at the beginning , but no one put forward . I have some questions about this : How to use the Variant generics , can you give me a example ? What the benefit or effect of this generics style.here is the generics style code which is picked from ( here ) . Thanks！"
"I am working with some java code , that has the following statement : I have searched the regex syntax and ca n't find a rule that uses \\p { all } . So what 's the meaning of this expression ?"
I am calculating used memory with the following ColdFusion code.Then in a loop I do the following to calculate the used memory.This tells me that almost 200 MB are used right from the beginning of my page . Is this how much is being used by the CF server or is this just some overhead from my page ?
I can not understand the two statements in the main method ( new my_class ( ) ; ) .I have never seen this statement except in object definition . I know that the new keyword allocates memory for an object and assigns a reference address but what is happening in this case is totally ambiguous ; allocate memory for what ? What does the new keyword do here ? Whatever this is by using this statement I can explicitly call the constructor from the main method . I could not find such a statement anywhere in a textbook or the internet .
I 'm working on getting Json objects from a service to a List View in Android ... the date format looks like this `` /Date ( 1354222800000+0300 ) / '' ... how can I change it to a readable format ?
"I have an if-then-else statement and I want to transform it to a ternary operator , but I do not know why I can not do it . The code is the following : And the code with the ternary operator is : The following errors are given by the IDE : Line 1 : The target type of this expression must be a functional interfaceLine 2 : Multiple markers at this lineLine 3 : Syntax error on tokens , delete these tokens.Is it possible to perform a ternary operator here or how can I solve it ? Thank you so much for your help !"
Consider this : And this : I am able to compile both - so I definitely did some basic checks here .
"The following code sometimes prints `` valueWrapper.isZero ( ) '' on my Windows-PC and a Mac , both running their JVM in server mode.Ok this happens because the value field is n't final in the ValueWrapper class , so its possible that some thread sees the stale value 0.But what about the following modification , here i used a local final variable : It looks like that now no thread sees a stale value of 0.But is this guaranteed by the JMM ? A brief look in the spec does n't convinced me ."
"My parent stage `` stage1 '' is opening child stage `` stage2 '' and i have set child stage 's modality as below . Now when i open stage2 from stage1 , stage1 is appears behind stage2 that is expected , but when i press `` Ctrl+Tab '' key , control switches to 3rd paty applicaton for example `` Outlook '' , then I again press `` Ctrl+Tab '' key , it returns to our main applicaton and it shows stage2 but stage1 appears hidden . My expectation is that stage1 should be hidden behind stage2.Any help is greatly appriciated ."
"I 'm no Java guy , so I ask myself what this means : Is Button a method ? I ask myself , because it takes an input parameter light . But if it was a method , why would it begin with a capital letter and has no return data type ? Here comes the full example : I know , this question is really trivial . However , I have nothing to do with Java and have n't found a description for the Button thing above . I 'm just interested ."
"I have an Object with a List of another object.It 's mapped like this : On the Image side , that 's the maaping : What happens is:1 . I create my Product object and save it on the database.2 . I update this product object by adding images to it later like this : This is what I get on my console everytime I add a new image to the product and save it : When I add the first image : When I add one more image : When I add the third image : My question is : Is deleting the whole list and adding all of it back to the database the correct behaviour ? I was expecting it do just add the new image , leaving the other images there . Instead if remove all images based on the productId and the add it all back again.I retrieve the product right before updating it.I retrieve the product , I add the new image to the list and I call the save method.Is that normal ? Is there a way to avoid this delete ? Thanks"
"As per my knowledge , final variables must/can be initialized only once otherwise compiler is supposed to throw an error.If the final instance variable x is not initialized an error is thrown but I faced no error when the local variable y is kept uninitialized in the following code :"
I came across simple java program with two for loops . The question was whether these for loops will take same time to execute or first will execute faster than second . Below is programs : After executing this I found that first for loop takes more time than second . But after swapping there location the result was same that is which ever for loop written first always takes more time than the other . I was quite surprised with result . Please anybody tell me how above program works .
"For my list view on tablets , I 'm trying to get my selected list item selection to keep its state when selected but unfortunately I 'm seeing some weird behaviour . For some reason whenever I scroll through the list to the point where the selected item is not visible and then scroll back to the point where the selected item IS visible , the background colour unexpectedly gets reused . I believe something needs to go in the getView method but I 'm not sure what to do with this method . What must be done in order to prevent the background colour from being reused ? Adapter classFragment classdata class"
"Why definition of overriding methods f1 ( ) and f3 ( ) in Derived class give no compile error , like definition of overriding f2 ( ) method in Derived class ( which gives compile error `` return type is incompatible with Base.f2 ( ) '' ) ? Subsignature override rule in JLS allows overriding method ( in Derived class ) to be non-generic , while overridden method ( in Base class ) is generic.Unchecked override rule allowes to make return type in subclass List < String > instead of List < T > in Base class.But I can not explain the difference in behaviour below , and I do not understand why f1 ( ) and f3 ( ) overriding definitions in Derived class compile successfully ( on Eclipse , SE8 ) , ignoring restrictions imposed by bounded type parameter for f3 ( ) and by bounded wildcard for f1 ( ) ! P.S . My guess - in f1 ( ) and f3 ( ) in Derived compiler treats both methods as returning just `` raw '' List - compiler makes erasure ( at this moment only in Derived ! ? ) first , and then compares these erased methods in Derived with unerased ( so far ) methods in Base . Now unchecked overriding rule is OK ( and no need to check bounds -it is simply impossible ) , compiler decides that this is correct overriding and compilation goes further ... and somewhere at the end of compilation generics in Base.f1 ( ) and Base.f3 ( ) also erased : ) ) ) This SO answer also adds ideas to this topic ."
"With Java , is there a way to make a custom class that can have the [ ] accessor used on it like an array ? Normal arrayCustom Class"
I am using criteria api to check If the user name exists or not . After that I am checking the password . But the user name is not case sensitive . I want to make it case sensitive.Any help will be appreciated .
"We are getting a mustache play error in production ( amazon linux EC2 AMI ) but not in development ( MACs ) and we have tried upgrading the jvm , using the jdk instead , and changing from a tomcat deploy model to match our development environments as much as possible but nothing is working . Please any help would be greatly appreciated . We have lots of shared code in java and javascript using mustache and it would be a big deal to rewrite everything if we had to ditch mustache on the java side.20:48:52,403 ERROR ~"
"I have this code : and in main class : If I run this code , I get this output : but if I uncomment the peek function , I get this output : My question is , can anybody tell me , why the keys order differs in the map regionNames when the peek function is in place ?"
"I 've searched everywhere trying to figure out what is the val $ editorkit or the $ sign below means , but no luck ... please help ..."
"I have always used to check for null likeWhen I compiled my code and looked into .class file after decompiling , I could see that my code got changed toI know in java null==obj and obj==nulldoes n't matter . But I 'm curious to know why compiler changed it ?"
"I was surprised to see that this program even compiles , but the result surprised me even more : The swap function is implemented in the library as : where the List is a mutable Java list , not an immutable Kotlin one . So I thought that other Java functions will work as well . For instance : works , but others , such as the fill function , does not even compile : produces the following error message : Type inference failed : fun fill ( p0 : MutableList ! , p1 : T ! ) : Unit can not be applied to ( List , Int ) Type mismatch : inferred type is List but MutableList ! was expectedThe List argument of the fill function however has different type bounds than reverse : so it seems that without the type bounds , the Java functions can do whatever they want.Can someone explain how is this possible ? Is this by design , or is it just a limitation of the interop ?"
2 objects will be created . str1 and str2 refer to same object because of String literal pool concept and str3 points to new object because using new operator and str4 points to the same object points by str1 and str2 because intern ( ) method checks into string pool for string having same value.One object will be eligible for GC . That is the object created through String str3=new String ( `` JAVA '' ) . The first String object is always accessible through reference stored in string literal pool.Is my explanation correct ?
In the following code it appears to be that functions fn1 & fn2 are applied to inRDD in sequential manner as I see in the Stages section of Spark Web UI . How is is different when streaming job is run this way . Are the below functions run in parallel on input Dstream ?
There is a problem on CodingBat called repeatSeparator . I know how to solve it but my solution and most solutions I find on the internet uses a loop . Is there a way to solve this problem without a loop ? A pseudocode of my need return ( word+rep ) *count ; which wo n't work but is there a way to achieve similiar result ? I 'd highly value any reply .
"I sometimes assume that if oldObject ! = newObject then the object has changed - which seems a fair assumption in most cases but is it truly a bad assumption ? In short , under what situation could the following code print `` Same ! `` ? I realise that this is indeed remotely possible because an object reference is essentially the memory address of the object ( or could be in some JVM ) . But how likely is it ? Are we talking decades of run-time before it actually happens ? AddedMy apologies - please assume that oldO is some form of weak reference that does not stop it from being collected . Perhaps it is Weak as the code ( now ) suggests or the reference is store in a database or a file somewhere ."
I want to get the following output : Hello Steve Andrews ! These are my variables : I tried this : I do n't know where to put .toUpper ( ) for steve . The s should be in uppercase . How do I do this ?
"I looked at the source code java.util.HashMap and saw the following code : ( Windows , java version `` 1.8.0_111 '' ) On my MacBook it looks like this : ( MacOs X Sierra , java version `` 1.8.0_121 '' ) Why do both variants declare a local variable ks ? Why is it not written like this : or"
"Is there a way to extract a common pattern in a list of strings in Java ? For example , if we have a list of values : Is there a way to deduce that we have 3digits , followed by '- ' , then a letter L and finally a numerical character ? I think it has something to do with common substrings or something like that but I have n't been able to find anything yet.Thank you ! EDIT : Obviously it wo n't be a perfect recognition , it 'll just return a recommendation based on the data.What I 'm trying to build is something close to this . In the video , when the user clicks on the column , there 's a recommendation to split the data on `` : '' ."
I want to reassign a variable within a for loop traversing over an ArrayList of Objects . But whatever I try it seems that nothing has any effect . Basically my code looks like this : What am I doing wrong ?
"I have a classAnd using Supplier in java 8 , I can store the constructor reference like But what if my constructor accepts parameter age likeNowdoes n't works , so what should be correct signature for the personSupplier ? Obviously I can do something like.But age must be different for each person , so it does n't solve my problem.May be I should use something else instead of Supplier ?"
Why does the condition key < x [ mid ] below cause the compiler to complain that the operator is undefined ? In C++ this would be a compile time warning only if the type T did n't support operator < semantics . How do you do the equivalent in Java ?
"Today while searching for a certain piece of code from google , I came across one Q/A blog , where its been said that we can declare a local variable inside a method of a class to be final . However , the author was reluctant enough to explain the need/ benefit of doing so.like I would seek java gurus ' help to educate me on this . Thanks in advance for your kind support and guidance.Best regards !"
"One of our application just suffered from some nasty deadlocks . I had quite a hard time recreating the problem because the deadlock ( or stacktrace ) did not show up immediately in my java application logs . To my surprise the marklogic java api retries failing requests ( e.g because of a deadlock ) . This might make sense , if your request is not a multi statement request , but otherwise i 'm not sure if it does.So lets stick with this deadlock problem . I created a simple code snippet in which i create a deadlock on purpose . The snippet creates a document test.xml and then tries to read and write from two different transactions , each on a new thread.This code will produce the following log : Neither t1 or t2 will get commited . MarkLogic logs confirm that there actually is a deadlock : This would not be a problem , if one of the requests would fail and throw an exception , but this is not the case . MarkLogic Java Api retries every request up to 120 seconds and one of the updates timeouts after like 120 seconds or so : What are possible ways to overcome this problem ? One way might be to set a maximum time to live for a transaction ( like 5 seconds ) , but this feels hacky and unreliable . Any other ideas ? Are there any other settings i should check out ? I 'm on MarkLogic 9.0-7.2 and using marklogic-client-api:4.0.3.Edit : One way to solve the deadlock would be by syncronizing the calling function , this is actually the way i solved it in my case ( see comments ) . But i think the underlying problem still exists . Having a deadlock in a multi statement transaction should not be hidden away in a 120 second timeout . I rather have a immediately failing request than a 120 second lock on one of my documents + 64 failing retries per thread ."
"Let me show you my code : Class FooMain method ( focus on getFooMultiMapCode ( ) method ) : Main prints correctly this string : I would like to rewrite getFooMultiMapCode method in a more succint way using for example java8 or also libraries such lambdaj , guava , etc but I do n't want to change method signature ."
"Consider : First question : I get an error saying `` b should be static '' . Why ca n't I use the default value ( 3 ) for b in this way ? Second question : In the first constructor , if I use the comment outed part , I do not get an error . Is it an acceptable usage ?"
"It is necessary to repeat the character , as many times as the number behind it . They are positive integer numbers . I already finish it in the following way : But I wonder is there some better solution with less and cleaner code ?"
"I have many JSP files with EL expressions of the form $ { foo.bar.baz.phleem1 } , $ { foo.bar.baz.phleem2 } etc . ( the first two or three segments are equal ) . To reduce EL lookups I am in the process of refactoring these pages : Source : After refactoring : I know I can do most of this with searching / replacing , but it feels unsafe as it ignores code structure.Is there any support for this type of refactoring in either Eclipse or IntelliJ Idea ?"
"Given some class SomeBaseClass , are these two method declarations equivalent ? and"
I run this code : when I run this line : I get this exception :
UpdateMy small showcase is stored on Bitbucket https : //bitbucket.org/solvapps/animationtestI have an Activity with a view in it . Contentview is set to this view.A MovieTask is an Asynctask and refreshes the view periodically.But invalidate ( ) does n't refresh the view.Can someone help ?
the output is : why use the `` isInstance '' is false and use `` == '' is true ? because the `` instance of '' ca n't judge implements relationship ?
"I want my program exceptions to be sent to each of the following , preferably simultaneously : the console which starts it ( not necessarily ) a guia txt file.How can I achieve this ? My attempts : System.setErr ( PrintStream err ) will forward all exceptions to a new stream . I am not able to state more thanone stream though.Calling System.setErr ( PrintStream err ) on a manually written OutputStream : `` You can write your own stream class that forwards to multiple streams and call System.setOut on an instance of that class '' – Jeffrey BosboomI found a way to do this . It is very nasty though . It `` collects '' PrintStream 's write-bytes , puts them in a puffer ( 500 ms timeout ) and finally shows it to the user ( Proceed ) : is this what I am expected to do ? Create new exception class which does it for me . Would probably work , but other exceptions than that ( IO , FileNotFound , ... ) will still be treated the old wayInstead of stating [ method name ] throws Exception I could enclose all of my code in try/catch-blocks , get the exception and forward it to a method of mine , like this : this would probably also work , but I 'd have to put everything into try/catch-blocks . This can not be good programming style at all.Using a logger : `` use log4j and set up a method to write to GUI and also to log to stdout , and file '' – Scary WombatLoggers only help me printing my exceptions into desired streams , but they do n't help me catching them , right ? But you really should use a logging package for this -- even java.util.logging can do what you need – Jeffrey BosboomI have to tell my logging package where and what to log . But this is exactly what I am searching for.I now can , as user3159253 suggested , use Thread.UncaughtExceptionHandler to catch unhandled exceptions specifically.What is the right way to handle all thrown exceptions the way I want them to ? What else do I have to consider apart from Thread.UncaughtExceptionHandler and System.setErr ( ) ( see above ) ?"
"I have 2 class : RecursiveFibonacci and MemorizedRecursiveFibonacci . This is what I have so far . RecursiveFibonacci Classand MemorizedRecursiveFibonacci ClassAs I see , there are some duplicated code in MemorizedRecursiveFibonacci Classand How can I keep it DRY ? remove duplicated code ?"
"I 've recently installed and tried to use Grakn.ai for visualization . Following the instructions on grakn.ai 's website , I ran into the following problem when trying to run : \grakn-dist-0.15.0 > .\bin\grakn.sh startin Windows 10 command prompt , 64 bit , the following lines are displayed before exiting : I have also attempted to add JAVA_HOME into System Variables , however this is to no avail . ( I noticed that JAVA_HOME did not exist when I initially looked for it and so I had to manually create the variable and set jdk path - perhaps this implies some issue ) Thank you very much for your time and I 'd be very grateful for any help ."
"I 've a question regarding encapsulation : Is it recommended to use encapsulation when a class has lots of data-fields ? Using the following class as an example : Would storing most of the data-fields in different classes , such as strength and constitution in a Stats class , be considered as a better design ?"
"I am trying a simple index creation on a jar file . However it fails with : On obvious work-around is simply : However it is ugly and error-prone . Is there any other way I can tell jar -i where to search for a different vtk.jar location ? I will need a portable solution which works on Windows/Linux/MacOSX.For information the manifest is set to : For information , if I change it to : It gives a slightly different error : For reference :"
"As discussed in Bounding generics with 'super ' keyword the Java type system is broken/incomplete when it comes to lower bounds on method generics . Since Optional is now part of the JDK , I 'm starting to use it more and the problems that Guava encountered with their Optional are starting to become a pain for me . I came up with a decent work around , but I 'm not sure its safe . First , let me setup the example : I would like to be able to declare a method like : So that both of the following work : As a workaround , I have a static utility method as follows : So my final question , is this as type-safe as the 'ideal ' code above ?"
"I have three classesThis example is taken from Eckel 's Thinking in Java . I ca n't understand why we ca n't call wi = new WithInner ( ) ; instead of .super ( ) ? And while calling wi.super ( ) we are calling Object 's default constructor , are n't we ?"
I am facing a weird behavior of java.util.Calendar . The problem is when I add a method call Calendar # getTime ( ) in between only than I get correct result but when I directly get the Dates of the week without calling Calendar # getTime ( ) it refers to the next week instead of current week . Please consider following code snippet : When I uncomment the line no 14 I get following output : But when I comment that line and execute the code I get following output . Note that in both the cases month and year fields are proper but the start date changed from 08-12-1991 to 15-12-1991 for me 08-12-1991 is correct.My Question : Why I am getting different dates of the week in the above two cases ? Why this kind of functionality is provided in Java ?
There is a function that I call once in a day : The function arguments keep on growing . Initially it was like : and now it has 5 more arguments . It is expected to contain more arguments in a week.Now I do not like this.Maintaining functions with so many arguments does n't seem to be a good thing to me . Is there any work around for this ? I will never want to send some 50 arguments to a function if it keeps growing . What the call does is email the details in the argument with a short message and a short subject .
"I have the following code . When I execute the program and print the value of `` this '' , in both super class constructor as well as in child class constructor , the value of this ( address location ) is displayed as childClassName @ someValue .. My question is , why dont I get the value of Test i.e , Test @ someVal ( Super class ) when I print value of `` this '' in the super class.. ASAIK , Super class will also have a place/location in memory , so , why am I not getting Test @ someValue in the first SOP ... PS : I know variables are referenced based on the reference type ( LHS ) and methods are called based on the object type ( RHS ) .."
"I am using google datastore to persist data as objects of a model class- 'zone ' . This model has been updated with more parameters recently . When I deployed the new code , get calls on the existing 'zone ' entities is resulting in an error . Existing zone entities do not have the newly added parameter ( Marked in the zone class ) .This is the code in the Dao -This is the code in service - This is model class - 'Zone'How can I resolve this ? Thanks in advance ."
"I Have a Spring rest controller which is calling an asynchronous method using Spring 's @ Async methodology and return immediately an http 202 code ( Accepted ) to the client . ( The asynchronous job is heavy and could lead to a timeout ) . So actually , at the end of the asynchronous task , i 'm sending an email to the client telling him the status of his request.Everything works just fine but I 'm asking myself what can I do if my server/jvm crashes or if it is shut down ? My client would receive a 202 code and will never receive a the status email.Is there a way to synchronize ( in real time ) a ThreadPoolTaskExecutor in a database or even in a file to let the server recover at startup without managing this on my own with complex rules and evolution status ? Here is my Executor configuration The controller that launch the async taskThe async method called : } Thx"
"This is the code I am talking about : Why not simply keep the last line as elements = Arrays.copyOf ( elements , 2 * size ) ; ? The only case where it might have been valid would be if the initial size of Stack was 0 . But in this case it is a constant - DEFAULT_INITIAL_CAPACITY ( a non zero value ) . And there is no other overloaded constructor which could take this value from user ( or default it to 0 )"
"I 'm trying to figure out why the setPitch in the PointPlacemarkAttributes does not seem to work correctly.I believe this JOGL code in PointPlacemark.java is where things are going wrong : Here is a simple driver I 've been using to play with it : If I set no pitch , it looks fine : But when I set a pitch of 45 degrees it looks like this : Which I 'm not understanding how it correlates to the value I set . I 'd expect it to work like the Compass does in the CompassLayer : UpdateComment suggested to iterate through pitch values to see how it works . I did that and I 'm still not seeing how it is supposed to work . It looks like it is just `` cropping '' the image horizontally , and not doing anything else . Here is some code : And a screen recorded GIF :"
How can I Use Collectors to collect in a ConcurrentHashMap instread of putting manually into ConcurrentHashMapHelp will be appreciated .
"I 'm trying to implement a mechanism that deletes cached files when the objects that hold them die , and decided to use PhantomReferences to get notified on garbage collection of an object . The problem is I keep experiencing weird behavior of the ReferenceQueue . When I change something in my code it suddenly does n't fetch objects anymore . So I tried to make this example for testing , and ran into the same problem : The output is : Needless to say , changing the sleep time , calling gc multiple times etc . did n't work.UPDATEAs suggested , I called Reference.enqueue ( ) of my reference , which solved the problem . The weird thing , is that I have some code that works perfectly ( just tested it ) , although it never calls enqueue . Is it possible that putting the Reference into a Map somehow magically enqueued the reference ? Some filtered output : 2013-08-05 22:35:01,932 DEBUG Save image to file : < > \AppData\Local\Temp\tmp7..0.PNG2013-08-05 22:35:03,379 DEBUG Deleting unused file : < > \AppData\Local\Temp\tmp7..0.PNG created at Mon Aug 05 22:35:02 IDT 2013"
"Context : I 'm trying to create an animation in java.The animation is simply take an image and make it appear from the darkest pixels to the lightest.The Problem : The internal algorithm defining the pixels transformations is not my issue.I 'm new to Java and Computing in general . I 've done a bit of research , and know that there are plenty of APIs that helps with image filters/transformations.My problem is performance , understanding it.To the implementation i 've created a method that do the following : Receives an BufferedImage.Get the WritableRaster of the BufferedImage.Using setSample and getSample , process and change pixel by pixel.Return the BufferedImage.After that , i use a Timer to call the method.The returned BufferedImage is attached to a JButton via setIcon after each call.With a 500x500 image my machine takes around 3ms to process each call . For standard 1080p images it takes around 30ms , wich is about 33 frames per second.My goal is to process/animate FullHD images at 30fps ... And i will not be able to with the path I 'm following . Not in most computers.What i 'm getting wrong ? How i can make it faster ? Using getDataBuffer or getPixels instead of getSample can improve it ? Thanks in advance ! And sorry my english.Partial Conclusions : Thanks to some help here . I 've changed concept . Instead of using getSample and setSample I 've stored the pixels ARGB informations of the BufferedImage into an array . So i process the array and copy it all at once into a Raster of another BufferedImage.The process time reduced from 30ms ( get/set sample ) to 1ms . ( measured poorly , but in the same machine , enviroment and code ) .Below is a little class i coded to implement it . The class can filter pixels only below a Brightness level , the other pixels become transparent ( alpha = 0 ) .Hope it help 's who search for the same solution in the future . Be wary that I 'm below rookie level in Java , so the code might be poorly organized/optimized ."
"I am still on a learning curve in Java . To understand a bit more of initializer blocks I created a small test class : When I create an instance , I get this log : This tells me , both initializer blocks run BEFORE the constructor , in the order they appear in the source code ( same as static initializers ) .What I want to know is : Do I have a little more control over this behavior ? Because Java Documentation says ( source ) : Initializer blocks for instance variables look just like static initializer blocks , but without the static keyword : The Java compiler copies initializer blocks into every constructor . Therefore , this approach can be used to share a block of code between multiple constructors.So what exactly does `` copies initializer blocks into every constructor '' mean ? According to my log , it seems , they are copied at the beginning of each constructor . Is this right ? Sharing such blocks between multiple constructors would also make perfectly sense , if they were copied to the END of each constructor ( that 's what I expected in my anonymous 2 ) .Is there a way to control those blocks a bit more or is my only option the `` classic '' way of writing a named method that gets called in every constructor if I want to do common tasks at the end of each constructor ?"
"We are trying to save many child in a short amount of time and hibernate keep giving OptimisticLockException.Here a simple exemple of that case : Where university_id can be null.The java object look like : It seem when we assign university and then save Student , if we do more than 4 in a short amount of time we will get the OptimisticLockException.It seem hibernate is creating update version on the University table even though the University did n't change at the db level.UPDATE : code that save the studentWe tried the following @ OptimisticLock ( excluded = true ) Does n't work , still give the optimistic lock exception . @ JoinColumn ( name = `` university_id '' , updatable=false ) only work on a update since we do n't save on the update @ JoinColumn ( name = `` university_id '' , insertable=false ) work but do n't save the relation and university_id is always nullChange the Cascade behaviour.The only one value that seem to made sense was Cascade.DETACH , but give a org.springframework.dao.InvalidDataAccessApiUsageException : org.hibernate.TransientPropertyValueException : object references an unsaved transient instance - save the transient instance before flushing.Other solution we though of but are not sure what to pickGive the client a 409 ( Conflict ) errorAfter the 409 the client must retry his post.for a object sent via the queue the queue will retry that entrylater.We do n't want our client to manage this errorRetry after a OptimisticLockExceptionIt 's not clean since when the entry come from the queue we already doing it but might be the best solution so far.Make the parent owner of the relationshipThis might be fine if there are not a big number of relation , but we have case that might go in the 100 even in the 1000 , whichwillmake the object to big to be sent on a queue or via a Rest call.Pessimistic LockOur whole db is currently in optimisticLockingand we managed to prevent these case of optimisticLocking so far , wedo n't want to change our whole locking strategy just because of thiscase . Maybe force pessimistic locking for that subset of the modelbut I have n't look if it can be done ."
I 'm running an UIMA application on apache spark . There are million of pages coming into batches to be processed by UIMA RUTA for calculation . But some time i 'm facing out of memory exception.It throws exception sometime as it successfully process 2000 pages but some time fail on 500 pages.Application LogUIMA RUTA SCRIPT
"Could someone validate my understanding of the memory fence established after a constructor executes . For example , suppose I have a class called Stock.Further , assume that the constructor is executed by Thread1 and then updateQty ( ) and updatePrice ( ) are called several time by Thread2 ( always by Thread2 ) . My contention is that after Thread1 creates the object , the object 's `` visibility '' is established with all the other threads in the jvm . And since the two mutable variables are only changed by Thread2 , I do n't need any locking . Am I correct ?"
I pasted some code about Java concurrency : Why does return value ; need to be synchronized ? ? ? Is the return statement not atomic ? ?
"First time posting thought I would try this community out . I have researched for hours and i just cant seem to find an example close enough to get ideas from . I dont care what language answers are in but would prefer java , c/c++ , or pseudocode . I am looking to find consecutive paths of length n in a grid.I found a recursive solution which i think was clean and always worked but the runtime was poor if number of paths is too large . I realize i could implement it iteratively but i want to find a recursive solution first . I dont care what language answers are in but would prefer java , c/c++.The problem is this-for a String [ ] and a int pathLength how many paths are there of that length . { `` ABC '' , `` CBZ '' , `` CZC '' , `` BZZ '' , `` ZAA '' } of length 3 This is the 3rd and 7th path from below.return 7 possible paths of length 3 ( A-B-C ) This was the original recursive solution This was very slow because each new letter could spin off 8 recursions so the complexity skyrockets.I decided to use memoization to improve performance . This is what i came up with . The issue is that my memoization never gets used really . The recursive calls kinda mimics a depth first search . ex-So saving a run will not overlap with another run in any performance saving way because it is searching in the bottom of the tree before going back down the call stack . So the question is ... how do i memoize this ? or once i get a full run how do i recurse back to the beginning of the tree so the memoization i wrote works.The test string that really kills the performance is { `` ABCDEFGHIJKLMNOPQRSTUVWXYZ '' , `` ABCDEFGHIJKLMNOPQRSTUVWXYZ '' , `` ABCDEFGHIJKLMNOPQRSTUVWXYZ '' } ; for all paths of length 26 ( Should return 1000000000 ) PS . As a first time poster any comments about general code improvements or bad coding habits would be appreciated . Additionally since i havent posted before let me know if this question was unclear or formatted poorly or too long etc ."
"In one module , I use spring-boot-starter-activemq:2.07.RELEASE which depends on activemq-broker:5.15.8 which depends on guava:18.0.In another module , I would like to use guava , so I have to use : If I use an higher version in my pom.xml this version will be also used by activemq-broker due to the nearest definition rule of the dependency mediation ( see Introduction to the Dependency Mechanism ) I do n't want to provide a different version of Guava than what is asked by activemq-broker . So in order to synchronize the versions , each time there is a Spring Boot upgrade , I need to check manually the versions in order to synchronize them.I use activemq-broker and guava as an example but my question is more general : How to automatically reuse a dependency version from one module into another ?"
The following code snippet returns 46059 on Java 6 and 48757 on Java 7 . Any ideas what might have changed ?
"I 'm trying to figure out the options that I have for the architecture of my API project.I would like to create an API using JAX-RS version 1.0 . This API consumes Remote EJBs ( EJB 3.0 ) from a bigger , old and complex application . I 'm using Java 6.So far , I can do this and works . But I 'm not satisfied with the solution . See my packages disposition . My concerns are described after the code : Example of the com.organization.api.v1.rs.UserV1RS : Example of the com.organization.api.v1.services.UserV1Service : Example of the com.organization.api.services.UserService : Some requirements of my project : The API have versions : v1 , v2 , etc.The different API versions of the same versioned Service can share code : UserV1Service and UserV2Service using UserService.The different API versions of different versioned Services can share code : UserV1Service and OrderV2Service using AnotherService.Each version have his own View Object ( UserV1VO and not UserVO ) .What botters me about the code above : This ServiceLocator class it not a good approach for me . This class use legacy code from an old library and I have a lot of questions about how this class works . The way to use the ServiceLocator is very strange for me too and this strategy is not good to mock the services for my unit tests . I would like to create a new ServiceLocator or use some dependency injection strategy ( or another better approach ) .The UserService class is not intended to be used by another `` external '' service , like OrderService . It 's only for the UserVxService . But in the future , maybe OrderService would like to use some code from UserService ... Even if I ignore the last problem , using the ServiceLocator I will need to do a lot of lookups among my code . The chance of create a cyclic dependency ( serviceOne lookup serviceTwo that lookup serviceThree that lookup serviceOne ) is very high.In this approach , the VOs , like UserV1VO , could be used in my unversioned services ( com.organization.api.services ) , but this can not happen . A good architecture do n't allow something that is not allowed . I have the idea to create a new project , like api-services and put the com.organization.api.services there to avoid this . Is this a good solution ? So ... ideas ?"
"( Merry Christmas btw ^^ ) Here is my problem ( in JAVA ) but it 's definitely an algorithmic problem and I do n't know how to solve it : / So here it is , with an example ( just for information , all my calculs are in Binary , so 1+1 = 0 ) let 's name variables : My goal with theses things , is to generate all the possible combinaison ( so 2^N elements ) and I want to generate them.By generate I mean exactly this : Here is what I already success to do , but it 's not complete and I do n't know how to generalize the calcul in order to work with any N ... Edit : About an example , let 's give this : So this is a simple example ( quite particularly values , if you want bigger , just ask : ) ) Even if the array at the end seems to be VERY HUGE : ) that 's exactly what I want to generate ( do n't care about memory , it will for sure be okay )"
"As per a literature I read , we have juicy fruits implementign the following interface : Using bounded type variables , following method would taks a bunch of fruits and squeeze them all : Now we need lower siblings as below to work too : So I would expect the method to look as follows : Instead I find the method signature to be as below : What explains this difference ?"
"I 'm trying to run a javafx sample on a raspaberry pi 3 in a embedded environment ( buildroot ) , i want to run it without X. when i run the command : i get the following error : I ran the hello_triangle and hello_dispmanx examples to test gpu accelaration and there where no problems.Do n't know why i 'm getting the Could not get EGL surface error , is there any way to debug this errorJava settings :"
"This is a question more about best practices/design patterns than regexps.In short I have 3 values : from , to and the value I want to change . From has to match one of several patterns : Whereas To has to be a decimal number . Depending on what value is given in From I have to check whether a value I want to change satisfies the From condition . For example the user inputs `` From : > 100.00 To : 150.00 '' means that every value greater than 100.00 should be changed.The regexp itself is n't a problem . The thing is if I match the whole From against one regexp and it passes I still need to check which option was inputted - this will generate at least 5 IFs in my code and every time I want to add another option I will need to add another IF - not cool . Same thing if I were to create 5 Patterns.Now I have a HashMap which holds a pattern as the key and a ValueMatcher as the value . When a user inputs a From value then I match it in a loop against every key in that map and if it matches then I use the corresponding ValueMatcher to actually check if the value that I want to change satisfies the `` From '' value.This aproach on the other hand requires me to have a HashMap with all the possibilities , a ValueMatcher interface and 5 implementations each with only 1 short `` matches '' methode . I think it sure is better than the IFs , but still looks like an exaggerated solution.Is there any other way to do it ? Or is this how I actually should do it ? I really regret that we ca n't hold methods in a HashMap/pass them as arguments because then I 'd only have 1 class with all the matching methodes and store them in a HashMap ."
"Quick disclaimer , I am very new to gRPC and RPC in general , so please have patienceI have two gRPC servers running on the same java application , Service A and Service B.Service A creates multiple clients of Service B which then synchronously makes calls to the various instances of Service BThe serverService A has a rpc call defined by the .proto file asthe server side implementation , The list of peers , clients are built up in previous rpc calls.The clientthe server side implementation , the client side implementation , When I run this application , and an RPC is made to Service A and the client connection is created that calls addPeer , an ambiguous exception is thrown , io.grpc.StatusRuntimeException : UNKNOWN which then causes the JVM to shut down . I have no idea how to fix this , or whether it is even possible to create an gRPC client connection within a gRPC serverfor all of my gRPC server implementations I 'm using blocking stubs. < grpc.version > 1.16.1 < /grpc.version > < java.version > 1.8 < /java.version > I 've pretty much hit a brick wall , so any information will be appreciated"
"I am using the Naga library to read data from a socket , which produces byte [ ] arrays which are received via a delegate function.My question is , how can I convert this byte array into specific data types , knowing the alignment ? For example , if the byte array contains the following data , in order : How can I extract those data types ( in little endian ) ?"
"This is kind of difficult to explain , but I 've looked everywhere , and I could n't find any good answer.I 've also seen Stack Overflow questions How can I refer to the class type a interface is implementing in Java ? and How do I return an instance of an object of the same type as the class passed in using Java 6 ? , but they could n't answer my question . There is an exception when I apply inheritance.There is an example , to make it easier to understand : Let 's say I have some interface called SelfMaker : And A have a Dog , which can procreate with another dogs . So the dog is a `` SelfMaker '' , like this : But then , I have a DomesticDog , who is a Dog , but it has a lovely family who named him . Like this : Now , I have some class that handles couples of things that are `` SelfMaker '' s , let 's call this class `` Couple '' . Like this : THE EXCEPTION : The exception comes when I want to create a couple of DomesticDogs . Like this : This will throw an exception on < DomesticDog > complaining : Bound mismatch : The type DomesticDog is not a valid substitute for the bounded parameter < T extends SelfMaker < T > > of the type Couple < T > I have already tried to change the generalised variable from class Couple to this : Couple < T extends SelfMaker < ? > > but the `` son '' wo n't be a DomesticDog ( and I want the `` son '' to be a DomesticDog ) . If I add some cast , then it will compile , but it will be less legible.So ... here is the question : Is there a way to achieve this without castings and generalizations ?"
"This is a nasty problem , and it might be that the design is just bad.Writing a set of simple charts components ( pie , bar & line charts ) and am choking on some generics stuff . In advance , I 'm sure there are many Java APIs for doing exactly what I 'm trying to do here ( charting/reports/etc . ) , however I 'm interested in this as a general generics problem ; the fact that it involves charts & reporting components is trivial.Every chart inherits from a generic abstract base class Chart : The reason why we have T extends ChartComponent is because every chart subclass will be comprised of 1+ so-called chart components ( bars , lines , pie wedges , etc . ) : Putting this design together : This way , PieChart is n't generic ( nor should it be ) and is always of type Chart < PieWedge > .I previously had the same setup for bar and line charts , which were defined as BarChart extends Chart < BarGroup > and LineChart extends Chart < Line > respectively ( since a bar chart consists of 1+ groups of bars , and a line chart consists of 1+ lines ) .Now I want to abstract Bar and Line charts out even further . Both of these charts are actually plotted against an ( x , y ) Cartesian graph with x- and y-axes ; this is as opposed to a pie chart which is not plotted against any such axes.Ideally , I wanted to create a new abstract class called CartesianChart which extended Chart , and then have BarChart and LineChart both extend CartesianChart . This new CartesianChart would introduce new properties ( xAxisLabel , gridTurnedOn , etc . ) that logically apply to bar/line charts but not pie charts.Furthermore , to restrict CartesianChart so that it could only have chartComponents of type BarGroup or Line ( and not PieWedge ) , I would like to create a new chart component type like CartesianComponent extends ChartComponent , and then have BarGroup/Line extend that . Doing so would prevent code like this from compiling : Since Line extends CartesianComponent , but PieWedge only extends ChartComponent . Thus , before getting to my problem we have the following inheritance hierarchy : The problem with this setup is that on both BarChart and LineChart it gives a compiler error complaining that CartesianChart is not generic . This makes complete sense , but I 'm not sure what I can do to fix it ! If I try to re-define CartesianChart : I get `` type mismatch '' compiler errors all through my bar/line chart code . In every instance of the error , it states that it is expecting arguments of type List < CartesianComponent > but instead found List < BarGroup > or List < Line > and that they are not suitable substitutes.Hopefully , this is a quick fix somewhere in the class definition of CartesianChart and/or CartesianComponent . Otherwise I may have to re-design the entire chart library . Either way , I 'm interested in any and all suggestions , except ones like `` Hey , why do n't you just try JFreeCharts or ... '' . Again , I 'm interested in the solution here as it related to solving a broad range of similar generics problems ; the fact that this involves reporting/charting is trivial.Thanks in advance for any and all help !"
Which one is more efficient to instantiate a list ? OR
"I am building a Java Swing gui and I am wondering what the best way of managing all my images would be . So far I have just been creating images from different classes whenever they are needed , by pointing out the path of each one , for example : There are 2 things I do n't like . First thing would be having all those paths . Second would be that I would prefer a more like `` central repository '' approach . Does anyone have a better practice to suggest , I was thinking maybe something like an ImageManager that loads all the images at the very start of a program . Can property files help somehow ( never used them ) with all those paths ? Thanks"
"Hey , im trying to wirte about 600000 Tokens into my MySQL Database Table . The Engine I 'm using is InnoDB . The update process is taking forever : ( . So my best guess is that I 'm totally missing something in my code and that what I 'm doing is just plain stupid.Perhaps someone has a spontaneous idea about what seems to eat my performance : Here is my code : Thanks a lot !"
Hello I want this code to non recursive how I can do it ? It generates all the combinations from specific numbers .
"To distinguish between an instance field and a local variable of the same name we can qualify access to the field with the prefix this . : I 'm trying to do the same thing in a static context by qualifying access with the class name : The compiler wants nothing to do with this code . I have several variables like this and for all of them it keeps yelling : `` can not assign a value to final variable '' . If I do n't assign to it , it complains `` variable not initialized '' instead . If I assign to the static field at the beginning and try to make the map unmodifiable afterwards , it complains `` variable might already have been assigned '' . It 's not happy with anything.Is this a flaw in the language , or a bug in the compiler ? What 's the best way to squash the compiler into doing as its told ?"
"An article on the Oracle Java Community sites gives as an example ( for a JPA Converter , but that 's not relevant , I guess ) the following method : What is the use of casting the String y to a String val ? Is there a valid reason to do this ? Original article : What 's New in JPA"
"I have a tree , represented as a list , It actually is a very large tree so what I would like to do is start the search if I ca n't find what I am looking for in say 100 ms save state , return , do some house keeping and then call search again and continue where I left off . Basically simulation I am working with is giving me a certain amount of time not enough to complete the search . I am looking for ideas/techniques on how to achive this ? ( in Clojure , Java )"
"I am using this library which I have installed locally as a module . I 'm able to access it via my main project , but I 'm not able to do the opposite . For example , access a variable in my main project from this library ... I tried adding this line in the library 's build.gradle : But I get this weird error : How can I fix this ? My project is in Java and my library is in Kotlin"
Probably a very noob questionI am new to java and am reading a third party api written in java ... I came across this declarationI am unable to understandWhy is this declaration like this ? What advantages does one get in declaring something like above and what are the alternatives to such declaration.Any advice/references would be greatly appreciated.THanks
"RandomAccess is a marker interface in Java used by List implementations to indicate they have fast random access to their elements . Since it is designed specifically for List implementations , why is not in the List hierarchy ? For example , consider the following method that requires a RandomAccess list as input and returns a random element : I must pass this method either an anonymous list or a list with declared type ArrayList < E > , a concrete class , rather than a list declared with some interface like List < E > . However , if RandomAccess was parameterized and extended List < E > , then my method could look like : and I could pass it a list with declared type RandomAccess < E > , which is an interface , rather than a concrete class . ArrayList < E > etc would just then implement RandomAccess < E > , rather than List < E > ."
"I have following Java code , However , output is false . Can anybody help me , why this is not giving True ?"
"This program gives 6 as output , but when I uncomment the line 9 , output is 5 . Why ? I think b.a should n't change , should remain 5 in main ."
Does not compile : Compiles OK :
"We use SWT browser in our java app to render HTML content . The problems arise when the environment has a very high resolution ( 4K ) . When the content has a such html : And the used java source is : On regular environments with 1920x1080 and resolution is 96 , the rendered content and the viewed content in the Internet Explorer are same ( We save the example text html as a file and open with IE ) On some laptops where we have a resolution more than 128 and 4K dimensions , the rendered content has the elements ( TEST div ) with 35px font size very small compared to IE.As we know SWT uses the underlying IE , but I think IE makes some post process operations to fine tune the content and fixes the element sizes depending on the screen properties ( resolution etc ) , which is not done when called from SWT.Any solution without modifying the html content ? System properties : OS : Windows 10 ( updated ) IE : 11Java 1.8.161 ( 32bits ) SWT : 4.3"
"I 've a problem to set button Visibility through another ActivityCode explanation : First , menu.xmlf2 button used for intent leveltwo.class but it still set to GONE , f2lock is ImageView for levellockedSecond , menu.javafollowing code to call levelone.java with a Resultso in levelone.java i put the code like thisthe code function is to send Result ( 2 ) to menu.class when level.class is finish ( ) ; the code above is to receive result ( 2 ) from levelone.class and do case 2 functionthe question is how to use and set SharedPreferences in case 2 ? so the f2 and f2lock visibility will savedbecause i have try the SharedPreferences code but nothing is happen , f2 button still GONE and f2lock imageview still VISIBLEi mean is like this : Like a game , when user have done level 1 so level 2 will unlockedbut in here i make button is VISIBLE when level 1 is done"
"I am having the following preudo-codewhere the entire code has , let 's say 500 lines with lots of logic inside for statements . The problem is refactoring this into a readable and maintainable code and as a best practice for similar situations . Here are the possible solutions I found so far.1 : Split into methodsConsidering we extract each for into its own method , to improve readability , we end up with method2 , method3 and method4 . Each method has its own parameters and dependencies , which is good , except for method4 . Method4 depends on list1 which means that list1 must be passed to methods 2 and 3 as well . From my opinion , this becomes unreadable . Any developer looking at method2 will realize there is no point for list1 inside it , so he has to look down the chain until method4 to actually realize the dependency - > inefficient . Then , what happens if list4 or item4 changes and no longer needs a dependency on list1 ? I have to remove list1 parameter for method4 ( which should be done , naturally ) but also for methods 2 and 3 ( out of the scope of change ) - > again inefficient . Another side effect is that , in case on lots of dependencies and multiple levels , the number of parameters passed down will quickly increase . Think what happens if list4 also depends on list11 , list12 and list13 , all created at the level of list1.2 : Keep a long single methodThe advantage is that every list and item can access every parent list and item , which makes the further changes a one-liner . If list4 no longer depends on list1 , just remove/replace the code , without changing anything else . Obviously , the problem is that the method is couple hundred lines , which we all know it 's not good.3 . Best of both worlds ? The idea is to split into methods only the inner logical part of each for . This way the main method will decrease and we gain readability and possibly maintainability . Leaving the for in the main method , we are still able to access each dependency as a one-liner . We end up with something like this : But there is another problem . How do you name those compute methods in order to be readable ? Let 's say that I have a local variable instanceA or type ClassA which I populate from item2 . Class A contains a property named LastItem4 which needs to keep , let 's say , last item4 in order of creation date or whatever . If I use compute to create the instanceA , then this compute is only partial . Because LastItem4 property needs to be populated on item4 level , in a different compute method . So how to I call these 2 compute methods to suggest what I am actually doing ? Tough answer , in my opinion.4 . # regionLeave a single long method but use regions . This is a feature strictly used in some programming languages and seems to me like a patch , not as a best practice , but maybe it 's just me.I would like to know how would you do this refactoring ? Be aware that it may be even more complex than that . The fact that is a service is a bit misleading , the idea is that i do n't really like using disposable objects as method parameters , because you do n't know the intent without reading the actual method code . But I was expecting this in comments since others may feel otherwise.For the sake of example , let 's assume that the service is a 3rd party one , without the possibility to change the way it works ."
"My question is related to the following code : Now , as I 've commented in the code , what I 'm trying to achieve is a faster execution of my program by executing the 'while ' loop only when iPrime = true . 50 % of numbers are divisible by 2 and so this once this has been established the calculations can stop.I 'm doing this project as part of a beginners 'example ' from a book , I actually am trying to calculate up to 1000000 as quickly as possible just for my own `` extra credit '' ... I read that the `` short circuit 'and ' operator '' & & only evaluates the second half of the statement if the first half is true , if it is false , the two are not evaluated against each other ( saving CPU ) And it will also exit the loop , which will save even more CPU ... But for some reason , it is not working correctly ! I 've put more System.out.println ( ) statements throughout , listing what 'iPrime ' is - and the output is stranget ... It switches iPrime on and off and evaluates every number , which I can not understand ."
"In the implementation details of HashMap , I can read : If I have constant hashCode and fine equals and my class does n't implement Comparable how exactly it will break the ties and how the tree will be constructed ? I mean - bucket will transform to a tree and will use System.identityHashCode to break a tie.Then I will try to call containsKey method with a different instance ( which will have the same hashCode and a.equals ( b ) == true ) it will have different identityHashCode so is it possible that tree will be traversed by the wrong node ( left instead right ) and it will not find a key ? Am I missing something or this is normal behavior ?"
"App running with JSF , Primefaces , eclipselink , not a small app , about 100 pages/bean all working perfectlyI got some troubles understanding how my @ ViewScoped page works , I got a select UI component , filled with a simple List < People > and a back-end selectedPeople in my beanSequence of use and problem is ( information taken from debugging ) : go to peoplePage.xhtml where the select element is , IDs of the list 's element are # 410 , # 411 , # 412 ( 3 peoples ) go to modif.xhtml , change the 3rd people ( remove a car , saved in DB ( check in DB ) ) come back to peoplePage.xhtml , list is OK , IDs in debug are # 650 , # 651 , # 652change the value ( from null ) of the selectUI to choose a people , and at the breakpoint , p appears to be the # 412 element , so the changes on its car 's list are not visible , it does not come from the listPpl ( because contains only valid elements and corresponds to DB ) , it 's kind of cachingI tried to disable ecpliselink cache as states EclipleLink cachechange eclipselink propertychange JPA properyuse @ Cacheable ( false ) No one had an effect , nor go to private navigation neither clear the browser cache and come back to the page , the p element is still the old one from first loadingI thought @ ViewScoped allows to open a page each time as if it was the first time , but seems not , ca n't figure where the element can be stored/cachedEdit I used a workaround for the moment but this is obviously o the best solution"
"I used to believe that any variable that is shared between two threads , can be cached thread-locally and should be declared as volatile . But that belief has been challenged recently by a teammate . We are trying to figure out whether volatile is required in the following case or not.Now my contention is that , it is possible that the Worker ( child ) thread could have cached the variable `` value '' of the Worker object within the thread and updated just it 's copy while setting the value to 1 . In such a case , main thread may not see the updated value.But my teammate believes that since the access to `` value '' is happening through an object ( worker ) , therefore for both the threads to see different values , it could only be possible if both the threads were maintaining separate copies of `` worker '' object itself ( which would further mean that creation of a thread involves creating a deep copy of all the shared objects ) .Now I know that that ca n't be true , for it would be highly inefficient for each thread to maintain wholly different copies of all shared objects . So hence , I am in serious doubt . Does doing a `` worker.value '' in the main thread reference a different memory location than doing a `` this.value '' in the child thread ? Will the child ( Worker ) thread cache `` value '' ? Regards ."
I found a quiz about Java 8 Stream API of peek method as belowThe output isI am confused how this stream works ? My expected result should be The peek ( ) method is an intermediate operation and it processes each element in Stream . Can anyone explain me this .
"The following algorithm is used to find a basin in matrix . The whole question is as follows : 2-D matrix is given where each cell represents height of cell . Water can flow from cell with higher height to lower one . A basin is when there is no cell with lower height in the neighbours ( left , right , up , down , diagonal ) . You have to find maximum size basin block.I have implemented the code . I am looking for timeComplexity . In my opinion time complexity is O ( n * m ) where n and m is the row and column of the matrix . Please verify ."
"I want to get response after post data but it fails . I want to create a login system , I have successfully submited data to php file , everything is working fine now I want to get response from same function but I 'm unable to know where the issue is . Here is the Java function : And here is php code : Please help me I have tried so far but could not achieve any results . Please help me how can I get response from php file after query execution ."
This is my first attempt : But when I try to compile this I get the following error : What I do n't understand is the world class has no relationship to the type variable but javac thinks it does . What am I doing wrong ?
Why is this not allowed in Java ? Why do we have to declare variable v in the for loop initialization ? I know it 's not a statement if I do it like that but why does n't Java allow the above ?
"I have the following Hibernate code which I believe should be working , but it throws an error : org.springframework.web.util.NestedServletException : Request processing failed ; nested exception is org.hibernate.exception.SQLGrammarException : ERROR : syntax error at or near `` . '' Position : 503The relevant code is the following : Where RepositoryLink is the following : I could probably get it working with some joins , but I thought it would be nicer if I could get the in syntax to work , why does n't it work like this ?"
"While I am trying to convert yaml string to Map I am getting key change.YAML File : -Java code : -output : -in above output false is replace with `` NO '' , but I need `` NO '' as it is.Expected output : -"
"I have got this doubt many times , but did n't figure it out the correct soltion . This time I want clear it off . I have situation likewhat are the trade offs between first way and second way ? which one is better in storing the result in a variable or calling the function two times ?"
"I want to compare two List and give point to listOneor listTwo depending on which value is greaterHere is my tested codeIt works , but its not outputting the expected answer expected output : 2 1 output am getting : 2 1 0 0"
"I am using IntelliJ for the Java Projects . As I am new to Java , I tried Ant as a build tool in my project.When I am using Junit 4.11 in my Ant build file , I am getting the following errors : And when I used Junit 4.8.2 , then all the tests ran successfully.Can anyone tell me please , what is this issue ? Thanks in advance ."
"It will return `` 10 '' .Now I just replace Return type Integer to StringBuilder and Output was changed.OutPut is `` abcaaa '' So , Anybody can explain me in detail. ? what are the differences . ?"
Part of the code : The last line returns null . The API documentation says : `` the eval method returns null if something went wrong '' . How do I find out what went wrong ?
"I have a weird ( to me anyway ) issue with Hibernate which I ca n't make any sense of.The code below is my attempt at modeling a ManyToOne relation with an attribute between the entities Case and Suggestion using an additional entity CaseToSuggestion with Case being my aggregate root : If I create new objects for the above entities , set the appropriate associations and then store them with the EntityManager everything works fine : Followed by entityManager.persist ( c ) ; If I want to add a new association to a Case that is already in the database I retrieve the Case and Suggestion entities I want to associate from the EntityManager and add them to a new CaseToSuggestion : Followed by entityManager.merge ( c ) ; The the CaseToSuggestion entity is stored in the database but for every entry I get a `` ghost entry '' with a new generated id and all fields null : Does anybody have an idea what might cause this ?"
I 'm trying to update a phonegap Android app from cordova 3.5.0 to cordova 5.1.1 because of security concerns.When I launch the app I get the following errors but I just ca n't understand where they come from.. Could you help me by suggesting where to investigate ?
"I 'm working on a utility for supporting context-dependent injection , i.e . what gets injected can now also depend on where it is injected . Logger injection is a common application of this technique.So far , I 've successfully implemented this for HK2 and Guice , and with some limitations for Dagger.To solve this for Spring , I 'm using a BeanFactoryPostProcessor that registers an AutowireCandidateResolver . However , to achieve the intended semantics , I need to know the type of the actual target object , which may be different from the type that declares the injection point . For example : Instances of SubClass need to be injected with a logger for SubClass , not with a logger for BaseClass.The DependencyDescriptor contains this information in the containingClass field , but unfortunately this information is not exposed via the API.Question 1 : Is there an architectural reason that this information is not exposed , or could a getter for this be added to the DependencyDescriptor API ? Question 2 : In the meantime , what is the best way to work around this limitation ? Accessing the internal field via the Reflection API is ugly and violates encapsulation . The other alternative is to inject the wrong ( i.e . Logger for BaseClass ) instance first and then later correct it with a BeanPostProcessor , but I would be manually redoing a lot of work ( i.e. , reprocessing pretty much the entire injection handling ) ."
"I need to find out the first outermost ( not nested ) brackets indexes.For exampleI can find it by lots of conditions , current code : Is there more clean way to do it ?"
"I have a doubt that why compilier is not showing any error since doit ( 4,5 ) is causing ambiguityWhen I ru the code , I get output as a ad not b why ?"
"I searched a looooot and Im not able to find the solution for my problem.Im using osgi , karaf and java 8.I have some modules , for example : WEBSERVICE-SOMETHINGinside this module lets say API , PERSISTENCE , ADAPTERpersistence and api starts fine , but adapter gives that error : the chains are in the adapter and the api.but what does that mean ? I can install it as feature and they will all start , but another bundle of mine will be put at GracePeriod and if i do DIAG on karaf it says : Take note that I have other webservice modules and some of them work fine , I checked the pom 's and they have same dependecies and same versionsthe datasource is fine as well and I already tried adding some features like hibernate.entityManager and it does not work ."
"The following code compiles ( and runs tests as expected ) in Eclipse : However , compiling with either javac ( JDK 7 ) directly or via Maven fails with the following error : To be honest , the complexity of enums + interfaces + type-parameters ( generics ) all at play at once threw me off as I was writing the code , but I thought I had finally gotten it right.The goal is to write calling code like this : For example , in Eclipse the following test compiles and passes : Any clues about which is `` correct , '' Eclipse or javac , are appreciated.Also appreciated is any advice about alternate ways to implement the idea : take a class as a method param that can be used in EnumSet.allOf ( ) and that also determines the type of Enum objects in the EnumSetBy the way , do n't bother critiquing the purpose of this method ; I 've reduced it down from more useful/meaningful code . I 'm not interested in discussing the merits of `` finding the first element from an enum type '' - that 's not the point of this question ."
"Take a look that the following code snippet : Suppose A 's constructor throws a runtime exception . At the marked line , am I always guaranteed to get a NullPointerException , or foo ( ) will get invoked on a half constructed instance ?"
"tl ; dr is there JavaDoc for ifs ? IntroI am writing an enterprise application for multiple customers . 99 % of the code base is shared , but every now and then there is a variant like this : I would now like to document all these variants for the users . It should be clear from the documentation what happens if I turn on eg . the module REPORTS . I believe this documentation should be written in the JavaDoc manner - meaning it should be as close as possible to the conditional code . It could look like this : Or this : Or perhaps this : The result would be basically a list of comments for each module.QuestionHow to gather all the documentation comments from the code ? I am considering several approaches : Source code extractionThis would require a parser to traverse the source code , find all such conditions and fetch pairs ( module , comment ) . It would , however , have to be hooked into the compiler to avoid problems with weird formatting ( newlines in the middle of a long line etc ) .Dynamic extractionWhenever user.hasModule ( ) is invoked during the runtime it logs its actual arguments , this log is then used to build the documentation . So for example during the beta-testing the documentation is gathered and then built into the final release . The downside is clear : if a certain part of the system is not accessed , it will not be documented.Bytecode extractionTo avoid the messy source code one can just reach for the compiled bytecode , analyze it with something like ASM and find all the places where user.hasModule ( ) is invoked . This is the version I like the most , but got stuckwith how to figure out what is the actual value on the top of the VM stack at the moment of calling invoke_static . There has to be a simpler way : ) SummaryIs there a tool for this ? Am I missing a simple way to do this ? Am I completely misguided in my attempts to document such conditions ? Thanks !"
"I am developing a space combat game in Java as part of an ongoing effort to learn the language . In a battle , I have k ships firing their guns at a fleet of n of their nefarious enemies . Depending on how many of their enemies get hit by how many of the shots , ( each ship fires one shot which hits one enemy ) , some will be damaged and some destroyed . I want to figure out how many enemies were hit once , how many were hit twice and so on , so that at the end I have a table that looks something like this , for 100 shots fired : Obviously , I can brute force this for small numbers of shots and enemies by randomly placing each shot on an enemy and then counting how many times each got shot at the end . This method , however , will be very impractical if I 've got three million intrepid heroes firing on a swarm of ten million enemies.Ideally , what I 'd like is a way to generate a distribution of how many enemies are likely to be hit by exactly some number of shots . I could then use a random number generator to pick a point on that distribution , and then repeat this process , increasing the number of hits each time , until approximately all shots are accounted for . Is there a general statistical distribution / way of estimating approximately how many enemies get hit by how many shots ? I 've been trying to work out something from the birthday problem to figure out the probability of how many birthdays are shared by exactly some number of people , but have not made any significant progress.I will be implementing this in Java.EDIT : I found a simplification of this that may be easier to solve : what 's the distribution of probabilities that n enemies are not hit at all ? I.e . whats the probability that zero are not hit , one is not hit , two are not hit , etc . It 's a similar problem , ( ok , the same problem but with a simplification ) , but seems like it might be easier to solve , and would let me generate the full distribution in a couple of iterations ."
"I have the follwing Java 9 module : With an exported type : And a non-exported type : The exported type uses the non-exported type as a method parameter type in a public method . I 'd have assumed that the compiler would reject such an inconsistent class configuration , as clients in other modules could not really invoke the foo ( ) method as they can not instantiate the parameter type.To my surprise , this module is compiled successfully by javac . I can see the special case of passing null , still I 'd consider such an API definition malformed and think it should not be supported , enforced by the compiler ideally.What 's the reasoning for not disallowing such case ?"
"I am trying to read a .txt file and use each sentence as a name for a team , and at the same time use that name to seek out another .txt file to get its content . All the .txt files are at the root of my assets folder . The first .txt file works fine , I use assetmanager.open and readLine ( ) to obtain the string , but when using that string as a parameter to get the second .txt I get a java.io.FileNotFoundException . However , when calling that same .txt file with a hardcoded String , everything works fine . Upon further inspection I found out that the hardcoded string and the one used as a parameter return false after using the equals ( ) function on it . This is the method calling the first.txtusing `` name '' as a parameter for the following method : The first sentence in the file is `` Netherlands '' ( without the quotes ) which I think should lead to team_Netherlands.txt for the path2 variable.using this will however crash the app . Using the path variable it works just fine . The println confirms that the strings are not equal . ( See first sentence of the logcat ) logcat : Why are n't those strings equal and how to make them equal ? ( i.e. , make the non-hardcoded string equal to the hardcoded one )"
"I have a server somewhat like this : As you can see , there are threads handling requests and a thread initing the server . Requests can come in before initing has finished , therefore there is the check with an IllegalStateException.Now , to make this thread safe ( so request handler threads do n't see a stale , null-valued , version of worker just after init ) , I 'd have to make worker volatile , synchronize on it , or some such . However , after the init has completed , worker wo n't ever change again , so it 's effectively final . Therefore , it seems like any lock contention that may occur would be a waste . So , what 's the most efficient thing I can do here ? Now I know it does n't really matter in a practical sense ( with all the heavy lifting of reading a network request , etc , what does a single lock matter ? ) , but I 'd like to know out of curiosity ."
"I am having issues using java generics - specifically , using wildcard capture . Here is a simplified version of the code I have that exhibits the problem I am seeing . It is driving me crazy : Package declaration and imports are not included - otherwise this is complete . This does not compile . The problem is with the fragment list.add ( action.act ( subject ) ) ; where I am seeing the error message : I can see from other posts that helper methods are suggested as a way get things like this to work , but I have not been able to come up with one that works.The Action action has the type parameters like so : Action < ActionResult , ? extends ActionSubject > and the ActionSubject that I am passing in to the act method is of interface type 'ActionSubject ' and of concrete type 'ActionSubjectImpl ' although the code fragment in question will not see the concrete type of course . The second type parameter of Action should support any type that extends ActionSubject - and it is fine when I set action to new ActionImpl ( ) , where the second type is ActionSubjectImpl.I would appreciate any comment on what I am doing wrong here in my definitions and use of generics . I may be missing something basic here . I could code this a different way , but until I understand what is going wrong I wo n't be able to move on.Thanks ."
"I have the following method declaration : When I use it in the following way : it works fine but shows the type safety warnings.But when I provide the generic type to the SentCallback , like : it show the following compilation error : The method executeAsync ( Method , Callback ) in the type AbsSender is not applicable for the arguments ( EditMessageReplyMarkup , new SentCallback ( ) { } ) Why I ca n't use it with new SentCallback < Message > ?"
"I 'm trying to use IntelliJ SDK as standalone java parser and it works fine in most cases , but failing to resolve return type of generic methods.When I debugging resolveMethod for verify ( mock ) .simpleMethod ( ) in next sample inside of IntelliJ : I see return type of verify ( mock ) as IMethods and simpleMethod also resolved correctly . But in my parser return type of verify ( mock ) is T and simpleMethod resolution failing because of that . I guess I 'm not register some service or extension but I can not figure out which one.My parser : And output :"
"I 'm writing an IntelliJ-Plugin to analyse java-program code . Thus i use Soot to write static analyses . Every time a user triggers the analyse-action of my plugin , I take the current VirtualFile of the current context like this : When I check the content of this file all changes are applied . After this I 'm loading the class I want to analyse in Soot.This works perfectly for me . But now to my issue : If i change sth . in test instance of my plugin and trigger the same analysis again , nothing changes . What have i tried so far ? I set following options : I also removed all classes by handlike this : and started the program again ."
The above regex for validating zip code seems to allow exclamation ( ! ) even though I have n't allowed it here . Not sure what the mistake is ? Do I need to change the regex pattern
"I have three entities as follows : Now , given an Instance of EntityA , i want to get a list of EntityC . I have two options available to me currently . I do n't know which one is more optimized . The options are:2.Add a new property to EntityBWhich of these two queries is easier and optimized ?"
"I am creating a Word Comparison class and it will count the occurrences of words as well . ( This is Java ) This was my original method : My IDE suggested that the loop and list assignment could be replaced with a `` collect call '' : `` stream api calls '' In which it generated this code : I am kinda confused on how the lambda math works . If my memory serves correctly , the - > is the for each loop , but the other calls are completely confusing.My IDE can also expand the code into these two snippets : AndAny light-shedding would be awesome ."
"Okay , so I 'm making a dynamic 2D array in Java that implements the java.util.Collection interface . I made my array implement it because I wanted it to have the same functionality as a normal Collection . However , I can not implement the size ( ) method because in the interface it returns an integer and a 2D matrix could potentially overflow an integer type.Here 's a snippet of my class I 'm trying to make : Now , this wo n't work because `` The return type is incompatible with Collection < E > .size ( ) '' , and if I change the type to int , columns * rows could overflow.I know I ca n't override the size method like this , but is there any way I can make sure the method returns the correct size while still implementing the Collection interface ? Yes , I know this is impractical and will likely never be an issue , but I was interested to know if there was a good solution for it ."
"( preliminary note : maybe this is better suited for codereview ? ) EDIT Answer to self ; I believe this answer covers all my needs/problems , but of course , comments are welcome . Original question left below for reference.Hello , Of interest here is the .getSources ( ) method . This method is meant to return a list of message sources for a given Locale.The two central data structures to this method are sources and failedLookups , see the code for comments.This particular implementation of .getSources ( ) can only ever return either an empty list or a single-element list , depending on the tryAndLookup ( ) method which prototype is : Right now , the logic of the code is as follows : if the message source for that locale has already been successfully looked up , it is returned ; from this point on , no lookup has been done ; it is however unknown whether this means that a previous lookup attempt has been done : check the set of failed lookups , if the locale to lookup is in there , it is a known failure , return the empty list ; now , the known situation is that this locale lookup has actually never been performed : do perform it ; depending on the result of the tryAndLookup method , record either a success or a failure.Now , why I go to such lengths : I have no control over tryAndLookup ( ) ; it may take an inordinate amount of time to execute before returning a valid source or failing . As a result , I am reluctant to using a coarse lock or synchronized block.My question here is threefold : I purposefully limit myself to classes only available to the JDK ; I chose ConcurrentHashMap as a ConcurrentMap implementation , and CopyOnWriteArraySet as a thread-safe Set implementation ; from the javadoc , these are the best I could find . But was I misled somewhere ? I think this code is eventually thread safe ; some corner cases may lead to lookups being done more than once for instance , but then this is why I do .putIfAbsent ( ) ; right now I have always used , and trusted , Guava 's LoadingCache for caching purposes , and this is my first foray out of this territory ; is this code actually thread safe ? this code has a fatal defect : more than one thread may be executing tryAndLookup ( ) at the same time ... What solutions exist to have this method executed only once per lookup ?"
"There is this Javascript function that I 'm trying to rewrite in Java : My Java adaptation : When I pass -1954896768 , Javascript version returns 70528 , while Java returns -896768 . I 'm not sure why . The difference seems to start inside the if condition : in Javascript function after the if encodingRound2 = 2340070528 , while in Java : encodingRound2 = -1954896768.I made these repls to show it online : Javascript : https : //repl.it/repls/NumbGuiltyHackJava : https : //repl.it/repls/ClumsyQualifiedProblemEDIT : Changing Java function to thisdoes n't seem to affect the result - it 's still -896768"
"I was reading the java 8 language specification type inference . It says thatwould be first reducedand then to and at the end to I 'm having a hard time understanding how the reduction of the constraint was derived . It would be a great help if anyone can point out the logic using the java 8 language spec . Here 's the link to the reduction Thanks # Holger for the explanation . Following is my take on the derivation of Please correct me if I 'm wrong.First to find the temporary method for the constructor we use # 15.9.3 Otherwise , the arguments to the constructor are the arguments in the argument list of the class instance creation expression , if any , in the order they appear in the expression . If the class instance creation expression uses < > to elide class type arguments , a list of methods m1 ... mn is defined for the purpose of overload resolution and type argument inference . Then # 18.5.2 is used to derive Because of being a poly expression and not having any wild card type parameters ; Otherwise , the constraint formula ‹R θ → T› is reduced and incorporated with B2 ."
"I 'm attempting to use JDOM2 in order to extract the information I care about out of a XML document . How do I get a tag within a tag ? I have been only partially successful . While I have been able to use xpath to extract < record > tags , the xpath query to extract the title , description and other data with in the record tags has been returning null.I 've been using Xpath successfully to extract < record > tags out of the document . To do this I use the follwing xpath query : `` //oai : record '' where the `` oai '' namespace is a namespace I made up in order to use xpath . You can see the XML document I 'm parsing here , and I 've put a sample below : http : //memory.loc.gov/cgi-bin/oai2_0 ? verb=ListRecords & set=cwp & metadataPrefix=oai_dcIf you look in the larger document you will see that there is never a `` xmlns '' attribute listed on any of the tags . There is also the matter of there being three different namespaces in the document ( `` none/oai '' , `` oai_dc '' , `` dc '' ) . What is happening is that the xpath is matching nothing , and evaluateFirst ( parent ) is returning null . Here is some of my code to extract the title , date , description etc . out of the record element.Any thoughts would be appreciated ! Thanks ."
"I 'm doing a Java Record/Replay tool and I need to launch Java applications from my main Java app . I need access to the EventDispatchThread in order to intercept the events and record them , so I 'm launching the application through reflection with ( code snippet simplified ) : I previously dynamically load all the jars to the classpath and the application is launching almost perfectly.The problem occurs when the application needs to access any file and does it with relative paths . Because the application is launched through my application the path is not the same as launched from its normal path and the files are not found.What can I do to solve this problem ? dynamically change the execution environment ? any ideas ?"
"I 'm new to swing , any help appreciated.In this piece of code I 'm turning a card over face up , if it turns out that they do n't match I want them to turn back face down again.At the moment what is happening:1. when clicked the first card turns over 2. when a second card is clicked either of two things happen ( a ) if they are the same they both stay up which is what I want ( b ) if they are not the same I never see the 2nd card at all as it immediately re-displays the back of the card ( and the back of the previous card also as defined in my method ) .I thought putting in the sleep timer might keep the 2nd card displayed for a period of time before turning back over but it does not.I attempted to use contentPane.revalidate ( ) ; & contentPane.repaint ( ) ; but it does n't change anything.I have put in some console outputs : Above is the resulting console output when clicking two card which do not match"
"I ran into an issue while manipulating some bytecode , where a certain final String constant was not inlined by the java compiler ( Java 8 ) , see the example below : Resulting bytecode with javac ( 1.8.0_101 ) You can see that the second time the fields ENABLED and DISABLED are being accessed , the compiler did not inline their values ( using ldc ) , but instead used getstatic to access the field directly . Testing it with other compilers ( Java 7 , Eclipse ) did not trigger the same behavior and the constants were always inlined.Can this be considered a compiler bug , or is it allowed to not inline string constants all the time according to the JLS ?"
"For copying file in S3 , I am using vfs-s3-2.2.1.jar I found S3FileObject class under com.intridea.io.vfs.provider.s3 package.In which I am using public void copyFrom ( final FileObject file , final FileSelector selector ) method for copy file.In this method I found following code : In official reference it uses these methodIn copyFrom method of vfs-s3-2.2.1.jar S3FileObject I ca n't find any method to set SSECustomerKeyHow can I achieve the same.Thanks for looking here ."
How many memory locations will it take to have a string concatenation ? In following two statements : and and Which will consume more memory ? In which of the case StringBuilder is useful to the most ?
"In the `` 95 % of performance is about clean representative models '' talk by Martin Thompson , between 17 and 21 minute , such code is presented : In 20:16 he says : You can get much better performance , so leaving things like capacity in there is the right thing to do.I tried to come up with a code example in which capacity will be much faster than buffer.length , but I failed . Martin is saying that problems arise in two scenerios : In a concurrent world . But , length field is also final , JLS 10.7 . So , I do n't see how this could be a problem.When a cache misses . I tried calling capacity vs buffer.length one million times ( with queue having one million of elements ) , but there was no significant difference . I used JMH for benchmarking.Could you please provide a code example , which demonstrates a case in which capacity is superior to buffer.length in terms of performance ? The more common case ( frequently spotted in the real code ) , the better.Please note , that I 'm totally taking away the aspect of aesthetics , clean code , potential for code re-factoring etc . I 'm asking only about the performance ."
"Briefly : collect ( groupingBy ( ) ) returns a map Map < K , List < T > > . How can I replace , for each K , the value List < T > by a new value ( of class U ) which is computed based on List < T > , and return Map < K , U > in the same stream ( ) ? An example : Suppose I have a Task , which consists of a taskId and a list of Jobs : For each Job , method getAgentId determines an `` agent '' who is able to process it : A Task is partitioned into multiple sub-Tasks such that each of them can be processed by a separate `` agent '' : My attempt : I used groupingBy : Question : However I want to return Map < Integer , Task > instead of Map < Integer , List < Job > > ; that is , I want to wrap the resulting List < Job > of groupingBy into a new Task by new Task ( id , the resulting List < Job > ) . How to do that ? Or are there alternatives without groupingBy ?"
"I 'd like to sync a large list of items between the client and the server . Since the list is pretty big I ca n't sync it in a single request so , how can I ensure the list to be synched with a reasonable amount of calls to the synchronization service ? For example : And I want to sync a list with 100.000 items so I make a web service with the following signatureThe problem comes when , between call and call , the list is modified . For example : So the items [ 200,300 ) are never retrieved . ( Duplicated items can also be retrieved if items are added instead of removed.How can I ensure a correct sync of this list ?"
"I came across the example below of a Java class which was claimed to be thread-safe . Could anyone please explain how it could be thread-safe ? I can clearly see that the last method in the class is not being guarded against concurrent access of any reader thread . Or , am I missing something here ?"
"I watched a code from JavaDays , author said that this approach with probability is very effective for storing Strings like analogue to String intern methodPlease , explain me , what is effect of probability in this line : This is original presentation from Java Days https : //shipilev.net/talks/jpoint-April2015-string-catechism.pdf ( 56th slide )"
"Would someone please tell me why i am getting a dead code warning in the else branch of if ( projectId ! = null ) ? If i got this right , the interpreter thinks projectId can never be null - is that right ? In my opinion this is not possible ... Even if i put aor ain front ofthe result is always the same ! Please help me , i just do n't get it at the moment !"
"I 'm surprised by how painful it is to use java.util.ArrayList < T > .toArray ( ) .Suppose I declare my array list as : Then to convert it to an array , I have to do one of the following : or : or : None of the above are very readable . Should n't I be able to say the following instead ? But that gives a compile error because Object [ ] ca n't be converted to double [ ] [ ] .Perhaps it 's not possible because toArray has to return Object [ ] for backwards compatibility with pre-template days.But if that 's the case , could n't a friendlier alternative method be addedwith a different name ? I ca n't think of a good name , but almost anythingwould be better than the existing ways ; e.g . the following would be fine : No such member function exists , but maybe it 's possible to write a generic helper function that will do it ? The signature of MyToArray would be something like : Is it possible to implement such a function ? My various attempts at implementing it resulted in compile errors '' error : generic array creation '' or `` error : can not select from a type variable '' .Here 's the closest I was able to get : It 's called like this : I wish the redundant final parameter was n't there , but , even so , I think this is the least-horrible way that I 've seen so far for converting array list to array.Is it possible to do any better than this ?"
"Is the following program guaranteed to produce a list with the same contents and ordering in future java releases ? The javadoc of the java.util.Random class guarantees that it will always return the same random numbers if intialized with the same seed in all future java releases.But are there any guarantees regarding the algorithm behind the java.util.Collections.shuffle ( ) utility function ? The Javadoc for this utility function does not say anything about this.I need this guarantee , because I want to be sure that persisted data will not be useless with any future java release ."
"I 'm writing tests for my program . Sometimes my tests work , and sometimes they fail . I 'm trying to track down all of the sources of nondeterminism.Here 's a simple , self-contained example of my problem : This program creates an ArrayList . It tries to access element -1 repeatedly . Initially , this creates a detailed backtrace and a message alongside the ArrayIndexOutOfBoundsException . However , if you call it enough times ( where 'enough ' seems to be about 5500 ) the thrown exception lacks a backtrace and a message.The output of this program varies from run to run . Here it exits early , at 5494 iterations : Here it fails late , at 5540 iterations : Why 's it doing this ?"
"Here 's what I know , if there 's any errors , let me know . Example watch faces , like the analog watch face , in the SDK use a deprecated Time object for managing time.According to the documentation Time was deprecated in level 22 ( Android 5.1 ) . Now obviously it still has a lot of life , but in the interests of future proofing code I looked I looked at switching to the Calendar object.I believe both Time and Calendar are fancy wrappers for a long variable . I wrote this benchmark to test their speed.The benchmark results show Calendar as 2x faster running it on a Moto 360 . Switching a test watch face to Calendar shows no memory being leaked in the debugger.So my question is two fold . Is there a problem with my benchmark , or is it indeed faster ? If so , what is the advantage of Time , such that they used it in their examples ? My hypothesis is that they just used it to make their examples more understandable . Time is a more intuitive name , but I 'd like to know if there 's a technical reason ."
"I am building a stacked bar chart , however when I specify a min value for the axis the rendering of bars gets warped , and the axis scale/steps is erroneous . A line series I have added does however work as expected.Here is the initial chart : When I supply minimum/maximum values to the axis : you can see the bars work on completely different values , but the blue lines remain correct . Also the axis increments in a non linear fashion it steps : 995,997,999,1001,1003,1006,1008 , 1010 , 1012 , 1014,1016Is this a bug , or two - or am I missing something in the api ? Here is a gist highlighting the problem : https : //gist.github.com/NimChimpsky/b4dc3dddc629ffefc7be2469eaa87d3aI am trying to show a zoomed in version of the bar chart , the values range from 1002.5 - 1005.5 , the first chart is correct but the second chart seems to be randomly assigning values ?"
"I have the following maps : The values inside these maps look something like : Second map : I want the map after the merge to be : So I want to do the merge , and combine the values of duplicate keys . I believe it should be something like this :"
"I 'd like to achieve drawing a diagram just like the image attached but I 'm having trouble drawing the red vertical rectangle on the right along with putting other objects on top . The biggest concern is the to do with numerous different screen sizes of Android devices . I fully understand what I 'm trying to achieve during the process , which includes the objectives below . All help would be highly appreciated.1 red rectangle on each side of the screen ( right hand side I do n't know how to draw there ) 7 grey boxes in between the red vertical rectangles need to be equal in widtha black vertical line needs to be in between the rectangles just like in the image abovea text box showing a number needs to be in the center of each grey rectangle along with little red onesI also want to be able to reuse the diagram in future so I can fill the little boxes with red or black whenever I want LayoutJava"
"I 'm constructing an app and for that I have a function to fill it with test data.Short outline : No matter how often I create the test data , the picture looks always like this : So the trend of the random numbers is always negative . Why is that ?"
"We have an ArrayList of items in several classes which are giving me trouble every time I 'd like to insert a new item into the list . It was a mistake on my part to have designed the classes in the way I did but changing the design now would be more headache than it 's worth ( bureaucratic waterfall model . ) I should have anticipated format changes to the documents the customer was supplying us waterfall be damned.I 'd like to write a simple script in python which goes into a class , adds the item to the list , and then increments all retrievals for the following items . That does n't sound very explanatory : You see if I want to add a value between `` Jane '' and `` Bob '' I then have to increment the integers in the Get* functions . I just want to write a simple script in Python that does the work for me . Someone I very much respect suggested regex.Edit : Yes , LinkedHashMap . So simple , so easy and so not in the design specs now . I hate waterfall . Hate it with a passion . This whole bit was a `` small '' and `` easy '' part that `` should n't take much time to design . '' I made mistakes . It 's stuck in stone now ."
I 'm trying to get the sunday of the same week as a given date.During this I ran into this problem : results in `` Sun Jan 07 11:18:42 CET 2018 '' butgives me the correct Date `` Sun Dec 17 11:18:42 CET 2017 '' Can someone explain why the first exmple is behaving this way ? Is this really intended ? Thanks
"This code : has a compile error of The method add ( capture # 1-of ? extends Reader ) in the type List is not applicable for the arguments ( BufferedReader ) Why ? BufferedReader extends reader , so why is n't that a `` match '' ?"
Why does below line print false ? i think it should print true .
"In Python , if I want to do a fold over the operation xor , I can write : rather than the more cumbersomeIs there anything like this in the new Java 8 functional features ? e.g . to write something like this rather than"
"Do I understand right that end of constructor is not a happens - before relation in Java ? Is it possible , that code below with threads A and B not been synchronized somehow could throw a NullPointerException ?"
"In my JavaFx application , I want to call a method when the main frame gains focus . However , I want to react only in the case where the focus was outside my application and came back ( not when a dialog closes for example ) .When the application was in Swing , I could use the method ( which corresponds to the element that lost focus ) , and if it was null I knew the focus was previously outside my application.I have not found any equivalent in JavaFX.I have tried looking at window events , by adding an event filter on my window : but it does n't track focus events ."
"Consider the below scenario : Code:1Commenting the code as below , there are no errors and following output has been displayed.Code:2Output-If the execution is based on the order in which static variables or blocks have been written.why compilation error is not thrown for the initialization ( b=5 ) as shown in Code:2.And also please explain why error is been thrown for Code:1 , ifCode:2 is true ?"
"There was a question asked : `` Presented with the integer n , find the 0-based position of the second rightmost zero bit in its binary representation ( it is guaranteed that such a bit exists ) , counting from right to left . Return the value of 2position_of_the_found_bit . `` I had written below solution which works fine.But below was the best voted solution which I also liked as it has just few characters of codding and serving the purpose , but I could not understand it . Can someone explain how bit manipulation is helping to achieve it ."
My class GraphicButton.java creates a custom JButton with a certain text and font and a rectangular border . My problem is that there is some extra space between the last character in the string and the end of the border that I would like to remove.Here is what an instance of a GraphicButton looks like with the string `` PLAY '' and the font FFF Forward ( Direct Download Link ) added to a JFrame . The red line is the space I would like to remove.Here is the code I 'm using ( JFrame creation and setup omitted ) : GraphicButton.java : I 'm running Eclipse on a Mac with Java 1.8 .
"I have the following codeI am expecting the output to be false , true , true , false and true.However , the output is false , true , false , false , false.I am looking for how the output is false for the 3rd and 5th case . What is the behavior of HashMap containsKey ? Why is the output false even though the Key object is there in the Map . The equals and hashcode methods are both overridden for the Person class ."
"What do parenthesis do in Java other than type casting.I 've seen them used in a number of confusing situations , here 's one from the Java Tutorials : I only know only two uses for parenthesis , calls , and grouping expressions . I have searched the web but I ca n't find any more information.In the example above I know Float.valueOF ( arg ) returns an object . What effect does parenthesize-ing the object have ?"
"This is the line where crash occursThe values I got by catching the Exception and dumping the variables , The variable TreeMap < Long , Long > offsets is parsed from a json file by using the code below.After examining the code many times , I ca n't identify a situation where this code can throw a Any ideas ? Updates 1 : this is how the json is generated : Update 2 : I am not even able to reproduce this even in the original app , the crash is rare and reported by about only in less than 1 % of clients.Update 3json :"
"I have the following codes : What I want its output format would be : However , given the above codes , it results to : How do I get rid of the delimiter , as the first character in every line ? Thank you ."
"I 'm working a project to replace a Resource Management system ( QuickTime Resource Manager on Mac and Windows ) that has been deprecated and I have been using the current model that Qt uses where data is retrieved from the resource file using a string key.For example , I may have an image in my resource file , `` HungryBear.png '' stored in my resource file . Qt , and my proposed system , would get it in a way depicted by the psuedocode : It is clear at that point what that image is , and where it can be found.In our current system , we use numbers . The problems with numbers is that one has to hunt down the resource file ( there can be many ) to find out what image ( or resource ) it is.An example of this : The first method is what I have seen in current systems that access resource file data . I 've been told that C # and Java uses it , I know that they do for string key-value pairs , etc.However , a peer of mine has expressed concern about changing the current system of using these number IDs for the string ids that I 'm proposing . There seem to be many benefits and they fix many of the issues we 've had with the current system . I want to have supporting documentation that the proposed system is better and desirable , so my question is this : Do you know of any research or discussion that demonstrates that using a string identifier ( hierarchical ) in code is better than using an arbitrary number ? NOTESI plan on using a zip file ( possibly uncompressed ) to contain the data files.We have a application-plugin environment . The application and each plugin can have its own resource files . Plugins may be able to access resource data in the application 's resource file.Here are some requirements that have been considered and I believe met : Software Developers shall be able to uniquely identify resources.Software Developers shall be able to name resources with meaningful names.Resources shall be associated with the parts of the application that need them.Localizers shall be able to easily identify resource files that have changed.Localizers shall be able to use their own tools to modify resource files.Customers shall be alerted in the event that the functionality they are using relies on deprecated calls ."
"I am new to python recently . Previously all my programming knowledge are limited on Java . So here I have a question about object variables in Python . I know that object variables in Python share on class instances . For example.So my questions is that how many memory copies does A.list have ? only 1 or just as many as number of instances ? object variables in python sharing behavior is just like Java 's static class variables , are these two concepts same or different ? if different , what 's diff between them ?"
"I have a hashmap which has key value pair of String and object . It is the conversion of something like below json . But , I am not converting to map . I have just that map . If this may has key and value , I have to do write some logic based on that value . I implemented as below : Now , I wanted to avoid the nested if ( multiple ifs ) from my code . What would be the best way to do so ?"
"I would like to write a program in Java which , given an array , finds the sum of all the numbers in the array - with an exception ! Since the number 13 is very unlucky , I propose that we shall completely exclude the number 13 , and the number directly after 13 , if it exists , from the total sum.The program , which I shall call sum13 , should produce the following results from the following inputs ( these are just a few examples ) : sum13 ( [ 1,2,2,1 ] ) = 6 This one is normal ; no 13 's here.sum13 ( [ 5 , 13 , 2 ] ) = 5 The 13 and the number directly after the 13 are excluded.sum13 ( [ 13 , 13 ] ) = 0 The array contains only 13 's , so neither of them are included.sum13 ( [ 1 , 2 , 13 , 2 , 1 , 13 ] ) = 4 A slightly longer example of the expected output.Here is the code which I came up with for sum13 : The program above works , although it does look quite messy ! Is there a better way of writing such a program that does n't include multiple loops and nested ifs ?"
"The author of java 8 in action writes this class : Then he talks about what different values in Characteristic enum mean . And then he explains why this collector he wrote is IDENTITY_FINISH and CONCURRENT and not UNORDERED , saying : The ToListCollector developed so far is IDENTITY_FINISH , because the List used to accumulate the elements in the stream is already the expected final result and doesn ’ t need any further transformation , but it isn ’ t UNORDERED because if you apply it to an ordered stream you want this ordering to be preserved in the resulting List . Finally , it ’ s CONCURRENT , but following what we just said , the stream will be processed in parallel only if its underlying data source is unordered.Why will the stream be processed in parallel only if the underlying source is unordered ? I think it will be still processed in parallel but combiner ( ) will have to preserve order . Is it an error in the book ? I think Brian Goetz quite clearly talks about parallel processing of ordered streams in this post in the last parahraph.The pages in the book are 192 - 193 ."
"I code a mini Android game scenario inspired by Space Invaders and Moon Patrol . It is possible to shoot an alien horizontally ( see above ) . It is also possible to shoot an alien vertically ( see below ) . But adding aliens does n't `` scale '' , it will be very difficult to add for instance 15 aliens moving with respect to all possible collisions . The original space invaders and moon patrol solved this , is it possible to develop a different strategy than the one I am using ? The exact movement of aliens is not important , only that it is `` fun '' . UpdateI have started to encapsulate the logic for the aliens according to the following . Update 2I have changed the strategy . Now I am drawing a spaceship which is going to bomb the moon buggy . The relevant code is"
Sorry guys I am new to Java and I have an issue with my code . I have read through the threads and have seen many examples regarding this specific error ( java.lang.NoSuchMethodError : main Exception in thread `` main '' ) . I just cant seem to wrap my head around where I would add ( static void main ( String [ ] args ) ) to the code . If you guys can point me in the right direction I would really appreciate it . Here is what I have : OK so I started by separating each class into a different file . In looking through the Java tutorials it said to add static void main ( String [ ] args ) the way the tutorial had it setup was like this : So I did this : Still get the same error : ( java.lang.NoSuchMethodError : main Exception in thread `` main '' ) . OK I add public but now I get this : Exception in thread `` main '' java.lang.Error : Unresolved compilation problems :
"I have a string which contains a series of bits ( like `` 01100011 '' ) and some Integers in a while loop . For example : Now I want a nice fastest way to convert string and int to byte array . Until now , what I have done is convert int to String and then apply the getBytes ( ) method on both strings . However , it is little bit slow . Is there any other way to do that which is ( may be ) faster than that ?"
"I have code that consumes a large number ( millions currently , eventually billions ) of relatively short ( 5-100 elements ) arrays of random numbers and does some not-very-strenuous math with them . Random numbers being , well , random , ideally I 'd like to generate them on multiple cores , since random number generation is > 50 % of my runtime in profiling . However , I 'm having difficulty distributing a large number of small tasks in a way that 's not slower than the single-threaded approach.My code currently looks something like this : Approaches I 've taken that have not worked are:1+ threads populating an ArrayBlockingQueue , and my main loop consuming and populating the array ( the boxing/unboxing was killer here ) Generating the vectors with a Callable ( yielding a future ) while doing the non-dependent parts of the math ( it appears the overhead of the indirection outweighed whatever parallelism gains I got ) Using 2 ArrayBlockingQueue , each populated by a thread , one for the short and one for the long arrays ( still roughly twice as slow as the direct single-threaded case ) .I 'm not looking for `` solutions '' to my particular problem so much as how to handle the general case of generating large streams of small , independent primitives in parallel and consuming them from a single thread ."
"I 'm trying to create a program to compare the amount of time it takes various haskell scripts to run , which will later be used to create graphs and displayed in a GUI . I 've tried to create said GUI using Haskell libraries but I have n't had much luck , especially since I 'm having trouble finding up to date GUI libraries for Windows . I 've tried to use Java to get these results but either get errors returned or simply no result . I 've constructed a minimal example to show roughly what I 'm doing at the moment : And here is the Haskell script this is calling , in this case a simple addition : Currently there simply is n't any result stored or printed . Anyone have any ideas ?"
I have multiple time series : Frustratingly in my dataset there is n't always a matching date in both series . For scenarios where there is one missing I want to use the last available date ( or 0 if there isnt one ) .e.g for 2017-01-03 I would use y=3 and x=1 ( from the date before ) to get output = 3 + 1 = 4I have each timeseries in the form : and have read them into a List < Timeseries > allSeriesI thought I might be able to sum them using streamsBut this wouldnt have my missing date logic I mentioned above.How else could I achieve this ? ( It doesnt have to be by streams )
"I 'm learning Java in school right now and our latest topic are sort algorithms in Java . The one that I 'm trying to understand is quicksort.To understand how that algorithm sorts numbers in an array I decided to go through my code step for step in the Eclipse debugger window.Now there was one step that I can not comprehend even after going through it what felt like hundreds of times.My initial array is [ 10 , 5 , 3 , 22 , 11 , 2 ] When I go through the code the program starts by swapping 10 and 2 , then 5 and 3 and then 2 and 2 . At that point the value for i is 1 and the value for j is -1.Now the way I see it is that there are three conditionswhile ( i < =j ) Which returns false , because i = 1 and j = -1if ( left < j ) Which returns false , because left = 0 and j = -1if ( i < right ) Which also returns false , because i = 1 and right = 1But to my surprise when the program gets to the last bracket right before public static void display the program skips back to line 40 if ( i < right ) but suddenly the values for right , i , j and pivot have changed from to 5 , 2 , -1 , and 3 respectively.I would be very grateful if someone could explain why the values get changed.I have also added two pictures which show what I see on my Eclipse window step I do n't understandThanks a lot !"
"I want to publish or advertise my device name over WiFi , which is variable and can be changed by user.For example , Take a file transfer application Xender . We can see the device name set by users on screen when we select receive option in the app . Here is screen shot.You can see in the image that name shah.kaushal is appearing . I 've searched many results on Internet , but ca n't figure out what the exact thing it is . I know about host name but I think generally it is not changed by such apps and I think it need some special privileges on android to do so . So I 'm sure it is not the host name , Which we can get easily from IP address.Please note I 'm not copying any other apps features . I want this in my music player application to share songs . To do so , I 've used TCP connection between devices . And I can successfully send songs from one device to another . But It requires IP address of the device . Which is not user friendly . Here is the screenshot of my basic music sharing activity , Which lists the available IP addresses and user have to select one IP from the list . Here instead of IP addresses , I want to display device names . My code for sending file is : And code for receiving file is : I 've included the code for reference . Thanks ."
"Is it really possible to view partially constructed object in the thread created in the constructor because of the lack of synchronization and the leaking this instance ? Except for the case when there is a child class , of course , or we are doing implicit construction with clone or something like that - so let 's suppose that the class is final and is it 's fully initialized in the thread calling the constructor before calling other thread.As I understand the following hb ( ) rules apply , Each action in a thread happens-before every action in that threadthat comes later in the program order ( Program Order Rule ) A call to start ( ) on a thread happens-before any actions in the started thread.If hb ( x , y ) and hb ( y , z ) , then hb ( x , z ) So does it mean that the following code is technically thread safe ( I have taken it from the similar question Why should n't I use Thread.start ( ) in the constructor of my class ? , there is also a similar question Why it is bad practice to create a new thread on constructors ? , p.s . I hope this one wo n't be closed as duplicate ) P.S . obviously data field lacks encapsulation here , however this question is about the object 's state visibility from thread t ."
"I have a temperature record something like thisI have to parse this into a POJO and calculate the average delta as per the following problem statement : Use the Streams API to calculate the average annual temperature delta for each country . To calculate delta the average temperature in 1900 would be subtracted from the average temperature in 1901 to obtain the delta from 1900 to 1901 for a particular city . The average of all these deltas is the average annual temperature delta for a city . The average of all cities in a country is the average of a country.My Temperate POJO looks like following having getters and settersI have maintained a list of temperatures as this problem is to be achieved using streams.To calculate the delta I am trying to use the following streams but I am still unable to calculate the actual delta , as I have to calculate the average country delta , I have performed grouping over country , city and date.In order to calculate the delta we will have to calculate the differences for the Map < Integer , Double > .For calculating the difference I came up with the following code but could n't connect following code with the above oneHow can I calculate the delta using streams in one go or how to perform stream operations over countriesMap in order to calculate delta and acheive the mentioned problem statment . ?"
I have an issue which I hope I will solve by writing this question but if not I will post and see if anyone can help.I am using a client library ( which is poorly written I feel ) to interact with a real time chat server that utilises COMET style long-polling over HTTP . I 'm having issues with cancelling the long-poll in certain situations and suspect I may need to add some concurrency handling code but am finding it hard to work out the best way to do this for the below reasons.The subscribing code ( that inits the long poll ) is implemented as a big loop with the followingThe unsubscribe call ( that will called on another thread ) I have isolated the problem case where the operations are interleaving . To me this seems a result of the code being multi-threaded and the client code not being thread safe . Also poor management and non-reuse of the httpClient is not helping.One of the issues I 'm having is below where the unsubscribe call does not stop the next getRequest from taking place.I would like to know what people think the best approach to this problem would be ( time is also limited so I cant rewrite too much of the code ! ) To fix this i would thought i could use a syncronisation block from the first unsubscribe check on thread 1 up to the point the httpClient is saved just before the actual get request is performed and syncronise the unsubscribe method using the same lock . This is not practical at the moment as the first sync block mentioned would start in one method call and finish further down the method call chain ( due to how the lib is written ) - which feels very wrong so some refactoring would be needed.OR I could just create a single httpClient per channel rather than per request and then it could always be shutdown and I could potentially ignore the syncronisation ( i think ) .OR as suggested below I could use interrupts for the same purposeAny suggestions would be welcome - I will edit if I have any progress ! Thanks
I am facing this problem for 2 hours.The problem is I have other classes that are working well . I do n't know why this error is happening for the current class.But the code works for other tables ( other classes ) .It was working so fine until today . Is there anyone that faced this problem before ? I got this line before the error occured
"I have a problem using JXSE.Let 's say i have a rendezVous peer and an Edge peer , not on the same local network.The rendezVous peer create a peerGroup `` test '' , and publish an advertisement in this group with the name `` test advertisement '' Let 's say i 'm sure than my EdgePeer is connected to the rendezVous peer . I can find the existing group `` test '' with netpeerGroup.getRemoteAdvertisements ( ) .But i do n't know how to join this existing group . I tried netpeergroup.newGroup ( testAdv ) , with testAdv = the founded peerGroupAdvertisement.I ca n't find the Advertisement `` test advertisement '' in the `` test '' PeerGroup.But if i do all thats things locally , it works . Maybe i do n't understand the difference on how jxta works locally and over internet.here the code for creating or joining a group :"
"I was testing some Java8 streams API codes , but i ca n't figure out what is happening with this one.I was thinking about ParallelStream and how this works and i made some comparisons.Two different methods that do a big iteration adding 32.768.000 BigDecimals , one using ParallelStream , other using normal iteration . I came with a test that i know it 's invalid , but some things called my attention . The tests are : Parallel stream : Normal code : Output is : Then i tried removing parallelStream : See that the sequenceSum ( ) method is the sameThe new output : I have made these changes , adding and removing the parallelStream method many times and the results of sequenceSum ( ) never change , always something about 200when using parallelStream on the other method , and something about 800 when not using . Testing in Windows and Ubuntu.Finally , two questions remains for me , why the use of parallelStream on the first method influences on the second one ? Why storing BigDecimals on array made the first method too much slow ( 800 ms to 13000 ms ) ?"
"Possible Duplicate : Questions about Java 's String pool Recently I read a java article and found the following statement `` improved the String pooling technology in java 6 onward '' . One of the example that they have mentioned as followsNumber of objects created by above example is = 1Here I am little confused , even though we are using the new keyword how come it will not create a new object and uses the object created in the string pool . Please clarify me ."
"I 'm coming from Python , and trying to understand how lambda expressions work differently in Java . In Python , you can do stuff like : How can I accomplish something similar in Java ? I have read a bit on Java lambda expressions , and it seems I have to declare an interface first , and I 'm unclear about how and why you need to do this.Edit : I attempted to do this myself with a custom interface . Here 's the code I have tried : However , this gives an error : The target type of this expression must be a functional interface.Where exactly do I declare the interface ?"
"In Android , I can monitor if certain events are triggered through the use of Broadcast Receivers . Are there any tools which let me view ALL events on an android device I am debugging instead of having to add a broadcast receiver to listen to them ? For example , in a Broadcast receiver , I can monitor for a call forwarding event . Is there a way to debug such events outside of having to write additional Android code ? My goal is to test that certain events are triggered after UI state changes , and I am not seeing anything obvious in Logcat that communicates which events are being fired.For example , with call forwarding I only see cases like below in Logcat ."
Using the code of a question I just answered as an exampleStarting with the string What if we wanted to replace the space after every four-digit number with an @ such that you end up with something like this : How much more efficient is it to use a back-reference rather than a positive lookbehind ( if at all ) ? back-reference : positive lookbehind :
"I have a List of A , To execute filtering I need to map A to B . But once the filtering logic is done I still need A for further operations , So My question is would it be at all possible to achieve this ? One approach I can think of is storing both A and B into a third type , so I have both available , while processing the stream , but not sure that is elegant and wondering if here is a better way.Or am I trying to fit a square peg in a round hole by using streams ."
"andSpecifically , I 'm not clear as to why synchronized is required in the second instance when a synchronized list provides thread-safe access to the list ."
"Given list like : List < String > names = Lists.newArrayList ( `` George '' , `` John '' , `` Paul '' , `` Ringo '' ) I 'd like to transform it to a string like this : George , John , Paul and RingoI can do it with rather clumsy StringBuilder thing like so : Is there a bit more elegant approach ? I do n't mind using a library if needed.NOTES : I could use an old for loop with an index , but I am not looking for such a solutionThere are no commas within the values ( names )"
"I just performed a quick experiment in Eclipse.When the method-reference test fails , the trace beginsThere is no reference back to the line on which the method reference is used although the end of the trace ( not shown ) does link back to line with findFirst on.While the lamdba stacktrace beginsWhich correctly identifies the lambda was used on line 26.Is this a peculiarity of the Eclipse compiler or is this a general disadvantage of using method references that should be considered when choosing between them and a lambda ?"
I new to java so bear with me if this is a ridiculously simple question but I am curious about this method call which has { code } being taken in - see code below for an example in the method addSelectionListener . What is the purpose of this ? I have been looking through docs for an explaination but cant seem to find what this practice is called never mind any useful information . Thanks for any help or insights that can be offered
"I have a following query where I join tables A , B , and C : C is related to B via C.B_IDB is related to A via B.A_IDI want to retrieve a report , where for each C , I want to retrieve also fields from corresponding B and A.If only a subset of fields is required , a projection and fetching to a POJO ( with required properties from C , B , A ) is an obvious approach.My questionIn case where all fields are needed I would prefer to have my report DTO contain A , B , C POJOs , without flattening them out : Is it possible to modify my query to : include all fields from each tablemassage it into CReportDTO2 without too much verbosity"
"According to https : //developer.android.com/training/data-storage/room/relationshipsWe can have one-to-many relationshipsIn both entity User and Playlist , we have added a column named sort_keyThe purpose is , when we perform query , we can do the followingWe can control the order of List < UserWithPlaylists > .But , how about List < Playlist > playlists child entity ? How can we define a custom query for child entity Playlist , so that we can have control over List < Playlist > playlists ordering ?"
"I am getting stuck and do n't know where to look further.I have a Java application and one of its functionality is to grab some specific windows ( ie third party application windows ) and host them within itself ( with some extra frames , etc ... ) The whole thing works great , except when my Java application gets killed ( or crashes ) . When this happens , the third party windows that were hosted are getting destroyed , most of the time crashing the third party application altogether.This feature is designed to work under Linux.The way the reparenting is done is a bit convoluted : A dedicated Java thread is created and calls a C shared library ( a.so lib ) .This shared lib scans all the current windows and identifies the ones that need to be hostedwhen such a window is detected , it is reparented to the main Java application window using XReparentWindowthe shared library enters an infinite loop ( controled by an exit flag ) and waits for the XEvent ( using XNextEvent ) in case a window that needs to be hosted gets displayed.I have written a dummy C program that uses most of the library code ( without the JNI bit ) to debug this issue using xclock as my hosted test application.I can reproduce the exact same behaviour : when killing the dummy program , the Xclock window disappears and soon after xclock crashes.Then I modify the shared library routines to use the XAddToSaveSet function.This works a treat with my sample program : the Xclock window gets properly restored and reparented to the ROOT window.Now doing the same thing with the Java application does not work : the hosted windows are not getting reparented to the ROOT window.I have monitored what is going on using gdb , xev and also xmon . The XAddToChangeSet is properly called , I can see the ChangeSet request going through xmon ( and the window ID is correct ) , but when the Java application crashes the event DestroyWindow is sent to the hosted window , when I was expecting to see a RemapWindow event ( like when using the sample C program ) .Has anyone played with this kind of thing from the Java world ? The Java app is pretty big : multi-threaded and using OpenGL ( maybe it matters ) . The behaviour is identical on RHEL4 and RHEL6.There is no window manager running , just a bare X Server ( XOrg X11 1.10.2 ) .Any other way to debug this ? Can we observe the save-set somehow ? Should the XServer send a reply to the ChangeSet request ? My next step is to write a sample Java application and use the JNI interface the same way the main application is doing , but hopefully there is something obvious I missed.Thanks ! [ EDIT ] I finally tested with a dummy Java application : one JPanel and the reparenting of XClock onto the panel.When the Java process is being killed , the XClock window is destroyed.Below an extract of the XMON logs with the sample C code ( using Xlib ) : With the Java code , same initialization sequence occurs , but when killing the process no ReparentNotifyEvent happens.Following Andrey advice , I implemented the Xfixes extension XFixesChangeSaveSet.The Version 1 seems to exactly fix this issue ( or close enough ) : Save Set processing changes . Core save set processing breaks in the presence of nesting . This extension makes embedding applications more reliable Unfortunately , no changes.So I reckon I 'll give up on that one and find other workarounds . [ EDIT 2 ] I had to revisit this issue again and by properly recoding the XFixes API , it all works ! So in the end , the code : does the trick ."
"If I am working with Java streams , and end up with an IntStream of code point numbers for Unicode characters , how can I render a CharSequence such as a String ? I have found a codePoints ( ) method on several interfaces & classes that all generate an IntStream of code points . Yet I have not been able to find any constructor or factory method that accepts the same.CharSequence : :codePoints ( ) → IntStreamString : :codePoints ( ) → IntStreamStringBuilder : :codePoints ( ) → IntStreamI am looking for the converse : ➥ How to instantiate a String or CharSequence or such from an IntStream of code points ?"
"In a method I have this : I do n't understand why it produces compilation error . The error says that x is not final or effectively-final , so it ca n't be accessed from the lambda body . There is no modification to x after the doLater call , so the value of x is actually already determined when doLater is called.I am guessing that the answer to this question is because x is not qualified to be called an effectively-final variable . However , I want to know what the reason is.Ca n't the compiler just create a temporary final variable , effectively making the code like : and everything still work the same ?"
Considering the following Java code : And now let 's try to do the same in C # The Java example outputI 'm bI 'm bThe C # version outputI 'm aI 'm bIs there a way to implement class b so that it prints `` I 'm b '' twice ? Please notice i 'm not looking at a way to change a .
"I want to get Bitmap from drawable resource id , I found a solution to decode it using BitmapFactory decode method , but it 's giving null ."
"I am programmatically creating textviews with horizontal lines between each view . Using a drawable created programmatically.The problem is , the opacity starts off light and gradually increases for each line.I 've logged the opacity ( getAlpha ( ) ) of the drawable , paint , image view and linear layout at all the points in the two methods provided and from the drawables it 's always 255 and the views 1.0 . I do n't understand why it 's not behaving as though this is true . I 've also tried setting Alpha , it makes no difference . Why is it doing this and how do I fix it ? xml : java :"
What is the best way to convert Integer array to int array . The simple solution for it would be : In the above example I taken 0 for null values for the fact that default value for objects/wrappers is null and for int is 0.This answer shows how to convert int [ ] to Integer [ ] But I do n't find an easy way to convert Integer [ ] to int [ ] .
"( I 'll use T to refer to a generic argument here , used in a parameterized class . ) I read that the reason that T ... is a potential source of heap pollution when used as an argument is that the compiler is making an exception to the normal ( no T [ ] arrays allowed ) rule , and allowing T ... ( which is varargs , and so would normally translate by varargs rules internally to T [ ] , except that this is n't allowed with generics ) as a parameter by implementing it internally as though it were a raw type , converting it to an array of Object [ ] instead . So I wrote some code to verify this , to cement the concept into my memory . I took T ... t as an argument to a method , and then System.out.println 'd t.getClass [ ] . I expected to get the class of Object [ ] , but instead , I got T [ ] 's class.So , it appears that the compiler is converting T ... t to T [ ] internally , and not to Object [ ] . e.g.What am I missing here ? And if the compiler 's not converting the generic varargs parameter internally to Object [ ] , how is it losing type safety and acting as a potential source of heap pollution ?"
I am still learning about generics and have a question . Say you had this generic class : All the statements compile but I do n't really know what makes them different . Can anyone give me a brief explanation on those three statements .
I want to optimize this solution ( idiomatically ) .I have a string containing only integer values . I want to convert this string into reverse int array . The output should be an integer arrayHere is my solution : Please suggest how to do same .
"The following code uses simple arrays of String in Java.In the above code snippet , we can initialize arrays like this.and we can directly pass it to a method without being assigned like this.If it is so , then the following statement should also be valid.but the compiler complains `` Illegal start of expression not a statement '' Why ?"
"I 'm new to Java and I have come to having the following problem : I have created several classes which all implement the interface `` Parser '' . I have a JavaParser , PythonParser , CParser and finally a TextParser.I 'm trying to write a method so it will take either a File or a String ( representing a filename ) and return the appropriate parser given the extension of the file.Here is some psuedo-code of what I 'm basically attempting to do : In general , is this the right way to handle this situation ? Also , how should I handle the fact that Java does n't allow switching on strings ? Should I use the .hashcode ( ) value of the strings ? I feel like there is some design pattern or something for handling this but it eludes me . Is this how you would do it ?"
I have the following 2 methods overloaded in a class : When I invoke the method testMethod it print `` String '' .When I add one more overloaded method : It throws me compiler error : The method testMethod is ambigous for type Test..All this happens when I invoke the method with nullMy questions are : Why it prints String and not Object ? Why is there compilation error on adding third method ?
"I 'm having trouble following the below code snippet : I know what the result of the code is and it 's correct in unit tests , but I 'm not overly familiar with guava or how/why this implementation works . Also currently it does n't appear to be safe if there is a null value in the list 'prices ' either ? So what I 'm after : A general explanation of how the code works.Is it currently null safe ? If not how can it made to be ?"
"I have a splash screen and a menu screen class that loads all my texture atlases and skins for the menu and processes lots of stuff . If I put the constructor for the menu screen in the SplashScreen constructor or in the create ( ) method of my main game class ( MyGame class ) then it would pass a lot of time with no splash screen render image on the phone while the whole stuff loads so I have delayed the loading of the menu class to the second frame render ( gets called in the SplashScreen render method in the second frame ) ; I simply check if I passed the first frame then I call a method on the main game class that loads the menus . It all works fine , as expected , but only if the SplashScreen load process is not interrupted . If I get a call or I simple press the HOME button of the mobile and then I re-enter the game by clicking the icon on the home screen I get an AndroidGraphics error : `` waiting for pause synchronization took too long : assuming dead lock and killing '' ; this is just after I can see the splash screen on the screen for about a second ; I tried to dispose the MyGame in the hide ( ) and pause ( ) methods of both the main game class and the splash screen class so it 's terminated if I press the HOME button but they never get called . How can I fix this ? It would be annoying to get a call while loading the game and after you finish the call and try to re-enter the game it crashes ."
"In Java 8 , java.lang.Thread class got 3 new fields : as it said in Javadoc for being exclusively managed by class java.util.concurrent.ThreadLocalRandom.Furthermore , in ThreadLocalRandom they are used in very freakish way : ( the same code piece can be met also in LockSupport class ) .and then this offsets are used internally in several java.concurrent places.What is the idea ? Why these fields are places inside java.lang.Thread ? Why not inside ThreadLocalRandom ?"
I compiled following code using Java-8 compiler : I compiled the above code using Java-8 compiler as : Version of my default Java Interpreter : And I can run the compiled code using Java-9 interpreter without any error.According to my knowledge : At runtime the package `` pack '' will be contained inside a special module called `` Unnamed module '' . The `` Unnamed module '' requires all the modules from Java platform module . But only that package can be used by the `` Unnamed module '' which are exported by the corresponding module.My question is : Here the module java.base is not exporting the package `` sun.util.calendar '' . Then how the `` Unnamed module '' is using it ?
"First code : distance is called very often . When I compiled it with javac and then decompiled with javap -c I got this bytecode : It seems that javac has n't optimized second function , distance.Second code , I think , faster : And its bytecode : Is invokestatic so fast that it 's the same as inlining static function ? Why javac did not optimize this ? Or maybe it is in fact optimized and these two codes will give the same , but I 'm missing something ?"
"Here 's my code : Here 's my output : My understanding is that increment is synchronized . So , it should first increment one number and then release the lock and then give the lock to the thread t1 or t2 . So , it should increment one number at a time , right ? But why is my code incrementing two or three numbers at a time ? Am I doing something wrong ( I 'm a newbie ) ?"
"If do not call System.gc ( ) , the system will throw an OutOfMemoryException . I do not know why I need to call System.gc ( ) explicitly ; the JVM should call gc ( ) itself , right ? Please advise.The following is my test code : As following , add -XX : +PrintGCDetails to print out the GC info ; as you see , actually , the JVM tries to do a full GC run , but fails ; I still do not know the reason . It is very strange that if I uncomment the System.gc ( ) ; line , the result is positive :"
"Following is my codeThe error occurs at c.acceptParameterOfTypeA ( this ) ; .The error is The method acceptParameterOfTypeA ( A2 ) in the type C is not applicable for the arguments ( A ) From what I see , the method acceptParameterOfTypeA expects a parameter of type A , and this at the line giving the error is of type A.What am I doing wrong ? How to fix this problem ? If its important , I 'm using Java8"
"The question is about java.util.stream.Stream.reduce ( U identity , BiFunction < U , ? super T , U > accumulator , BinaryOperator < U > combiner ) method.One of the requirements is that the combiner function must be compatible with the accumulator function ; for all u and t , the following must hold : If the combiner and accumulator are the same , the above equality is automatically true.A BinaryOperator is actually extending BiFunction , therefore I can use it when BiFunction is required . If U and T are identical , the following is always legal : Of course , one can not always use the combiner as acumulator since , in the general case , they serve for different purposes and are different Java types.My questionIs there an example of stream reduction with distinct combiner and accumulator ? Also , I 'm not interested in trivial examples , but natural examples that I can encounter in practice while doing reduction on parallel streams.For trivial examples , there are many tutorials , like this oneWhy am I asking this questionBasically , the reason this reduction method exists is for parallel streams . It seems to me the condition ( * ) is so strong that , in practice , it renders this reduction useless since rarely the reduction operations fulfill it ."
My Java textbook says that you can use the following code to randomly shuffle any given array : Would the following code that I wrote would be equally efficient or valid ? I tested my code and it does shuffle the elements properly . Is there any reason to use the textbook 's algorithm over this one ?
Here 's snippet from java.util.ArrayList : Here 's snippet from com.google.collect.Preconditions : May somebody shed light on : why private outOfBoundsMsg is requiredmeaning of `` this outlining performs best ... '' should I start refactoring my code to include string returning methods for my exception constructors ?
"The JavaFX docs state that a WebView is ready when Worker.State.SUCCEEDED is reached however , unless you wait a while ( i.e . Animation , Transition , PauseTransition , etc . ) , a blank page is rendered.This suggests that there is an event which occurs inside the WebView readying it for a capture , but what is it ? There 's over 7,000 code snippets on GitHub which use SwingFXUtils.fromFXImage but most of them appear to be either unrelated to WebView , are interactive ( human masks the race condition ) or use arbitrary Transitions ( anywhere from 100ms to 2,000ms ) .I 've tried : Listening on changed ( ... ) from within the WebView 's dimensions ( height and width properties DoubleProperty implements ObservableValue , which can monitor these things ) Not viable . Sometimes , the value seems to change separate from the paint routine , leading to partial content.Blindly telling anything and everything to runLater ( ... ) on the FX Application Thread . Many techniques use this , but my own unit tests ( as well as some great feedback from other developers ) explain that events are often already on the right thread , and this call is redundant . The best I can think of is adds just enough of a delay through queuing that it works for some.Adding a DOM listener/trigger or JavaScript listener/trigger to the WebViewBoth JavaScript and the DOM seem to be loaded properly when SUCCEEDED is called despite the blank capture . DOM/JavaScript listeners do n't seem to help.Using an Animation or Transition to effectively `` sleep '' without blocking the main FX thread.⚠️ This approach works and if the delay is long enough , can yield up to 100 % of unit tests , but the Transition times seem to be some future moment that we 're just guessing and bad design . For performant or mission-critical applications , this forces the programmer to make a tradeoff between speed or reliability , both a potentially bad experience to the user.When 's a good time to call WebView.snapshot ( ... ) ? Usage : Code Snippet : Related : Screenshot of the full web page loaded into JavaFX WebView component , not only visible partCan I capture snapshot of scene programmatically ? Whole page screenshot , JavaJavaFX 2.0+ WebView /WebEngine render web page to an imageSet Height and Width of Stage and Scene in javafxJavaFX : how to resize the stage when using webviewCorrect sizing of Webview embedded in Tabelcellhttps : //docs.oracle.com/javase/8/javafx/embedded-browser-tutorial/add-browser.htm # CEGDIBBIhttp : //docs.oracle.com/javafx/2/swing/swing-fx-interoperability.htm # CHDIEEJEhttps : //bugs.openjdk.java.net/browse/JDK-8126854https : //bugs.openjdk.java.net/browse/JDK-8087569"
"I 'm confused by the Java spec about how this code should be tokenized : The spec says : The longest possible translation is used at each step , even if the result does not ultimately make a correct program while another lexical translation would.As I understand it , applying the `` longest match '' rule would result in the tokens : ArrayList < ArrayList < Integer > > i ; which would not parse . But of course this code is parsed just fine . What is the correct specification for this case ? Does it mean that a correct lexer must be context-free ? It does n't seem possible with a regular lexer ."
"Am I breaking the “ Law of Demeter ” ? For example i create a Class person which contains name , phone and id and it match the column in my database.When I want to fill my Order info using person 's id.I do like this.I use getName and getPhone return by databaseComponent.That 's break LoD.Somebody recommend that I can do like thisBut I think in public method it still break the LoD.Some people use this method.Yeah Maybe it does n't break LoD . But why ? May be Client is n't coupled to the class Person.But it is coupled to Util . What are the advantages of LoD on this occasion ."
"I want to replace `` a '' of `` abababababababab '' with 001,002,003,004 ... ... that is `` 001b002b003b004b005b ... .. '' however this is poor efficiency , when the string is large enough , it will take minutes ! do you have a high efficiency way ? thanks very much !"
Please take a look at below example i cant understand the relation between char and byteGive me compilation Error because c is type of char and b is type of byte so casting is must in such condition but now the tweest here is when i run below codeline 2 compile successfully it does n't need any casting at allso my question is why char c behave different when i use final access modifier with byte
Considering the following toy example class : outerVar is volatile so all threads that may be using it will see it in the same state . But what about outerVar.innerVar ? Does the fact that its parent object ( outerVar ) is marked as volatile make it volatile also ? Or do we have to declare innerVar volatile explicitly ?
"compilation error : The left-hand side of an assignment must be a variable but when I tried this way , there is no compilation errorgetBoolean ( ) is returning a boolean value , so for the first case why the for loop is not accepting boolean value directly ?"
Can you please run the below and explain ? I found that surprising as someone would expect 1 to be printed and not 1.0
"I am trying to test following method : Following is the Junit code : On the verify method call , I am getting following mockito exception : I do n't understand why mockito considers both the lambda 's are different ? UpdateI solved it without using Mockito . Here 's the other approach . Omitted empty overridden methods :"
While upgrading a build from Java 1.6 to 1.7 our unit tests started failing because of a difference between how the 2 versions handle the printing of trailing zeros on doubles.This can be reproduced with this example : Java 1.6 will output : Java 1.7 will output : I have 2 questions : Why is the printing of an inline concatenation different than the same concatenation with a pre-initialized value ? What change between Java 1.6 and 1.7 is causing the difference in output from version to version ?
"I 'm trying to port some code from Linux to Windows . I really do n't know much about Windows , and so I 'm kind of flying blind . The code in question attempts to delete some directories using org.apache.commons.io.FileUtilssegments is a File , as is mergedSegFile . It dies with an IOException `` Unable to delete file : c : \www\tomcat\crawls\test\TestingCode.site\crawldir\segments\20101128194700\parse_test\part-00000\data '' .These files were created by a previous run of the same program ( which does some Nutch crawling ) . Doing an ls -l under cygwin shows the user and group are correct , but the perms are 000.Further info : dir does n't tell me anything about permissions.I can remove the directory with del on a cmd.exe window or rm -rf on a cygwin bash window.The files in question , and the directory they are in , were created earlier in the same run of the same program.The computer is running Windows 7 , so I assume that means it 's NTFS ."
"I want to write an APP to record screen , there are two way , RecordHelper_Method_A and RecordHelper_Method_B .In RecordHelper_Method_A , I define mMediaRecorder , MediaProjection mMediaProjection and mVirtualDisplay as static var , it 's easy to invoke , such as StartRecord ( mContext , requestCode , resultCode , data ) , StopRecord ( ) .and in RecordHelper_Method_B , I need to define mMediaRecorder , MediaProjection mMediaProjection in main Activity class , and pass the parameters when I invoke StartRecord ( mMediaRecorder , mMediaProjection , mVirtualDisplay ) , 'StopRecord ( mMediaRecorder , mMediaProjection , mVirtualDisplay ) ` ... , it 's a little complex.I do n't know which one is the better , and more I do n't know if these static var can be released correctly in RecordHelper_Method_A when I end the APP.BTW , if you have the better way , would you please tell me ? Thanks ! RecordHelper_Method_ARecordHelper_Method_B"
"I was given this assignment yesterday in class and thought I understood the process of selection sort but I feel a little unsure about it now . I thought that after each pass the numbers on the left become sorted and are not checked again until all the numbers on the right have been sorted first.Below are the instructions and my answer : Show the resulting array after each pass of the selection sort algorithm . If the algorithm stops before a given pass is taken , leave that pass blank.Can someone tell me if I did this correctly ?"
"I have this Java code some other person wrote , specifically JSPs . I am trying to understand where everything is.In my index.jsp ( the main file which is loaded ) it imports a certain namespace ( I suppose tomcat does all the compiling , I do n't know ) : This physical location does n't exist in my CLASSPATH so I suppose it 's referring to a namespace inside the .jar code structure ( correct me if I 'm wrong ) .So how am I suppose to find the source code for this ? Does Tomcat set a specific CLASSPATH location for each project ? EDIT I 'm trying to understand if Tomcat follows a certain structure so I can find where the source code for this stuff is ."
"I have searched through stackoverflow as well as a few other sites and sadly have not found this question asked , let alone answered . Maybe my approach is best attempted another way ? I am new to Java ; this should be a really easy answer I would think.The issue : I have a static method that I would like to return values from . For convenience and neatness I would like to use my own class instead of an ArrayList , String [ ] , or similar . Problem is that I can not instantiate my class within the static method ( as I expected could be an issue ) . Funny thing though : using String [ ] or Object as the return does work ( which is an instance of those classes ) ... so why ca n't I use my own class instance ? Example : The above works great but when I use my own class to return values the compiler gives me the `` non-static variable this can not be referenced from a static context '' ( NOTE : edited to show that these classes are nested within the JInputs class which apparently is necessary to reproduce the error ) : Obviously , I could make my UserData class a static class but then would n't subsequent calls to the method change the values of the original call ? How do Java programmers return neat data from static methods ? Why does it allow built-in classes to be instantiated but not user defined classes ?"
"I successfully read an XSD schema using org.eclipse.xsd.util.XSDResourceImpl and process all contained XSD elements , types , attributes etc.But when I want to process a reference to an element declared in the imported schema , I get null as its type . It seems the imported schemas are not processed by XSDResourceImpl.Any idea ? Update : I made the imported XSD invalid , but get no exception . It means it is really not parsed . Is there any way to force loading imported XSD together with the main one ?"
"So I have a try/finally block . I need to execute a number of methods in the finally block . However , each one of those methods can throw an exception . Is there a way to ensure that all these methods are called ( or attempted ) without nested finally blocks ? This is what I do right now , which is pretty ugly : Is there a more-elegant way to do this ?"
"I have a few classes that perform background tasks that might raise exceptions . They all implement the following interface : When one of the background tasks raises an exception , all the ExceptionHandlers are informed of the exception so that it can be properly handled / propagated.How would you call the interface ? ExceptionHandlerObservable ( not great ) ?"
"goal : I 'm using sharepoint REST APIs to create a list in my sharepoint site . In this case I 'm using okHttp as my Http library.expected result : should return 201 as response code when calling the request using okHttp.actual result : following are the steps I have implemented : create a bearer token set the required headers in the requestcreate a object of type which I want to sendserialize the object to json , so that data will be send as json data.I have used the postman to test the API . It worked fine , got the desired result.I have debugged the code , expected values were successfully assigned to the respective variables as well.I know that 400 bad request means , there is something wrong with JSON data and server could n't parse the json which I 'm sending.Eventhough I tried , but could n't find the way to resolve this.Any help would be appreciated.following are the code samples.ListImple.java"
"I have an Android Service running daily which does some data synchronization . Once a day it downloads a file and caches it to disk via context.openFileOutput : This happens on a background thread.I also have a UI which contains a WebView . The WebView uses those cached resources if they are available via context.openFileInput : This happens on another background thread independently from the service.Can I rely on Context implementation and be sure that file reads and writes are safe , or do I have to take care of the synchronization myself ? E.g . if the Service is currently writing data to a file and the WebView is trying to access it , will I run into a problem ? If so , how should I implement the synchronization ?"
"For example , if I userather thandecompiled code will contain getOwner , getName , getSignature methods in Java code , due to reflection . Do these methods counted against 64k limit ?"
"I am trying to use Java Streams to collects all the Strings of the greatest length from my list : I would like my longest to contain { `` long word '' , `` long wwww '' , `` llll wwww '' } , because those are the Strings that have the greatest lengths . In case of only having one of the Strings with greatest length , I am obviously expecting the resulting List to contain only that element.I tried to first sort them in order to have the greatest length appear in the first element , but I am unable to retrieve the length of the first element in the stream . I could try something like peek ( ) : but it 's ... ugly ? I do n't like the introduction of dummy wrapper ( thank you , effectively final requirement ) or the peek ( ) hack.Is there any more elegant way to achieve this ?"
"I think that ( String ) x is an unchecked cast , but the compiler does not give any warning . Why does it happen ?"
"I have this class , it perfectly does what I want . Now I need new class VSV which will derive from ( vertical ) ScrollView and be just the same . I surely can just copy whole block and change extends HorizontalScrolView to extends ScrollView , and then ( L , 0 ) to ( 0 , L ) ( oops , this was a mistake when publishing on SO , surely that line will not change , the GetCurrentPos will ) .or I can add `` bool vertical '' property . But Java has no templates or macros , nor runtime prototyping , so is there any other way in Java to avoid code duplication in this example ?"
"I want to check whether JVM options for a particular application ( in this case , Matlab ) have been set to prefer IPV4 or if they still use IPV6.I know how to set the JVM to prefer IPV4 . In my case , it can be done by adding the line -Djava.net.preferIPv4Stack=trueto the java.opts file within $ MATLABROOT/bin/maci64/.I can also check whether this line has already been added to java.opts via string-matching . I 've pasted my current solution ( a Matlab script that checks for string-match , and adds the line if it does not exist ) at the bottom of this question.I do n't know how , though , to check whether IPV4 or IPV6 is preferred without string-matching . Obviously this seems preferred.Does anybody know how to check IPV4 vs. IPV6 in the JVM without string-matching ? Here 's my current solution , that depends on string-matching :"
In xml file i do next : In class Keyboard in the method onKeyDown i create next constructionbut is dont work . What 's wrong ?
I wonder how Hibernate finds NullValidator class which extends ConstraintValidator interface even if @ Null annotation definition as follows :
I encountered below code in my project . I was wondering if it can be optimized further may be by using java 8 streams or by collection APIs in general.Note : unfilteredSet and adminAreaSet hold different child types of Student
"I want to have a constructor like the following.In this I would like to have a method called incrementValue ( Number n ) which will add n to value . I know you can not add two Number objects together due to the possible issues with casting . However , if I use a check to guarantee value and n are the same type is it possible to add these together ? Or perhaps there is a better way to go about this.Right now I am declaring instance variables of Integer and Double and assign the value to the correct type . I was wondering about expanding this to allow for any subclass of Number . Obviously I could write separate methods for each one but that seems like bad programming.Is this possible in java ? Am I going about this completely wrong ?"
"BackgroundAn existing system creates a plethora of HashMap instances via its Generics class : This is the single point of creation for all instances of classes that implement the Map interface . We would like the ability to change the map implementation without recompiling the application . This would allow us to use Trove 's THashMap , for example , to optimize the application.ProblemThe software can not be bundled with Trove 's THashMap due to licensing conditions . As such , it would be great if there was a way to specify the name of the map to instantiate at runtime ( for those people who have no such licensing restrictions ) . For example : QuestionIs there a way to avoid the @ SupressWarnings annotation when compiling with -Xlint and still avoid the warnings ?"
"So I have a class I have made which I wanted to be able to sort . To do so I simply had it implement the collection interface so it can be used in the Collections class . Now I have noticed that the class itself is just a hop , skip , and a jump away from a ListIterator and it would be nice to have it implement that interface as well ( looking into the future on this one ) . There is one problem , though , and that is that there is a method conflict between the Collection interface and ListIterator interface : Is it possible to have one class conform to both interfaces ? If not , does that mean that these two interfaces are mutually exclusive ?"
"UPDATE solution is Java.lang.reflect.Proxy returning another proxy from invocation results in ClassCastException on assignmentMy test code proxies java.sql.Connection.I create my proxy like so : When I wrap an H2 DB connection , this works perfectly.When I try and wrap a MySQL connection , the cast of the proxy to Connection in the return fails , even though the connection I 'm wrapping is of type Connection . The exception is : The log line for an H2 connection is : And for the MySQL connection : What 's going on , and why ca n't I wrap MySQL DB connections ?"
What is the equivalent c # generics notation of the above java generics ? Parameter listenerClass will be a type & not a object . But the object T has to belong to a specific hierachy .
"I 've created a minified JRE using the JLink toolI 've created a very basic application that connects to https : //www.example.comWhen I run this application using the JDK , everything works fine.When I run this using the minified JRE , I get the following : I 've noticed the lib\security\cacerts file in the JDK is much larger than in the minified JRE ( 246KB vs 156KB ) . When I copy this file into the minified JRE , then my application works correctly.This suggests that the JLink process is removing some of the certificates for some reason . I ca n't see any explanation in the documentation for this , or online . Am I missing something ?"
"This code is benchmarking 3 different ways to compute the sum of the reciprocals of the elements of a double [ ] .a for-loopJava 8 streamsthe colt math libraryWhat is the reason that the computation using a simple for-loop is ~400 times faster than the one using streams ? ( Or is there anything needs to be improved in the benchmarking code ? Or a faster way of computing this using streams ? ) Code : Results : Update : these results show Blackhome.consume or return is necessary to avoid jvm optimization.oracle jdk version `` 1.8.0_181 '' , Darwin Kernel Version 17.7.0"
"I have the following code to check if a game unit is a player or an enemy . These are the only two categories . I could delete the isEnemy method and run all checks for enemy as if ( ! isPlayer ) , but I personally feel that if ( isEnemy ) makes the intent of the code clearer . Are there any established coding styles that have anything to say about this kind of situation ?"
"I 'm totally lost on why that wo n't work : Is this some weird Eclipse error message ( it 's not able to cope with Lamdas either , so maybe Mars is n't entirely Java 8 ready , yet ) ? I can fix it by letting SpecialTestImpl implement Test directly ( which yields a warning , because it 's unnecessary ) or overriding the method in TestImpl ( which yields a warning for the same reasons ) .So why would n't I be able to call the super method ? My guess was because if I was able to call Test.super.doMagic ( ) directly , implementing the method in TestImpl would break the API for SpecialTestImpl even though it should n't . But that is also true if I let SpecialTestImpl implement Test and call the default method that way ."
"I have a Spring Boot application using javax.validation annotations and I 'm trying to return friendly JSON error messages pointing to the offending field , yet converting from the available `` Java-object '' path to either JSONPath or JSON Pointer is something I 'm not finding a way to do.SSCO sample : Output : As you can see , I need to convert foo [ 0 ] .barBaz into either $ .foobar [ 0 ] .bar_baz or /foobar/0/bar_baz . The parsed object ( the data variable above ) is also provided by the BindingResult object that holds the validation information.I thought about doing some String manipulation , but that 's messy , hacky , and can break easily with @ JsonProperty which I would need to handle separately , maybe other corner cases that I did n't think about . Plus , we use SNAKE_CASE as a standard , changing to simplify the task is not a solution.I suppose Jackson 's ObjectMapper could be used somehow to make this conversion , or some other piece of Jackson API , but I could n't find anything about that . Any other library that can do this is also fine ( ideally it should understand Jackson annotations like @ JsonProperty ) ."
"I have a List < LedgerEntry > ledgerEntries and I need to calculate the sum of creditAmount and debitAmount.I have implemented this as , This looks like I 'm iterating over the List twice . Is there a way to get this done in one go without having to steam the list twice ?"
"This code is from Effective Java ( Item 66 ) : ( without sync or volatile this never ends ) As Bloch mentioned in that chapter it will never write `` finished '' to the console . I 've been playing around with this class , and add that line to the runnable run method : With this the while loop does n't only increment i but prints out this string in every loop . But what drives me crazy , that this way the thread stops after 1 sec , when main thread comes back from sleep.modified : ( stops without volatile/sync ) So what is the logic behind this ?"
"I have two classesSuppose I use an object of B [ say b ] in my code and after I end up using it , I set it to null . I know that the object of B is now available for garbage collection . I know that after setting b to null , it will be immediately eligible for garbage collection ? But what about the object of type A ? Will it be available for garbage collection immediately after I set B to null ? Or will it be eligible for garbage collection after B is garbage collected ? Theoretically , until B is garbage collected , a still has a reference to it ? So will the SUN JVM compiler detect this immediately after setting b = null ;"
"I have a list of objects . The object looks like this : I need to find the elements that have the same agendaCode , visitTypeCode and scheduledTime and for the life of me I ca n't get it done . I tried this : But it 's not doing what I thought it would . Ideally I would have a list of lists , where each sublist is a list of Slots objects that share the same agendaCode , visitTypeCode and scheduledTime . I struggle with functional programming so any help or pointers would be great ! This is Java 11 and I 'm also using vavr ."
"I have written a web application using spring mvc 3 . It provides a single endpoint that returns JSON . I did having it running successfully using url paramters but now I need to change this to use path variables instead.I changed my controllerfrom : to : and my web xml to map the url ... from : to : But I get a 404 for the http request : http : //localhost/some/data/1234Where I know that 1234 exists.To top it off , the request never even gets to the controller method , so its got to be the web xml url pattern configuration.As a test I tried changing the url pattern to exactly match a request with a code and it returned JSON as expected , so I know its the url pattern . I just dont know how to fix it.I have tried : //*/some/data*/some/data/*"
"Someone postulated in some forum thread that many people and even experienced Java Developers would n't understand the following peace of Java Code.As a person with some interest in Java I gave it my thoughts and came to the following result.Eclipse tells me otherwise . The first line is true and the second is false.I really would appreciate an explanation.Second question . Is this Java specific or does this example hold for example for the C based languages , too ?"
"how to stick JLabel in GlassPane to rellative , floating coordinates from JProgressBar without using ComponentListener or another listener , is there built_in notifiers in Standard LayoutManagers that can notify about its internal state , and can be accesible for override , instead my attempt with ComponentListener and NullLayout.SSCCE about ComponentListener and with NullLayout"
"BackgroundI 've been running a code ( posted at the bottom ) to measure performance of explicit Java downcasting , and I 've run into what I feel like is a bit of an anomaly ... or perhaps two anomalies.I have already looked at this thread on Java casting overhead , but it seemed to only talk about casting in general , rather than this particular phenomenon . This thread covered similar topics , and I do n't really need advice on premature optimization -- I 'm tuning parts of my application for maximum performance , so this is the logical step.The testsI basically wanted to test the performance of downcasting versus the .toString ( ) method for objects which were Strings , but were typed as Objects . So , I created a String a and an Object b with equivalent content , ran three loops , and timed them.Loop 1 is ( ( String ) b ) .toLowerCase ( ) ; Loop 2 is b.toString ( ) .toLowerCase ( ) ; and Loop 3 is a.toLowerCase ( ) .Test results ( Measurements in milliseconds . ) Code used for testsFinally , the questionWhat I find most fascinating is that loop 2 ( .toString ( ) ) seemed to perform the best of the three ( particularly in Test B ) -- which does n't make intuitive sense . Why would calling .toString ( ) be faster than already having a String object ? The other thing that bothers me is that it does not scale . If we compare Tests A and D , they are off by a factor of 9 when compared against each other ( 27 * 1000 = 27000 , not 3000 ) ; why is there this huge discrepancy as the number of iterations scales ? Can anyone offer an explanation as to why these two anomalies have proven to be true ? The ( weird ) realityUpdate : Upon advice of Bruno Reis 's solution , I ran my benchmarks again with some compiler output . The first loop was crammed with initialization stuff , so I put in a `` junk '' loop to do this . Once that was done , the results were closer to expected.Here is a full output from the console using 5,000,000 iterations ( commented by me ) :"
"I am using Apache Ignite 1.8.0 for caching on a cluster . I am using the C++ API and am accessing the same cache from both Java and C++ . This works fine but I would like to also use affinity collocation to execute tasks on the same node that has cached the data . I am creating the cache in Java , putting the data in C++ but then want to run tasks in Java on this data . The C++ API does n't have Affinity support so I am now wondering what my options are.This is how I am creating the cache : Then I put data from C++ . I have a simple byte array class for testing purposes.Now I would like to do something like the following but do n't know how to ensure that my Java tasks will execute locally to the data.The issue is that the key in C++ is just an int and there is no associated AffinityKey . Therefore I do n't know if the affKey I created in Java will always run with the correct node affinity.Is this the correct approach ? I have also considered restricting each of my caches to a pair of nodes to ensure that all operations are on the correct node at least 50 % of the time ( acceptable me for my use case ) ."
"I have a method to view a calendar in Java that calculates the date by year , day of the week and week-number.Now when I calculates the dates from 2017 everything works . But when I calculates the dates from January 2018 it takes the dates of year 2017.My code looks likeWhich results in 2018-01-02 and it should be 2018-01-01 . How is this possible ?"
I 'm trying to sort an ArrayList of PostingsEntry objects according to the score attribute of the PostingsEntry objects . The list resides in a PostingsList object that has the sort ( ) method.I 'm trying to sort the list here : And I print the results : But I get : Which shows that the list has clearly not been sorted . Where am I going wrong ?
"Many logging frameworks ( e.g. , log4j ) allow you to pass lambda expressions instead of Strings to the logging API . The argument is that if the string is particularly expressive to construct , the string construction can be lazily executed via the lambda expression . That way , the string is only constructed if the system 's log level matches that of the call.But , given that modern compilers do much method inlining automatically , is there really a point to using lambda expressions in this way ? I 'll supply a simplified example below to demonstrate this concern.Suppose our traditional logging method looks like this : Let 's suppose that FINE is less than CRITICAL , so , although an expensive string is constructed , it 's all for not since the message is not outputted.Lambda logging APIs help this situation so that the string is only evaluated ( constructed ) when necessary : But , it 's feasible that the compiler can just inline the logging method so that the net effect is as follows : In this case , we do n't have to evaluate the string prior to the logging API call ( because there is none ) , and presumably , we would gain performance from just the inlining.In summary , my question is , how do lambda expressions help us in this situation given that the compiler can possibly inline logging API calls ? The only thing I can think of is that , somehow , in the lambda case , the string is not evaluate if the logging level is not a match ."
"The following code come from java.lang.System.console ( ) method : In my opinion , these is a bug in this method . We should write it like this : Am I right ? What 's your opinion ?"
"I am confused about sharing arrays safely between threads in Java , specifically memory fences and the keyword synchronized.This Q & A is helpful , but does not answer all of my questions : Java arrays : synchronized + Atomic* , or synchronized suffices ? What follows is sample code to demonstrate the issue . Assume there is a pool of worker threads that populates the SharedTable via method add ( ... ) . After all worker threads are done , a final thread reads and saves the data.Sample code to demonstrate the issue : The sample code above could also be implemented using Atomic*Array , which acts as an `` array of volatile values/references '' .Is SharedTable thread-safe ( and cache coherent ) ? Is SharedTable ( much ? ) more efficient as only a single memory fence is required , whereas SharedTable2 invokes a memory fence for each call to Atomic*Array.set ( ... ) ? If it helps , I am using Java 8 on 64-bit x86 hardware ( Windows and Linux ) ."
"I am using Java to create an app for Google Assistant that will call an external REST API and return certain responses based on trigger phrases.I currently can use the Default Welcome Intent to return simple text responses through the Actions on Google simulator . However , when I try to call an external REST API and send back a response , the simulator returns a message that says : `` MalformedResponse : Failed to parse Dialogflow response into AppResponse because of empty speech response . `` I am using the org.springframework.web.client.RestTemplate from Spring-framework to process the result from the REST Service ( https : //fitzroi-rest-api-0525.appspot.com/rest/Fitz ) with the following call : greeting = restTemplate.getForObject ( `` https : //fitzroi-rest-api-0525.appspot.com/rest/ { name } '' , Greeting.class , givenName ) ; ( This works well in a regular Spring project , but not within the Actions on Google Intent ) An example training phrase for my test app is `` Tony is sending greetings . '' From here I am extracting `` Tony '' as a @ sys.given-name entity in Dialogflow . This name is then passed to the REST serivice for processing . The REST service is an MVC app that is running in a separate Google Cloud project from the Google Assistant App . Please let me know if this is a good approach to consume a REST service using Dialogflow fullfillment webhook.Below is a sample code from my webhook that is trying to consume the REST service ."
"Suppose there is a List < Object > and that Object contains two methods : getUserId and getPoints . Consider that List < Object > contains three objects , and they contain the following data : After collecting this properly , I am expecting to have a Map < String , Integer > that would look like this : I am attempting this using Java 's 8 functional interfaces , the streams , because I only need the final result and I do not have nor need any of these mappings in between . I am willing to modify this if there is no other way . I first came up with this : However , this has shown insufficient because it will always replace the key with the newest value , thus producing : How can I tweak the last bits from the Collectors.toMap ( ) to automatically increment its value according to the value already stored in the map , so that I produce the result above ?"
"While working on a use case where the data needs to be sorted on UUID which are all Type 1 or timebased and generated using Datastax Cassandra Java driver library ( UUIDS.timebased ( ) ) , i found that UUID.compareTo is not sorting some of the UUIDs correctly.The logic in compareTo is I had the below 2 UUIDs generated using the datastax cassandra driver for java.From the above , it is evident that uuid1 is smaller than uuid2 , but when we compare them using UUID compareTo method , we get different output . We should get output as -1 as it is supposed to be less than but we get answer as 1 which shows that this uuid1 is greater than uuid2On further analysing this , found out that the msb for uuid2 transforms to a negative number where as msb for uuid1 is positive number . Because of this the logic in compareTo is returning the value of 1 instead of -1.Is this behaviour normal with UUID and their comparison with each other ? If so then how do we handle sorting of such timebased UUIDs ? Thank you"
"I have a few Map objects that are keyed by the same type K with differently typed values V1 ... VN , which for the purpose of this question do not share a supertype* : I need to create a resulting map of type Map < K , V > , by filtering each of these maps differently , and then use a 'value mapper ' to map the V1 ... VN values to a commonly-typed V new values ( i.e . a Function < ? super Entry < K , VN > , ? extends V > ) on these maps . As such , I have the following static helper method to perform the first two steps : My current use cases make it safe to assume that only after the filtering on each map will give me distinct keys for the final Map object ( there can be the same keys used in each map ) , but in the event that does not hold true in the future , I know I can provide a supplementary mergeFunction expression to Collectors.toMap ( Function , Function , BinaryOperator ) to handle this properly.The final code now reads something like the following : Question : Is there a more efficient way of doing this ? This sounds like yet another case of reducing stuff ( filtered maps ) into a final collection ( Map ) which requires different reduction invocations ( the value mapping part ) , and I am not sure if I am approaching this the correct way or not . * - If they do , then I guess V1 ... VN can implement a parent method , say V convertToV ( Object ... possiblyAdditionalArgumentsToPerformTheConversion ) , so that my problem is reduced to just applying different forms of filtering for different maps . If there is also a simpler solution given this alternate assumption , feel free to mention it too ."
"Came accross this today and spent ages trying to reproduce/figure out what was happening . Can somebody explain why this happens or is this a bug with type erasure/default methods/lambda's/polymorphism ? Uncommenting the default method makes it run fine , but I would have expected this to work as isOutput : Code"
"In the above statement , can I use an int array in place of the String array ? What happens if I do n't put anything in the parenthesis , i.e if I use an empty parenthesis ?"
"Recently I ` ve migrated GCM to FCM and after some struggle , I 've managed to make everything work with the help of this great community.Now when I tested notifications on older version of Android ( Nougat ) it does n't work , app just crash , I 've found out that its something related to versions as older ones does n't support channel managers.I 've found few solutions on StackOverflow but I have n't find a suitable one for my problem so I was hoping someone could toss me a hint or solution.I appreciate all the answers and help . }"
The code compiles fine with JDK 8 ( 1.8.0_212 ) but fails to compile using JDK 11 ( 11.0.3 ) both Oracle jdk and open jdk ( aws corretto ) Tried compiling using javac and with Maven ( maven version 3.6.1 and maven-compiler-plugin version 3.8.0 ) it compiles for JDK 8 and fails for JDK 11.Error :
I am leaning to program in Scala and came across this problem where Scala code throws StackOverflowErorr while similar implementation in Java can go a bit more before throwing the same errorThe error i get isThe java code is Why does n't Scala 's tail recursion optimization help ? How come Java can handle ( Java could not handle more than 15000 say 16000 as well ) ? They are run on same eclipse ide with default stack size of java 7 on desktop machine .
"I 'm currently trying to splice a string into a multi-line string.The regex should select white-spaces which has 13 characters before.The problem is that the 13 character count does not reset after the previous selected white-space . So , after the first 13 characters , the regex selects every white-space.I 'm using the following regex with a positive look-behind of 13 characters : ( there is a whitespace at the end ) You can test the regex here and the following code : The output of this code is as follows : This is a test . The app should break this string in substring on whitespaces after 13 charactersBut it should be : This is a test . The app should break this string in substring on whitespaces after 13 characters"
"I 'm benchmarking some of our code on an OPO device that 's normally pretty fast and I 'm seeing a lot of `` weird '' performance oddities . Before digging deeper into the Android native code I thought I 'd ask here.What I 'm seeing is that a call for paint.setColor ( argbInt ) takes roughly 5 times longer to execute than the following calls : Now draw rect happens on the GPU so I 'm guessing I do n't see any overhead for that . But why should I get overhead for the paint color ? And as a natural followup , how do I reduce said overhead ? I 'm also seeing quite a bit of overhead for canvas.restore ( ) ( roughly 4 times slower than the code above ) but I guess that would make sense as it could be a complex operation . I just do n't see why setColor would be slow ? For the record I tested the performance on an OPO with System.nanoTime ( ) and its pretty consistent in terms of performance ( not a sudden GC fluke or something ) ."
"I am trying to read some Java code from a tutorial , I do n't understand the line : I do n't understand what the ... represents if it was just ( Integer zips ) I would understand that there is a variable of class Integer called zips . But the ... are confusing me ."
"What to do if classes with same interface having similar but different method signature ? Let 's say I have a project to calculate different costs ( to get a total cost at last ) .In my program , there is several calculator classes , namely ACostCalculator , BCostCalculator and so on . When a calculate ( ) method is invoked to calculate a cost , a cost container is passed to those cost calculators too . In a good scenario , I can make a CostCalculator Interface for every cost calculators.However , the calculation for different cost required different resources . In my current program , it make be like : If the signature is exactly the same , I may make a loop conveniently to do it at once . However , since they are similar but different , I ca n't even make a good interface.I am not sure if there is good ways to do so . What I can think of is generalizing all calculate ( ) method to intoAny ideas ? Thanks for answering ."
"I got a Map , which may contain one of the following KeysI now want to check if one of some Keys are set . My current approach is to chain multiple map.getOrDefault ( ... ) or check for each key if it exists in the map.Is there any way to make this easier/better to read ? Unfortunately the map is given as such ."
"Suppose I have this : Then in my code , I can safely cast without a warning like this : which is fine . But if the derived class has more type parameters , it does n't work any more : Why is that ? Is there something obvious I 'm missing here ?"
Is there any value that could be assigned to the myString variable that would result in an infinite loop in the code below ?
"When trying to inject a class which is in the java.lang namespace via java.lang.instrument.Instrumentation # appendToBootstrapClassLoaderSearch on a OpenJDK 11 , nothing happens and no error is thrown . When placing the class to inject into a different package , it works as expected.The reason I want to do this is to overcome issues with some OSGi containers . They typically restrict delegation to the bootstrap class loader to only certain packages . By default that obviously always includes java . * which is why I want to put my Dispatcher class there . I 'm aware of org.osgi.framework.bootdelegation but that property only gets read during initialization . That means when attaching an agent at runtime , it 's already too late to override this value.An alternative would be to instrument all known OSGi class loaders and to white-list the agent classes . But doing that for each framework and test that for each version seems less feasible.How can I inject a custom class like java.lang.Dispatcher into the bootstrap class loader ? Are there other patterns or best practices to avoid OSGi bootdelegation issues ? To provide some more context : My idea is to only inject this one Dispatcher class into the bootstrap class loader . The dispatcher basically just holds a static Map . The rest of the agent 's classes would be loaded by a dedicated URLClassLoader which is a child of the bootstrap class loader . The agent would then register MethodHandles in the dispatcher 's Map so that the injected byte code can get ahold of the MethodHandles which enable accessing the agent 's classes loaded in the agent class loader ."
"In order to get the exact sum of a long [ ] I 'm using the following snippet.It works fine by processing the numbers split in two halves and finally combining the partial sums . Surprisingly , this method works too : I do n't believe that the fastestSum should work as is . I believe that it can work , but that something more has to be done in the final step . However , it passes all my tests ( including large random tests ) . So I 'm asking : Can someone prove that it works or find a counterexample ?"
"I need a WHERE clause to check tuples IN a list : ( field1 , field2 ) in ( ( ' 1 ' , 1 ) , ( ' 2 ' , 2 ) , ( ' 3 ' , 3 ) ) . This is valid SQL in Postgres.Dialect : POSTGRESjOOQ Version : 3.9.6What is the correct jOOQ syntax for this case ? jOOQ 3.9 documentation implies this is possible , but their example only gives degree 1 : https : //www.jooq.org/doc/3.9/manual/sql-building/conditional-expressions/in-predicate-degree-n/This code gives an approximation of what I 'm looking for , but I ca n't get the right type/data for referenceOrderIdLineNumbers nor can I get the right SQL generated by jOOQ ."
"sorry if this is extremely obvious or has been answered elsewhere . I have n't been able to find anything . I have the following code : I create two instances of this SimpleThread class , and execute the run methods . I would expect to see something like : Thread 9 incrementing ... Thread 9 sleeping ... ( after 5 seconds ) Thread 10 incrementing ... . Thread 10 sleeping ... . I expect this because I am locking the iterator method so that only one thread at a time should be able to enter it . What happens instead is that both threads increment , and then both wait 5 seconds . This repeats forever . What am I missing here such that I would get the expected behavior ? Thanks very much ! EDIT : I made a new public static variable : public static Object theLock = new Object ( ) . Now , in the iterator method , I do synchronized ( theLock ) . The output is now more as I expected , because the lock never changes . However , now only thread 9 ever enters the method . It seems that thread 10 is starving , and never gets a turn . This seems strange . It 's not just a few times , its always just thread 9 iterating and sleeping . I would think that it would be 9 , 10 , 9 , 10 . Or perhaps a random distribution like 9 , 10 , 10 , 10 , 9 , 10 , 9 , 9 , 10 , etc . EDIT2 : I see what 's happening now . Thread 9 has the lock . Thread 10 tries to enter the function , but is immedietly told to wait . After the function completes , it may still be Thread 9s turn . Thread 9 then reaqquires the lock , and the cycle continues . The timing window for thread 10 to get a turn is very small , and if it did get a turn it would likely starve 9 . That being said , putting yield ( ) after the synchronized block in iterator ( ) does not seem to make it more fair . I read the comments on the method , and the scheduler can in fact ignore yield ( ) ."
OUTPUT : BWhy does virtual machine call this method f ( null ) { System.out.println ( `` B '' ) ; } ? Why not f ( null ) { System.out.println ( `` A '' ) ; }
"Discussions of finalizable objects in Java typically discuss the common indirect costs that happen when finalizable objects ( and their associated resources ) can not be quickly garbage collected.I 'm more interested , at the moment , in what the actual direct cost of being finalizable is , both in memory terms , and in object allocation time . I 've seen oblique references to the existence of such a cost in a number of places , for example , Oracle 's article on finalization memory retention issues notes : When obj is allocated , the JVM internally records that obj is finalizable . This typically slows down the otherwise fast allocation path that modern JVMs have.How does the JVM record that an object instance is finalizable , and what are the memory and performance costs of doing so ? For those interested in my specific application : We produce and retain millions of incredibly lightweight objects ; adding a single pointer to these objects is incredibly costly , so we 've done a fair bit of work to remove pointers from them , instead using smaller numeric ids packed into a subset of the bits of a field . Unpacking the number allows the shared immutable property with that id to be retrieved from a Pool that stores them using a Map.The remaining question is how to handle the garbage collection of property values that are no longer used.One strategy that has been considered is using reference counting ; when objects are created and retrieve the pooled id for a value , the reference count for that value is incremented ; when it is no longer used , it must be decremented.One option to ensure this decrement happens is to add the following finalize method : However , if the very act of being finalizable means that an additional pointer to the object must be kept , the up-front cost of being finalizable would be considered high for this application . If it means additional objects must be allocated , it would almost certainly be too high ... hence , my question : what is the direct up-front cost of being finalizable ?"
"I 'd like to pass a String parameter as `` null '' However , this is for the super method in a constructor - so i can not doI can not just doas this will result in an ambiguous method call . I do n't want to have an instance variable that is null for this either , that seems inelegant.Is there a way to create a null String ? NB"
"The following simple Java program appears to display the string Hello World through the statement System.out.println ( `` Hello World '' ) ; but it does n't . It simply replaces this with another string which is in this case , Good Day ! ! and displays it on the console . The string Hello World is not displayed at all . Let 's look at the following simple code snippet in Java.Just one question about this code here . It works exactly as expected but I can not reduce the length of the string Good Day ! ! . If an attempt is made to do so , it causes a java.lang.ArrayIndexOutOfBoudsException . If the length is increased , the program runs well but the rest of the characters in the displaying string are truncated means that the length of the both of the strings should somewhat be the same . Why ? This is the thing that I could n't understand ."
"Consider the following toy method : And the following client code : Do now both calls involve autoboxing , or only the latter , even though Float testReturnFloat ( ) has been used as method signature ? Small note : This question is only for theoretical analysis , I encountered it as I almost put this into production code due to a typo ."
"A compiler that must translate a generic type or method ( in any language , not just Java ) has in principle two choices : Code specialization . The compiler generates a new representation for every instantiation of a generic type or method . For instance , the compiler would generate code for a list of integers and additional , different code for a list of strings , a list of dates , a list of buffers , and so on . Code sharing . The compiler generates code for only one representation of a generic type or method and maps all the instantiations of the generic type or method to the unique representation , performing type checks and type conversions where needed.Java uses code sharing method . I believe C # follows the code specialization method , so all the code below is logical according to me using C # .Assuming this Java code snippet : Code sharing method will lead to this code after type erasure occurs : So my question is : What is the need to precise this initial cast ? : instead of doing simply ( before type erasure , at coding time ) : Is this cast really necessary for the compiler ? Ok , Arrays.copyOf returns Object [ ] and are not directly referenceable by a more specific type without explicit downcast . But ca n't the compiler make an effort in this case since it deals with a generic type ( the return type ! ) ? Indeed , is n't it enough that compilers apply an explicit cast to the method 's caller line ? : UPDATED -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -Thanks to @ ruakh for his answer.Here a sample that proves that explicit cast even just present at compile-time is relevant : Casting to T [ ] is the only way to put some warning to user signaling the cast may not relevant . And indeed , here we end up with a downcast of Object [ ] to String [ ] , which leads to a ClassCastException at runtime.So , to the point saying `` is n't it enough that compilers apply an explicit cast to the method 's caller line '' , the answer is : Developer does n't master this casting since it is created automatically at compilation step , so this runtime feature does n't warn the user to check deeply his code for its safety BEFORE launching compilation . To put it a nutshell , this cast is worth to be present ."
"As far as I understand , variable evaluation is done at run time . However , type evaluation is done at compile time in Java.Also as I see , making a variable constant ( I am using local variables but it changes nothing about the concept above ) , will make its value known at compile time.I provide you two examples to test this concept . The first is working and the second is not.Could someone explain to me why making the variable constant allows me to assign a short variable to an int variable , whereas I can not assign an int variable to a long ?"
"I have a stream < A > , where I would like to get a map < String , list < A > > , where the original stream is partitioned into sublists based on the value of category ( ) . It is pretty trivial to have it implemented using a for loop , but is it possible to get a more elegant solution harnessing java streams ? EXAMPLE : Given { [ a , xyz ] , [ a , zyx ] , [ b , abc ] } , I would like to get a map :"
"During my studies to the OCPJP8 I 've encountered one question which does n't have very clear answer to me . Consider following code : According to the book correct answer for a question `` Which exception will the code throw ? '' is `` Runtime exception c with no suppressed exception '' .I have check this code in Eclipse and system.out suggest that the book is right . However , I 've also modified the code a bit and added the following system.out just before throwing RuntimeException `` c '' and the output I 've got from this system.out is : [ Ljava.lang.Throwable ; @ 75da931bSo clearly there is a suppressed exception . In debug mode , I 've also found that this suppressed exception is the one frown in close ( ) method.Two questions:1 . Why there is no information in the console about exception throwed in close ( ) method ? 2 . Is the answer given by the book correct ?"
"This code acts as expected printing `` Average Number of Runs : 0.99864197 '' This code that should print the same exact number , but instead it prints a random negative number.Is there some optimization that happens in java for loops ? Notes : I 'm using jdk1.6.0_45.In normal usage the new Random would have a better seed.min and max should be able to be any number ."
"Consider the following example where we are sorting people based on their last name : Now , let 's assume that getLastName returns an optional : Obviously persons.sort ( Comparator.comparing ( Person : :getLastName ) ) ; will not compile since Optional ( the type getLastName returns ) is not a comparable . However , the value it holds is.The first google search points us in this answer . Based on this answer we can sort persons by doing : My question is , is it possible to have this kind of sorting using a function ( key extractor ) just like Comparator.comparing ? I mean something like ( without caring absent values first or last ) : If we look into Comparator.comparing , we see the following code : I tried multiple ways to make it return an OptionalComparator instead of a simple Comparator , but everything I tried and made sense to me was unable to be compiled . Is it even possible to achieve something like that ? I guess type-safety can not be achieved , since even Oracle 's comparing throws a type-safety warning.I am on Java 8 ."
I 'm try to convert a list to a map using the Collectors.toMap call . The list consists of ActivityReconcile objects . I want to pass an instance for every entry in the list into the toMap call.The code is below and where I need the instances is denoted by ? ? .
"I 'm attempting to consolidate multiple unnecessary web requests into a map , with the key connected to a location 's ID , and the value being a list of products at that location.The idea is to reduce the amount of requests to my flask server by creating a single request for each location , with a list of required products mapped to it.I have tried to find others who has faced a similar problem using Java 8 's streaming functionality , but I can not find anyone who is trying to append to a list within a map.Example ; Also , the second p parameter can not access the current product in stream.Because of this , I have been unable to test if I can append to a List when the location number matches a pre-existing list . I do n't believe I can use Arrays.asList ( ) , as I believe its immutable.At the end , the map should have many product numbers in a list per location . Is it possible to append Integers to a pre-existing list within a map ?"
I was just wondering why we do n't use camelcase notation ( instanceOf ) instead of how it is ( instanceof ) .
"I made a topic some hours ago that lead me to a public repository : https : //github.com/biezhi/webp-ioHowever , I had to update the library used , cwebp and make changes to the code.Its my first fork.My fork is located here : https : //github.com/KenobySky/webp-ioQuestion : Im trying to declare this 'fork ' git repository as dependency in gradle but I get this error below , what should I do ? ReferencesIs it possible to declare git repository as dependency in android gradle ?"
I am writing a program to calculate the decimal expansion on the number 103993/33102 and I want to print out all of the trailing decimals depending on what number the user inputs . It runs quickly for all number up to 10^5 but if input 10^6 to program takes around 5 minutes to print out an answer . How can I speed things up ? I have tried two different approaches one using BigDecimal and the other using strings and neither one is working efficiently .
"I have the following scenario , simplified : Where -- - > means `` depends on '' .ProjectB is really simple . It does n't declare any dependenci . In fact , the only relevant part is this : In pom.xml of projectA I have declared the dependency to projectB : And in pom.xml of projectX I have : The problem is that projectX needs to use components ( classes and such ) that are defined in projectB . If I change the scope in projectA to use compile for projectB , everything will work , but then projectB will be included when generating the war in projectX , and I need to have this library out of the generated war because I 'm providing projectB in other part of the project.In the real scenario , I have several dependencies like projectB that affect projectA , so to reduce the size of the generated war , I would like to set them as provided , but then projectX can not use the components defined in any of those libraries . Example of components : Spring , Hibernate , etc.Question : Is there a way to achieve this in a clean way without re-declaring dependencies in lots of places ?"
"I want to determine if a string is the name of a month and I want to do it relatively quickly . The function that is currently stuck in my brain is something like : However , I will be processing lots of text , passed one string at a time to this function , and most of the time I will be getting the worst case of going through the entire loop and returning false.I saw another question that talked about a Regex to match a month name and a year which could be adapted for this situation . Would the Regex be faster ? Is there any other solution that might be faster ?"
"Our project is developed using Eclipse OSGi , but provides also normal JARs via jardesc files for export . The project uses the ASM library and a javaagent in order to exchange invokevirtual with invokedynamic calls.This worked well in Java 7 and 8 . Now , we upgraded to Java 9 and ported our implementation to use jdk.dynalink.The exported parts OTRE_MIN : The minimal runtime and Meta-Object-Protocol part.OTRE_DYN : The dynamic weaving code ( ASM ) and rest of runtime.OTRE_AGEND : The javaagent.For now , OTRE_MIN also includes OTRE_DYN . So everything is put into the bootclasspath.I start the program with following codeHowever , it seems that the jdk.dynalinkpackages are not visible anymore on the bootclasspath.I read other threads about Java 9 and the module system and the changes to the class loaders , but they did not provide any solution to the problem.How can I make jdk.dynalink visible to the classes of $ OTRE_MIN as pre Java 9 ?"
"How to prevent loading the value that is not present in the cache many times simultanously , in the efficient way ? A typical cache usage is the following pseudocode : The problem : before the value is loaded from service ( Database , WebService , RemoteEJB or anything else ) a second call may be made in the same time , which will make the value loaded once again.For example , when I 'm caching all items for user X , and this user is often viewed , and have many items , there 's high probability of calling the load of his all items simultanously , resulting in heavy load on the server.I could make get function synchronized , but this would force other searches to wait , making not much sense . I could create new lock for every key , but I do n't know if it 's a good idea to manage such large number of locks in Java ( this part is language specific , the reason I 've tagged it as java ) .Or there is another approach I could use ? If so , what would be the most efficient ?"
"I 'm currently learning to program in Java , and I have a question about the unary incrementers listed in the title I have n't been able to find elsewhere . I just started playing around with them , and could n't quite decide which one to use in a for loop because it seems the difference in behaviors between prefix ( increment then evaluate ) and postfix ( evaluate then increment ) would n't apply in a for statement . So I tried both , and both worked . This worries me , because I want to use them the way they 're meant to be used . So my question is , are they truly interchangeable in incrementing a for loop , or is there some obscure problem I 'll run into down the road using one vice the other ? I decided to time them ( below ) , and ++x definitely runs faster than x++ , but I have no idea why . Can anyone expand on that ? Thanks !"
"I wonder why this is a valid override : Whereas this is not : According to JLS §8.4.8.1 , B.getSupplier must be a subsignature A.getSupplier : An instance method mC declared in or inherited by class C , overrides from C another method mA declared in class A , iff all of the following are true : ... The signature of mC is a subsignature ( §8.4.2 ) of the signature of mA ... .Subsignatures are defined in JLS §8.4.2 : Two methods or constructors , M and N , have the same signature if they have the same name , the same type parameters ( if any ) ( §8.4.4 ) , and , after adapting the formal parameter types of N to the the type parameters of M , the same formal parameter types.The signature of a method m1 is a subsignature of the signature of a method m2 if either : m2 has the same signature as m1 , orthe signature of m1 is the same as the erasure ( §4.6 ) of the signature of m2.So it seems like B.getSupplier is a subsignature of A.getSupplier but B.getSuppliers is not a subsignature of A.getSuppliers.I wonder how it can be the case.If B.getSupplier is a subsignature of A.getSupplier because it has the same erasure , then B.getSuppliers must also have the same erasure as A.getSuppliers . This should suffice for overriding getSuppliers to be legal - but it does not.If B.getSupplier is a subsignature of A.getSupplier because it has the same signature , then I wonder what `` the same type parameters ( if any ) '' exactly means.If type parameters are considered , then they should have different type parameters : A.getSupplier has type parameter X , B.getSupplier has none.If type parameters are not considered then how 's getSuppliers different ? This is more of an academic question about overrides and generics so please do n't suggest refactoring code ( like moving type parameter X to the class etc . ) .I am looking for a formal , JLS-based answer.From my point of view B.getSupplier should not be able override A.getSupplier as they do n't have the same type parameters . This makes the following code ( which produces ClassCastException ) legal :"
Is monadic programming in Java 8 slower ? Below is my test ( a right-biased Either is used that creates new instances for each computation ) . The imperative version is 1000 times faster . How do I program monadicaly in Java8 while getting comparable performance ? Main.javaEither.java
"When running `` gradle build '' I got the following error with one of our projects , couple of the classes get the following compile error : Even though , the method setFirstResult takes a long as parameter . Here is the code : I have tried -- refresh-dependencies and cleared out cache etc . None of those worked for me . In addition , this project was a maven project , I converted it over to use gradle instead . Edit : I 'm adding additional context here per the request from the comments : Here is the source code for the this._logFilterHere is the full stack-traceEdit : added the source code of GlobalMessageLogProvider"
"If I have the following two classes : andI then compile them with javac Base.java Derived.java and then use javap -v Derived . If I use Java 7 , I getIf I do the same thing with Java 8 , I instead get The thing to note here is that there is an annotation visible on the void method ( java.lang.Object ) stub in the Java 8 version that is not present in the Java 7 version . It 's not just javap making a mistake -- if you use reflection to check the annotations present at runtime , the Java 7 version only has an annotation on void method ( java.lang.Number ) and the Java 8 version has it on both . What 's going on ?"
I 've met a such kind of code and comments in the java.util.ImmutableCollections class : Why not just throw new IndexOutOfBoundsException ( ... ) ? What 's the reason ?
I 'm trying to allocate a large matrix ( around 10GB ) . I 'm working on 64 bit machine with a 64 bit JVM . My process then should have 2^64 bytes available and I 've set the JVM heap size to be 128G ( I have 16GB of RAM in my machine if that matters ) . My understanding was that I should get the memory from the OS and that unneeded matrix cells would be swapped out by the OS . However I 'm getting the above exception.Edit : This is how I 'm defining the matrix : Where num_words is approximately 100k and num_documents is approximately 35k.Also worth mentioning that the type is doubleEdit2 : Relevant flags :
"in most IDEs and editors there 's no consensus as to how to ident the @ Override . and it 's not covered in the coding style for java http : //www.oracle.com/technetwork/java/codeconvtoc-136057.htmli use exclusively vim and it creates a new indentation level . So i 'm inclined to think that the correct isBut every documentation showsBut most of the time , the editor autoidents that toSo , is there a 'correct ' way ? should i fix my java.vim syntax rules ?"
"Strangely , it outputs 25.0 instead of 25Whats going on ?"
"suppose i have two functions , boolean fA ( ) and boolean fB ( ) if i write another function function ( boolean b ) and I call function ( fA ( ) ||fB ( ) ) then fB ( ) might not be executed , if fA ( ) returns true.I like this feature , but here I need both functions to execute . Obvious implementation : is ugly , and needed extra line makes it less readable.is there an way to force evaluation in Java or other elegant way to write this in one line without helper variable ?"
I get a StackOverflowException on this Java method : I 'm playing with tail call recursion so I guess this is what happens when the JVM does n't short circuit the stack right ?
"There is a C++ function , which is called from Java code via JNI.I want to pass the underlying c-string to the Java correctly , so I have done below arrangements : But in this case , the function data ( ) is no longer thread-safe.What is the best way to achieve the thread-safety while passing the string without causing any undefined behavior ?"
"I was fiddling around making infinite loops to test some other code/my understanding , and came across this strange behaviour . In the program below , counting from 0 to 2^24 takes < 100ms on my machine , but counting to 2^25 takes orders of magnitude more time ( at time of writing , it 's still executing ) .Why is this the case ? This was under Java 1.8.0_101 , on a 64-bit copy of Windows 10.TestClass.java"
// Desired output : : newCode = `` helloworld '' ; But this is not replacing i++ with blank .
"I 'm testing the results of a query . The table where the results are stored has a structure like this : And the query receives parameters in order to do the search based on Date and Hour columns like this : For example , if I use the following values : dateFrom : '2015-01-01'hourFrom : 700dateTo : '2015-01-03'hourTo : 600The query will return all rows where the value of Date is between 2015-01-01 and 2015-01-03 , the values of hour are higher or equal than 700 only for Date = 2015-01-01 and the values of hour are less or equal than 600 for Date = 2015-01-03 . In this example , all the rows with Date = 2015-01-02 will be retrieved from the data source.I retrieve the results of the execution of the query in a list . In order to evaluate the results , I 'm using the values of the parameters I 've used to check if the data in the list complies with them . I 'm using a method to check if the date of the element is between dateFrom and dateTo , but I 'm wondering how can I test the values of hourFrom and hourTo . I have the following ideas : Start checking for the minumum value of hour on the elements where the value of Date is equals to my dateFrom parameter and check if this value is equals to hourFrom . Do similar for hourTo but with the maximum value of those rows where value of Date is equals to dateTo parameter value.Sort the list in my test method by Date and Hour , then check the first and last elements in the list . The sort method to use will be obtained from the programming language I 'm using.Which option is correct to do ? If none , what will be the best strategy to do it ? . I 'm using Java to write the tests , but this question is more focused on how to write the test method rather than the technology/framework to use . Also , I can not modify the query to add an ORDER BY clause ( that would ease lot of my work but is not feasible ) .I 'm concerned about best practice . I was thinking on sorting the data so I will make assertions on two elements but then I 'm worrying if I also have to test the Comparator used for sorting because it may sort the list wrongly and my test will fail , while checking each element manually means using if-else statements for the assertions , and I 'm not sure if that is a good practice ."
"I want to have smooth text in my game . I found that solution is pixel shader , so i do every thing like is described on github documentation . I 've got font.vert and font.frag files and in this documentation is said that i should use const float smoothing = 0.25f / ( spread * scale ) . My font is 48 px size thus i use 0.25f/48.0f but my font is stil sharp and ragged . What am i doing wrong ? this is font.frag : I alos use linear filter for my font : text `` your score '' is written with pixel shader and linear filtertext `` high score '' is writte only with linear filter but it is stil sharp"
"I 'm trying to understand how Java handles cases of ambiguity that come out when a concrete class inherits ( abstract or concrete ) methods having the same name from different classes/interfaces . I 've not been able to find a general rule , this is why I decided , once for all , to spend some time on this by using a practical approach.I considered 8 different cases , combiningabstract methodsnon-abstract methodsabstract classesinterfacesresulting in this scheme : And here every case is implemented and commented : Done that , anyway , albeit I 'm able to understand the majority of the cases in my example , I 've not been able to infer any `` general rule '' yet . For instance , I do n't understand why cases 2a and 3a work differently , i.e . why an implementation given by the abstract class is accepted while an implementation given by the interface is not.My final question is : does any `` genaral rule '' really exist ? Is there any way I can predict how the compiler will behave without having to memorize every single case ? EDITIt could be trivial , but I think it can be useful to someone else putting down my considerations.I think you can summarize all the question to this simple steps : Given an example code like thisConsider your class C made up of all its methods and inherited ones ( call it C* ) class C* implements I , J { protected void foo ( ) { } ; } Validate C* against interfaces it implements ( every method ambiguity coming from interfaces , including default methods , must be resolved in C by giving an implementation ) .3a . If C* gives a valid implementation stop here ( it 's not the case because method visibility can not be reduced from public to protected ) 3b . Otherwise a valid implementation is needed in Cclass C extends B implements I , J { public void foo ( ) { } }"
"I was wondering that what is the best/appropriate way to release file resources/handles.Traditional code , } Will the file handle be released by closing BufferredInputStream.close alone or it needs the underlying stream ( i.e . FileInputStream.close ( ) ) also to be called explicitly.P.S . Javadoc for [ FilterOutputStream.close ] method specifies that it will explicitly close the underlying stream too . But other streams does n't seem to have this in the doc.Please advice . Thanks in advance ."
"When using Matcher 's find ( ) method , a partial match returns false but the matcher 's position moves anyway . A subsequent invocation of find ( ) omits those partially matched characters.Example of a partial match : the pattern `` [ 0-9 ] + : [ 0-9 ] '' against the input `` a3 ; 9 '' . This pattern does n't match against any part of the input , so find ( ) returns false , but the subpattern `` [ 0-9 ] + '' matches against `` 3 '' . If we change the pattern at this point and call find ( ) again , the characters to the left of , and including the partial match , are not tested for a new match.Note that pattern `` [ 0-9 ] : [ 0-9 ] '' ( without the quantifier ) does n't produce this effect.Is this normal behaviour ? Example : in the first for loop , the third pattern [ 0-9 ] matches against character `` 9 '' and `` 3 '' is not reported as a match . In the second loop , pattern [ 0-9 ] matches against character `` 3 '' ."
"I am having an issue where the JRE crashes whenever I check if the GtkLookAndFeel is supported . Surprisingly , this bug only appears to show up on Oracle JREs.So far I have tested the behavior on three JREs : ( I am using the 64 bit version of all of these ) OpenJDK Runtime Environment ( IcedTea 2.5.1 ) ( 7u65-2.5.1-4 ) - > Runs fineJava ( TM ) SE Runtime Environment ( build 1.7.0_67-b01 ) - > CrashesJava ( TM ) SE Runtime Environment ( build 1.8.0_20-b26 ) - > CrashesHere is code to trigger this bug : Here is the resulting output : Note that the program only crashes after it exits main . For reference , I am developing on a 64-bit debian testing machine and I have verified that other GTK+ apptications work.Should I report this to Oracle or am I doing something wrong ?"
Possible Duplicate : Generics in for each loop problem if instance does not have generic type assigned Could someone clarify why iterate1 ( ) is not accepted by compiler ( Java 1.6 ) ? I do not see why iterate2 ( ) and iterate3 ( ) are much better.Compiler output :
"I was experimenting with anonymous classes today . When I do System.out.println ( super.x ) ; , it prints 12 , and when I use System.out.println ( x ) ; it prints 4 . I thought super.x would print 4 and was wondering if someone could please explain to me why this is ?"
"So I have been working fairly extensively with the Neo4j API , and I have noticed that virtually always they will have functions which return whereas I have always understood that it is better to return one of Set , List , or Collection unless one has a compelling reason to do otherwise . Set to indicate to the user that it will never have duplicate elements , List when order is important or it contains duplicates , or Collection when you do n't have a policy.I prefer these to Iterable as they have useful utilities like .contains ( ) , .add ( ) etc . I have found that very often I have to write code to convert an Iterable to a Collection.So my question is : Am I missing something important ? Is there a sound reason to use Iterable over Collection ? When would you do so ? Obviously , the guys at Neo4j seem to be first rate programmers , so I assume that they have a reason for this , but I can not see it ."
"When I compile : I get an empty method fooTest ( ) { } . However when I compile : the if statement is included in the compiled class file . Does this mean there are two different `` types '' of static final in java , or is this just a compiler optimization ?"
"I have the following code which compiles successfully : However , if I convert the Supplier to the following lambda expression the code does not compile anymore : The compiler error is : If I change the declaration of the supplier to Supplier < ? extends List < V > > , both variants compile successfully.I compile the code with a Java 8 compiler.Why does the code with the lambda not compile , although it is equivalent to the non-lambda version ? Is this a known/intended limitation of Java or is it a bug ?"
I have class AbstractsAndInterfaces : Why does it print 5 ? Why BASE variable is uninitialized ?
I have the following method in a class : Will this pattern get re-compiled every time the method is called ? Or does it get cached ? Should I declare it as a static variable in my class ? Thanks
"I want to use the Templating Maven Plugin in my project , but I do n't understand where to put my sources . The plugin docs specify : but Intellij does not recognize this as a sources folder , and therefore wo n't allow me to create classes in it . If I make it a sources folder manually , then I run into the issue that I ca n't reference my classes from the src/main/java folder.Where should I put the classes to be fitered , or how do I configure Intellij to work with the Templating Plugin ?"
"I am reading the differrences between ArrayList and LinkedList pointed out in When to use LinkedList over ArrayList ? . I developed a small example applcation to test a major advantage of LinkedList but the results I obtain do not confirm , that LinkedList outweighs ArrayList in the performance of the operation : Here is my code : The measurement gives : I notice that the increase of elements impairs significantly the performance of LinkedList while ArrayList presents a considerably better behaviour . Have I understood something false ?"
"There is something that I do n't understand in the usual implementation of the clone method.If you look at the first line in the try block in the following code , we are calling super.clone ( ) , which will create an instance of the of the super class , and return an Object reference to that instance . Now , that instance does not necessarily contain hireDay , so how are we saying copy.hireDay ? It is true that it will compile fine , but should n't it crash if the instance does not contain hireDay ?"
"Base Class : Derived Class : This is what I have in mind regarding what is going on above.When I create an object of the derived class by default super ( ) is called and the constructor of the base class is called and it initializes the variable i . Now , my question is : Does the constructor in this case only initialize the variable i and does n't create a concrete object of class ? From what I have read so far there is only one object created - of the derived class which has i variable in it . But from the time the constructor of base class is called and the point in time where constructor of the derived class is called how/where is i stored in memory ? And what would be the case in which base class is an abstract one.I would really appreciate if I can know what happens in memory at different points of time.If I have said something which is fundamentally incorrect please let me know . I really want to know how this thing works ."
"I am trying to not load my entire tile based map into memory to save RAM client side . The map will be huge and already is requriring 1GB client side ( multi-layered map ) .I have gotten some perspective on Game Dev SO . I am trying to Load zones/chunks of my game map into memory ( i.e . 300x300 ) and then when the player moves 100 steps shift the array and load 100 new tiles depending on direction . I have tried to work on a scaled version of this and now have a generic question.I need help when the playerX/Y coordinates are on the perimeter of the map ( which causes the chunk to be outside of the map ) Here is what I have come up with so far ( note : player is in center of chunk & chunk always odd number sized ) ... It has the following issues ( when the character is on the edge of the map ) : change characterX/Y to 0,0 and the bottom left ( 0,2 ) coordinate will incorrectly be 7 0 , 0 , 0 0 , 1 , 1 7 , 1 , 8change characterX/Y to 8,8 and the top right ( 2,0 ) coordinate of the chunk will incorrectly be 6 1 , 1 , 6 1 , 1 , 0 0 , 0 , 0Here is the SSCCE : Thanks so much for any assistance ."
"Is there any way to do Null Objects with Java Records ? With classes I 'd do it like that : But that does not work , because every constructor needs go through the canonical ( Id ( String id ) one and I ca n't just call super ( ) to go around the invariants.Right now I work around this withbut that feels wrong and open to concurrency problems.I have n't found a lot of discussion about the design ideas behind records and this may have been already discussed . If it 's like that to keep it simple that 's understandable , but it feels awkward and I 've hit that problem multiple times already in small samples ."
I was studying on leetcode for an interview . There were a question about finding missing number unpaired in array . I solved it by using HashSet . But i saw the below solution which is more efficient than mine.My question is that what the logic XOR of a ^= nums [ i ] means ?
"I 'm practicing algorithms and let 's say we have an array with elements 2 , 3 , 9 , 12 , 7 , 18 , then I want to print 18 only because it 's double of 9 . When I print the result it always displays much more lines , however , the printed numbers ( if there are any ) are good . How can I manage displaying the result properly ? ( Using only arrays . ) I know it 's a silly question but I tried so many ways and it was only worse.Now , it shows me this for example ( 140 is correct , but the other line are not needed ) : My code :"
"I 've coded for several months in Python , and now i have to switch to Java for work 's related reasons . My question is , there is a way to simulate this kind of statementwithout defining an additional isIn ( ) -like boolean function that scans list_name in order to find var_name ?"
"I want to display a formatted date on my JSP page , so I use : It works perfectly . It is displayed on the page as However , a strange thing happens when it is cached by Google - the date on the cached page is displayed like this : Can anyone explain this ? Should n't the formatting happen on the server ? Does n't my application server ( Tomcat ) send only the HTML to the page ? How does Google know that this was in fact a Java date in the first place ? Just to clarify , to get to the cached version of the page , I perform a search on Google that displays my page in the results and I click on the down arrow and get to the cached version of my page ."
Why this happening.Why there is compilation error in first case . If i put braces then no compilation error but for if statement braces are optional if it 's one statement .
"With jdk12 , came Chess symbols ( source ) : Unicode 11.0.0 introduced the following new features that are now included in JDK 12 [ ... ] 4 blocks for the following existing scripts : Georgian Extended Mayan Numerals ndic Siyaq Numbers Chess Symbols With that in mind , I tried to print those characters with the following code , to test the functionality and use those later in a little chess game : However , it is not printing anything . The code works if I replace CHESS_SYMBOLS with , for instance , ARABIC . I have java 12.0.1.Question : Why is n't the above code printing anything ?"
"I am trying to run a maven project from a python script . I have installed apache maven . Running the command : mvn exec : java -D '' exec.mainClass '' = '' org.matsim.project.RunMatsim '' from terminal in the project folder where the pom.xml is , creates no errors and the project runs correctly.But when running the following code from my python scriptI got the following error : [ ERROR ] No goals have been specified for this build . You must specify a valid lifecycle phase or a goal in the format : or : [ : ] : . Available lifecycle phases are : validate , initialize , generate-sources , process-sources , generate-resources , process-resources , compile , process-classes , generate-test-sources , process-test-sources , generate-test-resources , process-test-resources , test-compile , process-test-classes , test , prepare-package , package , pre-integration-test , integration-test , post-integration-test , verify ` Why this is the case ? What could be wrong ? The occurred warnings are the same for both cases ( terminal , python script ) ."
"I know question is quite simple for you people to answer but , I got stuck at a drop list from where i wanted to select the birth Month.I have been working on other websites but unfortunately could'nt get this to work.I tried : Click using different locators.Using Action class to mover hover and clicking.Using Java Script to select the month.Strange thing is if I get the text of the WebElement i am able to do so , but not able to click on it.url of the Application is : a link ! This is when creating the account on google.I was trying to select the Month from the list any month.I have got TimeOutException when i wait until the box has the desired month.Apart from that I dont get any error . The script always passes without making the selection.I know the question is quite easy , but if anyone can help me get through it.Thanks in advance ."
"I have some Java code which filters a list based on some input . It currently uses a lambda , for example : What I want to do is to move the filter logic to another method to make it re-usable and easily unit testable . So I wanted to use a method reference in place of the lambda passed to the filter method . Easy to do if the filter logic is fairly static ( i.e . list of allowed tags is known at compile time ) but I ca n't figure out how to do this with dynamic data in the filter.What I wanted was some way to use a method reference and then pass the second dynamic param i.e.So is it possible to do what I want or am I possibly approaching this situation incorrectly ?"
"I 'm learning Java 's generic , I snag into some problem instantiating the type received from generic parameters ( this is possible in C # though ) I tried this : generics in Java - instantiating TError : That does n't work . The following looks ok , but it entails instantiating some class , can not be used on static method : Instantiating generics type in javaIs this the type erasure Java folks are saying ? Is this the limitation of type erasure ? What 's the work-around to this problem ?"
I would like to understand the following type of syntax.Example : What is the logic of this interface ?
"I 'm trying to use Java 8 lambdas and have a general question about object serialization.For example the following input prints 5 if the executor.execute has only one method and runs the code block without serializing it.However if I serialize the lambda expression via SerializedLambda and deserialize it back , it prints null since it does n't have the previous context in this new deserialized object . Moreover , it compiles without any complaint since the first context resolves outside variables . ( finalVar in this example ) : I wonder whether it 's possible to tell the SerializedLambda to include finalVar into serialization output without implementing an interface that has a field for finalVar variable and set the value of it to a field when constructing . AFAIK , this is the cleanest way to do such thing in Java : I 'm not even sure about that but I think the compiler can find out the outside variables and also serialize and include them when I try to serialize that lambda . Is there any trick for Java to do such thing or is there any language that has such feature ?"
"How can the Array content be converted to a String in Java ? Example : The output has to be : Arrays.toString ( myArray ) is returning : and myArray.toString ( ) , returns : So none of them works . Is there a function for this ? This question might look similar to ( this ) , but is actually different . I am literally asking for a String made of all the array entries ."
"I 'm trying to experiment with lambdas for fun . I created a functor which allows the composition of a lambda . But , the means of composition only allow a linear transformation , and does not allow branching.The idea is that I know I will have , in the future , an effectively immutable state data structure . I want to compose a transform that will extract a value from the state ; and will perform a series of steps , which may or may not require the state , to perform the transform.To this end , I create two classes . The functional interface which works like java.util.function.Function , but takes a BiFunction in the andThen method , which allows the state parameter to be passed from lambda to lambda.The functor is fairly straightforward , having two mapping functions ( one which utilizes the state , and one which does n't ) , and two terminating methods that finalize the transformations ( again , with and without state ) .A brief ( contrived ) example : Does anyone have any ideas of how I could implement a branch method on the ProcedureContainer that would allow a conditional branch in the execution of the final consumer . I 'm thinking something that would make this example work : I 've attempted by creating a new BranchProcedureContainer , which has a map and terminateBranch method . This issue is that I do n't know how to merge the two branches in such a way that only the branch gets run.There are no restrictions on creating new classes , or adding methods to existing classes ."
"I got the following structureNow , I have a list of those points defined.The data does not matter at all , just a list of points ( the above is just an easy and quick example ) .How can I transform this list to a array of doubles ( double [ ] array ) in a Java 8 way ?"
"I have a List < Map < String , String > > such as : My expect result is to generate a new List map , which is grouped by date , and all the entry set in the same date would be put together , like : I tried with the following method , but always not my expect result.Some Additional Comments for this problem : I worked this out with for LOOP , but the application hangs when the list size is about 50000 , so I seek a better performant way to do this . Java 8 stream flat map is a perhaps way as far as I know.So the key point is not only to remap this but also with the most performant way to do this ."
Possible Duplicates : Can not refer to a non-final variable inside an inner class defined in a different method Why inner classes require “ final ” outer instance variables [ Java ] ? The above code works fine.I want to know why does the compiler give an error if I remove the final keyword from String z . What difference is the final keyword making ?
"I am having an issue with a hashmap . In my hashmap method i want to have two or more keywords as a key , oppose to having one . For example I want the user to input some sentence containing two or more keywords assuming `` professor name '' is a keyword . For exampleAnd the user enters `` what is the professor name '' the code just hangs . But on the other hand , if the code works . So I want to be able to enter some sentence containing two or more keywords oppose to one . I will appreciate any sort of assistance.Here is my hashmap methodand here is my main methodAssuming that the ParseFile method works"
"I wanted to learn something more about generics and to do so I decided to write a simple application . It allows to retrieve list of all entities using CriteriaQuery.First of all , I tried to generify code by using type parameter ( T ) . However , my code will not even compile . Why ? I 've come up with another solution . It works fine , but the compiler informs me about unchecked casting . I understand the reason of that but I 'd like to know whether is possible to write this piece of code in a more elegant way ( i.e . without unchecked casting ) ? If so , how do I do that ? To be sure , I am aware of @ SuppressWarnings ( `` unchecked '' ) ."
"Consider the following set of expressions : An attempt to compile this will fail on line /*1*/ with the error : both when using OpenJDK 1.8.0 ( Ubuntu ) or Oracle JDK 1.8 ( Windows ) .However , Eclipse 4.5.0 ( Mars ) compiles this without any error and it results in : From this you can see that the line /*1*/ of the java code ( line 5 of the result ) correctly stores this casted as Object ( Eclipse 's understanding of T.super ) into the local variable o . When the code is executed , it completes normally and the line /*2*/ produces a correct result.So far I failed to find anything relevant to o = T.super ; in the Java 8 Language Specification , i.e . whether it 's legal or not . Since it does n't explicitly state that it 's a legal expression , my guess is that it means it 's illegal . But then , why Eclipse considers it legal ? Hence my question : Is T.super a legal expression as per JLS ? Edit : Simplified the code by removing a wrapping inner class ."
"I have a table which I need to query , then organize the returned objects into two different lists based on a column value . I can either query the table once , retrieving the column by which I would differentiate the objects and arrange them by looping through the result set , or I can query twice with two different conditions and avoid the sorting process . Which method is generally better practice ? Either SELECT * FROM MY_TABLE , then sort in code based on returned types , orSELECT NAME , AGE FROM MY_TABLE WHERE TYPE = ' A ' followed by SELECT NAME , AGE FROM MY_TABLE WHERE TYPE = ' B '"
"I 'm developing a project ( in Java 8 ) that involves the simulation of logic circuits . The circuits are described in an input file that I 'm parsing with ANTLR v4.Using ANTLR 's visitor classes , I build up a Composite structure that stores all of the necessary components to simulate the circuit.Afterwards , I initialize the inputs of this circuit to whatever the user specifies , but for simplicity , I will initialize them to false ( assuming there are 3 inputs ) : and then I start the evaluator : All of this works perfectly on Mac OS X , but when I run it on either Windows or Linux , the evaluation just ... silently fails by returning incorrect values . The program exits gracefully , having output the wrong calculations.However , and this is my question , if I define the functions : and add a call to this function just after the declaration of mainCircuit : then both Windows and Linux will exhibit the correct behavior . Why could this possibly be ? EDIT : I have also discovered that this code operates differently ( not better , necessarily ) under a debugger than it does on its own.UPDATE : I rewrote all of the code to run on Java 7 without changing its semantics . It now runs properly on JDK 7 . The exact same code when running on Java 8 fails , too.UPDATE 2 : I was wrong before . It now seems that the program runs correctly only on slow machines . It works when it 's run in a debugger or on the Macbook Air which has a slowish processor compared to the Core i7 in my development rig . This must be quite a race condition ."
"I would like to know how ( if it is possible ) could I program a Java class using a data layout Array of Class , for example : but internally the data would be store as a layout of Class of Arrays like this : My objective is that the programmer could programed in a more intuitive style like the first one , but internal I would do transformations so the data could be continuous in memory , and I would achieve more performance.Is there any way of doing this so it could accept any class with the first type of struct and be able to convert it to the second approach ? ( or is any tool that is able to do this type of transformation ) ."
"I would like to modify the following method so its arguments can be of any type that implements the Comparable interface . The method ’ s return type should be the same as the type of its parameter variables.So in modifying it , I could just use < T extends Comparable < T > > , but how would I go about making the return types the same ?"
This message pertains strictly to Java . If a method is in a superclass there are two ways the method could be called : Is there any harm in always doing the latter ? As a coding style I prefer the latter because it 's clear at a glance where the method call is coming from . Are there any circumstances where 'super ' is going to be non-existent or not do what I think it would do ?
I 'd like to write some troubleshooting code which i can easily remove from later non debug versions of my program . I came up with : Is Java smart enough to drop the if statement from the final bytecode if debug==false ? Is there a better practice to achieve the goal of keeping debug code out of the final version of a program ?
"Edit : this question is malformed to the extent that I can not really fix it , and is a bug somewhere in my project . The root cause of my problem is that myLambda.getClass ( ) should not throw ClassNotFoundException , and the lambda works as expected.Given the class of an interface And a lambda instanceHow can I determine if myLambda can be assigned to MyIf without throwing an exception ? This is a bit puzzling since myLambda.getClass ( ) throws an exception . And the `` obvious '' returns false"
"In this book , it says : A limitation of Arrays.asList ( ) is that it takes a best guess about the resulting type of the List , and does n't pay attention to what you are assigning it to.The book is Thinking in Java By Bruce EckelHowever , the following code is working fine , contrary to code shown in this book page 280Java 1.8 , IntelliJ , Windows 7Any thoughts are appreciated ."
"I have a class : When I declare a Generic with wildcard and call getList method , the following assignment is illegal.This seems odd to me because according to the declaration of Generic , it 's natural to create a Generic < T > and get a List < List < T > > when call getList.In fact , it require me to write assignment like this : I want to know why the first one is illegal and why the second one is legal.The example I give is just some sample code to illustrate the problem , you do n't have to care about their meaning.The error message : Incompatable types : required : List < java.util.List < ? extends java.lang.Number > > found : List < java.util.List < capture < ? extends java.lang.Number > > >"
"I 'm programming in Java for only a few months so I 'm not that experienced with Java ( some tricks and the basic things I should know though ) .I got a problem which may be obvious but I do n't see it.This is an extract from my code.How can this be true ? These are two separate objects . I do n't get it.The foo method is called directly in my main method ( for test purposes ) .If you need the constructor of LabelText , here it is :"
I am working on a Enterprise application . I am facing some issues while running application in multithreaded environment . I am writing a program in which there is a variable whose value is getting updated ( incremented ) at very fast rate ( for example 10000 updates/persecond ) . A loop runs for certain iterations and the value of the variable is incremented and stored in HashMap . Once the loop terminates and value the variable in HashMap is printed . I am getting unexpected value of the variable.Here is demo program ( Please read comments for better understanding ) : Output ( it varies ) : Issue : I am running loop for 100000 times ( i.get ( ) < 100000 ) then how come value of variable value_to_be_incremented_stored becomes more than 100000 .
"According to the Java Language Specification , java.lang.Object is the root of Java 's inheritance hierarchy . Unlike C++ or Objective-C , programmers can not specify their own root superclasses . Because of this , I figured it was impossible to actually define java.lang.Object in Java itself . To my surprise , I found that OpenJDK indeed has a concrete implementation of java.lang.Object.I wanted to see if it was possible to compile and run my own version of java.lang.Object with JDK/JRE 1.8 , so I wrote this as Object.java : It compiled just fine with javac , but if I try to execute the classfile via java -cp . java.lang.Object , the JVM errors out with this message : which suggests that the JVM is using the stock java.lang.Object instead of the Object.class in the classpath.Is it possible to define java.lang.Object in Java as an end user ? What is going on under the hood ? I see two possibilities : The JVM loads a real Object.class file that was compiled from the OpenJDK 's Object.java . If this is the case , does the compiler do something special to prevent the classfile from specifying itself as the superclass ? java.lang.Object 's implementation is intrinsic to the JVM . If this is the case , why is there an Object.java in OpenJDK ?"
I am given some classes that are unknown to me . Some of them are shown as an example : The task is to redesign method signature types if needed and to add implementation . The bake method should conform to the following : Create objects of class Bakery or any subclass of it according to class argumentFlag compile-time error if order argument is not Bakery or any subclass of it ( e.g . if it is Paper or Object ) Whatever I 've tried I 'm getting an error : Main.java : : error : incompatible types : Object can not be converted to Cake Cake cake = baker.bake ( Cake.class ) ; The best I 've come up with is this : I know that it 's wrong but I 'm completely stuck here . Could someone please explain what 's going on ?
"I 'm trying to build a project using JDK 9 , as using the -- release argument to javac means it can build for older versions without needing the corresponding JDK/JRE installed . I need to support Java 6 so my preexisting set up requires Java 6 for the bootstrapClasspath and a further JDK 8 or 9 for gradle and the IDE . I 'd like to eliminate JDK 6 in favor of just using 9 , and tidy the build somewhat.My new build.gradle has the following configuration : The sourceCompatibility , targetCompatibility and bootstrapClasspath options are not set , as I understand the -- release argument handles this now.I get the following warnings : I know these can be suppressed ( it says it right there ) , but I was n't expecting to see them.When building with -- release [ 7-9 ] these warnings are not present.For context , this is the old ( unused now ) '2x JDK ' config : Am I setting the compiler arguments incorrectly ? Is there a way to not set / unset source and target ?"
"I have a base class ShapeManager with a list of shapes which I want toenumerate ( ) . Then there is a specialization ColoredShapeManager which wantsto process specialized ColoredShapes instead of Shapes : I am unsure whether ShapeManager should share shapes : List < Shape > with itschildren This seems flawed since ColoredShapeManager.enumerate ( ) wants toprocess ColoredShapes . Hence it would cast the elements , yet some elements ( those added by the base class ) are of type Shape and the cast would fail.That is : Both types of shape end up in the list shapes.enumerate ( ) in the child manager should have access to ColoredShape.Should I rather split the list and create private lists in each of the two managers ? Then enumerate in the child would only iterate over `` its '' type of shapes and call the parent 's enumerate ( ) at the start/end ."
"I am in the midst of creating an online contact management tool for users to manage contacts and clients . I am trying to develop a solution where the user will add a BCC or CC in any email client like this : and my app will grab the recipients to address information email , name , etc and my backend script will grab the data , look to see if this exist and if not add this into the database . Where I am challenged is how to get the data from an email to php or java ... Any thoughts ?"
I was trying create an array of a collection as follows.but it gives me an error - > generic array creationcan anybody explain me why is it ?
"Bear with me ... I do n't think this is too subjective but maybe I 'm wrong.Recently I wanted to factor out some repetitive code which drew a custom Bitmap background on our BlackBerry app . ( This question is not really about BlackBerry though , so I 'll provide some details here about the BB GUI so that non-BB Java people can weigh in ... ) The class FullScreen is from the BB API - it has a method paint ( Graphics ) which the framework calls to draw the screen and any components added to it . It 's possible to override this to do custom painting - like drawing a Bitmap background before any other painting happens ( newer BB APIs provide a Background class but our app has to work on older phones ) .I wanted to have a bunch of screens all with the same background , which each did some kind of custom painting ... here 's what I came up with : Each screen will then subclass this abstract class and implement innerPaint ( ) . This way when the BB framework calls the paint ( ) method , each screen can have custom painting stuff happen AFTER the background is drawn ( so any painting happens on top of the background ) but BEFORE the components of the screen are drawn , when FullScreen.paint ( ) is called . ( I came up with this because I 've been studying Common Lisp at home , and it occurred to me that what I wanted to do was something like the interleaved method combination in CLOS ) Here 's a sample implementation of the abstract class above : Basically I want a child class to implement a method gets called in-between its parent 's implementation and its grandparent 's implementation of the same method . I could n't figure out any other way to do this in Java ... Is this idomatic Java ? Is this actually really common and it 's a dumb question ? Is this actually horrible design ? ( BB experts , how can I do this any other way ? ) Edited to add : This does work as described - the drawing happens in the order I want ."
"I have a loop that is running until the user clicks a ready button , and then it starts the the loop inside the if-statement , but it only works it there is a print statement before it . Does it have to do with how the Rule Set is static ? The Button works no matter what , but it only enters the loop if the print statement is there.Rule Class : public class RuleSet { Gui"
"A Local Cluster from a web classloaderI 'm trying to run a local cluster from a web container ( yes , it 's only for dev & testing purposes ) and am having difficulty with classloaders.Direct approachWhen I do it the easy and recommended way , I get rewarded withThis is because the classloader used to load and instantiate the StormTopology is an instance of a Jetty WebAppClassLoader , but the ( sub ) process spawned by LocalCluster.submitTopology ( ) apparently uses the system classloader . I confirmed this by logging the classloader in the static block of the SomeFilteringBolt - the class is indeed loaded twice and the bolt from WebAppCL obviously can not be cast to a bolt on the system classloader later on.Expected behaviourNow , this is surprising to me as I thought Storm would serialize the StormTopology instance , `` send '' it locally , deserialize it and run it . If it did that , though , it definitely would work . Rather it seems that it 's directly using the provided StormTopology instance which is problematic under a different classloader.What I have tried sinceI tried setting these to true to force Storm to serialize my topology locally . No change.TOPOLOGY_TESTING_ALWAYS_TRY_SERIALIZEand STORM_LOCAL_MODE_ZMQI tried running the LocalCluster under the system classloader : This actually got me a bit further : Wat ? ! The questionHow can I run a Storm topology in local mode safely from a classloader other than the system classloader ? I 'm running on Apache Storm 1.0.1 , Jetty 8.1 , Java 8u112 x64 , Windows 7 x64 ."
"I 've been trying to figure out how to find a O ( n ) time complexity algorithm to solve the following in Java : We are given an input pair with a start point and end point , and we have to construct a path such that the start of one input matches the end of another input ( in this case , alphabetically ) EX : if I have a list P B B MO PM Zwhere PB , or BM are pairs , P being the start point and B being the endI should create as outputO PP BB MM ZAnd naturally , I want to check for cycles -- in this case I will just report if there is a cycle.The first time I tried to do this I used a swapping algorithm that was O ( N^2 ) , by basically swapping two entries if there was a match and moving down the list . There is a definitely a faster way to do this , and I understand semi-intuitively how to do it but I was wondering if someone could clear it up a little.Basically , I 'm assuming you need to make some sort of hash/key type of structure , where you can reference the value of the object itself by a key.For example , you would keep two collections , one of starts and one of ends . You could take each input and create an object that has a start and end field , and then add all of the starts and ends to two arrays . Then you would have to find basically end [ start ] for each start and add its respective object to a list after finding them.My only thing is , I ca n't figure out exactly how to implement this in Java using a hash table or some similar data structure . Do I have to add the starts and ends to separate hash tables and then use the start points as lookup keys ? Pseudocode from looking at someone who solved it in python on github : Wondering if someone could help me translate this to an algorithm in Java ( other efficient solutions very welcome since I 'm interested in this type of problem solving ) or understanding it more generally from a data structures perspective ."
"Chrome is not stable on my Jenkins . When I run build 5 times , it runs 1 - 2-time success , and the other 3 times I have the above error.Snapshot of the error : Code for Chrome : Some steps I have already taken : Provided 777 permission to google chrome and chrome driverSet : Start Xvfb before the build , and shut it down after to True in Jenkins build settingChromeDriver 81.0.4044.69Google Chrome 81.0.4044.129Ubuntu 18.04.4 LTS ( GNU/Linux 4.15.0-99-generic x86_64 )"
"I have this Java problem , which I suspect it relates to a higher-level algorithm , but my searches have n't been able to come up with anything practical.You construct an array as follows : Basically , Ai , j = Ai-1 , j-1+Ai-1 , j . It 's supposed to return the element at index ( l , c ) : for ( 4 , 1 ) it should return 4 , ( 5 , 2 ) returns 10 , etc . My solution is straightforward , but it is not enough : It does n't work for large values of l and c. Using BigInteger does n't work . My searches have led me to loop skewing and scalarization , but I do n't know where to start . Any steer in the right direction is really appreciated . PS : Sorry for the newbie-vibe , this is my first question !"
"I want to create a big array , and want to try out some lambda , but for some reason that : wont work , even that : dose not work.The compiler error is : Type mismatch : can not convert from boolean to Tand : The method setAll ( T [ ] , IntFunction ) in the type Arrays is not applicable for the arguments ( boolean [ ] , ( e ) - > { } )"
"I 've been trying to take a sub list of a list , reverse it , and place the reversed list back into the starting position . For example , say we have the list [ 1 , 2 , 3 , 4 , 5 , 6 ] , then reversing from index 2 to index 4 would give [ 1 , 2 , 5 , 4 , 3 , 6 ] .I 've written some code for this , however it gives a ConcurrentModificationException every time ( unless startIndex == endIndex ) . A minimum reproducible example is provided below : Exception in thread `` main '' java.util.ConcurrentModificationException at java.util.ArrayList $ SubList.checkForComodification ( Unknown Source ) at java.util.ArrayList $ SubList.size ( Unknown Source ) at java.util.AbstractCollection.toArray ( Unknown Source ) at java.util.ArrayList.addAll ( Unknown Source ) at test.ConcurrentExample.main ( ConcurrentExample.java:64 ) The actual line the error refers to is list.addAll ( startIndex , toReverse ) ; .I 'm not sure what the issue is as nothing appears to be getting changed while being iterated over . If anyone could explain why this is happening and/or how to fix it , that would be greatly appreciated ."
"This is a continuation of this questionSpring WebMvcTest how to mock Authentication ? I 'm trying to test a controller method in Spring-boot that receives an Authentication object as parameter . The controller is a RestController with @ CrossOrigin annotation . The method looks like this : As you can see i get the principal from the Authentication out of the parameters.The problem is , in my WebMvcTest test case i get a NullPointerException because in the test case , authentication seems to be null . My question is why ? I have tried adding a given call which will return a custom UserDetails object in a @ PostConstruct annotated metho in the test case , but still i get the NullPointerException.My test case looks like this : Why is authentication null in the test case , even when i supply it in the @ PostConstruct method ? A GitHub project with minimal code that reproduces the error can be found here.https : //github.com/Kars1090/SpringSecurityTestThanks !"
I am performing some actions on a stream and returning an array list . This is working without a problem but I need to do a final step to add an element if the array list is empty ( nothing to do with options / nulls just part of the requirement ) My way is a bit clunky and I wondered if it can be done in the stream operation instead ? So really I would like to do is this possible ?
"I 'm pretty new to the Java World ( since I 'm writing primary in C/C++ ) . I 'm using maps in my apps.Since java.util.Map is abstract I need to instantiate it 's implementation . Usually I use HashMap like : But in java docs I found many other implementations , like TreeMap , LinkedHashMap , HashTable , etc . I want to know if I can continue blindly using of the HashMap or there are any important differences between those Map implementations.The brief list of points-to-know will be ok.Thanks ."
"I want to sort a map using Java 8 streams and return a list of its key.Map signature is : and the data will be like [ 1=6 , 5=13 , 2=11 ] There are two conditions on which I have to sort and return a list of keys.If all the values of the keys are different , then sort and return a list based values in descending order , e.g.If two or more values of the key are having same rank , then return these similar in an ascending order , and the rest of the item is in descending order with respect to their values , e.g.Below is the code snippet which is working fine for condition 1 , but not for condition 2 ."
"In my Java application a small put important feature is to be able to rename audio files based on their metadata ( e.g album/artist -title ) and the mask is specified using Javascript , this makes for a very flexible and powerful renaming feature . I knew Javascript was being deprecated but it now seems it is actually going to be removed from Java 15 onwards . This loss of functionality could be a major problem for me so I ask even if it is officially removed is there a way I can continue to use Javascript within a Java 15 application , i.e will it be available as an opensrc plugin that I can use at my own risk . The fact that development has stopped at Ecmascript 5.1 is not a major issue for me.There was mention of using GraalVM but without explanation how to do this and I do n't see that fits in with my scenario , specifically my application is available on some 32bit Arm environments and GraalVM is not available for 32bit.I have already moved from Java 11 to Java 14 to resolve some other issues , so I can not really go back to Java 11 , and since Java 14 is not a LTS release I can not really stick with Java 14 over long period of time . This is the bulk of my Javascript code"
"In the code below , the instance variable called `` x '' inside subclass `` B '' hides the instance variable also called `` x '' inside the parent superclass `` A '' .In the code below , why does println ( z.x ) display the value of zero ? Thanks ."
"I 'm trying to use Java Opencl from within jruby , but am encountering a problem which I ca n't solve , even with much google searching.when I run this code using : jruby test.rbI get the following error , when the last line is uncommented : Just wondering whether anyone has an idea on how to solve this problem ? EDIT : ok so I think I 've solved the first part of this problem by making platforms an array : but that led to this error when adding the next couple of lines : for some reason when I print the class of platforms [ 0 ] it 's listed as NilClass ! ?"
"While testing , I upgraded my Junit to 5.0 ( Thus replacing some of my assertTrue ( ) methods with the new versions ) . After doing so , I found one of my tests did n't compile . I reduced the issue down to plain old java with no junit or other dependencies . The result is the following code which will not compile : As shown in the above example , the code will compile if either of the following are true : The lambda parameter type is specifiedThe overloaded assertTrue ( Supplier booleanSupplier ) method is removedIs this an issue with type inference/erasure , or what might be going on here ? Build Error : Specs : EDIT : Confirmed the issue exists on Java 8 as well :"
"Sample code to demonstrate the failure : Here is the Error ( not Exception ) I see : I am using 32-bit Java 8 ( v1.8.0_60 ) with Google Guava v19.0 . My Google-Fu tells me Google Guice is the root cause , but lacks credible explanation . ( This is part of a much larger project that also includes Google Guice v3.0 via Apache Maven . ) Sample ref : https : //github.com/hierynomus/scannit/issues/7Does anyone know ... ? The root causeA workaround ( Finally , I also tried Google Guava v18.0 , but no luck . ) UpdateThis code works , but I do n't understand why . ( Do I misunderstand non-static method references ? )"
"I was just trying something with try-catch and this code : I understand Error will not be caught by the catch block above , but the finally block will be executed , and then the JVM will terminate.But when I try to run the program many times , I get different outputs : C printed before the stack trace : or C printed after the stack trace : Can anyone explain this behavior ?"
"Testing some things out I tried o make an enum in which every one element in a enum have a different class inside.Take for example : If i try to put a public modifier before any class , the Modifier not allowed here shows up . I am not quite sure why this would be . I can not instantiate those classes outside the enum nor see them . However i can manage to get an Instance doing so : With the output : class MyEnum $ 1 $ Firstclass MyEnum $ 2 $ SecondI can clearly have a reference to this class , why ca n't i access it then at compilation time ?"
"I have a question about using generics with collections . We know that the above line means that ArrayList al is restricted to hold only integers . So the following line gives a compilation error : But I do n't understand what the below line means , Where we do n't give ArrayList < Integer > at the left side while declaring . Now the following line does n't give a compilation error : So if I declare like that means a1 can accept any types ? What 's the difference between those two declarations ?"
"I have these statements : This compiles perfectly . And outputs But : outputsI did some research on this topic . I read the documentation , and it says : This method can not handle supplementary characters . To support all Unicode characters , including supplementary characters , use the isJavaIdentifierStart ( int ) method.Then I did this : But even this prints : So , does this mean , that Java is confused over \u65549 being an identifier ?"
"I 'm reading on Joshua Bloch 's Effective Java , 2nd edition , Item 11 : Override clone judiciously . On page 56 , he is trying to explain that when we override clone ( ) for some classes ( like collection classes ) , we must copy the internals of it . He then gives the example of designing a class Stack : He claims that if we simply use super.clone ( ) to clone a Stack , the resulting Stack instance `` will have the correct value in its size field , but its elements field will refer to the same array as the original Stack instance . Modifying the original will destroy the invariants in the clone and vice versa . You will quickly find that your program produces nonsensical results or throws a NullPointerException . `` Now that seems fair . But he then gives an example of the `` correct implementation '' , which confuses me : Now how is that different from super.clone ( ) ? I know , the new Stack.element will be a different reference than the old one and all ; but the `` internals '' of the array are still the same , are n't they ? The actual elements of the array result.element still point to the original Object references . That could still result in destroying the invariants of the clone when changing the original , or vice versa , could n't it ? Am I missing anything ?"
"Consider the following Java function : This does not work , since the type captures of cl and ls are not unified and can , indeed , refer to different types . Had this function compiled , I could have called it as foo ( NullPointerException.class , new List < SecurityException > ( ) ) , which would have been illegal.We can fix this , obviously , by unifying the type captures , like this : Now this function works as expected . Thus , onto my question : Is there any way to unify type captures within a single type declaration ? For example , I often find myself wanting a map that maps classes to instances of themselves . The only way I can currently think of doing this is to have an accompanying function that does unchecked casts : But it would obviously be nicer to not have to suppress warnings and just have the compiler understand that the two type captures in the map type declaration should be the same , and then just make the map public . For example , if I could have a declaration akin to this : Obviously , that 's not valid syntax , but my question boils down to : Is there any valid syntax that would let my do something to that effect ?"
"Here 's the context if it 's necessary for any answers . I 'm building an engine in which I 'm going to make a videogame . It involves a 96 x 54 ( columns x rows ) table of letters , to keep an even spacing between them . Because of this , it would be very helpful if any solutions could be as least resource intensive as reasonably achievable . I made a web demo for this engine which worked exactly as intended , apart from being a bit slow . Now I am migrating the project over to Java , and some things are n't working quite as intended.To mimic the HTML < table > I have used a GridLayout of JLabels inside a couple JPanels to keep the sizing constant , all inside a JFrame . The issue I 'm facing is that , due to changing the size of the table to improve the look , the JLabels overlap slightly . In the web demo , this was fine , as the letters simply went into the next box . This is what I am trying to achieve in Java and can not for the life of me find out how.Here 's an image to show you what I mean : In the web demo on the left we have a circle of underscores inside a circle of `` a '' s , and the letters `` pqyjg '' on the right . There is also a small grey box on one of the underscores . This is the highlighted box below the underscore , showing that underscore overlaps 1 pixel into it.When we put this same code into the Java version , the underscores are nowhere to be seen , and the tails on the letters `` pqyjg '' are cut off . The desired effect is for it to work like the example on the left.I 've searched this site , the rest of the internet and through many Java class pages in search of a method that will help , to no avail.Can anyone point me to a class or method I could invoke on the JLabels or any other component to achieve this effect , without changing the size of the table ? Here is my current code for setting everything up in case it helps anyone ."
"Consider this method : As you can see the set is creating a new TreeSet with a custom comparator . I was wondering if it makes any difference from a performance/memory/garbage collection/whatever point of view , if I were to do this and instead having polluted the outer space : The reason I am asking , is that I feel the compiler should already figure this out and optimize it for me , so I should n't have to extract it , right ? The same thing goes for Strings or other temporary , immutable objects declared within a method . Would it make any difference to extract it a final variable ? Note : I am aware of the little impact of performance boost this might give . The question is whether there is any difference , howsoever negligible ."
"By default , Java does Binary Numeric Promotion for primitives , but does not do the same thing for objects . Here 's a quick test to demonstrate : Output : This is obviously correct behavior - an Integer is not a Long . However , does there exist a `` value equals '' for Number subclasses that would return true the same way that 100 == 100L returns true ? Or 100d == 100L ? In other words , is there a method ( that is not Object.equals ) that will do the equivalent of the Binary Numeric Promotion behavior for objects ?"
"The following code measure the time it takes for 100 invocations of the method handle ( Object o ) from the interface Handler ( Yes it 's bad quality profiling ) : The fact is that if the LinkedList contains only one kind of Handler , for example SuperHandler , the execution time is smaller than if they were 2 , 3 , etc different kinds of Handler . And every time I add a new kind of Handler in the list , the performances decreases.For example when I change only this part I get better performances than above : Is there a special optimization operating here ? What in the JAVA architecture does the performances decrease ? Is my test wrong because the unused Handler are `` removed '' , or `` hidden '' by the compiler ? ( I 'm using Linux Ubuntu - JAVA 1.7 , from Oracle )"
"In the JSR-133 , there are two example that state presumably correctly synchronized programs.The first example is given by figure 6 where : Then , thread 1 modifies the state by : and thread 2 modifies the state by : The author states that this program is correctly synchronized，However , there is an execution of this program that results in r1 == r2 == 1 . How would this latter value even be possible ? Furthermore , figure 7 states as an initial state : With thread 1 modifying : and thread 2 executing : How could this result in r1 == r2 == 42 ?"
"Java has two ways of checking whether two booleans differ . You can compare them with ! = , or with ^ ( xor ) . Of course , these two operators produce the same result in all cases . Still , it makes sense for both of them to be included , as discussed , for example , in What 's the difference between XOR and NOT-EQUAL-TO ? . It even makes sense for developers to prefer one over the other depending on context - sometimes `` is exactly one of these booleans true '' reads better , and other times `` are these two booleans different '' communicates intent better . So , perhaps which one to use should be a matter of taste and style.What surprised me is that javac does not treat these identically ! Consider this class : Obviously , the two methods have the same visible behavior . But they have different bytecode : If I had to guess , I 'd say that xor performs better , since it just returns the result of its comparison ; adding in a jump and an extra load just seems like wasted work . But instead of guessing , I benchmarked a few billion calls to both methods using Clojure 's `` criterium '' benchmarking tool . It 's close enough that while it looks like xor is a bit faster I 'm not good enough at statistics to say whether the results are significant : Is there some reason to prefer writing one over the other , performance-wise1 ? Some context in which the difference in their implementation makes one more suitable than the other ? Or , does anyone know why javac implements these two identical operations so differently ? 1 Of course , I will not recklessly use this information to micro-optimize . I 'm just curious how this all works ."
"Benchmarking the following Java code using jmh : Using mvn package & & java -XX : -UseCompressedOops -XX : CompileCommand='print , *.testMethod ' -jar target/benchmarks.jar -wi 10 -i 1 -f 1 , I was able to get the assembly , and if we focus on the one from C2 ( as shown below ) , we can see that both cos and sin are called twice.I was expecting that the result from inter.test is cached or something so that inter.test ( sin and cos ) is called only once . Any options I can use to make JVM ( JIT ) to do so ? Or what 's preventing JVM ( JIT ) from seeing that method is pure ? ENV :"
"I have a string that looks like this : [ `` 1011000 '' , `` 1000010 '' , `` 1001101 '' , `` 1000011 '' ] .My argument is coming from elsewhere so it needs to be this way.I need to typecast this to a real byte array.Here 's my method : It does n't work , however . Complains about inconvertable types String to byte.Can anyone help me with this typecasting ?"
I 'm trying to read N items from a RingBuffer using readManyAsync but It 's always returns an empty resultSet . If I use readOne I get data.I 'm using the readManyAsync as the documentation specify . There is another way to do that ? Enviroment : Java 8Hazelcast 3.5.3Example : Output :
"I 've got one ClassLoader for trusted application code and a seperate ClassLoader for user-submitted ( untrusted ) code.I want the user-submitted code to be restricted by the Security Manager . How do I check the caller origin from within the SecurityManager ? See the psuedocode : What I 've tried already : StackWalker.getInstance ( StackWalker.Option.RETAIN_CLASS_REFERENCE ) .getCallerClass ( ) .getClassLoader ( ) checks for permissions first so it gives a stack overflow exception.Thread.currentThread ( ) .getStackTrace ( ) [ 2 ] .getClassLoaderName ( ) is insecure because it only gives the classloader name and not class object , if the untrusted loader 's canonical name is the same as the trusted loader then that 's a security issue ."
"In the below code , the line System.out.println ( sumInteger ( bigs ) == sumInteger ( bigs ) ) ; displays as false . But when again we compare the another Integer wrapper classes System.out.println ( bc == ab ) ; , it returns true . Why is the comparison of wrapper classes false in the first case and true in the second case ?"
"I have checked the source code for java.lang.Enum and the method T valueOf ( Class < T > enumType , String name ) beginning on line 232 ( the implementation in both java-8 and java-11 seems equal ; here is the source for Java 8 ) .What is the reason the null check for name happens after finding the enumeration by name in the Map get using enumConstantDirectory ( ) ? As far as I know , one can not define a null enum ; therefore the following call makes no sense : Although the HashMap implementation allows null as a key , I would expect the implementation would check for null before iterating the Map . What is the reason for this implementation and is there a case where searching for the null key before comparing name == null makes sense ?"
"Some devices ( e.g . webrelays ) return raw XML in response to HTTPGet requests . That is , the reply contains no valid HTTP header . For many years I have retrieved information from such devices using code like this : In openJdk 7 the following lines have been added to sun.net.www.protocol.http.HttpURLConnection , which mean any HTTP response with an invalid header generates an IOException : How do I get 'headless ' XML from a server which expects HTTPGet requests in the new world of Java 7 ?"
"I 'm using Jersey 1.12 and have an endpoint that may or may not receive malformed headers from clients that i do n't control ( for instance `` Content-Type '' : '' application/json ; bla-bla '' ) Obviously bla-bla is malformed as the spec requires parameters to have values as well i.e . bla-bla=value and thus Jersey will output something like I can write a filter to tackle this as suggested here , here and here but I wonder if there 's a way to have Jersey just ignore the malformed header all together in cases where i 'm not interested in it 's value ?"
"I came up with two expressions to assign value from a bit operation to a variable , and noticed `` x+=y '' and `` x=x+y '' yielded different results in this case : I did some research , and found the only case `` x+=y '' and `` x=x+y '' is not equivalent is when operant types are not the same , however in this case , `` n '' is type of int , and `` 0 & 1 '' shoud be a type of int ( according to this question Why does bitwise AND of two short values result in an int value in Java ? : Because the Java Language Specification says that the result of non-long integer arithmetic is always an int . ) So I 'm wondering why it yields different results ."
"I sometimes have a need for classes that should only be instantiated once during the lifecycle of the application . Making them singletons is bad because then unit testing becomes problematic.But still , because there should be one and only instance of such objects during the lifecycle of my application , it would be an error to ever instantiate such an object twice when the application is running.Hence I 'd like my app to throw an exception as soon as it detects , during its lifecycle , that such an object is instantiated twice while still allowing several instantiation of such an object while unit testing.I think it 's not an unreasonable requirement : if during one lifecycle of the application only one such object should be created then throwing an exception seems like a correct thing to do.Here 's what I 'm doing : where App.isRealApp ( ) shall always return false when I 'm unit testing and always true when the real app is running.My question is simple : does it makes sense and how am I supposed to implement this ?"
"I have the following static factory method that creates a list view out of an int array : In `` Effective Java '' , Joshua Bloch mentioned this as an Adapter that allows an int array to be viewed as a list of Integer instances.However , I remember that Adapter uses composition and the instance of the anonymous list implementation should use the int [ ] as a member field.Where exactly is the int [ ] input parameter stored if it 's not a member field of the anonymous list implementation ? I would appreciate if anyone could provide some insights or some links to look for more information ."
"In other words , is the following line guranteed to print num lines ? This question was triggered by a discussion in the comments of https : //stackoverflow.com/a/41346586/2513200I vaguely remember a discussion that optimizations that avoid iteration might be legal , but did n't find anything conclusive during a quick search.The JavaDocs for Stream.count contain this statement : This is a special case of a reduction and is equivalent to : return mapToLong ( e - > 1L ) .sum ( ) ; but I 'm not sure whether this provides any guarantees if the stream can somehow determine the result in a short-circuiting way ."
"i have following structure : Now i want to disregard the First-level-Maps and group ( and sum up ) the 3rd-Level-Maps according to the key of the 2nd-Level-Maps.To Clarify some example-Entries : Desired output : So to do this I first group my Entry-stream according to my 2nd-Level-Keys ( `` A '' , '' B '' ) and , if nothing else done , end up with a structure like the following : And here is where I am stuck . How do i go about getting my Map < String , Integer > from my List of Entries ( for each outer Map , secifically ) ? The simple code which I assume is guaranteed to be needed : Summary : How do I transform a Map < String , Map < String , Map < String , Integer > > > to a Map < String < Map < String , Integer > > , disregarding the outermost Map , grouping my innermost Maps according to my 2nd-Layer-Keys and summing my Integer-values by key-values of the Innermost Map . Additionally the outermost Maps each have a Key-Value-Pair for each 2nd-Level-Map , so each will have the same 2nd-Level-Keys . In the 3rd-Level-Keysets can be Keys not found in other 3rd-Level-Maps"
"I have the following types of requests.Few field examples : Mongo DB data format : Mongo DB stores user order details . Each order contains user detail [ 10 fields ] and order details [ 30 fields ] API has to give by default last 30 days of orders if no date is mentioned.My question : How can I efficiently read this data from mongo db ? What I am currently doing : I am parsing the httprequest and adding these fields to a mapI have to get all the documents where these two fields are matching and return the documents in the following form.I am querying mongo db as follows.Then I am iterating the documents and grouping the fields as the required format.It is written using spring . I am fine with schema changes , query changes , annotation methods as long as it is very fast and conceptually correct.Please advise me ."
"I am trying to write unit tests for my Javalin.io web application . There are a few references to Mockito being used for mocking the Context objects , which is Javalins way to give the user access to the incoming web requests . I am trying to mock the .header ( String ) method of the Context class because the unit under test is reading the `` Authorization '' header and performs a JWT check on it.My pom contains a recent version of Mockito , which should be able to mock final classes : I have enabled the inline mock maker as described in the Mockito documentation by creating the file resources/mockito-extensions/org.mockito.plugins.MockMaker with the content mock-maker-inline . Now I have a stupid test which mocks a Context object and should return `` hello123 '' whenever the header ( ) method of the context object is called . The following code is part of a real unit test but is enough to cause an exception when running the test : and also tried this : Executing this test with mvn test fails with the exception : Is there something I am doing wrong ? One point that is weird is that the test sometimes runs successfully , but fails most of the time , especially when running the mvn test command a few times in a row ."
"I have some code that takes an externally provided class name , and needs to construct an instance that implements some interface , lets call it Foo.As part of this process , I 'd like to have the following function : This obviously results in an unchecked warning , as it is genuinely unsafe - the caller may have requested `` java.lang.Long '' for all we know . I 'd ultimately like this method to guarantee that if it does n't throw , then the returned Class represents a Foo implementation.My current best solution is this : Is there a better way of doing this ? Is there some way of doing that does n't require explicit suppression of the warning ?"
"This code uses Spring 3.1 and junit4 and spring-test 3.1 . I want to turn this code using and loading junit3.8.x . This is due to a legacy build system . How can I do this ? Most of the online documentation for spring is centered around the approach below . I need to be able to 'load the spring classes ' . In this case I have a XML file , rest-servlet.xml and the 'services ' classes are annotated . I want to be able to load that rest-servlet spring configuration file and setup spring before each test.TestActivityLog :"
"Thare are two input lists as follows : My preferred output list must be as follows : What I have done so far looks like below : The output I am getting is as followsProblem is with the elements that does n't have their name in the list inputB . There order does n't have the original order in inputA . For the original order to persist { name : `` A '' , age : 20 } should come before { name : `` C '' , age : 25 } How can i solve this issue while using the comparator chaining strategy ? UPDATESorting logic is , if inputA has objects where the names are equal to the inputB list , those elements should come to the top of the inputA and then those elements must be sorted by their age while keeping the original order of the other elements in inputA which are not present in inputBThis is not a possible duplicate , because this question tries to compare two lists and also sort the common elements by a property of an object from the the first list while leaving the rest of the elements in their original order ."
"http : //docs.oracle.com/javase/6/docs/api/java/util/Random.html # nextInt % 28int % 29 says : The algorithm is slightly tricky . It rejects values that would result in an uneven distribution ( due to the fact that 2^31 is not divisible by n ) . The probability of a value being rejected depends on n. The worst case is n=2^30+1 , for which the probability of a reject is 1/2 , and the expected number of iterations before the loop terminates is 2.The algorithm : The code tests the case where n > 2^30 and bits > n. Then the most significant bit is set and turns the result in the condition into negative one . I understand that bits is at most 2^31-1 = > there is the 50 % probability . The bits can be either < 2^30 or between 2^30 and 2^31Anyway , Why 2^31 is not divisible by n ? Why is it effective only when both numbers > 2^30 ? I guess some binary division magic , an overflow which breaks the uniform distribution ? Thank you !"
I have found somewhere a pretty weird number declaration in Java.I am curious why the value of x is 5.0
"I 'm just starting out with JavaFX , and I wanted to put a WebView into a Window : It looks ever so simple , but for some reason the draw regions are being highlighted with red and green when moving the mouse around . How can I disable the flashing colors ? Update : the problem is with Groovy/Gradle interactionHere 's an extremely minimal repro ( put all this in a build.gradle and run gradle tasks -- no-daemon ) : I just noticed that it outputs some logging after termination ( this was hidden before , probably because I used a Gradle daemon which swallowed it ) : =========== Performance Statistics ============= Time/Invocations count : com.sun.webpane.perf.WCFontPerfLogger . * : ... com.sun.webpane.perf.WCGraphicsPerfLogger . * : ... I 'm using jdk1.7.0_80_x64/jre/lib/jfxrt.jar on Windows 7 x64 Ultimate.Tried the following Java versions I had on my computer :"
"I trying to get my JButton to stop its background change when clicked . I have been reading and testing answers from other questions like such but none have helped me . I am very new to Java so specific details would be helpful , here is my code and a demonstration of what is happening . Also , I am running ubuntu if that matters at all.Note : if I hold my mouse down and hover over it , it will also trigger the background change.Demonstration of what 's occurring ... Thanks !"
I plan to execute a jar command using a jar that is included in another jar.The command will automatically obfuscate a Java jar file using code similar to : allatori.jar file is included in my main.jar file as a resource . config.xml file is also included.How can I run my command so that it executes the included jar file ? Folder structure of main.jar :
"I have some code that compiles with javac 1.8.0_92 : However , with javac 1.8.0_45 , some extra types are required ( L ) : As you can imagine , this causes issues for packages that a user builds from source . Why is this ? Is this a bug with that particular build of Java ?"
"I 'm trying to parse a week-based-year and week-of-week-based-year from a string without any separator character . E.g . `` 201812 '' ( week 12 of year 2018 ) . Like this : But this gives me : If I add a space between the fields like so : It works fine , with result : Is this another bug like this one ? Or am I missing something ? The workaround I found was building a custom formatter :"
"I want to use camunda-bpm-assert-scenario in my ScalaTests.There I have this code with receiveTask : :receive : According to answer in Is it possible to use a Java 8 style method references in Scala ? I can translate this quite easily to : But this gives me : This is the receive function : And here is the expected interface : How can I achieve this in Scala ? This is not a duplicate of Is it possible to use a Java 8 style method references in Scala ? , there is no solution to `` Error : ( 84 , 45 ) type mismatch ; ... ''"
"I was trying to create a few scenarios to demonstrate visibility issues while sharing variable across threads . And I noticed that in almost all the cases I tested , if inside run ( ) I added a System.out.println ( ) statement in the same block of code where I am using the shared variable , the visibility issue is not producible . I will provide one example : Configuration details - Oracle Java6 64bit , Eclipse Juno SR 21 ) WITH VISIBILITY ISSUE : } OUTPUT : The thread keeps running infinitely2 ) WITHOUT VISIBILITY ISSUE : THE SAME CODE AS ABOVE , WITH THE UNCOMMENTED println ( ) STATEMENT IN THE run ( ) OUTPUT : ... If you uncomment this line , the code will work without the visibility issueIf you uncomment this line , the code will work without the visibility issueIf you uncomment this line , the code will work without the visibility issuex:19391keepRunning is falseSince I noticed similar behavior in all the examples I tried , I am wondering if there is any data integrity check by JVM before any I/O operation ."
"I looking for a way to split my chunk of string every 10 words.I am working with the below code.My input will be a long string.Ex : this is an example file that can be used as a reference for this program , i want this line to be split ( newline ) by every 10 words each.Any help is appreciated ."
"I 'm trying to make a call to Java Webstart that uses the `` -open '' run time option to send arguments to the webstart application . I have referenced the question : Passing command line arguments to javaws ( Java WebStart ) executable , but this syntax does n't seem to work for multiple arguments . It seems to work find for a single argument though.When i run `` javaws URLtoMyJNLP '' it runs the application fine , also when I send a single argument by `` javaws -open arg URLtoMyJNLP '' it also seems to work and the arg gets to the application . When I attempt to run `` javaws -open arg arg arg URLtoMyJNLP '' it says invalid arguments supplied . I enter the command into ProcessBuilder.command.For the above output I attempted to send `` javaws -open abc 123 hello launch.jnlp '' Any ideas ? Code as requested . It 's overly simplistic due to being a PoC ."
"When I add an event listener using a lambda that calls an overridable method in the constructor , I get a warning . If I use a method reference , I do n't get any warnings about overridable methods or leaking this . Should I avoid method references in the constructor or is it safe ? Here 's a simple example :"
"I 've been reading the OS X Java Developer Tools , in order to help make my application more `` native '' with the operating system . I found something interesting in this particular section . ( emphasis mine ) To load a resolution-independent tiff , icns , or pdf file from the Resources folder of your application bundle into your Java application , use the getImage ( ) method of java.awt.Toolkit . The string you pass into getImage ( ) is of the form `` NSImage : //MyImage '' . Do not include the file extension of the image . Also be aware that the Sun 2D renderer is disabled when the user interface scale factor does not have a value of 1.0 . Use the Quartz renderer so that your images scale smoothly.Being familiar with javax.imageio , this comes as a complete surprise , as I had n't known any other way to load other filetypes into images . Especially with an outdated platform and absolutely no support for files such as .tiff . For example , a quick test on my computer gives me this : I tried loading a simple .tiff image and tested this out : It yields nothing : I tried again : This time , adding the image into the base folder of my java project , and typed this in as a string : `` NSImage : //test_image.tiff '' . Like everything I do , it does n't work.However , If I change my fancy path string to an NSImage one , such as `` NSImage : //NSApplicationIcon '' ... It works . I did a quick spotlight search for NSImage , and found one . It looks like the file type for these images are .png . This is kind of disturbing , since I expected a proper image to come out of it . Mind you , I also kind of expected it : If it expects arguments of the form `` NSImage : //something '' , then it might just ignore anything else.Obviously , I 've got a couple questions : How does the Toolkit load the image ? If I try to load a .tiff image from my desktop , this is what I get if I call .toString ( ) : Are the readers ( and writers if any ) part of a public API ? In other words , can I call something to load my .tiff file into an Image ( which I can then cast into a ` BufferedImage ? And then again , if the readers/writers are part of the API , why does n't the javax.imageio package locate them ? This may look like a handful , ( yes I 'm sorry for ruining your day on this question ) , but to me , this looks like expected , but at the same time erroneous behaviour . Bonus marks : Is there any friendly ( i.e . Open Source ) imaging api ( Not the JAI ) that can process .tiff files ( and others ) ?"
"With Java 8 Streams , is it possible to encapsulate and reuse intermediate stream operations in some way that wo n't break the stream pipeline ? Consider this example from the Java Tutorial on streams : Suppose I need to use the filter and mapToInt operations in different places throughout my code . I might want try and to encapsulate that logic so it can be reused , for example : This is nice , but to use it I might have to make a mess of the stream pipeline . For example , if I want the average age of men named Bob : Is there some better way to do it ? I 'm thinking of something along these lines :"
"I 'm confused by the DateTimeFormatter 's withZone method 's behavior when it comes to parsing . According to it 's documentation : When parsing , there are two distinct cases to consider . If a zone has been parsed directly from the text , perhaps because DateTimeFormatterBuilder.appendZoneId ( ) was used , then this override zone has no effect . If no zone has been parsed , then this override zone will be included in the result of the parse where it can be used to build instants and date-times.Based on this and on the fact that DateTimeFormatter.ISO_DATE_TIME parses time zones , I 'd expect the following two tests to pass.But while the former does , the latter does n't : java.lang.AssertionError : Expected 2017-02-02T09:00Z [ UTC ] , got 2017-02-02T09:00+01:00 [ UTC+01:00 ] instead.So it seems that the override zone is used whether a time zone is found in the input or not . I 've found the similar behavior mentioned briefly in this answer , when it 's suggested that it might be a bug in JDK , but I have n't found a corresponding ticket on OpenJDK 's bug tracker . Is it in fact a bug , or is my understanding of this documentation incorrect ? UpdateI 've tested this with java version 1.8.0_121 ."
"I have the code above , but I ca n't work out why it produces rather thanMany thanks"
"Assume the following existing classes : now , we need to create a variant of each Axx class that overrides `` foo '' method . The basic idea was : But it seems is not posible to extend a class from one of their parametized types.The objective is to skip the need of following new code : and allow statements like : Any hint ? Thanks a lot ."
"If I writeAbove code works normally , but if I writeThe compiler/gradle in Android studio does n't let this one through even though it 's the same , and it says that the code after return in example 2 is unreachable.I do n't have any issues regarding this but I am eager to know why ?"
"I have a question about this method from java.util.Collections : I understand how < ? super T > works , however , I do n't understand why the first parameter is List < ? super T > instead of List < T > . I think it 's useless in this situation.Using List < T > should work as well , should n't it ? Could you give me some examples to understand it if possible , please ? Thanks ."
I have a question related to the following code snippet : The first call to wide_vararg fails to compile ( saying that the method is ambigous ) while the second compiles just fine . Any explanations about this behaviour ? Thanks !
"There are a few *.java files in the source tree of Scala in the scala.runtime directory.Those files seem to be very simple , e. g. DoubleRef.java looks like this : Is there any reason why those classes ca n't be defined in Scala ?"
When would you ever need to use the non short circuit logical operator or ? In other words ... When would you use Instead ofIf the first conditional is true ... Then the entire statement is already true.Update : and the same question for & and & &
"Using java.util.regex to extract substrings I find myself implementing the same code pattern working around calls to : Is there a functional extension or popular library ( guava / apache commons ) that avoids the ugly unnecessary and error-prone local variable , like : and also a stream of match results like : It seems the only functional addition in Java8 was .splitAsStream ( ) but that only helps when trying to split around matches ."
"At my work we recently finished the system architecture for a control application which has a maximum latency of roughly one to two seconds . It is distributed on small ARM on-chip boxes communicating via an IP LAN . We initially foresee that we would use C or C++ , since it is a classical control system language . After discussing how to implement the application we now realize that C++ has a quite limited amount of libraries , lacks introspection , and has some other properties which might slow down development . My colleague then suggested that Java might be up for the job.I 'm really scared about the latency of running a GC for a control app , and I 'm also reluctant to drop RAII , since the app will use a lot of external resources ( sockets , file handles , handles from external libs etc ) .The pro/con list is currently as follows : The memory fragmentation with parallel GC was mentioned in this AMD articleI would love to use Java if GC latency was n't a problem and we could get RAII . ThereforeI 've also looked into other langs which have RAII and could serve as good alternatives , and so far I 've found that D , Ada , VB , Perl , Python ( C ) , PHP , tcl and Lua seem to have some sort of out-of-scope callback . My spontainous reaction that perhaps D , Python , and ADA could be suitable for a control app . D and ADA are my favourites.So , my question is : do you have any recommendations on this ? Is Java a viable option , and if you could choose any language , what would it be ?"
"I am wondering why the Java compiler would add a bridge method for the foo method here : The foo method is compiled to be public in the SuperClass type . Nevertheless , the SubClass method redefines the method as a bridge to the very same method . I wonder why this bridge is necessary ."
"The code at the bottom of this question is a bit long but basically creates a few objects and determines their size in memory . I execute the code with the following JVM parameters ( TLAB to avoid chunk memory allocation and supposedly get accurate memory usage figures ) : I run the code on a 64 bit Hotspot JVM and get the following output : Java HotSpot ( TM ) 64-Bit Server VM Object : 16 bytes Object with 1 int : 16 bytes Object with 2 ints : 24 bytes Object with 3 ints : 24 bytes Object with 1 long : 24 bytes Object with 2 longs : 32 bytes Object with 3 longs : 40 bytes Object with 1 reference : 16 bytes Object with 2 references : 24 bytes Object with 3 references : 24 bytesI conclude that : an object takes 12 bytes , aligned to 16 bytes.an int takes 4 bytes ( 1 object with one int is 12 + 4 = still 16 bytes , with 2 ints : 12 + 8 = 20 aligned to 24 bytes ) a long takes 8 bytes ( 1 object with one long is 12 + 8 = 20 bytes , aligned to 24 bytes ) But I struggle to understand why references do n't use as much space as longs.Since references are 8 bytes on a 64-bit JVM , the obvious conclusion is that the measurement methodology has a flaw*.Can you explain what is going on and what can be done to fix it ? *Notes : - no GC runs during the measurement.- using the Netbeans profiler yields similar results ."
While learning java9 StringConcatFactory class I am unable to understand why following code with MethodHandles.publicLookup ( ) throws StringConcatException exception while if MethodHandles.lookup ( ) is used everything is working fine.As per java docs of lookup : `` lookup - Represents a lookup context with the accessibility privileges of the caller '' I am not sure where I am mistaken ? Please help me understand this behavior .
The following code is working fine for m2 ( ) but is throwing a ClassCastException when I use m1 ( ) .The only difference between m1 and m2 is the number of arguments . My question is - Does varargs not work with a single argument when we use generics ? PS : This is not related to ClassCastException using Generics and Varargs
"Let 's say n = 4 . With recursion I want to return : Basically I want to take number n and with by combining numbers 1,2,3 and 4 create all possible variations when the number of sum == n.This was my first idea , but it gives me Exception in thread `` main '' java.lang.StackOverflowError"
"I have an annotation that can be added on METHOD and TYPE and is used in thousands of places in our project . Is it possible to make the annotation deprecated only on methods while keeping it non-deprecated on types ? I want other developers to be notified by IDE that it should not be used on methods any more , until we 'll refactor all existing usages and finally remove the METHOD part . If it 's not possible , is there any Way to handle such case beside creating new annotation only for types and deprecating the old one ?"
"If I add @ Builder to a class . The builder method is created.I have a requirement where a particular field is mandatory . In this case , the name field is mandatory . Ideally , I would like to declare it like so.When googling i found many alternatives like overriding the builder implementation as below : And then use it like below : The problem with above approach is that it still provides the name ( ) and PersonBuilder ( ) method like below , which i do n't want : Another approach is to add @ lombok.nonnull check at name which will force to provide value for name while creating object . but it is a runtime check . it will not force me to provide value for name while creating object.Is there any additional technique which lombok provides to achieve below : Note : The builder ( ) and name ( ) should not be exposed . The only way to create Person object should be either above or below :"
"Please consider the following two functions : While composite ( first , second ) computes the composition of first and second , iterate ( function , n ) computes the nth iterate of function.While the restriction Y extends X suffices for any n > 0 , we 've got some problem with n == 0 . Mathematically , iterate should yield the identity function . However , therefore we would need X extends Y , i.e . X == Y , as well.Please consider the following exampleThis yields the error message : What 's the best option here ? If n == 1 , we could check if X is acceptable as Y. I would like to hear other options and some ideas how this check can be performed ( as far as I know , there is no simple solution to check two generic parameters for equality ) ."
"i have a complex problem with Java 8.ProblemWith nested lambda compiler crash with a NullPointerException ! I know that lambdas must be stateless indeed in this case the codes that have state are Supplier implementations that however are anonymous classes and not lambdas.CodeStacktraceTestsI did several attempts with different version ( 1.8.111 , 1.8.152 , 1.8.162 , 1.8.211 ) and on different environment ( Windows , Mac ) .I tried with CMD using mvn clean compile or via intelliJ using maven plugin.Removing function C all works fine.My suppositionshypothesis 1 This is a Java 8 limit and IntelliJ has a bug that allow me to collapse anonymous classes into lambdas though java 8 ca n't handle them.hypothesis 2 This is a Java 8 bug.I ask for your help for this interesting java problems.Thanks : ) UPDATEI 've opened a bug on Java Bug Database . I 've the confirm that this is a bug and it has been resolved on later version 9 , 10 , 11 , etc ... https : //bugs.java.com/bugdatabase/view_bug.do ? bug_id=JDK-8225771"
"I am new to Java and using a code given by someone . There , at the end of the code , they interrupt a thread if it has not finished . I am measuring the timing of the code.The problem is that the Java code first issues all the threads , and then at the end it interrupts . Is interrupting necessary ? Ca n't we wait till all threads actually finish ? Or may be just skip interrupting ( these threads are running processes using process exec command and they will finish anyway ) .Here is the relevant code . First the code for individual thread : Now the code of the part which dispatches these threads : This function is called from main class like : I greatly appreciate any insight or answer ."
I tend to use ( or even overuse ) double braces object intialization in GWT . For me it looks more readable and more declarative.Before today I was not aware that this syntax is not just instantiate object but also create AnonymousInnerClass for it . Now I am concerned how GWT deal with them . How this syntax affects perfomance of the execution ? How this syntax affects compiled size ? Any other bad thing ? I have thousands of such initializations in my app .
"This is probably a really stupid question , but I 'm having problems calling methods in java . For my computer science class I am instructed to write a single program with multiple methods . In one method I am to prompt the user to enter an integer , return that integer and store it in a variable . The next method is to be passed the integer from the previous method and return true if the integer is odd and false if it is not . My problem is this , when I try to call the second method from the main method , I get an error message saying `` can not find symbol . symbol number '' I 'm sure it has something to do with the scope of the variable only existing within the getInput method , but I do n't know how to get the program to print the value from my second method if it wo n't recognize my variable from the first method . Here 's what I have come up with so far . ( You can disregard the method named printBanner , that one works , I 'm just having trouble with the next two , getInput and isOdd )"
I ran into this logic that someone had implemented at work today and it just feels wrong to be creating locks this way . Do you guys have a better solution for this ? The problem with not using synchronized block on myObj is that it can be null . Any other suggestions ? ?
"First of all to prevent mark question as duplicate by guys who do n't like read to the end I have read Producer-Consumer Logging service with Unreliable way to shutdown question . But it is not fully answer the question and answer contradicts the book text.In book provided following code : Now we should to understand how to stop this process . We should stop logging but should not skip already commited messages.Author researches approach : and comment it like this : Another approach to shutting down LogWriter would be to set a “ shutdown requested ” flag to prevent further messages from being submitted , as shown in Listing 7.14 . The con- sumer could then drain the queue upon being notified that shutdown has been requested , writing out any pending messages and unblocking any producers blocked in log . However , this approach has race conditions that make it unreliable . The implementation of log is a check-then-act sequence : producers could observe that the service has not yet been shut down but still queue messages after the shutdown , again with the risk that the producer might get blocked in log and never become unblocked . There are tricks that reduce the likelihood of this ( like having the consumer wait several seconds before declaring the queue drained ) , but these do not change the fundamental problem , merely the likelihood that it will cause a fail- ure.The phrase build enough hard for me.I understand that is not atomic and message can be added to the queue after shutdowning . Yes , it is not very accurate but I do n't see problem . queue just will be drain and when queue will be empty we can stop LoggerThread . Especially I do n't understand why producers can be blocked.Author did n't provide full code thus I can not understand all details . I believe that this book was read by community majority and this example has detailed explanation.Please explain with full code example ."
"In terms of memory used and impact on garbage collector , I would like to know if there is a difference between those two implementations : Also , if there is any functional difference , please tell me !"
"Some of our code is auto-generated ( by Apache Axis ) and it reports a ton of warnings . An example would be : Here , the warning would be HashMap is a raw type . References to generic type HashMap should be parameterized.Of course it makes no sense to actually address these warnings , as we have to trust Apache Axis anyway and it would simply re-create the code as-is again.Because our team uses different IDEs , from VSCode to IntelliJ IDEA to Eclipse , I 'm looking for an IDE-agnostic way to exclude warnings coming from the auto-generated package/directory . It would be best if this option could be set for the workspace by being under version control.In TypeScript , I 'd set an exclude array in tsconfig.jsonDoes Java , for example , have an equivalent ?"
"In my scenario , a string is given to my function and I should extract only the numbers and get rid of everything else.Example inputs & their expected array output : In Qt/C++ I 'd just do it as follows : So with java I tried something similar but it did n't work as expected.So , what would be the best way to escape all spaces and characters except for the numbers [ 0-9 ] ?"
"Does anyone know how I can do a common `` OR '' like in a where clause , in firebase ? I need to do that in the query , because I am sending the query to an adapter . So , i mean , I can not add a listener and check one value and then another . I need to have the complete query pointing to that result in my query.What I have is something like : I need to get all the chats of the user whose id is `` 2 '' . I am trying to do a query like : However it will only get the chats when the user 2 is in the user2Id position . But in the example above , when the user 2 is in the user1Id ( chat2 ) it wo n't get . And I need to get it . How can I do this ?"
"Introducing some of the goodness of collection operations to our codebase without adding a new external library dependency , we are adding these methods to our utility package.With the attendant interfacesSo the questions : Is Filters a good name for the class containing the extensions ? If not , a better ? Is Mutator < T , Y > appropriately named ? Should I prefer map to transform and reduce to filter ? Are there any important set-based functions that I 've forgotten to include in the library class ? Edited to add : A significant argument I have against map ( and thus in favor of transform ) is that map has significant semantic load due to the many uses for java.util.Map"
"I have a container running a Spring Boot microservice . I am using openjdk version `` 1.8.0_212 '' under OpenJDK Runtime Environment ( IcedTea 3.12.0 ) ( Alpine 8.212.04-r0 ) When I use -XX : +PrintFlagsFinal flag and print the JVM parameters I expected to see -XX : +UseParallelGC as trueBut to my surprise none of the 4 collectors ( -XX : +UseSerialGC , -XX : +UseParallelGC , -XX : +UseConcMarkSweepGC , –XX : +UseG1GC ) were active.Shown below is my dockerfile : I 'm running this using : The flags_base.txtThis is part of the output of -XX : +PrintFlagsFinalAfter running jcmd [ pid ] VM.flagsI am getting the below output which also does not specify a collector : What Is happening here ? Is there anything I 'm doing wrong ?"
"I know when we are passing objects we are passing its reference as a value . But this value you get is using the hashcode ( ) method right ( according to my tests it 's the same ) ? Since hashcode ( ) is not the memory address and not guaranteed to get unique values all the time , can there be strange things happen like collisions when passing objects ? ( Assuming hashcode ( ) has n't be overridden , i.e. , it returns the same value as System.identityHashCode ( ) ) Three are many like this questions , but I ca n't find a relevant resource which discuses what is that value being passed and how do you get it ? EDIT : Here is my test . The default toSting ( ) uses the hashCode ( ) inside and converts it to a hex value . So when we are passing objects , is this the value being passed ? Or what does java do to keep track of all the objects ( being passed ) so there wo n't be any reference collisions ?"
I have a CustomDialogFragment like thisAnd from outside where I call the DialogFragment.I got the crash saying Any thoughts ?
"I have a question on how to proceed with my code . My project is a tool which runs configurations one by one in the background . I would like to add a limit to it for the number of running configurations.For example , if I have 13 configurations I would like to run 5 configurations each time , so the order will be : The code for now , works as following : For now , it runs each configuration one by one . The run method looks as following : The signature of the execute looks as following : At first , I though I can just run the last configuration every 5 configurations not in the background but its problematic.I ca n't execute not in the background the last configuration every 5 configurations because maybe the first configuration will finish last.How can I solve this issue ? EDIT : when I print the configurations , it looks as follows : Also , the configurations is a list of configStructs ."
"i have a question to Java Overload Methods . Suppose i have an overload methods foo : How can I implement to functions like of which one uses the overloaded string method , and one the overloaded object method ? The call of the foo-Method should use an String input . ( that means i do not want to work with a cast like Maybe you can help me with this problemEDIT : Above , just is an example for an exercise . I am trying to understand Overloads and Dispatch better and was looking for alternative solution for calling ( and selecting ) an overload method ."
"I 'm new in programming in Java and I do not understand what 's going on in my code.It tells me : My main.java is simple : this is addMine method : and Mine.java is : As You can see I wrote 2 println-s and both of them were false , so the object exists ! I do n't understand why it shows NullPointerException : ("
"Possible Duplicate : Compiler complains about “ missing return statement ” even though it is impossible to reach condition where return statement would be missing The following method in Java compiles fine.The method has an explicit return type which is java.lang.String with no return statement though it compiles fine . The following method however fails to compile.A compile-time error is issued indicating `` missing return statement '' even though the condition specified with the if statement is always true ( it has a boolean constant that is never going to be changed neither by reflection ) . The method must be modified something like the following for its successful compilation.orRegarding the first case with the while loop , the second case appears to be legal though it fails to compile . Is there a reason in the second case beyond one of the compiler 's features ."
"I wanted to know if this is an implementation detail ... In Java , used local variables are captured for anonymous classes , and lambdas . For anonymous classes , the this is also captured in a non static context whether needed or not . It appears , however , any local variable referenced is captured even if not used for Oracle JDK 8 update 181.the byte code for the anonymous Runnable isAs you can see , it captures the local variable which it loads , but always discards at runtime.The lambda does much the same , also capturing the variable.Is this always the case , or an implementation detail ?"
"So I have a piece of code where I 'm iterating over a list of data . Each one is a ReportData that contains a case with a Long caseId and one Ruling . Each Ruling has one or more Payment . I want to have a Map with the caseId as keys and sets of payments as values ( i.e . a Map < Long , Set < Payments > > ) .Cases are not unique across rows , but cases are.In other words , I can have several rows with the same case , but they will have unique rulings.The following code gets me a Map < Long , Set < Set < Payments > > > which is almost what I want , but I 've been struggling to find the correct way to flatMap the final set in the given context . I 've been doing workarounds to make the logic work correctly using this map as is , but I 'd very much like to fix the algorithm to correctly combine the set of payments into one single set instead of creating a set of sets.I 've searched around and could n't find a problem with the same kind of iteration , although flatMapping with Java streams seems like a somewhat popular topic ."
"I am using the library Apache-POI for my app . Specifically , POIshadow-all ( ver . 3.17 ) for reading a Word document.I am successfully extracting every paragraph as follows : what I actually need is extract every line , as follows : The code to extract every paragraph is this : The variable currentParagraph returns a whole paragraph , as expected . However , I would need a variable named currentLine which returns a single line.I 've research about this issue in stackoverflow and other sites . I 've found some proposals but none of them works for me.I also tried get dates by ctr and using XWPFRun , without any success.I would be grateful for any recommendation on how to proceed.Thanks in advance for your help ."
I 'm wondering to know which program variant are better runtime ? Both variants looks easy to implement . But what are better to use and in which cases ? String reverse : StringBuilder reverse :
"I have two methods in a class ... When I make the following call ... obj.method ( `` string '' , `` string '' , obj ) the correct method is called , however , when I try to call obj.method ( `` string '' , `` string '' , obj [ ] ) the first incarnation of that method is called . Is there any annotation or `` hint '' I can give to make sure the method I anticipate being called will be called ? I know an Object [ ] is anObject , but I would hope that at runtime the method with Object [ ] would be called before Object ."
"I have a tasks list object which I am iterating and appending each task object into StringBuilder followed by new line as shown below . Now I will keep appending task object in same string builder until it reaches a size limit of 60000 bytes . Once it reaches the limit , I will populate this string as a value in the map and key will be file name with incremental index . And then I will reset string builder and other thing and repeat this process again.So if I have a big tasks object , then I will split into multiple string object whose size should always be less than 60000 bytes.I got below code but I always see value in the map has size greater than 60000 bytes . Anything wrong I am doing ? Also I am populating into HashMap at two different places - one if limit is reached and other is if limit is not reached.Note : If each Task object is more than 60000 bytes , then I will drop that object right away and move to next entry . But in real , its not gon na happen.Update :"
I have a code something like this and I want to make it scoped . But I found that this is not working and it seems only possible through in a module . I was n't able to find a proper question for this and is it possible to scope a constructor injection ? Does not workScope works ! !
"First , some environment : this is Oracle 's 1.6.0_45 JDK , and IDEA 13.1.I have stumbled upon a most bizarre compiler error : Funnel and PrimitiveSink are from Guava ; as to FieldNode , it is from ASM 5.0.1 ( org.objectweb.asm.tree.FieldNode ) .Note that I use IDEA ( 13.1 if that matters at all ) . Now , at first , I had one method defined like this : IDEA show no warnings ... But the compiler is not happy : Line 53 is this one : That is most bizarre , I do n't see why . And then I did this : And with this , it compiles ! What is happening here ? Who is right ? IDEA or javac ? EDITI tried this , and it compiles : But why do I need the cast at all ? I also tried to use a `` regular singleton '' like this and it also works :"
"I'am currently working in a java project which I have a list of strings and I want them to have a specific format using streams .For exampleInput : [ nom , contains , b , and , prenom , contains , y , and , age , > = , 1 , and , age , < = , 100 ] Ouput : I wrote a very basic code without using streams : SearchCriteria Class"
"I 'm trying to do some pre-shutdown cleanup when a SIGINT is sent to my Java application , using the sun.misc.Signal and sun.misc.SignalHandler classes.It appears when I register my handler the default behavior no longer occurs . But there is a SignalHandler.SIG_DFL field containing `` The default signal handler '' . First of all , is the behavior of the default handler documented anywhere ? Secondly , should I prefer the following pattern when implementing my own handlers ? Edit : I am aware the sun.misc package is not portable , and that shutdown hooks are the more robust way to deal with application termination . Suffice to say I am aware of these features , and have a need to handle signals directly . To my knowledge , sun.misc.Signal is the correct way to do this ."
"Hi all I was browsing through some of the Java source code when I came across this ( java.lang.Character ) : I was wondering why did the writer added 1 to the higher limit and doing a lesser-than compare , instead of simply doing a lesser-than-or-equal compare ? I can understand if it helps readability , but in this case it does n't seem to be that case.I was wondering what 's the difference between the code above and this :"
"Not sure if I am wording this correctly . Please let me know if you require more information.We have a requirement where we need to determine the type of variable based on a system environment variable.So , say we have a the following classThe DUMMY_TYPE is determined based on a system variable . So when Java compiles , is it possible to have Java use the System Environment variable to determine the type at compile type ? Also , is it possible to set this up somehow on Eclipse , where Eclipse will continue to show me DUMMY_TYPE on the IDE wherever I use it , but when compiling and building it can substitute DUMMY_TYPE with the correct type based on environment variable ?"
"I have been digging into spring security yaml a little bit yesterday to make it work with Okta SAML . Logging in works , but the response XML contains user attributes that apparently can not be extracted automatically into an attribute map . The response contains a fields like thisOnce an authentication is successful , I would like to put those in the authentication information . When logging in via github/oauth , the OAuth2AuthenticatedPrincipal class has an attributes map , however the Saml2AuthenticatedPrincipal only features a name.What would be the correct way to solve this ? Right now I am thinking of a custom AuthenticationSuccessHandler that populates a custom Saml2AuthenticatedPrincipalWithAttributes class which contains all the attributes by parsing the provided XML response ( via .getDetails ( ) ) a second time ( or put them into the session ) .I have a hunch that this is probably not the spring way to do things and would love to get a second opinion . When googling around you mainly find examples of spring security saml , before it got merged into spring security , which seems to handle things a little bit different , as the mentioned classes do not exist anymore.Thanks for helping everyone !"
"I 'm struggling with this aspect of Generics in Java . Hopefully someone can help me see the ways.I have a class that holds a List of objects . This code works , but I want to get rid of the cast . How can I make this more generic ?"
"Keeping stacktrace out of it , lets say that the idea of 'error ' is a problem that you did n't want to occur , but did.If I were to use a boolean system to check if the action successfully completed , it would look something like this : If I were to use Exceptions , it would look like this : The only thing that matters to me is that when a problem occurs , I 'm notified in some way , and I will have an option to handle the situation . Which way is more practiced ? Does it just depend on the situation , or are there reasons for picking one over the other ?"
"Let 's say I have a Shelf class and each Shelf has multiple Books.Now , let 's say from some method I have a List of Shelfs , each containing some books . How do I use stream to collect all the books to this list ? I 'm thinking something likebut it does n't seem to work , throwing a compilation error ."
After running a recursive function to obtain an employee/manager family tree - a further requirement has come up to reserve an overall manager structure.So I would imagine the input array to look something like thisand the output array would need to look like thisThe hierachy needs to be sorted in this manner to show that Employee C retains the role of senior manager at all times
How do I enable `` -- enable-preview '' for tests in Kotlin-based Gradle script ? I tried literally everything I could find online with https : //stackoverflow.com/a/61849770/226895 being the closest to correct answer.I still get following error on : test taskby script isWhat am I missing ?
"Let 's say I have this hierarchy : This works fine , I can do : but I have to do a manual typecast.Is there a way to use java Generics in order to have the clone ( ) method return the actual type of the subclass ? Thank you !"
"What is the Java equivalent of these traits in Scala ? I translate the Strategy trait to : I try translating trait Visitor to : As you can see , I do n't know how to understand/translate type R in the Visitor trait . What is a similar Java equivalent ?"
"I 've tried to use buildpack in a maven project with Spring Boot 2.3.0 running : Image was created just fine , but I see the following info for it : Why does it say the image ( along with the builder ) was created 40 years ago ?"
"as per my understanding , 1st call to intern method should have created a 'string intern pool ' with a single string `` hello '' . second call to intern method would have done nothing ( as `` hello '' string is already present in pool ) . Now , when i say s1 == s2 i am expecting JVM to compare `` hello '' string from string intern pool and return true ."
I understand that == operator checks for equal references ( addresses ) but I am not getting how the compiler is throwing below error when comparing Thread and String object.java : incomparable types : java.lang.Thread and java.lang.StringHere is my code : Why is it allowing comparison between Thread and Object but not Thread and String ?
"I have one program in java..i am confused about the output.here output is 0 0 0 0 0But if i write , then output is 1 2 3 4 5Why it is coming like this ? ? ?"
"I made a java.net.HttpURLConnection and it hang on the line connection.connect ( ) even though I ’ ve set a connect timeout . “ b4 connect ” gets logged and “ after connect ” never gets logged . I ’ ve tested on API 21 and above and things work , but I get this issue with my test on API 16-19 . Here is my code below . The request is using https and the backend uses a standard nginx https configuration ."
"This answer shows Java 's visibility modifiers and their meaning : My question is , why does allowing visibility to all subclasses imply that you must give visibility to all other classes in your package ? In other words , why did the Java creators make it like this , as opposed to :"
"I 'm trying to figure out how to map data coming in on a request to a Hibernate object , and the issue is that the data coming in could be on the object or the child objects , and the field data is not necessarily known - the forms are user configured to contain and collect the desired data.Roughly , the objects are like this : So if the user has defined that they want to edit the JobLocation description , we will get back in the request something along the lines ofHow does that get mapped back to the child of the Job I 'm dealing with ? All I have at save time is the reference to the Job , all other items could be varying depending on what they have selected in dropdowns , etc . One option is to store a reference such as job.location.description , and have getters and use reflection to do a process-driving option : Sadly , there is nothing saying it could n't be multiple levels , and to get the methods we are currently thinking we would have to use reflection . Are there other , better ways to do this type of operation or do we just have to slog through this ?"
Why does this code print 97 ? I have not previously assigned 97 to ' a ' anywhere else in my code .
"I 'm running this code with a Twitter handle I 'm pretty sure does n't exist in order to test error handling . The breakpoints on the Callback are never hit , neither for success nor failure.Any pointers on why this is ? Just as a note , this code works fine with a valid Twitter handle , but does n't call the Callback either ."
"Consider the following interface : Which is implemented by the following class : Although meth ( ) is a method that throws an exception , the caller of the method meth ( ) is not having to handle or declare the exception and yet the program runs successfully . Why is this the case ? Does it not violate the rule that whenever you call a method that throws an exception , you need to catch the exception or declare that you throw the exception yourself ?"
"When using JColorChooser , entered CMYK values translate to a specific RGB color . When that color is entered manually on the RGB side , the CMYK valuesare not the same as before.The following program can be used to demonstrate the behavior I am encountering.In both panels , select CMYK and type in any valid numbers for CMYK . Both panels must have the same values.Now compare the RGB values for each panel . They should be the same.Select a single panel and reset the sliders to 0.Now re-enter the RGB values into that same panel.Switch to CMYK for both panels . The values in the panels that I see are different.Note that when going the other way ( i.e . selecting RGB first and re-entering the CMYK values ) , all works as one might expect . Am I missing something inwhat 's expected of the conversion process , or is this a bug ? I am running Java 10 on Windows 10 and my IDE is Eclipse.Also posted at http : //www.javaprogrammingforums.com/java-theory-questions/41836-possible-bug-jcolorchooser.html"
"Doing Java REST service performance test I see a pattern that was unexpected : a method that creates and returns always the same value object in each invocation runs faster than another version that just returns the value object stored in a class or object field.Code : Byte code : Inline ( faster ) : getstatic , invokestatic , invokevirtual , areturnStatic filed ( slower ) : getstatic , areturn Object field ( slower ) : aload , getfield , areturnPerformance ( using Apache AB , single thread , several runs with consistent results ) : Inline : 17078.29 [ # /sec ] ( mean ) Static field : 5242.64 [ # /sec ] ( mean ) Object field : 5417.40 [ # /sec ] ( mean ) Environment : RHEL6 + JDK Oracle 1.7.0_60-b19 64bitsIs is possible that the JVM optimized the inline version with native code , but never considered optimizing the other two because they are already pretty small ?"
"So ... basically I have a docx file . And I have to do some formatting changes in few paragraphs and then save in a new file . What I am doing is essentially following.For most part everything is working fine . The output docx is opening allright in LibreOffice on my Ubuntu.But , when I transfer this output docx to a Windows system , and try to open this output docx in MS Word , I am getting infinite ( ever growing ) garbage pages.Any guesses from the wise-one 's of Poi community are welcome.Also ... One of my guesses is - May be the line endings in the files are confusing MS Word . As Ubuntu uses ( LF - \n ) line endings whereas windows uses ( CRLF - \r\n ) . If this is actually the issue ... then how do I fix it ? Though ... My code is in Scala ... I think the similar should apply to Java code as well ... and Most Poi users will be in java community ... So I am also adding Java tag ."
"This is an assignment question I received from school . The question says , write a method called capitalizer which will take the string `` ownage '' and then displays ( does n't have to return ) all the possible capitalization of it , such as `` OwNaGE '' or `` OWnAGE '' . It does n't have to work for every string , just the word `` ownage '' is enough , and it has to be done with recursion.Here 's what I have so far.My mind is completely messed up right now . It seems like I have lots of repeated cases . Do you guys think I 'm close the right solution ? How do I make it so that nothing happens in the base case rather than printing out something ? How do I avoid the repeats ? Anyone please help me I would appreciate it very much ."
"I have a Long string that I have to parse for different keywords . For example , I have the String : And my keywords areI have tried a lot of combination of regex but i am not able to recover all the strings . the code i have tried :"
I 'm trying to create a very simple grammar to learn to use ANTLR but I get the following message : `` The following alternatives can never be reached : 2 '' This is my grammar attempt : I 'm using ANTLRWorks plugin for IDEA :
"I am working on a small helper that is supposed to invoke arbitrary code ( passed in as lambda ) . The helper should catch certain exceptions , and throw them inside some wrapper . My `` own '' exceptions should not be wrapped but just re-thrown . I came up with this code : The above gives a compile error : Unreachable catch block for MyCheckedException . This exception is never thrown from the try statement body MyExceptionLogger ... In other words : although apply ( ) is defined to throw some X extends Throwable I ca n't catch a specific checked exception when invoking that method . I know that I can get to working code by catching Throwable , to then use instanceof checks - but I would like to understand why it is not possible to have a try/catch as outlined above ."
"I am trying to run a spring batch on application deployed on websphere . When I run the batch using eclipse all runs fine but when I run the same batch in deployed application on websphere it gives errorI checked source code of paranamer BytecodeReadingParanamer class and it saysI believe it means that the java class was not compiled with debug information ( -g flag ? ) on websphere whereas in eclipse , I have this information.Please tell me how to correct this error on websphere ? Do we have a add debug information in java compiled classes flag ? ThanksAiden"
I have the following codeOP : Why am i getting `` false '' when i check s==s3 ? ..
"Why Integer ii = ' a ' invalid , but int i = ' a ' valid ? Why Short ss = ' a ' valid , but Integer ii = ' a ' invalid ? another set question : Why b = L ; invalid , while b = s ; valid ? Please , do n't say it is all because JLS said so . I want to know why JLS has these inconsistent and non-intuitive rules . What did I miss ?"
"** SOLVED **I 'm fairly new to Java and so far I love it ! So I 'm just asking if someone has a idea that could help me out . So here 's what I would like to do . What I 'm working on right now is a application that can interact with my local website ( change titles , content , etc ) . So what I like to do is show a JOptionPane.showConfirmDialog , and enter a username and password . So basically if the username or password is wrong I would like to display a JOptionPane.showMessageDialog but when they click Ok to let them know that there information is wrong the showConfirmDialog disappears ! Any idea guys ? ! Here 's my code . So this is what I did and it seems to work fine for me do n't know if its incorrect . However it works : ]"
"I am studying the workings of Inner Class and inside its bytecode , I was tracing the stack and could n't understand why is the getClass ( ) called ? I found a similar question for Lambda function but could n't understand it.I did try to understand that is required for no null check , after JDK 8 it 's been replaced by a static function called requiredNoNull.Code : ByteCode :"
I am trying to sort the following stringsI currently have these values in an array of strings . I am trying to have an output where if there is no `` - '' then those values go to the end of my array in a sorted order . I am trying to have an output as follows : I have tried Arrays.sort ( arrays ) but I am not sure as to how to go about sorting this ?
"I 'm studing for the Java Certification 1Z0-803 and I hava a doubt about garbage collection : x is referencing the object X created at the position 1.This class X has a instance variable of the type List . If I referenced the instance variable list on x of the type X in a local variable list and then set x to null , the object referenced for x will be eligible for GC in this line ( position 2 ) or because I 'm referencing an instance variable of this object , this object only be eligible for GC when its instance variable does not have anything reference to it ( position 3 ) ?"
"In C , the printf function has a great wildcard feature , where you can use an asterisk where you would normally place an int that specifies minimum column width . So you can goup in the preprocessor directives , and then later you can putto print myString in a 20 character column.This asterisk trick does n't seem to be implemented in Java . I have to goinstead . This is a flagrant magic number , especially if you are trying to use printf to do something like build a table where you want an easy way to change the column width on a lot of lines at once . So , is there something I 'm missing about printf in Java that makes what I want to do possible , oris there a neat and more Java-like way of formatting text for output in a table without using magic numbers ?"
I have a to rewrite a part of an existing C # /.NET program using Java . I 'm not that fluent in Java and am missing something handling regular expressions and just wanted to know if I 'm missing something or if Java just does n't provide such feature.I have data likeThe Regex pattern I 'm using looks like : In .NET I can access the values after matching using match.Group [ 3 ] .Captures [ i ] .In Java I have n't found anything like that . matcher.group ( 3 ) just returns an empty string.How can I achieve a behaviour like the one I 'm used to from C # ?
"I am trying to use Apache Sling logging in an Equinox project . It is working fine , but I ca n't make Sling to use my config file . I am using a standard logback configuration xml , which should work according to the Sling documentation . But no matter where I put the configuration file Sling just does n't use it.My logback configuration is as follows :"
"I 'm encountering this bizarre problem : the same code produces different results in Native Java than in Android . Given the following Inputstream ( read from a file ) Native Java prints out as expected . But in Android I got : Why does it behave differently in Android Java ? In Android , somehow the character ' ] ' is taken out from the stream before the tokenizer got there . I have read Java docs and Android docs and those classes seem to be identical . My API level is set to 7 . And I 've tried on both Android 2.1 Emulator and Android 4.0 Emulator getting the same result . I 've also tried running it on a real device and I got the same result as well ."
"The overloaded functions compute1 ( ) , compute2 ( ) , and compute5 ( ) cause compilation errors if you try to use them below : After reading the JLS section 15.12 , I think I understand ... in phase 2 ( boxing/unboxing allowed , no varargs ) of matching overloaded methods , when determining the `` most specific method '' , the JLS says ( in effect ) that the most specific method is the one whose formal parameters are subtypes of other applicable methods , and primitives and Objects ( e.g . int and Integer ) are never subtypes of each other . So Integer is a subtype of Integer , and int is a subtype of int , but Integer and int are incompatible w/r/t subtype comparisons , so neither of the compute1 ( ) /compute2 ( ) pairs have a most specific method . ( Whereas in compute3 ( ) and compute4 ( ) the method with the String argument is more specific than the method with the Object argument , so the program prints 6 and 8 . ) Is my reasoning correct ?"
"We 've been using maven dependencies to specify the libraries so far , i.e . : However , we are now running the exact same .war file on different machines , and would like to keep the same One-war-file-to-rule-them-all , but do n't want to hit issues by using an older driver on a postgres 9.1 installation ( especially when byte array encoding defaults have changed , for example ) . Cliff-Claven esque like information that probably wo n't matter but added anyway : OS for both of these installations are Mac OS X Server , the Postgres 8.4 one is running on 10.6 , the 9.1 one is running on 10.7 . We have no need to upgrade any data ( separate instances started from scratch ) .Perhaps it 's more of a maven question than anything else , but I could n't seem to see anything specific to my situation . I did find this , but it 's older Hibernate 3.5 which does n't apply anymore ."
"I wrote this line of code in eclipse mars for messing purposes : And I got the following compiler error message : Can not invoke toString ( ) on the primitive type nullWhich is very strange since null is not a primitive type nor an object reference as explained here : Is null an Object ? So , just to be sure , I tried to compile such odd line of code using javac and I got this result : NullTest.java:3 : can not be dereferenced 1 errorDoes somebody know why Eclipse would give such ( IMO ) misleading compiler error message ?"
"I am currently trying to wrap my head around bitwise and bit shift operators in Java . Although they make sense to me in simplified toy examples ( basically positive integers ) , my understanding falls apart as soon as negatives are involved , and in some other cases . I tried searching all over the Internet with two search engines and I even checked the Java specification . I ca n't find any source that properly describes how bitwise and bit shift operators work in Java.One function in the Java standard library that is especially confusing to me is java.lang.Integer.toUnsignedLong ( int ) . The source from OpenJdk is shown here ( LGPLv2 with classpath exception ) , with an excerpt in the Javadoc : According to the official documentation reproduced above , `` the high-order 32 bits of the long are zero and the low-order 32 bits are equal to the bits of the integer argument . '' I do not see how this follows from the code inside the method body however . When reading the method , the following is my train of thought for positive x : When the integer is cast to long , its sign bit / most significant bit is zero . As such , the long 's sign bit / most significant bit is zero and the low-order bits are equal to those of the integer.As the long 0xffffffff has all ones in the lowest-order 4 bytes , and because only these bytes will have data in them , this mask has no effect and the correct result is returned.When reading it in the context of a negative x however , my understanding falls apart : When the integer is cst to long , its sign bit / most significant bit is one . As such , the long 's sign bit / most significant it is one and the low order bits are equal to those of the integer , except the most significant bit of the fourth least significant byte is zero when it is one in the integer.As the long 0xffffffff has all ones in the lowest-order 4 bytes and zero in the highest-order four bytes , it has the only effect of changing the sign bit on the long , and keeps the incorrect integer in the four least significant bits intact . As such , it returns a wrong answer from this method , where the sign bit of the integer is changed as it moves into the long.When I test this method , however , I get results consistent with the Javadoc . I suspect that I am misunderstanding one or more fundamental points about bitwise operators in Java or its two 's complement integer representation , and I hope that this question can clarify those points ."
"As I tried to see if I could answer this question earlier today . I realized that I do n't fully understand the Event Dispatch Thread ( EDT ) . Googling both confirmed and helped with that and clarified why I do n't . ( This might also be relevant to understanding . ) The code sets up a GUI and later ( as in the earlier question ) updates a text field until a flag is unset . I have several questions/requests.Please explain why the code below runs fine if both calls ( to swingInit and doIt ) are outside the invokeLater block ( as shown ) , since both calls affect or query the GUI yet neither are executing on the EDT ( are they ? ) . Is n't that inviting failure ? Code also runs if call to swingInit is inside and doIt outside invokeLater . So swingInit is executed on the EDT , but should n't doIt not executing on the EDT be a problem ? ( I was surprised that this worked . Should I have been ? ) I guess I understand why it hangs if doIt is inside invokeLater regardless of where swingInit is : the purpose of invokeLater is ONLY to initialize the GUI ( right ? ) .Should doIt only be initiated ( possibly from an event occurring ) on the EDT but certainly not inside invokeLater block ? ( The history of the EDT concept is interesting . It was not always thus . See link above to `` why I do n't '' understand it . )"
"I 've got an internal storage layer in my application , which handles Foo objects . During Get operations , the data layer has significant benefits to clustering gets , but I only actually do multiple gets about 10 % of the time . Here are various approaches I 've considered : Approach A : Approach B : Approach C : The downside to Approach A is having a larger surface that I need to support.The downside to Approach B is having the consumer build a List when 90 % of the time I do n't need it.The downside to Approach C is the overhead of copying a list to an array 10 % of the time.Is there a canonical right way to do this ?"
"I 'm reading OCP Java SE7 , certification guide from Mala Gupta . On page 297 , the following code snippetis compiling with java 8 but with java 7 the compiler complains : My question is : What change in type inference algorithm causes this behavior ?"
I 'm exploring a Java grammar parser and I came across this strange piece of code that I would n't normally use in ordinary code . Taken from https : //code.google.com/p/javaparser/source/browse/branches/mavenized/JavaParser/src/main/java/japa/parser/ASTParser.java # 1998It has many functions that contains code such as At a glance it appears strange but no doubt it 's valid as I can compile it . But can someone explain how it works ? I have tried to input invalid Java syntax and it does it 's job ! I 'm baffled . How does the few lines throw exception after the return ?
"I have a set of entities and I need to group this entities in groups called specie . The set of all species defined calls Universe and an entity must belong to one and only one specie . For this I have a boolean intransitive function called f that returns if two entities , passed by parameters , are compatible . A specie is defined by a group of entities compatibles with each other and a universe is defined by a group of species that are not entirely compatibles with each other , assuming that the compatibility of two species is defined by the compatibility of all of it 's entities . How can I determine the universe that contains the smallest number of species possible for a given set of entities ? I tried as follows and my function returns a valid universe but not the one with the smallest number of species possible ."
"I 'm having trouble fixing this problem ; it 's been plaguing me since yesterday ( sorry , I posted this earlier then deleted it because I thought I solved it but it turned out to be another bug I fixed ) . I 'm trying to simply take a list of items and a range and to find combinations that would allow all items to be used.Here 's an example : imagine you have 4 items ( apple , pear , peach , and orange ) and want a minimum of 20 % of the basket to contain each and a maxium of 60 % . For example , you could have 25 % , 25 % , 25 % , 25 % of each item or 30 % , 30 % , 20 % , 20 % and so on , but 0 % , 0 % , 50 % , 50 % does not work because the specified min % is 20 % .The program works fine , but it uses items less than the entire list ( instead of 4 items in every solution , some solutions contain 2 or 3 items , which is not what I want ) . If I send a list of 4 items , I want the combinations using all 4 items togethers and nothing less . I do not want this because I plan to use large lists and I want the size to be items used to only be all and nothing less than the min % . Here 's an example using the above information ( 4 items , 20-60 % range ) : I 'm really confused as to why this is happening , but if I had to bet , I 'd think it 's the way my recursion is taking the number of items in the list and subtracting one before sending it back . Its in the method recursion_part : I want to work on larger lists and I think it 'll be a problem if it calculates a lot of results that I do n't care for . How can I redesign this to only process all items in the list and stay within the range limits ? I thought of putting a method that checks how many zeros there are in the list and then breaks if it goes below the size of the list , but the fact that I 'm getting blank results means its processing items less than my list and I 'm thinking its better to design the program so it does n't waste resources.Here 's the entire code ( it works as described but is giving zero results as mentioned ) : Thanks , and if there 's a better way to achieve the outcome I 'm looking for , please let me know . p.s . this is not homework and I 'm not a student ; I just have a tendency to find weird sounding proxy problems.Edit : I included the entire code but here 's the output as well . It 's a snippet of the 2653 solutions , which is generating more than what I need . If you look at it briefly , you 'll see that most are correct , but as you get lower you 'll see not all values are being used ; I only want the solutions that are using all values ; there should be no 0 value-entries ."
"Is it good practice to start a thread within a thread ? I have searched around but have not found much information.I have a TimerTask which gets a list of users every day at a certain time . I then want to get some data about the user , but this requires user input . Because it requires user input , I do n't want my TimerTask thread to be blocked in the case of users not responding . For example , the first user in the list may not respond in X amount of time , I do n't want to wait X amount of time until I ask the second user for their data , and so on . So within my TimerTask , I create and start a new Thread to get the data . This way , in Y amount of time , if i have recieved some data ( but not all ) I can still do other things instead of waiting for every one to complete.Is it good practice to do the above ? Are there any better solutions ? Here is some psudeo code which may help you understand ."
How would I get this data structure using Java 8 API ? This is my object structure : I 'm trying to aggregate it tofrom
"I 'm trying to add log4j to a legacy software using eclipse search/replace . The idea is to find all class declarations and replace them by , the declaration itself plus the definition of the logger in the next line.search replace : How can I prepend the matched pattern ( the class definition ) to the replace string ?"
"I am new to Android and I started making my first application following tutorials and such . However , when I click the run button it gives me following error on the logcat from which I count not identify where the error is . Hence , here is my code in hope of some advice . Thanks in advance.LogCat after fixing the render problem : And the layout XML : the manifest.Xml as requested in the comments :"
"Declaration of a character : When I do this i am getting the error 'empty character literal'.Declaration of a String : I see no error in doing that to a String.The question is , why does n't a similar error show up for the declaration of a String , or why declaration of empty character generating such error where empty string is getting passed"
"Java has special markers on methods called synthetic and bridge . JLS 13.1.7 , `` Any constructs introduced by a Java compiler that do not have a corresponding construct in the source code must be marked as synthetic ... '' So synthetic methods are anything generated by the compiler and not represented in the source code , and although it 's not mentioned in that specification PDF very well , bridge methods are used to typecheck generics . ( E.g . Animal.interactWith ( Creature c ) gets a bridge method interactWith ( Object c ) , which casts to Creature and calls the other method . ) We have this API called Bukkit , which provides stable access to change how a Minecraft server works . One facet of the underlying implementation of the API ( aka vanilla Minecraft ) , which we have little control over , was recently forced in version 1.6.1 to change from integer values to float values . And in the interest of avoiding the difficulty of another change , we chose to change all our API methods to doubles.So , for example : However , as always , we would like plugins compiled with the previous version , 1.5.2 , to still work as much as possible - that 's the whole point of the API.The setHealth is a solved problem , just introduce an overload.And currently , we have a method named _INVALID_getHealth ( V ) I which is being renamed at implementation compile ( not API compile ) to getHealth ( V ) I , and this lets the old plugins continue to run.However , when someone tries to extend our implementation of these renamed methods , they get compile errors from the doubly-named methods and overriding.Is there a way to provide both the int and double returns using a manually / tool-inserted synthetic or bridge method , that wo n't cause compilation errors for those who try to change parts of our API implementation ?"
"I am currently taking a Data Structures class and , as you may expect , one of the things we have to do is write some of the common sorts . In writing my insertion sort algorithm , I noticed in ran significantly faster than that of my instructor 's ( for 400000 data points it took my algorithm about 30 seconds and his about 90 ) . I emailed him my code and the same results happened when they were both running on the same machine . We managed to waste more than 40 minutes slowly changing his sorting method into mine until it was exactly the same , word for word , except for one seemingly arbitrary thing . First , here is my insertion sort code : Now at this point his code was exactly the same as mine except for the lines where we swap A [ j ] and A [ j - 1 ] . His code did the following : We found that those 3 lines are the culprits . My code was running significantly faster because of this . Perplexed , we ran javap -c to get the byte code for a simple program that just had a main which contained an array declaration , a variable declaration for int j and the 3 lines of code for swapping as I wrote them and as he wrote them . Here is the byte code for my swapping method : And my instructor 's method 's byte code : I do n't see any real difference between these byte codes . What might cause this strange behavior ( my code still ran ~3 times faster than his and as to be expected this difference got more drastic as we feed the algorithms larger arrays ) ? Is this simply a strange quirk of Java . Furthermore , does this happen on your computer ? For reference , this was run on a MacBook Pro mid 2014 and my code is exactly as it appears here and his code was deduced to exactly the code as it appears here except for those 3 lines . [ EDIT ] Here are my test classes : And the second file : And the outputs ( with no arguments , just java Tester1 and java Tester2 ) : These were run as 2 separate files in 2 different JVMs ."
"I have three modules : module-a , module-b , module-c. Module-a and module-b are in boot layer . Layer for module-c I create myself.Module-a has one interface com.mod-a.Service and in its module-info I have : Module-c implements com.mod-a.Service and in its module-info I have : Module-b creates new layer with module-c , and calls module-c service . In its module-info I have : In module-b I create new layer with module-c this way : However , after creating layer I ca n't in module-b call Service of module-c . The following code : outputs : What is my mistake ?"
"Ok , now here 's the issue . The current code above gets an x , y , z and r ( range ) . It 's job is to reference through the `` cube '' until meets a certain condition I 've set . The problem lies in the fact that it starts on the outside of the cube and progresses from 1 corner to another corner basically.I 'm looking for a way ( my math/java is not liking me atm ) to start at a pos and loop outwards from that pos ( including the pos itself ) until it reaches the outermost bounds of the cube.So if we gave everything fake values , lets use x = 5 , y = 5 , z = 5 , r = 2the code should check 5,5,5 - 4,5,5 6,5,5 5,6,5 5,4,5 etc etc basically iterating through every thing to outwards from the center.The command is called FindNearest , but technically it 's acting like FindFurthest atm.I hope I gave enough detail and would love if someone could toss some snippets or working code at me as this is frustrating for the last hour or so . I do n't wan na have 10 if checks in the middle of the for loops or random stuff like that , I 'm looking for a clean way of doing this ."
"Consider this method ( just for illustration ) : That , of course , is not Java , but it could be in your favourite alternative language that supports collection literals , such as Groovy or Kotlin . The expression is succinct , and , just like string literals , the compiler is allowed to put the collection literal in some static storage area ( maybe even `` intern ( ) '' it ) .Now enter Java 9 : That 's also succinct , but unfortunately it allocates a new Set on the heap every time you call it , and then immediately makes it available for garbage collection.You can , of course , define a collection constant : But then this definition could be a thousand lines away from the method definition in a large class , and you might not be able to think of a good descriptive name for it whereas a literal might be clearer ( in this hypothetical case ) .So , if I use Set.of ( ... ) inside the method , will the JIT compiler optimize away the creation of a new object each time the method is called ?"
Can someone explain why the second loop is 20x times slower than the first ( 19 ms vs 232 ms ) ? That is how I 'm timing it :
"I wanted to test the '== ' operator on Longs and this is what I 've found : the following code : outputs : The only explanation I could come up with was that the JVM stores all long values inside [ -128 , 127 ] in the Perm space , and gives their address to Longs and to everything outside the above range it creates a new allocation for each static value met in the code.Am I close to being right ? In what situations do we have to be aware of similar behaviors ? PS . I know I should use a nullcheck and then .equals ( ) to compare objects , but I was curious if anyone knew the answer.EDITAfter jtahlborn 's answer who gave me the keyword auto-boxing I 've found this great article with the well-documented answer"
"When I was using adt16 in my eclipse everything was ok , but when I use adt 20 then in the package explorer it doesnt show the project names , the projects are being separated by their packages and launcher java class names likeso this is irritating , how can I get rid of it ?"
"I have made a very simple Scala program which just prints Hello World : To understand how Scala converts to Java bytecode I decompiled the resulting jar file where there are two files : HelloWorldActivity.class and HelloWorldActivity $ .class.The first one contains this code : while the second one contains : what I ca n't understand is what the following does : What 's the reason to put an empty new ( ) inside static , and how does static alone not throw a compile/run error ? If it helps I 'm using http : //gradle.org/docs/current/userguide/scala_plugin.htmland having this in build.gradle :"
"So , as I understand , one should always program to an interface , as in : So , later in my program I have : Can I follow a better pattern here or somehow do something to avoid the cast ? Casting seems very ugly in this scenario.Thanks ."
"I have a variation of the following code : And as you can see , my queue is not compatible with the ThreadPoolExecutor constructor . Is there any way to work around this than cast my queue to ( BlockingQueue < Runnable > ) ? I obviously ca n't patch Java Standard Library ."
"I made this recursive method that calculates the longest path in a binary tree . the path its store in an arralist and then returned . however , i had to declare the array list variable global . is it possible to make this method but his the array list variable being local.The reason i had to make it global is because its a recursive program and every time it call itself it will create a new array list object variable with difference address if you know what i mean ."
"This might be pretty basic , but was very curious to know . Here 's the code snippet and the outputand the outputI am interested to know what is GC collecting here since no objects are created . What 's the memory thats being freed up ? ( and that too 52kb ) @ JSauer - It gives Exactly the same results even if run 100 times"
"Some Android phones do n't do anything when the the code below is ran . It 's supposed to open the `` About device '' page in Settings.For example , I know for a fact that it has no effect on the Huawei Y9 Prime 2019 running Android 10.What 's the best way to safeguard against this issue when it occurs ? ( In my app , I open this page to ask the user to perform a specific action there )"
"Elaborating on this : I map a servlet or filter to `` /* '' Now , if I access a url like : Then this will be directed to the servlet ( which is okay ) But if i access a url like : This will be directed also to the servlet , I dont want this behavior , what I want is for index.jsp to be processed as jsp.How can this be done ?"
"I have been searching for clear answers desperately and I think I kinda get it but at the same time I do n't quite get the broad concept of that keyword , static.Here 's the scenario I 've made : Why ca n't you declare a variable as static inside the static method ( or any method ) ? What does `` scope '' mean ? I know that static variables are not associated with a particular instance of a class , it 's more like a `` global '' variable . But why ca n't you create a static variable inside the method ( num2 ) , but can USE the static variable ( notString ) ? When you make static variables , do you HAVE TO make them in the class ? Not possible in the methods ? Since I declared notNumber as non-static , I know I have to create an object to access that variable . But why does it work in whatever ( ) without any creation of objects , but not in the static method main ( ) ?"
"While looking through the Selenium source code I noticed the following in the PageFactory : What is the benefit of having the following line ? Would n't it have made sense to just make the parameter final , and then passing that along to the next method without declaring the new reference ?"
"I 'm wondering what the following pattern is called , if it has a name at all.PurposeStore data that is associated with an object ( MyObject ) , but that is private to an implementation of an interface that deals with that object . Clients of the object have no business looking at this data . AlternativesSome alternatives area WeakHashMap < MyObject , FooApiMyObjectAttachment > maintained in the implementation of the interface , using subclassing and factories everywhere the value is created , so that the extra data can be stored in the subclass orusing subclassing and accepting both MyObject and subclasses in the API.Code exampleCompared to subclassing , the advantage is that no factories are needed for MyObject , just so that implementers of MyApi can associate extra data with the objects.Compared to a WeakHashMap in the implementers , a disadvantage is two methods on MyObject that are n't useful to clients , but an advantage is the simplicity.A nice property of this pattern is that you can generalize it to store any number of attachments of different types with each node by changing the field to Map < Class < ? > , Attachment > attachments , which can not be done with subclassing at all . I 've seen the generalized form used successfully to annotate tree nodes in a tree rewriting system with various data used by various modules that processed the nodes . ( c.f . pointers to parent nodes , origin information ) QuestionDoes this pattern have a name ? If so , what is it ? Any references ?"
"I was analyzing case where DecimalFormat rounded one BigDecimal number and on other machine , it is truncated . I have verified all configurations on both machines ( and all are same , i assume ) .Only difference which i have figured out is JDK version . Machine 1 is running on JDK1.6 . But , i have tried same with JDK1.7 on Machine 1 , it is working same as with JDK1.6.Machine 2 is running on JDK1.7Following is the code snippet : On Machine 1 Result is : 3.39On Machine 2 result is : 3.38"
I 'm relatively new with Java and I 've always had problems with the Try/Catch functions in the code so I was wondering if you guys could help me out.The issue I 'm having is that I 've written a try/catch but I get an error message saying that the exception is never thrown . I 've written a similar statement in another part of my overall code that does work fine so I wonder what the issue is with this one then.Here is the code : The error is in the catch where it says the exception is never thrown . So if you guys could give me some insight on what 's going on I 'd greatly appreciate it .
"I am facing problem of duplicate rows in the JXTable . If I sort the JXTable data while the new rows are being inserted in JXTable , the final result in JXTable shows duplicate rows that make invalid result in table . Even it also shows correct count of rows that has been inserted but some rows are completely missing whereas some rows are found duplicate in JXTable.If I sort the JXTable after all data has been inserted successfully then it is showing correct data i.e no duplicate rows and no rows missing.code example : I have a method to which I am passing defaultTableModel and here is am adding items in the tableone the other hand I have adding code of sorting at tableHeader actionlistener } ) ; I have put code in the synchronized block but not getting success.Please provide a better solution to handle this issue ."
"Here 's the example I tried to reproduce from Java Performance : The Definitive Guide , Page 97 on the topic of Escape Analysis . This is probably what should happen : getSum ( ) must get hot enough and with appropriate JVM parameters it must be inlined into the caller main ( ) .As both list and sum variables do not escape from main ( ) method they could be marked as NoEscape hence JVM could use stack-allocation for them instead of heap-allocation.But I ran it through jitwatch and the result showed that getSum ( ) compiles into native-assembly and does n't get inlined into main ( ) . Not to mention consequently stack-allocation did n't happen either.What am I doing wrong in here ? ( I have put the whole code and hotspot log here . ) Here 's the code : JVM parameters I used :"
"To my understanding , < ? extends Object > and < ? > are same.However , when I run the following code < ? extends Object > does not get compiled and is working as expected but < ? > is getting compiled successfully.Can some one help me understand this behavior ."
"The goal is to compute F ( n ) modulo m ( m up to 10 power 5 ) , where n may be really huge : up to 10 power 18.My algorithm is too slow.My approach : Calculate and store all Fibonacci numbers up to m , then iterate through that array and apply modulo on the fibonacci's.Once the length of the pisano period is found , i can use this length to calculate the modulo of any F ( n ) My code : Any advice , how to make it faster ?"
"I have the following code that returns the number of nodes in a tree when a complete Binary Tree is layer layers tall : The odd thing is , when I input 63 into the function ( the minimum value that produces this ) , it gives me back -1 . At 62 , it gives back 9223372036854775807 , so this seems to be caused by an overflow.Should n't it give me back the minimum value of Java 's long + the amount that it was overflowed by ? Regardless of the input that I give it though ( passed 62 ) , it will always return -1 instead of a seemingly random number that I 'd expect from an overflow.I 'm not entirely sure how to debug this , since it 's recursive , and the value I 'm interested in will only be evaluated once the the function has reached the base-case ."
"In this example , the 2nd catch block is unreachable and therefore my code does not compile . However , if I make LimpException extend RuntimeException instead of Exception , it compiles without any trouble . Why ?"
"Taking a class in OOP Java and since I am completely new to the language and as of yet unaware of the many tools it has to offer I find myself fumbling in the dark for solutions to simple things , I can hardcode these problems but I feel there is far simpler ways to do this with java.util . Assume I have a list of strings How do I check how many times any given item in stringTwo occurs in stringOne ? Or vice versa . I would rather not double loop everytime I have this problem ( or make a double-loop method ) .Right now I get away with using Collections.frequency ( ) and only looping once but is there a simpler way ? Thanks ."
"Kind of a long title , but that is generally the question.I want to know if you think its a good idea to do the following.Instead of : I want to have something like : Do you think this is good/terrible/too fancy/too slow ? If you actually think its good I was thinking of using SpEL to implement it , does anyone have something better/lighter/faster in mind ? Thanks ,"
"I 'm writing a program that sets up a GUI to start JUnit test scripts that utilize Selenium WebDriver in Java . The GUI sets up a queue of JUnit tests in the background ( or so i believe ) . On the GUI , I want to utilize a `` stop test '' button that will stop all future JUnit tests that are still in the Queue from executing , but i want to do it in a timely manner . I currently have code that will stop all tests , but if 190 tests are in the queue , it takes upwards of 1-2 seconds to stop a singular test in the queue from executing which is not timely nor consumer friendly when you consider that many tests : is there a way to either clear the queue of the JUnit test or a specific thread to close that will stop the execution of scripts without killing the GUI ?"
"This is the module declaration of the java.rmi module : So , there is a cyclic dependency between java.rmi and java.base , right ? Are cycles allowed between platform modules ?"
"I 'm writing a library that inserts already unit-tested example code ( its source-code , output , and any input files ) into JavaDoc , with lots of customization possibilities . The main way of using this library is with inline taglets , such asSince custom taglets ( and even doclets ) require com.sun , this means they 're not nearly as cross platform as Java itself . ( Not sure if this is relevant , but the word `` javadoc '' -- and even the substring `` doc '' -- is not in the Java 8 Language Specifications . ) I do n't like the idea of writing a library that 's limited in this way . So what do I do ? My thoughts so far are thatIn order to take advantage of the existing javadoc parser , I stick with the com.sun taglets . However , I make this reliance on com.sun as `` thin '' as can be . That is , I put as little code in the taglet class as possible , leaving the bulk of the code elsewhere , where there is no reliance on com.sun.I work towards creating my own parser , which only searches for my specific taglets . This is a pain , but not too horrible . You iterate through the lines of each Java source file , searching for \ { @ \.myTagletName ( .* ? ) \ } . Once you capture that text , it 's pretty much the same as the code within the com.sun taglet.This parser would have to be run before executing javadoc , and would therefore require a duplicate directory structure . ( 1 ) your original code , with the unparsed custom tags , ( 2 ) the duplicate of that code , with parsed-output . I 'd copy all code to the duplicate directory , and then parse only those Java files known to have these taglets ( classes that are `` registered '' in some way with the parser ) .Is this a reasonable approach ? Is there a more cross-platform javadoc/taglet parser out there already , so I do n't have to roll my own ? Is there anything cross-platform that is taglet-like already out there ? Is JavaDoc itself not cross platform , or just custom taglets and doclets ? I 'd like a rough perspective on how many people I 'm locking out of my library because of this decision ( to use inline taglets ) , but mostly I 'm looking for a long term solution . ( Despite my Java 8 link above , I 'm using Java 7 . ) Credit to @ fge for the taglet suggestion , which is more elegant than my original idea , and to @ Michael for the ominous-but-helpful com.sun warnings ."
"code should do this : a ) Given an unsorted array of integers , your task is to sort the array by applying the following algorithm ( Assume that the input doesn ’ t contain duplicates ) : Execute the following steps starting from the first element in the array : – Count the number of smaller elements to find the correct position i.– If the element is in its correct position , move to the succeeding element.– Otherwise , swap the current element with the one found in position i.– Repeat the previous steps till you reach the last element.Example:5 7 3 6 9check a [ 0 ] , there is one element smaller that it , so it shoould be swapped with the element atposition1.7 5 3 6 9check the new element a [ 0 ] . it should move to position 3.6 5 3 7 9check the new element a [ 0 ] . it should move to position 2.3 5 6 7 9check the new element a [ 0 ] . it is in its correct position , so we move to the succeeding element a [ 1 ] .also tried this the sorting method but no luck ."
"In order to re-produce the problem as stated in a recent question - Why does ( . * ) * make two matches and select nothing in group $ 1 ? I tried various combination of * and + , inside and outside the brackets , and the result I got was not expected.I would have expected the output , same as one explained in the accepted answer in that question , and also in another duplicate question , tagged under Perl - Why does n't the . * consume the entire string in this Perl regex ? . But it 's not behaving the same way.To make it simple , here 's the code I tried : -And this is the output I got for all the 4 combination : -Now , What I ca n't understand , why in 1st and 2nd output , I am not getting the entire string as first result for matcher.find ( ) . I mean , ideally , in 1st case , . * should first capture the entire string , and then also capture the empty string at the end . Now , although it is giving expected result for 2nd match , it 's not behaving well for 1st match . And also , in 2nd case , I should not even get the 2nd match , because I 'm having a + quantifier outside the bracket.My expected output is : -Also , in the 3rd output , why I got null as 2nd match instead of empty string ? Should n't the 2nd match for first 3 combination be same ? 4th output is as per expectation . So , no doubt in that ."
"I 'm trying to convert a Map < String , String > to a List < String > using lambdas.Essentially I 'd like to concatenate the key and value with an '= ' in between . This seems trivial but I ca n't find how to do it.E.g ."
"I know double should not be compared by == operator directly , but how about if I define an initial value as 0.0 ? eg : If a is not modified , does a*b==0 always true ?"
"In Java I can specify generic with wildcard `` ? '' . It is possible to create a map like this one : Map < String , ? > .I 'm working with C # and I need a Dictionary < String , SomeInterface < ? > > ( where ? can be int , double , any type ) . Is this possible in C # ? EDIT : Example : I was trying to map this objects into Dictionary like : Objects that implement ISomeInterface are loaded in runtime using Assembly and Activator.createInstance . In the moment of creation I do n't if objects implements ISomeInterface < int > or ISomeInterface < double > .Any help is very much appreciated ."
There is no compiler error . I am getting this error in runtime.I am using many library in my project . Library link : https : //github.com/nguyenhoanglam/ImagePickerI added glide libraryChanged compileSdkVersion & targetSdkVersion from 28 to 29.Migrated project to AndroidXThere was no problem before the change.Project Gradle : App Gradle : How can I solve my problem ?
"I 'm using Hibernate and MySql and today I setted a composite primary key in one of my table , so below : DefSelfLearningAnd this entity is OneToMany with SelfLearning : This is my java entity : the class for the composite key : and SelfLearning class : but when I create a defSelfLearning all work fine , but when I create a SelfLearning I receive MysqlDataTruncation exception : This error is enough explined , but I do n't find where is the problem , this is the code for SelfLearning creation : Do you find where is the problem ? ThanksThis is the first row of defSelfLearning and it 's where the code fails if I set manually this it works : This is a screen of java debug of first code , that fails :"
What costs for sure less time for execution between the two options : A : or : B :
"So , I made this relatively simple code , and neither me nor IntelliJ IDEA see anything wrong with it , but javac keels over on the marked line , complaining it ca n't infer the types : Splitting the problematic line into 2 with explicit types helps , but the type signature is longer than the lambda , completely defeating the purpose of writing the lambda in the first place ... EDIT : If I use an actual lambda instead of a method reference , I get the problem again . See the newly added method above ."
"The Cassandra connector fails after confluent upgrade to 3.3.0 . The version of Cassandra driver is 3.3 . The stack is given below.I have tried by updating the guava and io.netty dependencies , but it does n't resolved the issue ."
I came across the following java code . Here interface contains two methods out of which only one method is implemented in the enum . It is written that name ( ) is implemented automatically . My question is how is it possible ? I have not read any rule regarding automatic method implementation in enum before . So what is happening here ? Furthermore the code is not giving any type of compile time error .
"I threw together a quick Java implementation of a Taylor series expansion for the exponential function , because it was easy and fun : I 'm ashamed to admit that my employer is still using JDK 6 and JDK 7 ; I 'm not writing on JDK 8 during my work day yet . I have not groked all new features in the JDK , including lambdas.I warmed up by writing a Taylor series expansion for pi using lambda . It 's easy and elegant . Surprisingly , it requires a million terms to converge to six digits of accuracy , but that 's the nature of the series.I decided to try and implement the exponential function using a lambda . I do n't want to do the naive thing and use the Math.pow or factorial functions ; the implementation I posted without lambdas accomplishes both nicely . I ca n't see how to have each step in the lambda remember what the value of the previous term was . Can anyone help a lambda beginner and give an example ?"
"ScenarioI have built an API for my app that sits behind a gateway with request throttling . Before I built the API my app coordinated requests itself and thus could start many many requests in milliseconds to synchronize data for the app across the 9 providers being used to fetch data . Now , this logic has been pushed up into my API adapter layer I need to think about how I can control the number of requests per second to avoid hitting my own rate limits . Increasing the rate limit is not an option since it would require a tier bump in the gateway provider that I am not willing to pay for.I have started using RxJavaIn a bit to upskill in this strong movement within the Java community , I have opted to use RxJava , together with Retrofit and Retrolamba for the API SDK I have built . This has been largely successful and is operating in live without issue.My appNow , my app allows users to save 'spots ' that when synchronized retrieve local weather , tide and swell conditions for that area . Each spot uses 4 API resources to get a complete data-set , specifically ; The app permits any number of spots , n meaning that with the current code I have 4n requests per spot . For example if I have 10 spots saved and attempt to sync all - I will cause 4*10 = 40 API requests to be fired in around 0.75s ! Self-throttlingI am wanting to use Rx to simplify the process of self-throtteling my API requests . Here is a ( hopefully accurate ) marble chart of what I am wanting to achieve ; Figure 1 : Marble chart showing desired stream compositionThe SynchronisationService.java code looks a bit like this ; ... and the `` buildObservable '' call looks like this ; ... and the lunaEventsProvider.listTideTimes ( ... ) method looks like ; The problemAs an Rx amateur I 've read much of the documentation to get this far but upon encountering an error with the code I 'm at a loss as to where to go next . Either the subscription is n't causing the emissions to start ( as with the snippets shown ) or if I tweak things a little I get an unhelpful low-level NPE ( rx.Scheduler ) .Where should I go from here ? Am I on the right track with using Rx for the scenario described ? Any help appreciated ."
"I have a complex situation that I 'm trying to deal with involving character encoding.I have a perl program which is communicating with a java endpoint via thrift , the java is then using the data to make a request to a legacy php service . It 's ugly , but part of a migration plan so needs to work for a short while . In perl a thrift object is created where some of the fields of the thrift object are json encoded strings.The problem is that when perl makes the request to java , one of the strings is as follows ( this is from data : dumper and is subsequently json encoded and added to thrift ) : However , when this data is received on the java side the sequence \x { c3 } \x { 82 } \x { c2 } \x { a9 } has been converted so in java we receive the following : The problem is that if I pass the second string to the legacy php program , it fails , if I pass the string taken from the dump of the perl hash , it succeeds . So my assumption is that I need to convert the received string to another encoding ( correct me if I 'm wrong , I 'm not sure that this is the right solution ) .I 've tried taking the parameters received in java and converting them to every encoding I can think of , however it does n't work . So for example : I 've been varying the encoding schemes in the hope I find something that works.What is the correct way to solve this ? For a short time this messy solution is my only option while other re-engineering is happening ."
Is it possible to rewrite the following a bit more concise that I do n't have to repeat myself with writing this.x = x ; two times ?
"This sample data is returned by Web Service 200,6 , `` California , USA '' I want to split them using split ( `` , '' ) and tried to see the result using simple code.Unfortunately this is the resultThe expected result should beI tried different regular expressions and no luck . Is it possible to escape the given regular expression inside of `` '' ? UPDATE 1 : Added C # CodeUPDATE 2 : Removed C # Code"
"Curious about how fast self addition would grow , I wrote a quick little loop in Java to see : The output was unexpected : Why is this ? count is initialized to 1 , so the inner addition should be doing count + count or 1 + 1 . Why is the result 0 ?"
"is there a difference between these two initializations of the final variable value ? and -- EDIT : A more complex example , involving subclasses . `` 0 '' is printed to stdout in this case , but 7 is printed if i assign the value directly ."
"Netbeans IDE is good at spotting code that could give you trouble . Why is a warning not issued for given that I 'm calling the base class function foo ( ) in the child constructor ? Of course that 's perfectly legitimate as the base object is constructed by the point foo ( ) is called , but a foo ( ) is implicitly a virtual method so really I would expect a warning unless foo ( ) is marked final.I think that the IDE should issue a warning if you call any base class function from a child class constructor that is not marked as final ."
"I 'm trying to write a Map builder . One of the constructors will allow the client to specify the type of Map they wish to buildThe intent is that it should be possible to construct instances of the builder with : orIt seems that the type signature of the constructor argument does n't currently support this , because the line above causes a `` Can not resolve constructor '' compilation error.How can I change my constructor so that it accepts classes that implement Map only ?"
"I am a little confuse about the dynamic programming solution for combination sum , that you are given a list of numbers and a target total , and you want to count how many ways you can sum up to this target sum . Numbers can be reused multiple times . I am confused about the inner loop and outer loop that whether they are interchangeable or not . Can some explain the difference between the following two , and in what case we would use one but not the other , or they are the same ."
"How can I perform multiple unrelated operations on elements of a single stream ? Say I have a List < String > composed from a text . Each string in the list may or may not contain a certain word , which represents an action to perform . Let 's say that : if the string contains 'of ' , all the words in that string must be countedif the string contains 'for ' , the portion after the first occurrence of 'for ' must be returned , yielding a List < String > with all substringsOf course , I could do something like this : but then the list would be traversed twice , which could result in a performance penalty if strs contained lots of elements.Is it possible to somehow execute those two operations without traversing twice over the list ?"
"Is n't it true that if you cast a float number like 1.0012 to an integer , it will become 1 ? Then why is it when I write : instead of 1.07592 ~ become 1 it becomes 0 ? ( Java compiled with Eclipse ) ."
"For example , if elements are { 1 , 2 } ( n = 2 ) and m = 3 , the method should generate a list of arrays like this { [ 1,1,1 ] , [ 1,1,2 ] , [ 1,2,1 ] , [ 2,1,1 ] , [ 1,2,2 ] , [ 2,2,1 ] , [ 2,1,2 ] , [ 2,2,2 ] } . I know Python can do things like y = itertools.product ( ( 1 , 2 ) , repeat=3 ) , but how do I implement this in Java efficiently . I have tried feed some initial List and used the following to get what I wanted but the time complexity is too high and performance is extremely bad when the input is big ."
The question is more general and is not related to pros and cons of both styles . The question is should I prefer whenever it is possible to use Stream instead of for loops because it is declarative with a good readability ? I was arguing with my colleague about pros and cons of using streams and for loop . I agree that we should prefer streams in 90 % of time but I believe there are some cases when it is better to use for loop instead of stream.For example I needed to perform several operations on collection of elements and these operations could throw Checked Exception . During operating if exception occurres for any element I wanted to quit the execution at all so I used for loop for it and wrapped it in try/catch block . My colleague was not satisfied because result took in two times more lines than If I would use stream instead . I rewrote it by creating own custom functional interfaces that throws checked exception and static methods to convert them into throwing unchecked exception ( examples here ) and finally it looked like this : He was happy because it took lines of code in two time less.It is simple example and it does not look so bad but old loop here is more simple and faster way to deal with that case I believe . Should we tend to use Streams everywhere it is possible ?
"I 'm downloading an attachment using Java mail API and whenever there is a small change in network state , my app gets stuck and I have to restart it , it 's not even crashing.This is the code snippet : What is the best way to deal with this issue ? Thanks ."
"I 'm using scala and every time I paste my code it changes the format . I reset the settings but it keeps doing it . I ca n't find the setting I tried to disable in Smart Keys but still . What I want to pasteaddItem : `` food '' , `` arroz '' , `` arroz.jpg '' , 300 , 1.50 ; What gets pasted"
"I am working on a golf application that includes a scorecard system . I am storing each score for each player in the database and I need to come up with a query to determine tee order . So for example if the players have played 3 holes and the scores look like this ... ... Then the order needs to look like this ... ... So the players will be ordered by their scores compared to their opponents scores . Does that make sense ? Is this even possible with a query , or should I write a function to parse a 2d array in code ? I am using Java in that case.My table structure looks like this : Players ( player id , and player name ) Rounds ( round id , course id ) Scores ( round id , player id , hole number , and score )"
Why are total_amount and tax_amount concatenated together as strings instead of added together as numbers in the below println statement ?
"I have a class like followings.I am having a list like followings.Assume I am populating above list with some elements . I want to declare a method which performs grouping and summing operation in that list . As an example , assume I am giving the following elements in a list as the input for that method . That method should output a List < Votes > with the following elements.Is there an easy way to do that using streams , lambda expressions in Java8 ? I know how it can be done using collectors if I only have one int memeber . Can someone please explain me how can I address this situation ?"
"I have read few posts about garbage collection in Java , but still I can not decide whether clearing a collection explicitly is considered a good practice or not ... and since I could not find a clear answer , I decided to ask it here.Consider this example : From what I saw in implementations of e.g . LinkedList or HashSet , the clear ( ) method basically just loops all the items in the given collection , setting all its elements ( in case of LinkedList also references to next and previous elements ) to nullIf I got it right , setting the list to null just removes one reference from list - considering it was the only reference to it , the garbage collector will eventually take care of it . I just do n't know how long would it take until also the list 's elements are processed by garbage collector in this case.So my question is - do the last two lines of the above listed example code actually help the garbage collector to work more efficiently ( i.e . to collect the list 's elements earlier ) or would I just make my application busy with `` irrelevant tasks '' ?"
"I 'm trying to read Unicode codepoints from a text file in Java . The InputStreamReader class returns the stream 's contents int by int , which I hoped would do what I want , but it does not compose surrogate pairs.My test program : This behaves as follows : My problem is that the surrogate pairs making up the pizza emoji are read separately . I would like to read the symbol into a single int and be done with it.Question : Is there a reader ( -like ) class that will automatically compose surrogate pairs to characters while reading ? ( And , presumably , throws an exception if the input is malformed . ) I know I could compose the pairs myself , but I would prefer avoiding reinventing the wheel ."
"Well my doubt is this one : In Java , it is disallowed to inherit from an array , ie , one ca n't do things like : Or even better : But arrays actually implement a specific interface and are considered objects . ie , one expects of array instances the same methods exposed by Object , plus a specific array field , the final 'length ' field.So my question are , even if the Java language disallows this usage : Could it be implemented in the JVM without too many changes ? Does the JVM treats arrays like any object with a class that can be inherited from ? Does the JVM treats arrays like enums , ie , making the array objects inherit automatically from a defined array class ? Is the array class defined somewhere in such a way that it could be inherited from ?"
"I have a TableView which contains columns that always display a writable textfield . I would like to have the textfield change colour if the `` BigDecimal '' value of column1 's value is larger than the column2 's value . I can stylize the textfield in the EditableTextCell class ( for example if the text is not a valid number ) , but it seems like it does n't have access to the model to make the other comparisons . Here is my code : EditableTextCell.javaLineItem.javaTester.java"
"This is a design issue I keep running into , so I thought I would finally put it out there and see how people would approach it . The problem is as follows : I identify a certain class that for the most part describes all instances of objects I will use , both behaviour and data-wise . That 's great and works well for basic objects . Then a few other type of object crop up which need the same data and behaviour , but additionally would like to have an extra field here and there , or an extra data structure.Let 's call the class Something : Sometimes we 'll need to use SomethingElse and SomethingDifferent . They are 90 % like Something in that the same data and behaviour describes them , however they each additionally have extra fields which need to be used by the rest of the program : I would like to come up with a decent way to handle the Something family of objects in a generic OO manner , as I would not like to couple the rest of my application on concrete implementation details ( because we might need to add SomethingWacky later on ) . I do n't want to deal with the subclasses directly as that breaks polymorphism , and will likely include a need to downcast/do a type switch - yuck.The approaches I can think of to resolve this are as follows : Create an abstract base class that defines all the methods for the Something family . Children then only implement the behaviour they are concerned with providing , leaving a NOP/blank override for methods that are not of concern . This enables everything to be treated the same , but introduces interface bloat.Move responsibility to the base class via generic worker methods , following Tell , Do n't Ask . For example this might be things like display ( ) , doWork ( ) , persist ( ) , getStateFromDisplay ( ) , etc . Each subclass would then take into consideration its data when overriding these base methods . I read an article by Allen Holub recently that suggested something like this might be a good practice . This seems to be moving way too much responsibility for external concerns to the class.Create some sort of a data class that groups all of the extra data/behaviour from subclasses , and refer to that in Something . This does n't feel very OO-like . I 've used approach 1 during a previous project - but in that instance even though each subclass only implemented/overrode the methods it cared about , the operations were actually generic enough so it was plausible that a class could coherently implement all or only some . Each approach feels dirty in a way and I do n't really like any . What are my alternatives ? Perhaps I am totally misusing inheritance or approaching this the wrong way entirely . I 'm open to any suggestions and would like to leverage OO techniques to come up with cleaner , decoupled designs . I 'd really like to know how people have resolved issues like this , and any resources you could refer me to would be much appreciated.Thanks"
"In `` Think in Java '' , the author says : You just leave the `` public '' keyword off the class , in which case it has package access . ( That class can be used only within that package . ) To prove this , I create one public class and one no-public class : But when I call them from another class in the same package : The system warning me : The no-public class should not be accessed from outside its own source file.So here comes my question : Is the no-public class still package reachable ? And why Java forbid us to call them from another file in the same package if this is totally legal ?"
"I have an int [ ] [ ] object . It is defined in my code as below : Would it be possible to get the value of the first value ( on the left ) within each of the pairs of parentheses and store them as individual int variables using a for loop ? Basically , is it possible to extract the `` 20 '' , `` 73 '' and `` 82 '' and store them into int variables individually ?"
"I have a java program which is basically a game . It has a class named 'World ' . The `` World '' class has a method 'levelChanger ( ) ' , and another method 'makeColorArray ( ) ' . The makeColorArray ( ) method makes a 2d array of type 'Color ' . This array stores Color-objects from a PNG image . This array is used by the paint ( ) method of the JPanel to paint the world on the screen . The levelChanger ( ) method is used to change the levels ( stages ) of the game when certain codition is true . It is the method which calls the makeColorArray ( ) method to re-make the color-array while changing game-level.The problem is that I have a game-loop which runs on a Thread . Now , the painting of swing components like JPanel is done on a different background thread by java . When the game-level is being changed , the color-array object is re-made . Now , like I previously said , the color-array object is used by the paint ( ) method to paint the world on the screen . Sometimes , the color-array object is still being used by the background Thread ( not finished painting ) when , according to game logic , color-array object is re-made and its members set to null . This is causing a null-pointer exception , only sometimes . Clearly a race condition.I want to know how can i stop my game thread from resetting the color-array until the background swing thread has finished painting ."
"First I will try to explain the idea behind this code.I have a bunch of classes ( Processors ) that can process a certain type of other classes ( Processables ) . I have a List of Processors to execute them in a certain order . I have a Map that will retrieve me the data to process ( Processables ) for a certain Processor.It looks somehow like this.This seems to work fine so far . There are no compilation errors . But now I have a class like the following : Compile error : I know it might be a bit difficult to read , but I tried to simplify it as much as possible . I 'm also not that good with generics so maybe I used some wildcards wrong ? Can anyone help me to solve that problem ? Thanks a lot in advance !"
I 'm trying to port Java code to C # and I 'm running into odd bugs related to the unsigned shift right operator > > > normally the code : Would be the equivalent of Java 's : However for the case of -2147483648L which you might recognized as Integer.MIN_VALUE this returns a different number than it would in Java since the cast to ulong changes the semantics of the number hence I get a different result.How would something like this be possible in C # ? I 'd like to preserve the code semantics as much as possible since its a pretty complex body of code .
"We implemented a binding for some typical Grid usages in application . It works just fine , except if you modify a store , for example add a record , you 'd see n + TWO identical records in view.When I examined store 's state , it shown n + 1 values.It goes as if I have a grid with one record shown in it and call : grid.getStore ( ) .add ( modelFactory.createModel ( event.getBean ( ) ) ) ; I now have : The second and the third lines are equal and third one ca n't be selected . Also , it is not present in grid.getStore ( ) .Sources : Simple binding source . It maps model 's List property to grid as is.If I remove the line below , view stops to show n+2 lines after add , and begins to show added line even after formBinding.bind ( createModel ( bean ) ) ; to another bean ."
"So , I currently have a Board class that is composed of Pieces . Each Piece has a color and a string that describes the kind of piece . It also has a 2d matrix with bits either set on or off , that allows me to know which pixels to paint with the desired color or not.My question is , which class should have the responsability to draw the pieces on the board ? On one hand , I 'd say the Piece class should do it . But to do it , I 'd have to pass a Board as reference to Piece 's Draw ( ) method and although it 's not terrible I find it kinda awkward . This raises the problem that Piece would have `` to know '' the Board class.On the other hand , I could just have the Piece have aand Board would then have a method of the form : How would you do it ? And why ? I ca n't see a clear winner in any of these approaches.ThankseditI 'm not talking about actually drawing things on screen . What happens is that I 'm implementing a Tetris game ( currently , no GUI ) and I need at every moment to set the Pixels of a Square on different positions on the board as it falls to the ground . The board basically only has an accessor and a mutator for each one of the ( x , y ) points . Let 's now say I want to draw a Square ( a type of Piece ) on the Board . Should the Piece know of the board and its Draw ( ) method make the changes to the Board , or should the Board access Piece 's getter method and do it itself ?"
I have a use case where I want to convert a struct field to an Avro record . The struct field originally maps to an Avro type . The input data is avro files and the struct field corresponds to a field in the input avro records.Below is what I want to achieve in pseudocode.My question is : how can I implement the convertToAvro method in above pseudocode ?
Here is my snippet of code : I created a local class to see what kind of access modifier do i get when not written any modifier for variable in local class from compiler.This is what i got in JAVAP So basically flags field is left blank so i 'm confused what kind of access modifier does this variable get because if i add private int a=10 ; or public int a=10 ; i get or So what kind of access modifier does a gets by default ?
Why are both c1 and c2 are not seen as two Strings but instead one String and one Integer ?
"I am required me to use RadioButtons and Checkboxes in my Java program so the user can easily select the options they would like to use ( It is a `` gas station '' ) .The error I am getting is at this partI do not understand why at bronzeG.addItemListener , it says"
I wonder if its okay to comment methods in c in the same way you comment code in java-language ? that is in the same manner in cOf course its up to the programmer but I would like to know if c-programmers uses these @ param or not ?
I came across the Java code below which looks good at first but never compiles : Below is the error message which comes in the IDE : variable USER_ID might already have been assigned.Is there any problem with the value assignment to the static final variable ?
"I ran into a situation earlier where I tried the following two bits of code : andThe first one failed ( and obviously so , I 'm trying to implicitly cast a float to an int ) . But the second one worked perfectly fine . The compiler did n't complain and I did n't get any runtime errors . Why does the second one work , while the first one does n't ? As far as I 'm aware , x *= y is just a shorthand for x = x * y ."
"I have a situation where I need to display a JOptionPane after clicking on a JButton . The JButton has a default icon , and a rollover icon ( which displays when , well , the mouse rolls-over the button ) . However , once the button is clicked and a JOptionPane appears , the rollover icon does not change back to the original , and continues to remain so until the user brings the mouse back to the JButton 's frame after selecting an appropriate JOptionPane choice . How would I `` un-rollover '' the JButton when it is clicked and the JOptionPane is displayed ? TL ; DR : JButton displays rollover icon even when being clicked and JOptionPanel is displayed . Me no likey . Here 's the SSCCE : NB : I have found several similar questions to this one . However , this question is not a duplicate because those questions pertain to an issue slightly different from this one ( such as the button staying pressed , not rolled-over ) . A few of these questions ( well , actually all of them I could find ) are : JButton stays pressed when focus stolen by JOptionPaneJButton stays pressed after a JOptionPane is displayedJButton “ stay pressed ” after click in Java Applet"
"There is a Student class which has name , surname , age fields and getters for them.Given a stream of Student objects . How to invoke a collect method such that it will return Map where keys are age of Student and values are TreeSet which contain surname of students with such age.I wanted to use Collectors.toMap ( ) , but got stuck.I thought I could do like this and pass the third parameter to toMap method :"
"I 've got a piece of undocumented code , which I have to understand to fix an error . The following method is called optimization and it is supposed to find the maximum of a very complex function f. Unfortunately , it fails under some circumstances ( i.e . it reaches the `` Max iteration reached '' line ) .I already tried to write some unit tests , but this did n't help much.So I want to understand how this method really works and if it implements a specific , and well known optimization algorithm . Maybe I can then understand , if it is suitable to solve the required equations ."
"For cleaning a list of data , I have created a method which accepts the list of data and list of cleaning operation to be performed.The issue here is that we are creating the whole list again as Collectors.toList ( ) returns a new list.Can we achieve the same result without using the extra space ? Below is the code for invocation :"
"This answer to a very old question about Clojure-Java interop explains how to use gen-class with the : state and : init keywords to create a single public instance variable accessible from Java . This is enough if you only need one piece of data to be available to Java classes , or if you can require the Java classes to use accessor functions that read , for example , a map stored in the state variable . This method also allows the data to change , e.g . by storing atoms in the state variable.What if I want to create more than one instance variable that 's directly readable in a Java class ? Is this possible ? For example , I can compile the following files and execute the Bar class , and see the value 42 of foo.bar printed out.Foo.clj : Bar.java : If I uncomment the baz lines , Bar.java wo n't compile -- the compiler seems to randomly create either bar or baz as the state variable for Foo , so only one of them is available to Bar . And in any event , I do n't see how to initialize both bar and baz using an init function ."
"I have a JTree where users can drop elements from other components . When the users hovers over nodes in the tree ( during `` drop mode '' ) the most near lying node is highlighted . This is achieved in the implementation of TransferHandler.Each time a new node is selected ( also during `` drop mode '' ) , this will kick of a TreeSelectionEvent . This in turn will invoke a listener i have created which will query a database for details related to that node . Now , I am looking for a way to somehow filter out events that is generated from node selections during `` drop mode '' . It is an attempt to limit database calls . Does anyone have any ideas about how I can achieve this ? All input will be highly appreciated !"
Possible Duplicate : Variable scope in a switch case I 've got a code like this : and i 'm interesting why it 's possible to use variable declared after first case label in the second one even if first state will never be reached ?
"i have multiple Xml files , in a List < File > . What i want is to transform those xml into one Xml with an Xsl : My problem is that when i am looping and apply the transform with a TransformerFactory it always erase the output XML . I want to edit the output instead.I know that i can do it in java with a temporary XML and after merge it , but i 'm almost sure that it is possible in XSL ? Thanks for helping"
"This might not make much sense in terms of Android SDK , but , in C++ I am used to keeping my main.cpp ( and specifically main ( ) function ) as a place where I declare and initialize other classes/objects , and afterwards all the things that my application does take place in those classes . I never come back and check for anything in main.cpp afterwards . But in Java , Android SDK , you have to override dozens of methods in main activity and all of that takes place in one single file . Example : I have a MainActivity.java and SomeTest.java files in my project , where first is default MainActivity class which extends Activity , and SomeTest.java contains class that declares and runs new Thread . I initialize SomeTest class from MainActivity.java and pass a handle of the activity to it as a parameter : And having the handle to MainActivity , I proceed doing everything from this newly created thread . When I need to update the UI I use runOnUiThread ( ) to create and show a new ListView ( for example ) on my main layout . I want to get the width and height of the newly created Listview , for what I have to override onWindowFocusChanged ( ) in my MainActivity.java and notify the thread from there , as getWidth ( ) and getHeight ( ) will only have values when ListView is actually displayed on the screen . For me it 's not a good practice to make such connections ( 'callbacks ' , if you will ) from MainActivity to that thread . Is there a way I can keep methods like onWindowFocusChanged ( ) within the thread and do n't touch the MainActivity.java at all ? As I said , might not make much sense ."
"I have a list of Objects that I want to map to another list that is joined by another object of that type.i.e : This is just an example , the list can be of any type not just Integer.My use case is this : I have a list of objects of type X , and I need to insert a certain object between every 2 items of that list.I know it can be easily done by a for-loop , but wondering if there 's a solution using Stream ."
"My Java program needs to synchronously move a file on a server , ie . within the same set of local file systems . The obvious solution is to use Files.move ( ) . However , I 've read that in some cases , eg . across file systems , a move will fall-back to copy-and-delete . As I 'm moving large files I 'd like to be able to report progress to the user if a copy take places ( as there will be a noticeable delay ) .However , I can not find a simple way to do this with the Java API . I could potentially write my own copy routine that reports progress , but then I would need to know if the move is going to result in a copy.One possibility seems to be something like : However it 's not clear to me from the Java doco if this would be correct in all cases . Is this indeed a correct solution ? If not , is there another way ?"
"I have a class with a constructor signature as follows : That 's fine . But I want to overload the constructor , for the case that if you do n't provide Function func , it will just use ( item ) - > { return item ; } . I 've written another constructor that looks like this : This is causing a type mismatch error , because the function I 'm providing as an argument to my constructor takes a value of type T , and returns that same value , which should be a U. I do n't understand why the algebraic type system does n't see that in this case U and T are the same and that 's ok ?"
"I have a Map . The map has n elements ( lets take for this example these 9 ) Now I want to iterate over this map , and remove the n-th element using the iterator.From the javadoc , I 'd assume , the semantics of the remove are well defined.But depending on the implementation of the map - i.e . HashMap vs TreeMap there is a difference whether the it.remove ( ) is done before or after entry.getValue ( ) . for HashMaps map = new HashMap < > ( ) the behavior isfor TreeMap map = new TreeMap < > ( ) the behavior is same , when I remove the current entry from the iterator after I have accessed it : results inso far so good , but if I remove the element before I access the entry : The output is unexpectedlyApparently , the it.remove ( ) of the TreeMap modifies the Entries , because the TreeMap is made up of Entries and the iterator actually returns the actual elements of the map . And depending on the current position in the tree , the internal references of the Entry point to the next or the current ( removed ) element.But I 'm not sure if this is a bug or if this is intentional . If the latter is the case , I wonder about the rationale behind ? Edit : Source code of TreeMap iterator.remove ( )"
"I tried to enable Java 8 features in Android Studio like suggested in https : //android.com : After that I added compile 'net.sourceforge.streamsupport : streamsupport:1.5.1 ' and was able to use lambdas . Since I 've done that , the Gradle build takes forever ( I killed the process after 20 minutes to try other solutions ) . My hardware is not pretty good , but still this is not an acceptable time for a build ( and it never finished ) . I also tried to remove this changes , but I face related compilations errors.I can pull the previous app version from git , but I rather solve these issues to be able to us Java 8 features . Did anyone face this problem and managed to solve it ? Thanks ."
"I have a Boolean array and I am trying to make a corresponding char array , so that to each true in the new array corresponds a 1 and for each false a 0. this is my code but it seems the new array is empty , because nothing prints , the Boolean nums [ ] prints fine ."
"I was reading Effective Java , and came across a condition where Joshua Bloch recommends something like XYZComparator is stateless , it has no fields . hence all instances of the class are functionally equivalent . Thus it should be a singleton to save on unnecessary object creation.So is it always safe to create a static final Object of whatever class it is pointing to if it has no fields ? Would n't this cause multithreading issue when compare is called from two threads parallely ? Or I misunderstood something basic . Is it like every thread has autonomy of execution if no fields is shared ?"
"I have a number of occurrences in a new code base where there are a sequence of method calls like , in consecutive lines . I would like to find / count the total number of such a sequence in my code where the name of object `` something '' could be different , but I want treated the same.I want to pull these out as a method and see all the locations where this needs to be refactored . How do I go about doing something like this ?"
I 'm trying to verify if all the elements in an array list are same or not . This is my code :
"Many classes in the javax.sql package use new String ( str ) constructor . For example : Or And many more : javax.sql.rowset.serial.SerialStruct.SerialStruct ( SQLData , Map > ) javax.sql.rowset.serial.SerialStruct.SerialStruct ( Struct , Map > ) javax.sql.rowset.RowSetMetaDataImpl.setCatalogName ( int , String ) javax.sql.rowset.RowSetMetaDataImpl.setColumnLabel ( int , String ) javax.sql.rowset.RowSetMetaDataImpl.setColumnName ( int , String ) javax.sql.rowset.RowSetMetaDataImpl.setColumnTypeName ( int , String ) javax.sql.rowset.BaseRowSet.setCommand ( String ) javax.sql.rowset.BaseRowSet.setDataSourceName ( String ) java.text.DateFormatSymbols.setLocalPatternChars ( String ) javax.sql.rowset.BaseRowSet.setNull ( int , int , String ) What is the purpose of this ? Is n't it creating unnecessary string instances on the heap ?"
"For reasons I do n't even want to begin to get into.. I have a maven hierarchy that looks like the one below . In a nutshell , everything requires commonslang3 , except one ancient artifact that requires commonslang2 . We have no issues with compile or runtime , the dependencies work as expected . The challenge we are having is at development time . We 'd like to ensure everyone on the team uses the commonslang3 APIs , but occasionally ( because of the ancient artifact and Eclipse auto suggest ) , someone accidentally uses the commonslang2 APIs . Normally , we would just force the desired version in our POM , but commonslang is a special snowflake . The package signature changed between comonslang2 and commonslang3 , which means we would have compile failures if we excluded the older library . E.g. , org.apache.commons.lang3.StringUtilsorg.apache.commons.lang.StringUtilsMy question is this , how can I configure maven/Eclipse , to use commonlang2 as needed during compile ... but not populate it in the Eclipse class autosuggest list ? My desired end state is that someone types 'stringuti ' + ctrl + space , and the only option they see is commonslang3 . I am aware that each developer can remove individual classes via ( Window- > Preferences- > Java- > Appearance- > Type Filters ) but that is not a viable solution for two reasons : 1 ) It 's a large team with frequently changing resources ... 2 ) I need an entire artifact removed , as in hundreds of classes . Example Tree :"
"I have a class which treats Strings as a collection . These are two methods from the class : Just the signature from the methods are relevant to my question.Now , Eclipse does issue a warning that the two methods have the same erasure . But it still allows me to create them , and they work as expected : Whenever I supply a function which transforms Character to Character , a RichString is returned , as I wanted.My question is why does it work , since in runtime there 's no information about the generic types , and the return of the method is not part of the method signature ? How can the JVM knows which of the two methods to call , when I call them ? Edit : I think , after the erasure , the two methods would have the following signature : Which would make them differ only by the return type ."
"I just started to learn java , so now i read about such possibility as inheritance , so try to create class that must create object - box . And using inheritance implement new properties to created object.I try to put each class in separate file , so after creating class , try to use it in So class Inheritance : But , when i try to use BoxWeight in main class , during using i got an errorError - No enclosing instance of type Inheritance is accessible.Where i 'm wrong ?"
"I am trying to get a sample program working with JUNG , a graphing tool in Java . I downloaded and referenced all the .jar files in eclipse so my project hierarchy looks like this : alt text http : //img638.imageshack.us/img638/6787/hierarchy.pngIn Test.java I have the following code : For some reason though when I try to run it as a Java Application by right clicking on Jung test in the project hierarchy I am presented with a bunch of classes . My Test.java is n't on the list so if I just leave it as ** and press ok it starts running a program that is dynamically adding nodes and vertexes to a graph . I ca n't seem to figure out what code its actually executing . I know java but stuff like this with the jar files seems to be getting lost on me . Any ideas ? Thanks"
This is our codeFor idType we 're expecting two values it can either be primary key id or its corresponding identificationType . Table only has two columns id and identificationType . The problem is that it throws ResourceNotFoundException even if op1 or op2 is not empty . Now if I change my return like thisIts again throwing the same exception ! RepositoryEntityWhat could be the problem ?
"This probably does n't even need asking , but I want to make sure I 'm right on this . When you create an array of any object in Java like so : The variable objArr is located in stack memory , and it points to a location in the heap where the array object is located . The size of that array in the heap is equal to a 12 byte object header + 4 ( or 8 , depending on the reference size ) bytes * the number of entries in the array . Is this accurate ? My question , then , is as follows . Since the array above is empty , does it take up 12 + 4*10 = 52 bytes of memory in the heap immediately after the execution of that line of code ? Or does the JVM wait until you start putting things into the array before it instantiates it ? Do the null references in the array take up space ?"
"The result is : In binary format : Why casting infinity to int and long integers keeps sign bit as `` 0 '' , while sets sign bit to `` 1 '' for byte and short integers ?"
Consider the following Exception printSince Java is a compiled language and what runs in JVM is the bytecode and not the source code itself how does the exception know on which line it occurred ? Example line 332 in above case ?
"I was doing some performance testing regarding object allocation , when I came across a weird result . I have the following java code : Expectation : First call will be slower then second call , due to requesting a larger memory space from the operating system and hotspot enhancements . But second and third will be nearly the same.Observed result : Still a considerable speed up between the third and fourth iteration . What causes this speedup ? How can I be sure my measurements are accurate when testing other functions , do I have to call the function more than four times before measuring ?"
"I 'm confused by checked exception of javaChecked Exception requires to be handled at compile time using try , catch and finally keywords or else compiler will flag errorRead more : http : //javarevisited.blogspot.com/2013/06/10-java-exception-and-error-interview-questions-answers-programming.html # ixzz3pk6OBSrjMy problem is : we all know `` NoSuchMethodExcepion '' is checked exception , and take the statement above into consideration , does it means that whenever I try to call a method , I should use try , catch to include the method calling code like thisBut in fact , I do n't need to do that right ? Then what 's the really meaning of the statement that given in the first place ? Thanks you for answering my question ."
"I 'm having trouble casting a List of Fruit down to the Fruit subclass contained in the List . How do I cast oranges so that it is a List of class Orange ? Is this a bad design pattern ? Basically I am getting a JSON Response from a server that is a List of Fruit . For each specific call to the Web Service , I know what subclass of Fruit I will get and so I need to cast that List appropriately ."
Is there any difference between delaring an array likeand declaring it like ? Both are valid in Java but I havent found any differences ( initialization or something ? ) or is it just two different ways to describe the same thing for the compiler ?
I am confused . If I calculate Then I get a result of 0.9999999999999999 . But if I calculateThen I get a result of 1.0 . Why is there a difference ?
Is it possible to define a generic bound that : implements an interface SomeInterfaceis a superclass of some class MyClassSomething like :
The method signature of ObjectOutputStream 's write method is As obj should implements Serializable ( know about markers ) . Why java developers do not write this method as is there any reason ?
"Problem & Question : I currently have a view pager , with just 2 pages/views inside it , which are next to each other horizontally.My views are custom ones which draw a two-color gradient and an image over the top of it at a low opacity/alpha value.I 'm finding that when I swipe across the screen to move from the first view/page to the second or vice-versa , the images are getting squashed . How can I stop this from happening , and draw them normally ? Example : The left image shows the first view that is visible , pre-swipe ; the right image shows the two views , midway through swipe . Code : I have a Drawable variable I set earlier , overlayImage , that I have not done anything to other than setting opacity ."
"In which scenario can an interface have nested classes ? The following code is allowed and valid.I am also struggling to make object of class ifaceClass . EDIT : I am able to make object like thisI noticed if Test has not implemented the Iface then I needed following import , But it boiled down to same problem that why not use it as a just another class . What the difference or value addition with this approach ?"
"I have a structure like that Thats the parent ..Now I have 3 children.. Every class has some different stuff do render .One is for example drawing yellow circle , second green text and the third is displaying image . But ... there is a thing . One Entity has for example 10 Bs ... and each B has 20 Cs ... So now .. I have a render method that renders 60x per second.. And I have to call every render method from every object . So I have something like this Now if you imagine I have much more objects like that and I call this method 60x per second ... I find this really ... really bad practice.. I do n't know how to solve this better or so ... I do n't think that this for each loop is actually the best solution or not . Anyone any ideas ? I was thinking about implementing the child like that : and so but some of the classes have other methods that have to be looped like that and I can not call them from parent . For the render method ... Just stick to the fact that you have to loop something many times in a short period of time for a long time . I can not progress through this ... I got stuck here for a long time and I am not sure how to solve this ."
"I have a ParentClass in a JAR , but not source code . I am implementing a SubClass , but i need to handle some corner cases.Is there a way to run the //lots of code 2 part after handling the exception in the overriding method ? I do n't want to duplicate code , and can not modify the ParentClass.P.S : The NullPointerException problem was n't there in the ParentClass . But due to a different instantiation in SubClass , this problem may arise ."
"So I 'm working on a Breadth-First search function for a program I 'm working on for school , and when I go through the outgoing edges for a given node , by virtue of how I 'm going through my possible edges , it looks something like this : But what I really want is this : Where the first index of a pair is the name of the node that the edge points to , and the second index is the label for the edge . Essentially I want to go through these edges alphabetically , first by node name , then by label name , but I 'm not sure how to do that , since Collections.sort ( ) does n't work for a 2D ArrayList . Any pointers/ideas on a good method to sort this ? Thanks everyone ! EDIT : I am using JRE 1.7 for this assignment , not 1.8"
"I am reading some books about java concurrency lately . Regarding thread safety , if it is not possible to make a class inmutable , you can always ensure thread safety by synchronizing its data . The following class would be clearly not thread safeThen i can synchronize the write , but it will remain not thread safeAs i would need to synchronize not only the writes , but also the readsNow the question is , by using volatile I can guarantee that other threads will see the updated value , so this makes me think that this class should be thread safeIs the last class thread-safe ? ?"
"Before the introduction to generics to the Java language I would have written classes encapsulating collections-of-collections-of-collections . For example : Of course , with generics , I can just do : I tend to now opt for option # 2 ( over a generified version of option # 1 ) because this means I do n't end up with a proliferation of classes that exist solely for the purpose of wrapping a collection . But I have a nagging feeling that this is bad design ( e.g . how many nested collections should I use before declaring new classes ) . Opinions ?"
"I stumbled upon this article on IBM - developerworks , and the code they posted had me raise some questions : Why is the building of the local variable Map wrapped within a synchronized block ? Note that they implicitly say there is only one producer thread.Actually , why would this snippet require a synchronized block at all ? A volatile variable should be enough for the job , as the newly created map is published only after being filled up.What is the point of only one thread synchronizing on a lock object ? The article mentions : The synchronized block and the volatile keyword in Listing 1 are required because no happens-before relationship exists between the writes to the currentMap and the reads from currentMap . As a result , reading threads could see garbage if the synchronized block and the volatile keyword were not used.And the comment in the code says : this must be synchronized because of the Java memory modelI feel I 'm dealing with multi-threading concepts outside of my understanding ; I 'd like someone with more expertise to point me in the right direction.Here is the snippet taken from the article :"
I am trying different combination of inner classes.I wonder that java gives you facility to write interface inside interface.It does not give me any compile time error.Can anybody tell me what is the use of this ?
"I want to get the next element from a spliterator , not just `` perform action '' on the next element . For example by implementing the following methodAll search results I found just said that tryAdvance ( ) was like a combination of an iterators hasNext ( ) and next ( ) , except that is a BIG LIE because I ca n't get next element , just `` perform action on next element '' ."
"I would like to ask about generic classes . What happens when I create two object instance from a generic class . Do they share every static members , or both have it 's own static members ? So for example : Do both Integer and String have the same reference behind member ?"
"We are in the process of migrating a WebLogic 10.3.5 web app to WebLogic 12.1.3 and we 've run into an issue which we think might be related to web services security . The app uses Axis 1.5.6 to call out to a SOA Suite SOAP service ( still running on WebLogic 10.3.5 ) . When web service security is disabled , we get back the expected response : But as soon as web service security is enabled ( using Apache Rampart 1.5.2 , Apache Neethi 2.0.5 ) , we start receiving empty responses : The odd thing is that when looking through the SOA Suite console , the response out of SOA back to the web app ( with security enabled ) looks correct : No exceptions are logged . Has anyone else experienced and resolved these kinds of issues ?"
I have a JXtable . I would like to prevent the top 3 rows from being sorted . Basically the top 3 rows should always be on top and the remaining ones should be sorted according to their value.There is a similar question on SO but i am not sure how to really apply it to my useSort ROW except last rowThe major difference is that i am using JXTable . Is there a easy way to do this that i am missing ? Here is my JXtable code
"I work as an automation engineer for my company . Recently , I wrote a piece of code that my manager absolutely would not accept.I was asked to write some scripts for test cases involving different pieces of the GUI . The part of the code my manager would not accept was an if/else statement meant to check the current language of the prompt in the GUI.I 've been instructed to use Sikuli , and as such , it is very important that I know what language the application is currently set to so my scripts can click the correct buttons ( which change depending on the language ) .My thoughts were that the code iterates through the if/else statement and then points to the correct button . Example : The if/else statement determines that the `` ok '' button is currently the Suomi translation , so it will than click the correct button.Here is an example of my code : My only gripe with the above code is that it is pretty ugly . Functionally it does exactly what I 'd like it to , 100 % of the time.EDIT : I figure that having a switch that adapts to the potentially changing button would be better than having 10 switches for the same button . Arguably , against what I just said , if I 'm writing the scripts , I will always know what language the system is going to be in.If this is an example of poor code , what could I do instead to determine which `` form '' of the button I need to press ? It would be worth noting now that the answer I 'm looking for does not actually pertain to testing at all , but rather , how do I optimally perform the function of that if/else block above ?"
"the following code : When I uncomment the line 9 , that is let print if condition is true , though never it is going to happen since both object are not equal , then it takes 5000+ milli-seconds , and to my surprise by just commenting it takes only 5 milli-seconds , I am not getting the reason , why it takes so much time if it is not commented , since it 's never going to get executed ... Is this some sort of branch prediction effect ? or any sort of compiler optimization"
"I was going through the Exchange Web Services Java API code and saw a design choice in the way the developers passed arguments to their methods . May you can help explain the benefits of the technique -- The type that is to be processed by the method is wrapped by a Generic Wrapper class before being passed into the method , for example if the method is to work on a String , new Param ( ) is passed into the method where Param is defined as followsHere is a snippet from the source -- The method works on an HttpWebRequest object.The caller creates an instance of the Param , i.e . bounded by the HttpWebRequest class . Then that instance is passed into the method , as you can see in the method signature -- Then why not just pass the HttpWebRequest object -- The developers use this pattern repeatedly all over the code base which makes me think there is some good reason for it . But I just ca n't see the benefit ... please enlighten ."
"Today I was exploring classes of huge applications ( like jboss server with apps ) with javaagent and instrumentation on my openjdk 7 . I called retransform on all classes every 10 seconds , so their bytecode got in my ClassFileTransformer implementation.My implementation simply keeps track of how bytecode of classes changes over time . First of all , I was surprised , that order of fields and methods , method access modifiers , contents of constant pool and other such things vary from one check to the other . But , still , it is documented.What is not documented - that some items may be created in class'es constant pool and injected into methods . For now I noticed that to happen with numeric values ( Longs , Doubles , Floats and such ) .This is how it looks in javap ; before : After something changed class during runtime : I double checked , that no other transformers or agents are attached.Why ca n't JVM just leave my bytecode the same ? Where can I read about such optimisations/transformations ( or what else is it ) ? I read JVM sources , but these only confused me more.I 'm just trying to create some kind of realtime bytecode verificator - a security tool ."
I have the following codeI thought it would raise a NPE but it is giving Mount Everest as output can anyone clarify ?
"I am new to java and trying some accessing methods and i encountered something that i do not understand . The code below working fine , prints 9 and not giving any compilation errors . I think this code should give a compilation error and number should be inaccessible from the test method , since new Human ( ) is an instance of a totally different class . Can anybody explain me what is happening here ? Human Class"
"I am wondering if there is n't a better way to convert whole Lists or Collections as the way I show in the following code example : Every time I produce a method like this , I start thinking , is n't there a better way ? My first thought would be to create maybe a solution with some generics and reflections , but this seems maybe a bit over sized and maybe a bit to slow when it comes to performance ?"
"I have my own service calling a third party rest service that is returning a text based response.This text based response is not a proper service response and needs to be parsed for content as well as errors . For purposes of discussion , assume the 3rd party rest service can not be changed.Given these circumstance I am wondering whether I should wire that parsing into the dao layer or the service layer of my application.I know that the service layer should contain all of your business logic , but I feel like if I do n't do the parsing in my Dao layer I am leaking . Is it ok to have logic in the dao for purposes of parsing/transformation in this case or should it be done in the service layer ? Any advice is appreciated.OR"
My question is what is a good way to implement upgrading outdated objects ? For example say you have a class like this : and then you serialize this object . Then later on you add more functionality to your class by say adding : You still want to retain the information that is in the serialized object but I know that if you try to deserialize it there will be conflicts . So is there a way ( maybe by checking serialVersionUID ) to set a value for int c knowing that it wo n't exist ? Thanks
"I 'm using a Comparator implementation to sort a large collection of objects . Depending on the type of objects in this collection the sort takes a few milliseconds to half a minute . Is there any way to determine the progress of the Comparator while sorting ? I 'd like to visualize this for the user.The collection may hold simple short String objects , Date objects or ( worst case ) CLOB objects which need to fetch data while sorting ."
"I have a scenario where I have to maintain a Map which can be populated by multiple threads , each modifying their respective List ( unique identifier/key being the thread name ) , and when the list size for a thread exceeds a fixed batch size , we have to persist the records to the database.Aggregator classThere is one more separate thread running after every 2 minutes ( using the same lock ) to persist all the records in Map ( to make sure we have something persisted after every 2 minutes and the map size does not gets too big ) This solution is working fine in almost for every scenario that we tested , except sometimes we see some of the records went missing , i.e . they are not persisted at all , although they were added fine to the Map.My questions are : What is the problem with this code ? Is ConcurrentHashMap not the best solution here ? Does the List that is used with the ConcurrentHashMap have an issue ? Should I use the compute method of ConcurrentHashMap here ( no need I think , as ReentrantLock is already doing the same job ) ?"
"Please consider this example : What interests me here is the first test . Why is it using MyConsumer instead of Consumer ? What if I had more different possible Consumers with the same lambda structure , who has priority ? Plus , the cast I do on Test 2 is marked as Redundant by my IDE . That means the lamdba is created as a MyConsumer first . Why so ? I 'm using IntelliJ Idea with Javac ."
"I have a tree data structure I 'd like to store using Neo4j.There is a parent node : CodeSet , which is always the root of the tree and a child nodes : Node , which themselves can have child nodes of the same type . They are connected with relationship of type : SUBTREE_OF as follows : The parent node is displayed in red and it itself has a parent displayed in green.As soon as parent node and child nodes have some common data , I created an abstract class : Class for the parent node : Class for the child node : What I need is just making a child node update . I use the following method at my service layer : With this I got the following result : The relationship is broken . I also tried out to specify depth=1 at findById method parameter , but that resulted in wrong relationships once again : After that I tried out modifying bi-directional relationship in my classes to uni-directional so as only one class has an annotated with @ Relatinship field pointing to another , but that did not help either.How to make this work ?"
I am testing out the new Stream API in java-8 and want to check the outcome of 10000 random coinflips . So far I have : but this throws the exception : I understand why this is happenning but how can i print the count for heads and tails if I can only use the stream once ?
"My understanding is that static members belong to the class . Why then does Java allow me to access them with an object ? To understand what I mean , please see the following example : Here number is a static field that belongs to class Student , but I can still access it as shown below : What is the rationale behind this decision ?"
"I put together an RSS reader that works as-is but , I want to setup the connection to the RSS URL using HttpUrlConnection method . When I tried it , the program locked up after I clicked Read Rss button : This is the connection method I am stuck using which works : Thanks for any help you can provide !"
"Why does throw outerE ; generate a compilation error ? I know that throw e ; should not generate a compiler error because of the precise rethrow feature.They 're the same Exception object , but one is scoped inside the catch block only and one is scoped outside the try-catch block.Should n't neither of these generate a compiler error ? Or , at least , both behave the same way ? I 'm using Java 1.8.0_51 . ( Precise rethrow is introduced in Java 7 )"
"When I was going through ArrayList implementation , I found a weird piece of code in toArray ( T [ ] ) method.The part is , why only the element at this index in the array is set to null ? Once the array is filled with the contents of the list , the elements at the remaining indices should have been set to null , right ? Or am I missing something here ?"
"In following code the issue is , that I can not test dao.add ( ) without using dao.list ( ) .size ( ) and vice versa.Is this approach normal or incorrect ? If incorrect , how can it be improved ?"
I am getting out of memory error with just 50000 objects . I checked computeIfAbsent implementation but unfortunately did not find any thing peculiar.My machine configuration is 16 GB ram and core I7.and my ListObject is below : Can some one please help me understand this behavior .
I encountered misunderstanding of primitive promotion in the next code snippet.What would I expect ? long b = ( int ) a > > 4L ; long b = a > > 4L ; int b = a > > 4L ; int > > long will promote to the larger data type ( long ) and it wo n't compile with resulted int type.What have I received ? It compiles fine . Why ?
"While migrating my JAX-RS application from Jersey to Quarkus/Resteasy , I came across a behavior change with the method evaluatePreconditions ( Date lastModified ) . Indeed , in my use case , the last modified date contains milliseconds and unfortunately the date format of the headers If-Modified-Since and Last-Modified does n't support milliseconds as we can see in the RFC 2616.Jersey trims the milliseconds from the provided date ( as we can see here ) while in Resteasy , the date is not modified so it actually compares dates ( the date from the header If-Modified-Since and the provided date ) with different precisions ( respectively seconds versus milliseconds ) which ends up with a mismatch so an HTTP status code 200.The code that illustrates the issue : The corresponding result with Jersey : The corresponding result with Quarkus/Resteasy : This behavior has already been raised in the Resteasy project , but for the team , trimming the date would add a new bug because if the data/resource is modified several times within the same second , we would get a 304 if we trim the date and 200 if we do n't , which is a fair point . However , I maybe wrong but according to what I understand from the RFC 7232 , if several modifications can happen within the same second , we are supposed to rely on an ETag too which means that in the JAX-RS specification , we are supposed to use evaluatePreconditions ( Date lastModified , EntityTag eTag ) instead.So what is the correct behavior according to the JAX-RS specification regarding this particular case ?"
"Experienced programmer new to Java seeking your wisdom : If there is no way to ensure that some particular chunk code is executed as an object goes out of scope , then what other approaches are there that would offer the same functionality ? ( it seems finalize is clearly not meant for that ) A classic example is the scoped lock idiom : I can understand that in Java it would be frowned upon to have some code executed if you have n't explicitly called it . But I find being able to enforce some code to be executed at the end of an object 's lifetime is a very powerful feature to ensure your classes are being used sensibly by client code.Thanks"
"The difference I see is ( running on JDK 1.7 ) : setVisible ( false ) , invokes componentHidden but not windowClosed ( The API states only on dispose ( ) so it 's OK even if it irritates me ) but dispose ( ) , invokes windowClosed but not componentHiddenShort running example code ( MCVE ) : NOTE : The example features a JDialog , but I see same behavior in JFrame , to test simple attach the listeners to the fakeFrame , and add similar buttons . ( avoided in MVCE to keep it Minimal ) ) .I have considered this post : JDialog setVisible ( false ) vs dispose ( ) In answers seems that is should be no difference , use dispose ( ) ... API DOCUMENTATION : Window.setVisible ( boolean b ) , Window.dispose ( ) , ComponentListener.componentHidden ( ComponentEvent e ) , WindowListener.windowClosed ( WindowEvent e ) Why do I care : Naturally out of curiosity , but also since I use buttons to close the window ( invoking dispose ( ) ) and the interface can also be closed by the top/right window close icon and alt+F4 ( invoking setVisible ( false ) ! ? ) . Hence no one of the above listener can be used . Only the HierarchyListener will catch them both and this seems counter intuitive.EDIT : The question is scoped as `` why is it like this '' ? What is the purpose ? '' . I was expecting dispose ( ) to invoke both ! I ca n't find any clues in the API documentation for why not ."
"So here is the simple thing I am trying to test , what is faster a mod operation or a AND one ( assuming power of two ) - this is what hashMap does internally . Is this a correctly spelled `` test '' ? I have to admit that the internals of jmh and getting to write a correct micro benchmark after going through all the samples ( for the 3-rd time I think ) is quite a challenge . : )"
"Reading the source code for Instant class , I bumped into this methodThe description got me curious . What is a `` malicious stream '' ? And how is this method defending against it ?"
"I have a string that is dynamially generated . I need to split the string based on the Relational Operator.For this I can use the split function.Now I would also like to know that out of the regex mentioned above , based on which Relational Operator was the string actually splitted.An example , On input applyingwill give me the result , But expecting result :"
"When manipulating scala objects ( primarily from the the scala.collection package ) the operator overloaded functions seem to be available to be used in Java.i.e . in scalaso in Java , looking at scala.collection.Set in eclipse autocomplete , I can see the prototypesBut I 'm unable to use them correctlyHow are these scala methods meant to be used from within Java ?"
"We 're upgrading a Java 6 project to Java 8 . Recompiling with Java 8 gives errors in a java.awt.Frame subclass , I 've simplified to the following : org/example/Foo.javaorg/example/Type.javaWhat appears to be happening is a static enum java.awt.Window.Type introduced in Java 7 is taking precedence even though there is an import for org.example.Type . Is this correct ? Does this mean we 'll have to fully qualify all references to our Type with org.example.Type ?"
I am trying to close Android emulator using telnet command via Appium script but after executing the telnet command waiting for manual input for `` kill '' command.Unable to execute the `` Kill '' command along with Appium script .
"I recently ran across this scenario in code that I did n't write and while there may be some design benefit to this approach , I ca n't seem to squeeze this rationale out of my own brain . So before I go and look foolish , I 'm hoping for some feedback here . Service interface something like this : Then , a base class that adds a generic reference to the Service interface where T extends the Service , but then the overall base class also implements the interface . Something like this : Why would you do this ? I 'm noticing that in practice the extension of ServiceBase always uses the same class name as T as the one that is being declared ; so there 's not really any magic polymorphic benefit here . Something like this : and , the MyService class is never a container for the generic ( e.g. , I do n't believe this is signaling some kind of self-containing list , where MyService could contain a list of MyServices ) . Any ideas/thoughts on why someone would do this ?"
I faced below Interview question.what is the output of the below code.It is giving output :10But i am confuse why its output 10.Anyone can answer me please what happening here.ThanksSItansu
"In Java 1.8 , the following lambda expression complies with both Runnable and Callable functional interfaces : Still , if I submit it to an ExecutorService using a single-argument method , and ignore the return value ( i. e. no type inference information is available ) , ExecutorService # submit ( Callable ) is chosen at compile time , unless I explicitly cast my lambda to Runnable.How does the compiler choose between overloaded methods in the above case , provided that Runnable and Callable do n't share any common hierarchy and most specific type rule does n't apply here ?"
"I have a object model like the one given belowI have a list of objects like List < Employees > Based on the Filter inputs , I want to construct the predicate on the property and apply that to the list of employees.Example : The operators are like Contains , StartsWith , EndsWith , EqualsI would like to construct the predicate like PredicateBuilder ( fieldName , operator , value ) so that I can get like I have tried the one linkPredicate with Reflection in javaIn this , I was able to infer the propertyname , apply the equals method to the dynamic value like Please guide me on how to construct the dynamic predicates , I have been searching the internet but with no luck and i have less information on reflection and predicates in Java"
"I am using a heterogeneous container similar to this one . I can put and receive objects from the container with ease : But there seem to be no easy way to iterate over such container . I can add a keySet ( ) method to the Favorites class and simply return the key set of the internal Map object : Now , I would like to iterate over the keys , use the keys to get the associated values , and call some methods on the received objects : I thought that I could access the methods of the objects held in my container by calling klass.cast ( f.getFavorite ( klass ) ) .SOME_METHOD ( ) , but it does n't work either ( meaning , I can not access any methods except for the Object-related methods ) .Let 's say , that in my use case I would like to inspect the interfaces of all these objects I iterate over and act accordingly to the detected interface . Let 's also assume that I may have dozens of objects of various classes and all of them implement one of three interfaces.The only solution I can think of is to stuff my code with dozens of isinstance checks , but I would prefer a less cumbersome approach ( i.e . checking if a given object implements one of three interfaces ) ."
"What is the CodeSignature in aspectJ ? I tried to find JavaDocs but did n't find anything useful . For Instance , thy is the following signature is a CodeSignature : Is there a JoinPoint such that thisJoinPoint.getSignature ( ) that is not a CodeSignature ?"
What is the difference between both these ways of lambda creation ? Why does n't the first one compile ? Gives : error : incompatible types : Predicate < Object > can not be converted to Predicate < Integer > = Predicate.isEqual ( 0 ) .or ( Predicate.isEqual ( 1 ) ) ; This one works .
I 'm trying to sort the release versions in form of `` a.b.c '' I 'm using mongo-java-driverI have created the index with collation : I have implemented the aggregation query with java driver : And I 'm returning the list in a document as API response.But the output I 'm getting is : And when I tried the same with Mongo shell I get the following output ( which is correct ) What 's wrong with my Java code ? is it the version or error in code ? Any help would be much appreciated .
"Like many log4j users , we often have debug level logging that is expensive to evaluate . So we guard those cases with code like : However , that is uglier than a plain _logger.debug call , and sometimes the programmer does n't realize the evaluation could be expensive.It seems like it should be fairly simple to write a program that takes a compiled jar and guards all the _logger.debug calls with the isDebugEnabled check . We would likely be willing to accept the extra overhead of checking isDebugEnabled in all cases.Has anyone tried this approach , or done similar post-processing of a jar ?"
"I seem not to understand this.To my surprise , I am not null is printed on the console . Why is myMethod not seeing the passed obj parameter as null ."
Excuse me for my ignorance . I could n't understand the difference between the following seemingly similar lines of code . final int num1 = 1 ; final int num2 ; num2 = 2 ; What makes the num2 not eligible for a switch case constant ?
"Why is n't b equal to true if you run this code on Windows ? I want s to be `` \n '' and not `` \r\n '' , even on Windows ."
"Say I have an array that is stored in 0° rotation : And I want it returned in a good approximation if I pass , for example 30° as parameter , it would be something like:45° would beI am aware of the solutions posted for 90° rotations . But I do n't think that will help me here ? I do n't have any examplecode because I currently would n't even know where to start looking . If there are any keywords I can google that point me in the directions of some formula I can adapt for this , that would also be great.Spectre 's code solution in C # : test :"
"I am new to Mockito and PowerMockito as well . I found out that I can not test static methods with pure Mockito so I need to user PowerMockito ( right ? ) .I have very simple class called Validate with this very easy methodSo I need to verify that:1 ) When I call that static method on null message argument , IllegalArgumentException is called2 ) When I call that static method on null object argument , IllegalStateException is calledFrom what I got so far , I wrote this test : So this says that I mock Validate class and I am checking that when mock is called on that method with null argument as an object and any string as a message , an IllegalStateException is thrown.Now , I really do n't get it . Why I just ca n't call that method directly , dropping the whole voodoo magic around mocking that static class ? It seems to me that unless I call Validate.stateNotNull that test passes anyway ... For what reason should I mock it ?"
"At first glance , I have the same problem as many . But my case a bit more complex.Preconditions : Project language : Java 11Network Server : Orbiwise NS ( https : //eu.saas.orbiwise.com/ ) Device : ( STM32 + Wifi module ) connection via Lorawan gateway to Orbiwise and using TCP socket via wifi . Input data : From TCP socket received byte array : ( 43 bytes ) On Orbiwise have corresponding to it uplink payload : ( 28 bytes ) Task : Decrypt data from TCP socket to have decrypted payload in the same format as on Orbiwise Approaches were used without positive result : https : //github.com/jsubercaze/javalora https : //github.com/huahang/crypto-utils/blob/master/crypto-utils/src/main/java/im/chic/utils/crypto/AesUtils.java https : //github.com/matthiaszimmermann/ttn_decoder_java - core code for mine.All project above was written a long time ago and not helped me . This one helped , but written on Node JS : https : //github.com/anthonykirby/lora-packet From LoraWan specification I got that used `` AES/ECB/NoPadding '' method and my current code looks like : And second class - test : I 've checked the code a hundred times but no positive result - the decrypted message is different from on Orbiwise.I 've checked the data using NodeJs project ( https : //github.com/anthonykirby/lora-packet ) and all is correct . But ca n't resolve the task using my Java code.Can some body help me in this situation ? Thanks a lot in advance !"
"In this java assignment we have a for loop that reads through a text file we use in this program , and we are supposed to replace it with a stream . Here is part of the program and what we are supposed to replace : I have tried this and I ca n't seem to figure out anything else :"
"Say I have this resource : Should I write tests that confirm that certain ( test ) users get a response from the endpoints , and certain users do n't ? And if so : How can I write those tests ? I 've tried something like this : but I 'm not sure how to actually test the function of the @ RequiresRoles-annotation . I 've read Shiro 's page on testing , but I have n't been able to write a failing test ( e.g . a test for a subject that does not have the WRITE role trying to access /authhello/test ) . Any tips would be appreciated ."
"I am using OrientDB in an embedded situation in Java . I am creating the database and classes in my application and inserting the data . When I go to view the data through the console , I can see the classes in the database , along with the correct number of rows in the classes . However when I try to browse the data in the class via this command browse class testData , I receive the following errorError : com.orientechnologies.orient.core.exception.OSerializationException : Found invalid % character . Ensure it is opened and closed correctly.I have scoured my source data and it does not contain any % . I know that OrientDB is sensitive to spacing especially around characters like ) but again the data that I have does not use the character for which there seems to be an error . Has anyone run into this kind of error ? Any ideas on how to resolve the error ? Code for creating the database Code for creating the classesCode for inserting the dataThere are multiple classes but for a give class , the data might look something like this 43840,533,1,1,3,4 just to give you an idea about what the data looks like . As always , thanks in advance for any help !"
"I know there are many questions on the subject even a very recent one but I still ca n't work my head around one thing . Consider the following functional interface : And this implementation : If I look at these threads 1 and 2 , I expect the following code to output `` Bob '' and not throw a NullPointerException because as far as I understand , when I create my Supplier , it captures the Person instance.And it correctly outputs `` Bob '' Now what I do not understand is why the following code does not also output `` Bob '' ? It actually outputs `` Alice '' It seems to me that in the first example the lambda captured the state of the Person object when it was created and does not try to re-evaluate it when it is called , when in the second case , it seems like it did not capture it , but revaluates it when it is called.EDITAfter re-reading the other threads and with Eran 's answer , I wrote that bit with 2 Persons pointing to the same instance : Now I can see that they both output `` Alice '' even though p1 is null and therefore the method reference captured the instance itself , not its state as I wrongly assumed ."
"I 'm brushing up on my Java have been asked this question in an exercise . How could the following result in a deadlock ? My guess is that if methodB calls methodA while it has the Thread.sleep function going , the two method would start cascading and cause an indefinite sleep ? Thoughts ?"
"I 've been doing some Java Streams manipulation , and of course it does n't like my code and is refusing to provide useful error messages . ( For reference , I have no problems whatsoever with C # and Linq , so I understand conceptually everything I 'm trying to do . ) So I started digging into adding the explicit generic types to every method in my code so I can find the source of the problem , as past experience tells me that this is a successful path forward.While looking around I ran across something I do n't understand . Consider the following code from the Java source ( reformatted a little bit ) : Why does the toList method signature require a wildcard ? in its return type ? When I remove it , I getandWhen I change ? to Object , I get ( referring to these lines/methods in the above code ) : When I put the wildcard back and examine these two , they are : Further fiddling around has n't taught me anything more.I understand that in one scenario such as the ? extends T , the wildcard in Java can be translated over to C # as a new generic type argument with a where TWildCard : T. But what is going on with toList above , where the return type has a bare wildcard ?"
"I 've created a utility that combines zip file archives into a single archive . In doing so , I originally had the following method ( see this question for some background on ExceptionWrapper ) : Here is the code for ExceptionWrapper.wrapConsumer and ConsumerWrapperThis results in the compilation errors : However , the following change compiles just fine and works as expected : Notice that all I did was pull out the in-lined creation of the Consumer into a separate variable . Any spec experts know what changes for the compiler when the Consumer is in-lined ? EDIT : As requested , this is the signature of addEntryContent ( ... ) :"
"This is a follow-up question to some previous questions about String initialization in Java.After some small tests in Java , I 'm facing the following question : Why can I execute this statementwhen str2 a String object initialized to null ( String str2 = null ; ) but I can not call the method toString ( ) on str2 ? Then how does Java do the concatenation of a null String object and a string literal ? By the way , I tried also to concatenate an Integer initialized to null and the string literal `` a_literal_string '' and I 've got the same thing that is `` null a_literal_string '' in the console . So whichever kind of null gives the same thing ? PS : System.out.println ( concatenated ) ; gives null a_literal_string as output in the console ."
"I use to the advice given by Joshua Bloch 's Effective Java , Item 52 : Refer to objects by their interfaces.However , in most of the sample code comes with Android , I realize the following code is quite common.I understand this is due to performance optimization purpose , as the following code will be slower.However , is such optimization technique still valid ? As if I read from http : //developer.android.com/guide/practices/design/performance.html On devices without a JIT , it is true that invoking methods via a variable with an exact type rather than an interface is slightly more efficient . ( So , for example , it was cheaper to invoke methods on a HashMap map than a Map map , even though in both cases the map was a HashMap . ) It was not the case that this was 2x slower ; the actual difference was more like 6 % slower . Furthermore , the JIT makes the two effectively indistinguishable.Do we need to assume our devices are without JIT , and refer objects without interfaces ? Or , shall we just adopt to Joshua Bloch 's advice ?"
"I need your advice . For a start I would like to describe preconditions.I have some third party Java objects with default java.lang.Object 's hashCode ( ) and equals ( ) implementation . Comparable interface is not implemented . The size is insignificant.I need to store such objects for some time in memory . I will read and write them from different threads in 50/50 ratio ( approximately 50 % reads and 50 % writes ) .The order of the objects is not important . I just want to have possibility to take some object from the store , that 's all . With take I mean both get and remove at the same time.Sure , I want it to work as fast as possible with lowest memory consumption . I 'm trying to avoid any synchronizations in my code.First I 've tried to solve this problem by myself . I 've immediately rejected CopyOnWriteArray* collections due to high memory consumption . I 've read it 's better to use them in case of rare writes . ConcurrentHashMap in general suites for my needs but I did n't find way to make take operation atomic without synchronization . I 've stopped with my investigation on ConcurrentSkipListSet collection . It contains pollFirst method which is pretty good suite to take objects.I 've implemented my solution with ConcurrentSkipListSet as a basis . I 've got everything works fine except one small detail . As I mentioned above objects I 'm working with do n't implement Comparable . So to use chosen collection I have to somehow implement Comparator . Here 's my implementation of this interface . In this example I 've used directly java.lang.Object instead of my objects type . I 've done this 'cause implementation is completely the same , difference is only in generic part of the class.Cons of this implementation is obvious . I 've found there 's no guarantee that two different objects will have different hash codes . In such case it 's possible to loose some objects which is not acceptable . I 've thought to return some random number in case of equal hash codes for different objects but I 'm not sure it will not break ConcurrentSkipListSet implementation.Regarding situation described I have two general questions.Is it possible to implement Comparator for my object in as such way to do n't return 0 for different objects and keep ConcurrentSkipListSet operability ? Is there some other way to store my objects ? Thank you in advance for your answers ."
"The application I 'm developing needs to receive events from a SAP Contact Center for interactions happening on phones . Events such as IciEvent_phoneCallChanged , for example . I am already able to receive user events by sending a subscription request . I am sending a subscription request for the Container interface and it seems to be working . In Wireshark I can see the response coming back from the Contact Centre , but when I make test calls no events are received . The Container subscription is as suchSo ... . How do I correctly subscribe for and receive phonecall events ?"
I 'm wondering why this code does n't compile : Whereas this code does : I think the priority is for pre and then post decrements then the subtraction should be applied .
I am new in cloud boost.I am using cloud boost in my android application for chat feature.We have integrated cloud boost SDK on our server.Now I want to use cloud boost in my android app with my server URL but I am not able to init CloupApp with custom URL . I have also tried following method but it not work.Can someone help me with this ?
I have been trying to understand the concept and rationale behind the lower bounded wildcard in Java Generics . I can understand the reasoning behind the upper bounded wildcard being read only and where and how it can be used . I am still not able to get a grasp of the lower bounded wildcard . I have a set of classes which follow the below hierarchy . ( Automobile is the base class . ) Now I am trying to build a ( flexible ) list and add objects of different types to it.I am able to add an instance of Suv to List < ? super Suv > . But I get compilation error when I try to add instances of Truck or Automobile to the same list . Is n't the List < ? super Suv > flexible enough to take any instances of Suv or its super classes ? Truck and Automobile are higher up in the hierarchy tree . Why am I not able to add instances of these to the list ?
I have created an inner class in an inner class : I have been surprised that java allows the InnerInnerClass to access directly the EnclosingClass . How is this code implemented internally by Java ? The InnerInnerClass keeps two pointers ( one on the InnerClass and the other on the EnclosingClass ) or the InnerInnerClass access the EnclosingClass through the InnerClass ?
"I 'm currently learning Java online and am confused about the following code and what one of the elements in the array is evaluating to : I am looking at a [ 3 ] and the number that this evaluates to , and when I am debugging the code , my IDE is showing that a [ a [ i ] ] is evaluating to 9 , which is where I 'm a bit confused.I thought that a [ 3 ] would equal 1 and then a [ 1 ] would equal 8 , however this does n't seem to be the case . Could anyone provide clarity as the JetBrains Academy course does n't refer to this ."
"Given this Java code , this outputs 0 and 4 : And with this identical C # code , this outputs 4 and 4using System ; Though I figure out that the output should be 4 and 4 on Java , but the answer is actually 0 and 4 on Java . Then I tried it in C # , the answer is 4 and 4What gives ? Java rationale is , during construction of B , A is still initializing ( consequently I posit B is still initializing if Java said A is still initializing ) , so the default value should be 0 . Hence the output is 0 and 4 in Java.Why C # constructor behavior differs from Java , or vice-versa ?"
"I am a reasonably experiences hobby programmer , and I have good familiarity with C++ , D , Java , C # and others.With the exception of Go , almost every language requires me to explicitly state that I am implementing an interface . This is borderline ridiculous , since we today have compilers for languages like Haskell , which can do almost full-program type inference with very few hints.What I am looking for is a programming language that does this : What languages would see this , and automatically flag Test as implementing ITest ? ETA : I am not looking for duck typing . I am looking for strictly typed languages with inference ."
"I am reading LinkedHashMap source code in JDK 11 and I found a piece of dead code ( I 'm not sure ) As we all know , LinkedHashMap use a doubly linked list to preserve the order of all the elements.It has a member called accessOrderBy default it is false , but if it is set to true , everytime you run get , it will move the element it gets to the end of the linked list.That is what the function afterNodeAccess do.So here comes my problem : ( accessOrder & & ( last = tail ) ! = e means e is not the last node of the linked list . If e is already the last node , we dont have to do anything right ? Then a as the after node of p , ( p is e after casting to LinkedHashMap.Entry ) , it cant be null . Only if p is the last node then a can be null . So what 's the point of the following piece of code ? a always ! = null , the else clause last = b will never be executed ... .So is it dead code ? Also I do an experiment with accessorder set as true , then I get the last node in debug mode and it seems that I ca n't never get into the above else caluse last = bAny suggestions ?"
"I 'm trying to initialize a HashMap using rJava with type < String , Double > but do not understand how to accomplish this using the rJava interface . I am basically looking for the equivalent ofbut using rJava instead . I can easily produce a HashMap < String , String > as the following example shows , but naturally can not populate the values with doubles ( which is what I want to achieve ) .I have tried to string together combinations using .jcall ( ) in several variations on the following theme : But nothing has so far succeeded ."
"I profiled my code and found that my program spent roughly 85 % of the time executing this particular recursive function . The function aims to calculate the probability of reaching a set of states in a markov chain , given an initial position ( x , y ) . I was once told that 99 % of recursive functions could be replaced by a while loop . I 'm having trouble doing this though . Does anyone know how I could improve the execution time or rewrite this as a iterative loop ? Thanks"
I am wondering whether the below code should work in any scenario ? It works in my Android studio but not in some other 's PC . What is making it work for me ?
"In following question : Possible Spring Boot or Spring Security Memory LeakThe user prints the java objects as follows : What command did the user use to print this info ? Btw , I have added following arguments to my java process.I hope I have phrased the question correctly ."
"After reading Sun 's documentation on Generics I moved to the Q and E section at http : //docs.oracle.com/javase/tutorial/java/generics/QandE/generics-questions.html.For Q8 - Write a generic method to find the maximal element in the range [ begin , end ) of a list.the code I wrote is : and Sun 's answer is : Can someone please tell me with an example how Sun 's version is better than mine ? EDIT : I want to compare the efficiency of the 2 solutions mainly on the basis of Type parameters/bounds used in the method declaration and not the logic e.g . in what situation ( s ) Sun 's version is better for a caller of the function ? Basically I do n't understand why you need < T extends Object & Comparable < ? super T > and List < ? extends T > as used by Sun and not what I have used.An example is much appreciated as I have been overwhelmed with theory . ( Sorry if that sounds rude but I do n't mean to be ) .Thanks in advance , Mustafa"
"I 'm trying to remove all the entry of which the value is null . The code is : My question is iterator is bind to map.values , why it can remove the whole entry ?"
"I have a question regarding the Java Memory Model . Given the following example : acquire and release can be any synchronizes-with edge ( lock , unlock , start thread , join thread , detect thread interruption , volatile-write , volatile-read , etc . ) Is it guaranteed that action 3 ca n't be moved before the acquire and ca n't be moved after the release ? And is it guaranteed that action 2 ca n't be moved after the acquire ( neither before nor after the release ) and that action 4 ca n't be moved before the release ( neither before nor after the acquire ) ? So are synchronizes-with edges `` bidirectional barriers '' for the compiler 's re-ordering actions ? EDIT 1I am concerned about this because if synchronizes-with edges were not bidirectional re-ordering barriers , the compiler could simply create a deadlock by moving lock acquires into others.Or are bidirectional re-ordering barriers not even necessary to prevent this because lock acquires ca n't be pushed into others because that would change the synchronization order ? EDIT 2The actions 1 , 2 , 3 and 4 are `` inter-thread actions '' as defined by the JMM.EDIT 3Here 's an example that shows how reordering might cause a deadlock : x and y are shared variables and syncA and syncB may be acquired by any other thread . But with the following code , there is no deadlock possible.If , however , the acquire of syncA is reordered into the syncB block this might cause a deadlock : I think this is not a legal compiler transformation , because it would change the synchronization order . Am I right with this assumption ? What part of the Java Memory Model ( JMM ) allows/disallows this ?"
"I have a matrix that implements John Conway 's life simulator in which every cell represents either life or lack of it.Every life cycle follows these rules : Any live cell with fewer than two live neighbors dies , as if caused by under-population.Any live cell with two or three live neighbors lives on to the next generation.Any live cell with more than three live neighbors dies , as if by overcrowding.Any dead cell with exactly three live neighbors becomes a live cell , as if by reproduction.Every cell will have a thread that will perform the changes by the rules listed above.I have implemented these classes : My trouble is to synchronize the threads : Every cell ( a thread ) must change its life/death state only after all threads have checked their neighbors . The user will invoke every next life cycle by clicking a button.My logic , as can be understood from the run ( ) method is to let every cell ( thread ) run and wait for the right action state that is represented by the variable currentAction in LifeMatrix class and go ahead and execute the needed action . What I struggle with is how do I pass these messages to the threads to know when to wait and when execute next action ? Any suggestions to change the design of the program are very welcome as long as every cell will be implemented with a separate thread !"
I have a SpringBoot app.I have created this test : whereand local configuration.properties : but when I run the test . I got this error : Caused by : org.springframework.beans.factory.NoSuchBeanDefinitionException : Nobean named 'entityManagerFactory ' availableI also tried with : but then I have the error : Caused by : org.springframework.beans.factory.NoSuchBeanDefinitionException : Nobean named 'emf ' available
"I have an array list of apps , I have a directory which will only contain jar files ( I am using reflection to access these jar files in my platform ) . I want to loop through all of the files inside the directory , find all of the jar files and then check that they are part of the array list of verified apps and from that , build a new array list of all the ones that are verified and exist.So far , I have this : However , this is giving me everything inside of the arraylist even if they do not exist in file . Any help would be appreciated and I want to use a stream.I would like to turn this : Into using a stream to get used to knowing how to use streams ."
"Suppose I have an Animal interface and particular classes implementing it Cat and Dog . Right at the entry to the program , there 's this : I 'd like to have the choice parameter be populated at compile time ( e.g. , during Maven build ) , so that : if I compile with choice == 0 , the Dog class does n't get compiledif I compile with choice == 1 , the Cat class does n't get compiledThe reason for this is that 'Cat ' and 'Dog ' classes have separate/different dependencies.Basically , the goal is to have one build for `` A is a Cat '' and another build for `` A is a Dog '' . When I package the JAR , the use case for running the JARwill be either for 'Cat ' or for 'Dog ' ( depending on the environment ) , never both 'Cat ' and 'Dog ' - so , there is no need for all dependencies to be in the project.What is the best way to achieve this ?"
"Given the following code , can someone please explain why the assertion returns true ? Despite having searched around countlessly , I have n't been able to get any appropriate answer for why this might be the case , and what the Java feature ( s ) cause this behaviour and what restrictions / requirements I would have in similarly creating an interface such as this ."
"I do know that loading a file in Java without specifying the encoding to use is platform dependant . But my question is about the text contained in the .java source files themselves : Is the encoding used for those files still relevant once compiled ? For example , if I have a test.java file on Windows which is Cp1252 encoded and contains : If I compile it using -encoding Cp1252 , what happens exactly to this text in the resulting .class ? Does the encoding still matter ? Or is the encoding standardized by Java when compiling ? Will the resulting .class be platform dependant ? Can I have a different result if I output this text on Windows , Linux , Solaris ? Can an encoding configuration on the server impact the rendering of this text in a way or another ?"
"I 'm reading about java streams API and I encountered the following here : The operation forEachOrdered processes elements in the order specified by the stream , regardless of whether the stream is executed in serial or parallel . However , when a stream is executed in parallel , the map operation processes elements of the stream specified by the Java runtime and compiler . Consequently , the order in which the lambda expression e - > { parallelStorage.add ( e ) ; return e ; } adds elements to the List parallelStorage can vary every time the code is run . For deterministic and predictable results , ensure that lambda expression parameters in stream operations are not stateful.I tested the following code and in fact , it works as mentioned : output Serial stream : 0 1 2 3 4 5 6 7 8 9 null null 80 90 50 40 30 00questions : The output changes every time I run this . How do I make sure that the stateful map operation is executed in order . map is an intermediate operation and it only starts processing elementsuntil terminal operation commences . Since a terminal operation isordered , why is a map operation unordered , and tends to change resultsevery time when working with stateful operation ?"
"Before this question is marked as duplicate , please read it . ; ) There are already several questions about coverage tools and such , however this is a bit different than the usual ones ( I hope ) .According to wikipedia there are several different kind of 'coverage ' variations that affect several different aspects of the term 'coverage'.Here a little example : As you can see , the test will have a coverage of 100 % lines , the assertion on the value of field ' c ' will cover this field and indirectly also cover field ' b ' , however there is no assertion coverage on field ' a'.This means that the test covers 100 % of the code lines and assures that c contains the expected value and most probably also b contains the correct one , however a is not asserted at all and may a completely wrong value.So ... now the question : Is there a tool able to analyze the ( java ) code and create a report about which fields/variables/whatever have not been ( directly and/or indirectly ) covered by an assertion ? ( ok when using getters instead of public fields you would see that getA ( ) is not called , but well this is not the answer I 'd like to hear ; ) )"
"Suppose I have a simple method like this for processing two lists : And suppose I want to call it like this : This wo n't compile , because javac is n't smart enough to figure out I was trying to create two lists of Integers . Instead , I have to write : How should I change the declaration of foo to allow the first version to work as well as the second one ?"
"I am wondering if there is a way to call .apply ( ) or .get ( ) on a lambda function directly in the same expression it is defined . The question came to mind when I wanted to initialize a variable which could be private , but I can not declare it final because the value is the return value of a function that can throw an exception . As an example , consider Files.size ( path ) : Now , if I want to use a default value for s if there is an exception , I have to add a try/catch , but this is a statement and not an expression : The obvious solution is to just declare a small helper function that wraps the try/catch , e.g . getFileSizeOrZero . I could also write a generic function that wraps this as a general case . This is nice and descriptive , but a more local function approach whould be better.In C++ , I used lambdas : so I wondering if this can be done in Java . The best I could come up with wasThis seems to be quite expressive , so I am hoping that there is some syntac that I do n't know enablingIt seems that the problem is there is no function call operator as in C++ , so there has to be a named member function which can be called ."
"I 've got some classes defined in java , similar to the code below.I 'm trying to access SomeValue through a derived java class , which is allowed in java , but not in kotlin.Is there a way to access the field through the derived class ?"
Decompiling the .class file of the following for-each loop produces interesting results.Source - Main.java : Result - Main.class : The file was decompiled with IntelliJ IDEA.Why was true assigned to the unused int ? Why was the var3 variable redeclared ? Is this a mistake on behalf of the decompiler ?
"|= I 'm curious to learn about this operator , I 've seen this notation used while setting flags in Java.for example : Does it perform some kind of bit manipulation ? What does this mark exactly do ? Are there any other well known signs similar to this ?"
"Alright , so Java does n't allow the following : This makes sense -- after all , what 's the point of generics if you 're just gon na box/unbox everything anyways ? What 's weird , is Java does allow this : Granted , this actually accomplishes more , though at some point , there would be a cast to get whatever Bar is working with . But if Java is okay with some specificity , why does n't it allow this ? : The only reason I ask is I 'm fixing to rely on the `` wildcard inside a class parameter of a constructor '' , and would seriously like to know the implications/intent behind it.EDIT : To clarify my question , on what grounds are these statements allowed/disallowed ? I 'm aware that `` Java does n't permit wildcards in constructors '' , but the question is , why all this weirdness ? Why are n't bounded wildcards allowed if nested wildcards are okay ?"
"I have been experimenting with JNI recently , in order to port some existing C++ libraries . As part of my testing I created a simple 'helloworld ' program . I am calling a simple native function in C++ , that just prints messages . I am a bit curious about some behavior I have observed while executing the program - it seems that all the native function messages/responses gets printed after Java System.out.print 's . Is this because native calls are executed after Java calls , or shall I just ignore this behavior ? The output looks like this : The native function is as follows :"
"I have below Strings Here I do n't know why concatenation of Strings , one created in the constant pool , and the other in the heap , results in creating the new String in the heap . I do n't know the reason , why does it happen ?"
Ok so from my stand point my code is pretty decent enough to get a passing grade but I am having trouble adding a simple refresh/shuffle button . NOT USING the aids of JOptionPane.Eclipse doesnt seem to recognize that I have created the button which doesnt make sense at all for me because its telling me something about a Node which the Button is in fact a node and it is created . But when I go into another class and add another button with the 3 line example it simply works . But when I move it to my homework program it simply gives me an error on the add method which breaks the whole program ! Says '' The method add ( Node ) in the type List is not applicable for the arguements ( Button ) '' Could anyone shed some light of where I could be going wrong in my code ? It has to be something along the a node to string conversion or something I just cant seem to figure it out . Willing to take any hints given to me but please DO NOT SOLVE THE PROBLEM FOR ME.Here is the question from the book basically . `` Write a program that lets the user click the refresh button to display four cards from a deck of 54 cards . `` I just need some help on the button thats all . I literally have the rest.Here is my code so far.I Have left the imports out as there is just too many .
"There are texts on my static layout , the layout is an item in a Recyclerview . The touch event of the Recyclerview class controls the pinch zoom to the text with ScaleGestureDetector . The zooming senario is , when the user action move the screen of Recyclerview , getting the screenshot of the recyclerview and displaying the image over the Recyclerview , and the user zooming to the image . When the action up , applying new text size that coming from scaling to the items . The new text size is should be same with when the zooming to image displaying text size . For this I use RelativeSizeSpan and float scaler value . I want to limit the total text size changing but it just does n't happen.The real problem is , the pinch zoom can be done more than once and it is necessary to collect the scaling that each of them because the pinch zoom reseting each action pointer up . ( mScaleFactor = 1.0f ) And the all of scaling should n't cross the specified limit . ( MAX_ZOOM and MIN_ZOOM ) Recyclerview : Adapter : ScaleListener :"
"I 'm trying to get the MAC address of bluetooth in my android device . So I 'm using the following method : The address returned is 02:00:00:00:00:00 . I 've seen questions and posts saying that it 's not possible anymore to get your MAC address in android unless your application is a System Application.So what if I really need to get the MAC address of my phone ? ? It 's impossible to do it or what ? Note : I know this question is asked lots of times on SO , but most of the answers are out of date ."
"I have a problem in Eclipse . Why is the value of oldList different in LogCat while I do n't change it between the tow Log command ? First I have an initialize method : and in the going method , I printed oldList twice : but the two results is different in LogCat : While i do n't change it between the two logs . I just change the value of list , not oldList . Why does the output change ?"
"I have the following program : I also set this system property : -Djava.security.managerMy question is the following - why sometimes I get `` End of the program ! '' written to the standard output , but sometimes I get Exception in thread `` main '' java.util.concurrent.ExecutionException : java.security.AccessControlException : access denied ( `` java.util.PropertyPermission '' `` os.arch '' `` read '' ) ? Should n't it always throw me this exception since the common pool 's threads are created without any permissions ? Should n't this behavior be always the same and do not vary throughout the different executions ? I am running this from my IntelliJ IDE using Zulu OPEN JDK 8.0.252 ."
"I 'm working an app that draws objects on SurfaceView under some parameters , defined by the user . I created the layout for the app , which involves an header , footer , input ( where user enters parameters to draw ) and a custom SurfaceView.Here 's the layout that simplified : The input layout generate dynamic views , based on parameters.Suppose I create a EditText inside input layout , so that the keyboard appears if you interact with that.This is before the keyboard shows up.This is when the keyboard is showing . Notice that the app layout is panned and the header layout got invisible.The problem occurs when the keyboard goes down . The header layout , which is invisible earlier , stays invisible all the time ( until the user interacts with the app ) .I turned on GPU overdraw to check the problem ( also setting SurfaceView background color to white ) , and here is the result.Before : After : Also , here 's my custom SurfaceView class ( I think that the custom SurfaceView is blocking the UI thread to draw the layouts that disappeared ) .Am I doing something wrong ? If so , can someone explain what it is ? I 'm glad if someone helps me out.Thank you.Note : Heres some extra information about the layout.Footer layout was originally had a AdView , which is not included in the layout.SYSTEM_UI_FLAG_HIDE_NAVIGATION and SYSTEM_UI_FLAG_FULLSCREEN flags was added to the activity and because of that , paddings were set in respective layouts to avoid overlapping.And , header layout has 2 Toolbar views , which one of them are seen in the images above ."
"I want to simplify existing code that is related to ImmutableList.of ( ) functionalityI alreaday tried to optimize the creation of the second List by eliminating the `` new ... '' constructor , but of course I couldnt extend a immutable list by calling .add ( ) ; Current code : Expected code like :"
"I 'm curious if it 's possible to use an annotation on a class or method that , during or before runtime , replaces comments with logging of the comment string . For example , if on android : would translate to something like"
in spring mvc ( 5.1.3 ) i 'm trying to do : and i get compilation error for the second line.from intellij ( kotlinc-jvm 1.3.11 ) : or from gradle ( kotlin 1.2.71 ) : the java source code of spring method is : intellij displays javadoc : so why the compiler still requires non-nullable type and how to bypass that requirement ?
"I have this code . Here the map is Map < Data , Boolean > I want to calculate mask using Java stream . Here I tried to but only get then filter list . Do n't know how calculate the mask here ."
"Assume that I have Foo.class in Java : And that I have Foo `` class '' in JavaScript : Also , assume that I have Java controller that returns instance of Foo.class as a response to a REST request . In my JavaScript ( AngularJS ) code the request is sent as : And it works . But is there a way to avoid passing every property from response to Foo constructor ( some sort of expecting the Foo object , or casting it into a Foo object ) ? I tried using Object.create ( Foo , response ) but I get TypeError : Property description must be an object : trueOf course there 's always a possibility of refactoring the JavaScript side Foo constructor into : But , that would require refactor of large portion of the codebase.Thanks for your time . I appreciate it ! PS : For those who wonder why do I need this : It 's not a problem with small classes like Foo , but some responses are instances of a much larger classes ( with over a dozen of fields ) , which are not under my control.EDIT : I accepted Chichozell 's answer simply because it requires the least amount of work . Robin 's and jonnyknowsbest 's answers also work , ( and will work for pure JavaScript , unlike Chichozell 's answer , which is AngularJS specific ) . Have n't tried Laurentiu L. 's answer , but looks like it should also work.Anyway this is A solution ( not THE solution ) : Big thanks to everyone who answered/commented/edited in this thread ."
"When I try to compile the following code : I get an incompatible type error : How can I achieve having a LinkedList which contains elements that are Lists with elements that extend Number ? To be clear , I 'm looking to add lists to numList in the following fashion : numList.add ( new LinkedList < Integer > ( ) ) ;"
"How can I have a type reference that refers to any object that implements a set of interfaces ? For example , I can have a generic type like this : Java : C # That 's how to have a class-wide generic type . However , I 'd like to simply have a data member which references any object that extends a given set of interfaces.Example : If it 's possible to have this sort of type syntax , how could I do it in both Java and C # ? I realize I can just create another interface that extends all desired interfaces . However , I do n't see this as optimal , as it needlessly adds another type whose sole purpose is to get around syntax . Granted this is a very minor issue , but in terms of elegance it 's a bit galling ."
"I have three fields that form a unique composite key on a table.I want to pass in 3 different arrays , where the index matches.is there one sql statement that will return all three rows ( assuming they exists ) , just combining via in wo n't work to due to `` false positives '' : database oracle , but via hibernate hql , so ansi preferred if possible ?"
"What are some reasons why writing the following piece of code is considered bad practice ? To me , picking an arbitrary value to sleep is not good practice , and I would use a BlockingQueue in this situation , but I 'd like to know if there is more than one reason why one should n't write such code ."
"Suppose I have the following code : Assuming that the data is not referenced anywhere else in the program , is the JVM smart enough to allow the data to be garbage collected while the long process is still running ? If not , will addingbefore the long process allow this to happen ?"
"An algorithm that goes through all possible sequences of indexes inside an array.Time complexity of a single loop and is linear and two nested loops is quadratic O ( n^2 ) . But what if another loop is nested and goes through all indexes separated between these two indexes ? Does the time complexity rise to cubic O ( n^3 ) ? When N becomes very large it does n't seem that there are enough iterations to consider the complexity cubic yet it seems to big to be quadratic O ( n^2 ) Here is the algorithm considering N = array lengthHere is a simple visual of the iterations when N=7 ( which goes on until i=7 ) : And so on..Should we consider the time complexity here quadratic , cubic or as a different size complexity ?"
I 've implemented an algorithm using single-threaded Java code . When I run my program using JIT compilation enabled it saturates all 8 cores on my machine . When I run the same program using the -Xint JVM option to disable JIT compilation it runs on a single core as expected.This is my Java version info : Why does it seem like my code gets parallelized and where can I find more information on when HotSpot can parallelize code ?
"In this program , the third string never gets printed . Why ? ( This Java program was run on Eclipse Indigo on Ubuntu 10.10 . )"
"In Function.class from Java8 , we have : Compose accepts : Rather than : Is there any plausible situation in which the fact that `` V '' is lower bounded matters ?"
"Possible Duplicate : How to simulate constructor race conditions ? How to demonstrate race conditions around values that are n't published properly ? I got the following code from 《java concurrency in practice》 : I am just wondering the condition n ! = n , is this could be true under a certain circumstance？"
"Please consider the following code.The program will print 0,4.What I understand by this is , the method to be executed will be selected depending on the class of the actual object so in this case is Child . So when Base 's constructor is called print method of Child is called so this will print 0,4.Please tell if I understood this correctly ? If yes , I have one more question , while Base class constructor is running how come JVM can call Child 's method since Child 's object is not created ?"
"I am trying to combine JavaFX , Spring Boot and VLCJ using JPMS modules . Without Spring Boot , things work fine with this in my module-info.java file : However , if I now bring Spring Boot in the mix , I updated my module-info.java to include the Spring related modules : However , I get this exception at runtime : com.sun.jna.Native is a class that is part of the dependency tree as it is a transitive dependency of VLCJ : I also tried adding requires jna ; in my module descriptor , but that does not change anything ."
"Use Bean Validation API for validate object 's for save in DB by Hibernate.With english letters all fine : When i wrote this : It 's does n't work , take error about wrong enter data ( Имя автора только из букв ) But how add russian letters in regexp ? Yes , problem in Spring form . When remove regexp and enter russian text , it 's write in database something like this ÐÐµÑÑÐ¾Ð²"
"Ran across something that 's got me puzzled . Why am I not forced to declare `` throws Exception '' in the method signature here ? Now , if I enable the commented out line , it does force me to declare it which is what I 'd expect . I suppose this qualifies more in the Java puzzle category and it 's really bugging me that I ca n't figure it out : )"
"I 'm having a bit of trouble finding the cause of my problem . Functionality of the program is as follows ... the Server allows multiple users to log in ( connect to the server ) and edit the same string variable named text with the starting commands of either rep : ( for replace the whole string ) or app : ( to append to the string ) . When the client connects , they have to enter a command . Whatever the command is , it gets echoed back to them in the same window ( running the server and client simultaneously in different CMD windows ) . So if they enter hello , the echo would be ECHO : hello.If the command entered is rep : tight , the text string variable in the server should change to contain tight and should then be returned back/ displayed back in the client cmd window as tight - without the ECHO.If the command after that is app : rope , the text string variable in the server should change to contain tightrope and should be returned back/ displayed back in the client cmd window as tightrope . In addition , the user can not enter any value under 4 characters and thus SynchClient should display an error message and prompt the user to enter another value.The issue I 'm having is the fact that my echoed values are not changing after every new input . I get the return of the first entered command and that 's it and I 'm struggling to get my head around it all . EDIT : Might be best if you ran the program yourself.Here is what my SynchServer.java file looks like : and my SynchClient.java file : EDIT 2 : My Working Solution : Server : Client :"
"I recently started writing a generic object mapper for a project and ran into something I do n't quite understand . Given the following : I get the following compilation error : I ca n't seem to figure out a way to properly cast t to make this compile . What am I missing ? Using JDK 1.6.EDIT : This is not an academic question . I 'm trying to write a mapper from hibernate objects to their corresponding DTO to be passed around in the REST layer . The assumption is that for each ORM object Foo , there might exist a class FooDTO that has a constructor that takes an instance of Foo as a parameter . The generic class that maps Foo to FooDTO will encapsulate this assumption and throw appropriate exceptions if FooDTO does n't exist or does n't have the proper constructor : This seems to break if I pass a generic object class to create.Note that my actual implementation has all FooDTO classes extends from a generic super class , i.e. , the signature of Mapper is actually something like Mapper < Foo , DTO < Foo > > . I do n't think that 's relevant here.EDIT 2 : Actually the suggestion of changing the line G < ? > t = create ( o.getClass ( ) ) ; to G < Object > t = ( G < Object > ) create ( o.getClass ( ) ) ; worked in this context.Unfortunately I did n't realize that the fact that my class is more complex actually has an impact . Here 's a more complete example ( I apologize for the piecemeal question ) : In this case the object Class < S > is created using reflection and some conventional location for objects of that type . That part works fine and should be irrelevant to this discussion . The error I am getting now is the following : And if I change the incriminated line to : I get a similar error : Once again , I apologize for the piecemeal information . I am sorting through this while I am writing ."
"I 'm trying to write a test for this class its called Receiver : Here is the test : Note : receiver is the instance of Receiver class ( real not mock ) , processor is the instance of Processor class ( real not mock ) which processes the person ( mock object of People class ) . GetId is a String not int method that is not mistake . Test fails : unexpected invocation of person.getId ( ) I 'm using jMock any help would be appreciated . As I understood when I call this get method to execute it properly I need to mock person.getId ( ) , and I 've been sniping around in circles for a while now any help would be appreciated ."
"So I was reading up on generics to re-familiarize myself with the concepts , especially where wildcards are concerned as I hardly ever use them or come across them . From the reading I 've done I can not understand why they use wildcards . One of the examples I keep coming across is the following.Why would you not write this as : Another example from the oracle website : Why is this not written asAm I missing something ?"
"recently I went through the inheritance concept . As we all know , in inheritance , superclass objects are created/initialized prior to subclass objects . So if we create an object of subclass , it will contain all the superclass information . But I got stuck at one point.Do the superclass and the subclass methods are present on separate call-stack ? If it is so , is there any specific reason for same ? If it is not so , why they do n't appear on same call-stack ? E.g.Then does the above 2 methods i.e play1 ( ) and play2 ( ) appear on separate call stack ? Thanks ."
"If I have class structure like that And if i create many instances of Foo , how does static field in class Bar acts ? I mean , it is the same instance for all Foo objects or for each instance there is different static field ?"
"I have the code for a general case : The results are : I know there is a priority chain from high to low in Java : My understanding is below : In this code : An upcast happens . A is a parent class reference and B is a child parent class reference . When the code is compiled and run , the child parent class reference determines how the method is chosen . In this case , show ( A ) in class B is chosen.There is also a requirement that polymorphism has to meet : The method that is chosen should be included in the parent class definition.Could someone give a more detailed explanation on the result shown ?"
"After calling method , in below code , Below is the stack frame that I can imagine for nth ( ) method after 4 recursive calls.My question : As per the above diagram , Assuming the instance of being in activation record S5 with value of pos as 1 , I would like to understand , What happens , when java executes return this ? Does java assign the value of this in S5 as value of this in S4 ? Because there is no assignment statement ( as such ) in else { } block of nth ( ) method.Note : Please ignore Java coding style , as am new learner ."
Following is an example invocation of the above methodCan this same functionality be implemented using a Java 8 FunctionalInterface . I have tried creating a BiPredicate but am getting compiler errors when I try this .
"So , I was trying to write a method to answer one of my previous questions : How can I find out if an arbitrary java.lang.Method overrides another one ? To do that , I was reading through the JLS , and there are some parts that seem to be missing in one case.Imagine you have the following classes : In this case , it is quite obvious that B.foo overrides A.foo , however I do n't understand how this case fits the specification.Regarding method overriding , the JLS §8.4.8.1 states : An instance method m1 , declared in class C , overrides another instance method m2 , declared in class A iff all of the following are true : C is a subclass of A . The signature of m1 is a subsignature ( §8.4.2 ) of the signature of m2 . Either : m2 is public , protected , or declared with default access in the same package as C , or m1 overrides a method m3 ( m3 distinct from m1 , m3 distinct from m2 ) , such that m3 overrides m2 . Obviously points 1 and 3 are satisfied in our case . Let 's look a bit deeper in the JLS what subsignature means . The JLS §8.4.2 says : Two methods have the same signature if they have the same name and argument types . Two method or constructor declarations M and N have the same argument types if all of the following conditions hold : They have the same number of formal parameters ( possibly zero ) They have the same number of type parameters ( possibly zero ) Let A1 , ... , An be the type parameters of M and let B1 , ... , Bn be the type parameters of N. After renaming each occurrence of a Bi in N 's type to Ai , the bounds of corresponding type variables are the same , and the formal parameter types of M and N are the same . In our case , point 1 is clearly true ( both have 1 argument ) . Point 2 is a bit more muddy ( and that 's where I 'm not sure what the spec means exactly ) : Neither of the methods declare their own type parameters , but A.foo uses T which is a type variable that paramterizes the class . So my first question is : in this context , do Type variables declared in the class count or not ? Ok , now let 's assume that T does n't count and that therefore point 2 is false ( I do n't know how I could even apply point 3 in this case ) . Our two methods do not have the same signature , but that does n't prevent B.foo from being a subsignature of A.foo . A little further in JLS §8.4.2 it says : The signature of a method m1 is a subsignature of the signature of a method m2 if either : m2 has the same signature as m1 , or the signature of m1 is the same as the erasure ( §4.6 ) of the signature of m2 . We have already determined that point 1 is false.The erasure signature of a method according to JLS §4.6 is a signature consisting of the same name as s and the erasures of all the formal parameter types given in s. So the erasure of A.foo is foo ( Object ) and the erasure of B.foo is foo ( String ) . These two are different signatures , therefore point 2 is also false , and B.foo is not a subsignature of A.foo , and therefore B.foo does not override A.foo . Except it does ... What am I missing ? Is there some piece of the puzzle that I 'm not seeing , or is the spec really not complete in this case ?"
"I 'm working out this problem from Programming in Java book-site ( for practice , not a HW.. Q15 in http : //introcs.cs.princeton.edu/java/13flow/ ) : Find the sum for the harmonic series 1/1 + 1/4 + 1/9 + 1/16 + ... + 1/N2 . There are 4 variants of for loops , some of them are supposed to give the right answer . My expected answers are in comments , and the actual results are below . RESULT : QUESTION - Why do I geta ) Divide by zero error ? b ) Infinity result in case of for loop 3 ?"
"I have a date converter function like : It works fine for Arabic dates like ٢٠١٩-٠٤-١٥ , but when I pass a normal date like 2019-07-31 , it throws an exception because the formatter is of a different type : I do n't have control over the date passed , as it is passed by the user.How can I use the same function to parse both dates ?"
"In attempting to make some Swing code more readable , I have made an InlineGridBagConstraints class which looks like this : The intention is to change this kind of code : ... with something much easier to understand and read , like this : However , the above code is n't working . When I attempt it , all of the components occupy the same area in the center of the JPanel and overlap one another . They are not spaced out in the GridBagLayout . If I use the uglier version with the regular GridBagConstraints , however , it works perfectly as intended.I have tried typecasting the InlineGridBagConstraints into GridBagConstraints , thinking that perhaps that was an issue ( even though it should n't be ) , but that did n't help at all.I 've run out of ideas . Does anyone know why this is occurring or what the key difference between the first ( standard ) and the second ( inline ) implementations is ?"
"I realize there are special classes for which this general question does n't apply , but for the simple ones , when we have multiple constructors , and the parameters of one are a clean subset of another , is it better to call the constructor with the longer list from the one with the shorter list , or vice versa ? Why ? Or"
"We have a problem with configuring lambdaj to work with Joda Time . Since LocalDate is a final class , Lambdaj needs to be initialized like following : ( see bug 70 ) Since we need this configuration to be applied virtually everywhere , we are short of options on how to implement this . Our application is a web application based on Spring and Wicket.I have come up with three different options:1 . Static initialization block in the core maven moduleSince the core module is included in every other module , all modules would include the class . The remaining question is that do static blocks always get initialized even if there are no references to the target class ? Example2 . An initializing bean in applicationContext.xmlDownside : never gets initialized for non-Spring testsExample : In applicationContext-core.xml ( included in every module ) 3 . A call to a initializing method in the Wicket application classDownside : never gets initialized outside the web moduleMy question is : which is the preferable way to achieve this ?"
"I just found out that an inner class can access another inner class 's private member like this : Method foo of TestInner2 can access the private member mInt of TestInner1.But I have never see this case before . I do n't know the meaning of letting code in TestInner2 can access to the private member of TestInner1.I was searched about inner class in google , none of the search results shows that inner class have this feature . I also look up to The Java Language Specification , but it still not mention about that ."
"Stream.collect ( Collector < ? super T , A , R > collector ) Collectors.groupingBy​ ( Function < ? super T , ​ ? extends K > classifier ) Can someone please explain the generics T , K and R ? I 'm really confused how this kind of method can conform to the signatures above : I can not see how collect can return Map < String , List < Student > > given the signature above . Can someone explain how to read this signature ?"
"I 'm having trouble understanding the behavior behind the below code . Any help in understanding would be appreciated.The above code will fail with If I were to remove the second argument to each method , both bind calls would execute the first methodThe above will print `` clazz '' twice ."
"Am I missing something ? The source is short , ready to run and commented for better understanding . I need to know what I 'm doing wrong.In the main function I run 20 times both methods to compare . You can copy the two sections of the code and run it"
I have some classes like below : Now I have a list of type A . What I want to do is to get a list containing other lists of type D like this : I have tried somthing like this using flatMap : But this collects all the elements of type D into a list : Can someone help please ?
I was using javap to study the code produced for one of my classes and noticed the following output : What is the meaning of those `` bogus '' type/variable entries in the locals table ? How are they caused ? What is their impact on the resulting code ? The class file was produced using the Eclipse 3.7 compiler and javap came from OpenJDK-1.6b22 .
"I am new to Java 8 , just want to ask what is the difference in performance between the two code snippets below.I know both work , but I am wondering why the Java team created Consumer : :andThen method when I can use the normal approach.//Approach 1//Approach 2IMO , approach1 is better , why approach2 again ? If both are same , then why andThen ( ) method is created ? I guess there must be reason they 've created.In other words , when exactly is the andThen ( ) method really helpful ?"
please consider following code : output : java : m ( java.lang.Number ) in inheritanceTest.B can not override m ( java.lang.Number ) in inheritanceTest.A return type int is not compatible with voidI know that static methods doe n't involve in polymorphism hence I infer that overriding is impossible for my code . This compiler message is strange for me.As I understand that overriding is part of polymorphism . I prepare for scjp and I am afraid make mistake in familiar question.Please clarify this issue . expected behaviour for me - message about overloading errorP.S1.I have read top popular question about static overridden and I did n't found answer ( P.S2.According Pshemo answer : this code : outputs : For me these situations are same . But compiler error is different - strange .
Is it possible to add the numbers 1 to n recursively in Java with one return statement ? How would you change the standard solution :
"Hi all I was wondering if there is a way to implement this method without casting to a wider data type ( e.g . long , double , etc ) ? For example , we could implement one for the method CanAdd ( without casts ) as such : Implementation language is Java , though of course this is more of a language-agnostic problem.I was thinking if there 's some logic we can employ to decide if a * b fits the range of an integer without casting it to a wider data type ? Solution ! based on Strelok 's comment :"
"I 'm trying to write my own ServerAuthModule , to use a custom login system . If I understood everything right , what happens is that the container calls the validateRequest method for every incoming request , and that my SAM will check for credentials , and tell the container the username and groups of the user ( if the credentials are right ) via the CallbackHandler . My problem now is , that when a user logs in , I do n't know to which groups the user belongs . I can only check whether the user is in a given group . Is it somehow possible to give the container a method with which it can check whether a user is in a given group , instead of giving it an array with groups in the validateRequest method ?"
I have some text that is only being parsed by a DateTimeFormatter when the parse style is Strict - and not when it 's Lenient.This seems like the opposite behaviour to what I 'd expect ? Example : Output :
"I have a reproducible test case : Using Java 8 , update 51 ( Oracle JDK ) . This ca n't be compiled , using both IntelliJ and javac.IntelliJ output : javac output : Now what is strange , is that removing return ; or the Consumer will fix the error . Is this a java bug , or is there something of the language design that I am missing here ? Edit : This is not a duplicate of How can a constructor return a value , this is actually a constructor and is n't about the return value of constructor but variable initialization ."
"Java 9 introduced the concept of modules , which do not explicitly replace jar files , but the old -- classpath option seems to be gone.The command javac -- help no longer mentions the classpath.I am trying to compile some student work against JUnit : But I get a variety of errors , depending on what I try . For the example above : My Java version is : I 'm not trying to use a module , just a .jar file that I could include in IntelliJ by specifying a libs folder.Edit : My real problem was that I was not including the correct jars . Compiling against IntelliJ 's default JUnit5 configuration worked :"
"When you load a bitmap from the resources like so : if the bitmap is reduced in quality by Scaletype , does it still save the whole original bitmap ? ( I would guess yes , because one could change the Scaletype on the fly and you would want to have the full quality . ) if you load the same resources ID into multiple ImageView 's , is there only one bitmap stored in memory ? would it be good practice to scan through the view hierarchy and manually recycle these bitmaps ( by extracting the BitmapDrawable from the ImageView ) in onDestroy or can I be sure that this is done in time by the system ?"
"I have found some strange code , where I said `` This is never called , because it would throw a class cast Exception '' . Well the code gets called and its working.Can anybody explain me : Why is this working ? The method getZipList ( ) is defined to return a List of Strings , but the internal Logic is returning a List with different objects . Also inside the main method a List of Strings is expected as 'list ' but the list contains something different.Thank you very much for your explanations ."
"So I 'm currently working on a program that needs to be able to deal with a large amount of data stored in arrays and it needs a method to clear out everything in the array . For the below example , would this be a bad thing to do memory wise ? I know the garbage collector would eventually clean it up for you but is there a reason why another method ( e.g . a for loop and setting each value within to null ) might be better than this ? Otherwise , doing this will allow this operation to run in O ( 1 ) time vs a for loop which would take O ( n ) ."
"How would you get a reference to an executing class several stack frames above the current one ? For example , if you have : Is there a way to get the value that would be retrieved by using 'this ' in foo ( ) while the thread is executing bar ( ) ?"
"I have been trying to figure out a way to tag several methods from my base class , so that a client class can call them by tag . The example code is : A client class from a main ( ) method will call each method of Base through a random instruction sequence : Now I wish to get rid of the switch statement altogether from the Client object . I am aware of the technique to replace switch by polymorphism , but would like to avoid creating a set of new classes . I was hoping to simply store those methods in an appropriate data structure and somehow tag them with a matching character from the sequence.A map could easily store objects with value/key pairs which could do the job , ( as I did here ) , or the command pattern , but since I do n't want to replace those methods with objects , is there a different way perhaps , to store methods and have a client selectively call them ? Any advice is appreciated"
"Determine the output : I know that the answer is 1 , and I 'm guessing that it 's because since the print function is n't overridden in the ChildClass , it has the same definition as it has in the ParentClass . Why is n't the ID the one given in child class since Java uses late binding ?"
"OK when doing a deep copy obviously references should not be copied . However , if the object being copied contains objects that themselves are references to to the same object should that be maintained or should the data just be copied.ExampleI can see arguments for both but I am wondering what the consensus was ."
"I have a simple java method that returns colors based on the HSB value converted from an RGB . It works ( needs some tweaking ) , but I use a series of else if and nested if statements to return the data I want . I had heard that HashMaps and String Factories were better , but I could n't see how these worked with ranged data . Is there a better solution that works with ranged data like this ? Snippet :"
I have two similar methods . One of them prints something and one of them save somethings . As you can see there are a lot of duplicate code . How should I refactor it and remove this duplication ? UPDATE : Code was updated to solve problem when method are not exactly similar
"Consider this HashMap extention ( generates an instance of the V class when calling `` get '' if it 's null ) The usage of it is something like this It seems to me redundant a little to supply `` Section '' twice , once as a generic type , and also supply it 's class . I assume it 's impossible , but is there to implement HashMapSafe , ( keeping the same functionality ) so it can be used like this ? Or like this ? :"
"I have a list of elements , and want to extract the value of the fields ' propery.Problem : all elements should have the same property value.Can I do better or more elegant than the following ? Is this possible directly using the stream methods , eg using reduce ?"
I 've set 1500 as initialTimeoutMs in DefaultRetryPolicy as below but it does n't consider the timeout : I disconnected the WiFi on my device to test it 's timeout and I saw these times in the Logcat : It took more than 20 seconds while I expected to catch either onResponse or onError after 1.5 seconds ! ! !
Is below interface a valid functional interface in Java 8 ? Why does n't it give me a compile time error ?
"I am studying for the Java OCP certificate . I am taking mock exams to prepare.Example program : the authors of the OCA/OCP Jave SE 7 Study Guide maintain that the execution : will produce the outputHowever , when I run the code from Eclipse or test it on an outside source , I getAm I missing something here , or is it a mistake by the authors of the study guide ? I am adding the actual question from the book below for reference.Question from the BookAnswer"
"Here is my class : When I use maven to build , it will give a compilation error : [ ERROR ] /Users/finup/Desktop/a/importtest/src/main/java/pepelu/ImportTest.java : [ 8,6 ] can not find symbolAfter changing the import order to : I got a successful maven build.I searched for documents , but can not find an explain for this . Could anyone please explain how import works in this case ?"
"Say I am making a command-line interface . I want to print out a string , and then change it . For example , when you run the program , it prints outA few seconds later , though , the message gets changed to : Is this possible ? Cross-OS would be preferable ."
Here is the SQL version for the input and output : As 5 is non repeated.How do i implement it using JAVA 8 streams ? I tried below but obviously it is giving wrong result
This way of initializing static final variable A works okay . This way gives compile error `` Can not assign a value to final variable ' A'.Why ?
"After an update of our application we now use the Camera2 API , unfortunately the preview is streched on our test device : Samsung SM-J330F/DS , Android-Version 8.0.0 , API 26Because we do n't experience this problem with Googles Camera2Basic project on the same device , we tried to adjust our project to use the same the implementations of the preview . Currently we just ca n't figure out the exact reason for the different previews between both projects.This is expected : In contrast to the Camera2Basic project our RelativeLayout is created programmatically in the Activity class and the AutoFitTextureView is then added to this object : The implementation of AutoFitTextureView is the same as in the Camera2Basic project . Later in the Camera2 class after setting the preview in setUpCameraOutputs ( ) to 640x480 px ( a resolution that should be supported by all devices ) we call setAspectRatio ( width , height ) on mPreview : Note : Also on newer devices ( like Honor 10 ) the preview looks fine ."
"I have a block of code that I am having an issue reducing the cyclomatic complexity of . Because of the multiple conditions that have to match , I am not sure the best way to break it down further . Complicating matters is that in 2 of the cases a new object is created , but not in the third ( it calls out to another method ) . This is the pseudocode :"
"I have the following code.. Now when I run this program , the OPs are : My question : how is it that the time taken for execution is `` 0 '' ? ? .. If the compiler does some optimization , then why does n't it do it always ? . I think the `` 0 '' is because that statement wasnt executed by the compiler ."
"During a 45 minute technical interview with Google , I was asked a Leaper Graph problem.I wrote working code , but later was declined the job offer because I lacked Data structure knowledge . I 'm wondering what I could have done better . The problem was as following : '' Given an N sized board , and told that a piece can jump i positions horizontally ( left or right ) and j positions vertically ( up or down ) ( I.e , sort of like a horse in chess ) , can the leaper reach every spot on the board ? `` I wrote the following algorithm . It recursively finds out if every position on the board is reachable by marking all spots on the graph that were visited . If it was not reachable , then at least one field was false and the function would return false.Now , later it was pointed out that the optimal solution would be to implement Donald Knuth 's co-prime implementation : http : //arxiv.org/pdf/math/9411240v1.pdfIs this something that one should be able to figure out on a 45 minute technical interview ? ? Besides the above , is there anything I could have done better ? edit : - I enquired about starting position . I was told starting at 0,0 is fine.edit2 Based on feedback , I wrote a while-loop with queue approach . The recursive approach runs into a stack-overflow when n = 85 . However , the while loop with queue method below works up to ~n = 30,000 . ( after that it runs into heap-issues with memory exceeding GB 's ) . If you know how to optimize further , please let me know ."
"I 've been using several methods of calling methods . More recently , I 've been using a static instance of a class , I do believe that 's the proper term for it ( please correct me if I 'm wrong ) . Which is better ( or even suggest ideas ) , and why ? The first way I was the simple old static methods.The second way ( someone said this is an improvement ) ."
"I 've got a rather large java ee application with a huge classpath doing a lot of xml processing . Currently I am trying to speed up some of my functions and locating slow code paths via sampling profilers.One thing I noticed is that especially parts of our code in which we have calls like TransformerFactory.newInstance ( ... ) are desperately slow . I tracked this down to FactoryFinder method findServiceProvider always creating a new ServiceLoader instance . In ServiceLoader javadoc I found the following note about caching : Providers are located and instantiated lazily , that is , on demand . A service loader maintains a cache of the providers that have been loaded so far . Each invocation of the iterator method returns an iterator that first yields all of the elements of the cache , in instantiation order , and then lazily locates and instantiates any remaining providers , adding each one to the cache in turn . The cache can be cleared via the reload method.So far so good . This is a part of OpenJDKs FactoryFinder # findServiceProvider method : Every call to findServiceProvider calls ServiceLoader.load . This creates a new ServiceLoader each time . This way it seems that there is no use of ServiceLoaders caching mechanism at all . Every call scans the classpath for the requested ServiceProvider.What I 've already tried : I know you can set a system property like javax.xml.transform.TransformerFactory to specify a specific implementation . This way FactoryFinder does not use the ServiceLoader process and its super fast . Sadly this is a jvm wide property and affects other java processes running in my jvm . For example my application ships with Saxon and should use com.saxonica.config.EnterpriseTransformerFactory I 've got another application which does not ship with Saxon . As soon as I set the system property , my other application fails to start , because there is no com.saxonica.config.EnterpriseTransformerFactory on its classpath . So this does not seem to be an option for me.I already refactored every place where a TransformerFactory.newInstance is called and cache the TransformerFactory . But there are various places in my dependencies where I can not refactor the code.My questions is : Why does FactoryFinder not reuse a ServiceLoader ? Is there a way to speed up this whole ServiceLoader process other than using system properties ? Could n't this be changed in the JDK so that a FactoryFinder reuses a ServiceLoader instance ? Also this is not specific to a single FactoryFinder . This bahaviour is the same for all FactoryFinder classes in the javax.xml package i have looked at so far.I am using OpenJDK 8/11 . My applications are deployed in a Tomcat 9 instance.Edit : Providing more detailsHere is the call stack for a single XMLInputFactory.newInstance call : Where most resources are used is in ServiceLoaders $ LazyIterator.hasNextService . This method calls getResources on ClassLoader to read the META-INF/services/javax.xml.stream.XMLInputFactory file . That call alone takes about 35ms each time . Is there a way to instruct Tomcat to better cache these files so they are served faster ?"
"I came across this question today , and am not sure whether they 'll be closed , since it 's wrapped , or if it is still necessary to close all streamsindependently ."
DateTimeFormatter is not giving correct format for Dec 30 and 31 2018 as per following snippet . Is this the expected behavior or is there a bug with DateTimeFormatter ?
"I 'm developing a service that monitors computers . Computers can be added to or removed from monitoring by a web GUI . I keep reported data basically in various maps like Map < Computer , Temperature > . Now that the collected data grows and the data structures become more sophisticated ( including computers referencing each other ) I need a concept for what happens when removing computers from monitoring . Basically I need to delete all data reported by the removed computer . The most KISS-like approach would be removing the data manually from memory , likeThis method had to be changed whenever I add features : - ( I know Java has a WeakHashMap , so I could store reported data like so : I could call System.gc ( ) whenever a computer is removed from monitoring in order have all associated data eagerly removed from these maps.While the first approach seems a bit like primitive MyISAM tables , the second one resembles DELETE cascades in InnoDB tables . But still it feels a bit uncomfortable and is probably the wrong approach . Could you point out advantages or disadvantages of WeakHashMaps or propose other solutions to this problem ?"
"We are using Elasticsearch 0.90.7 in our Scala Play Framework application , where the end of our `` doSearch '' method looks like : where ListenableActionFuture extends java.util.concurrent.Future , and ListenableActionFuture # actionGet is basically the same as Future # getThis all works fine when we execute searches sequentially , however when we try to execute multiple searches in parallel : we 're sometimes ( less than 1 or 2 % of the time ) getting unexpected timeouts on our scala futures , even when using an extremely long timeout during qa ( 5 seconds , where a search always executes in less than 200ms ) . This also occurs when using the scala global execution context as well as when using the Play default execution context.Is there some sort of unexpected interaction going on here as a result of having a java future wrapped in a scala future ? I would have thought that the actionGet call on the java future at the end of doSearch would have prevented the two futures from interfering with each other , but evidently that may not be the case ."
"Why does this code compile with explicit static field notation on the right hand side , but not without ?"
"This question is related to but it is different in understanding how the code actually works . More precisely , I do not understand how numberOfTrailingZeros ( int i ) in java 8 here compute the final result . The code is as followsNow I understand the purpose of the shift operations from 16 to 2 , but wo n't n have already the number of trailing zeros by the last shift operation : That is I do not understand the purpose of this particular line why do we need that when n has already the right value ? Can anyone give a detailed example of what is going on ? Thanks !"
"Note : I 'm not asking the age-old question about why outer variables accessed in an anonymous class need to be declared final.When creating an anonymous class in Java , you can add additional methods if you desire : However , Java also allows you to declare the additional methods as final : My question is : Are n't those methods already effectively final , and does adding the final keyword have any effect ?"
I am trying to understand Java 's String class but I am having a hard time understanding the situation described below.Consider the following example snippet : If I use bool = y == x.intern ( ) ; the variable bool will equal true.My question is : When I make a declaration like this : x 's value would be false but when I make a = ( b + `` ey '' ) .intern ( ) ; x 's value will be true.Why wo n't x = true in the second example ? Is it because the declarations in the first example not alike ? If yes what are the differences ?
Could you please explain why below work in a way is does.It seems to me the java type system is weak to infer the type of R
"By analyzing a problem I 'm trying to understand this strange stack trace : Based on the stack trace , AbstractQueuedSynchronizer calls Apache HTTP client . How could this happen ? We are running Oracle Java 1.8 on Amazon LinuxAnd I have a lot of threads with exactly the same stacktrace . Anytime.Later Edit : renamed from impossible to Inconceivable as suggested"
I have a string like that ( $ character is always surrounded with other characters ) : I want my string method to put a \ in front of $ and remove newlines : I tried this but it does n't put \ character :
"Based on the description of SerialVersionUID here : https : //docs.oracle.com/javase/8/docs/platform/serialization/spec/class.html # a4100 , it seems necessary to always include SerialVersionUID in any classes you create so that a JVM used for serialization and a different JVM used for deserialzation wo n't automatically assign their own SerialVersionUIDs , which have potential to be different from one another because of differences in the JVM . This works well for controlling deserialzation of my own classes , but what if I want to ensure that classes in the standard library serialized with JVM A can be deserialized by JVM B ? HashMap defines a SerialVersionUID . But : Since HashMap lives in the java standard library , am I provided any sort of guarantee that if I serialize this HashMap with JVM A that JVM B will be able to deserialize it ? Namely , is JVM B allowed to specify a different SerialVersionUID than JVM A , at least if B is just a minor version upgrade from A ? If it 's not guaranteed for standard library classes , does using SerialVersionUID only really ensure proper deserialization for your own classes that never touch the java standard library ? For example , a class that looks like this : would be prone to failure because deserialization depends on HashMap having the same SerialVersionUID , which could be different in different JVMs , right ?"
"I 'm working on a transcript project for school , and it 's compiling as if there 's an anonymous inner class , but I have n't written any . Why is javac compiling an inner class without there being any inner classes ( including enums or exceptions ) written ? The file in question is SemesterInfo $ 1.class , compiled from SemesterInfo.java . I 've seen similar questions where there actually have been inner classes , but there are none here . I throw one exception from the Java library ( UnsupportedOperationException ) , but it 's already defined inside the library ( java.lang.UnsupportedOperationException ) and is therefore not anonymous or an inner class . My directory is as follows : SemesterInfo.javaCourseInfo.javaAddResult.java"
"I 'm trying to solve an interview problem I was given a few years ago in preparation for upcoming interviews . The problem is outlined in a pdf here . I wrote a simple solution using DFS that works fine for the example outlined in the document , but I have n't been able to get the program to meet the criteria ofYour code should produce correct answers in under a second for a10,000 x 10,000 Geo GeoBlock containing 10,000 occupied Geos.To test this I generated a CSV file with 10000 random entries and when I run the code against it , it averages just over 2 seconds to find the largest geo block in it . I 'm not sure what improvements could be made to my approach to cut the runtime by over half , other than running it on a faster laptop . From my investigations it appears the search itself seems to only take about 8ms , so perhaps the way I load the data into memory is the inefficient part ? I 'd greatly appreciate an advice on how this could be improved . See code below : GeoBlockAnalyzerGeoResultGeo"
"I have a method params is a list which is lager than 50000 items ; Limited to the business logic , the list must less than 30000 , so that I have a method to split this array to 2d array before the logicThis is my current solution : I would like to create an annotation on top of the method instead of many duplicate code ( check and spite each time ... ) Sorry for my bad english , I have draw a diagram : method called > spite array > business logic > collect all result > return"
"In a Java loop , is it more efficient to use a boolean flag instead of an if statement ? Take a look at these two bits of code.Using a flag : Using an if statement : The method with the if statement is of course faster if isSomething ( ) return true on the first iteration . But , is it faster on average or does the branching slow it down enough that it is slower ? Also , is the situation different if the loop is faster ? Here I used a for-each loop for simplicity , which I believe is slower than iterating over an array with a counter ."
"I have just thrown everything I know about Java optimisation out the window . I have the following task : Given a 2D array representing a playing field and a position on the field , fill another array with the number of steps a player can make to get to every other position in the field . The player can move up , down , left and right . For example , the first neighbours will be all 1 's , with the diagonals being all 2's.For the first attempt , I tried a simple 4-way floodfill algorithm . It wad dreadfully slow.Secondly , I decided to get rid of the recursion and use a simple Queue . It worked lovely and gave a huge speed-up ( very roughly 20x ) . Here is the code : Now , `` common-sense '' told me that the queue operations with a static array and an int-pointer would be faster . So I removed the Queue and use a standard int [ ] array . The code is identical , except for the queue-like operations . It now looks like this ( As you can see , I use to live by the C-side : ) ) : When I ran this `` optimised code '' it was significantly slower than using the Queue and only about twice as fast as the recursive technique . There is also hardly any difference when I declare the array as an instance variable . How is this possible ?"
"I am reading through the following section in the Java tutorial : http : //docs.oracle.com/javase/tutorial/java/generics/capture.htmlIt starts off by saying that the following code produces an error due to the fact that a capture can not be converted to an Object so the set method can not confirm that Object is of type capture # 1 : I somewhat understand the reasoning behind this . i.get returns an Object , and the compiler can not determine if the object is of type capture # 1 so it can not match it to the 2nd argument in a typesafe way.It then recommends using the following code to make this method work : I somewhat understand why this code works as well , in this code , l.get is guaranteed to be of type T , so it can be passed as an argument of type T.What I do n't understand is why you could n't just use a method like this , with no helper : i.e . if you 're going to use type inference , why not just use explicit typed generics over a wildcard and a helper function ? Is there any advantage to using wildcards in this scenario ? In which cases would you actually prefer to use a wildcard over a typed generic ?"
"The business model is a bit complex , so please forgive me if the explanation is n't 100 % clear : The Uploader interface ( String upload ( String path , byte [ ] fileContents ) ) defines different ways to upload a file ( contained in the byte array ) , for example AmazonUploader which takes the content and the path string , and uploads it to Amazon S3 under the given key.I have a class called LocalUploader which is used in QA , writes the given file array , as is , to the local disk.The Uploader is used in two different cases : The web interface , ran by user webA command-line interface , ran by users logging into ssh , via user root.The command-line interface is a different jar from the web interface , but they both have the Uploader bundled in . Also , the command-line executable is a bash script running java -jar ... . at the end.The idea is to save the files to a known location , and then serve them over a simple static http server.The problem in short : Since both processes write to the same location , when a file is written by the command-line interface , it 's no longer writable by the web interface ( web ca n't access files made by root , obviously , no problems the other way around ) .Now , I 'm stuck with Java 6 for the Uploader , so no nio file package.Workflow in a nutshell : Here 's what I 've tried : Use java.io.File 's .setWritable ( ) . If I do it before writing the file , it fails ( returns false ) , if I do it after , it returns true but does n't set the writable flag.Use su to run the jar as another user . But that messes with the parameter insertionUse umask , was promptly ignored by Java . Probably because it 's a different process.Use the group id flag for linux permissions - was promptly ignored by Java . Probably because it 's a different process.What I did n't try : Use an ACL - We ca n't afford to mess with the underlying partitions.Return the file as output and have bash write the file - Not all commands need to write files , also , there may or may not be a need to write more than one file . This is n't logic I want to put in the bash script , that 's the Uploader 's job.Things to note : I am using Java 6 on the Uploader . No fancy stuff.I am using Spring 3.2 for the Uploader . No boot.I can probably use utility libraries in the Uploader.I am using Java 8 for the command line executable.Some relevant code : Uploader.javainit.shThis whole thing smells like some trivial problem that should n't even be there in the first place , but I 'm stumped . Would appreciate any help in the matter ."
"Question summary - How do I convert this to a Scala class ? Issue - Multiple constructors calling different super constructorsJava class - I have been trying to convert these constructors for this class to scala for about a day and I can not make any headway on how to deal with the following issue - ( Multiple constructors calling different base class constructors in Scala ) . Would anyone mind helping me on a way to approach converting this class ? I have read some places said it 's not possible to do this with standard super calling in Scala , then how do I accomplish this ?"
"QuestionWhat is the most efficient way to create additional threads from a thread ? ContextI am redesigning an application to be more efficient . One of the largest improvements will be running concurrent operations ; however I am new to concurrent programming . The scenario I am looking to improve is as follows : We have multiple marketplaces to import orders from and then upload to our ERP system . Each marketplace has multiple record types to import . Currently this is done like MP- > RT- > RT- > RT- > RT where the marketplace ( MP ) is invoked , and than subsequent recordtypes ( RT ) are added . What I want to accomplish is a flow like : where multiple marketplaces are invoked , and then multiple record types are added concurrently . I am currently using an executor service that controls MP tasks , but I want to know the best way to handle RT tasks ."
"I am working in Selenium , and this question is more specific to Java rather than Selenium.The example I am providing is Selenium WebDriver ExplicitWait , What he is exactly Doing ? How he is writing Logic without Assigning a Reference to an object to the class ExpectedCondition ? ? ? Thanks ."
"I have a method which is calculating nutrients for a list of object which we are receiving from API request call.The method looks like : My FoodNutritional.class looks like : My solution in method works but I started thinking If it is possible to rid off this sum stream method boilerplate for this approach . All I want to achieve is summing single fields : totalFat , protein , dietaryFiber , totalCarbohydrate and return them as a components fields of a new object . I will be grateful for suggestions on how to improve the quality of the current version of the code . Edit : On the weekend I spent a moment to found a different , additional approach that will meet the requirements and is a little bit more functional . Finally , I created two static methods like : and after all I used it like : Nonetheless , greetings for @ Koziołek , @ Nir Levy and @ Naman for being my muse . Thanks for every single commitment ."
I have List object and I need to take the first element on the list if it is not null or empty . I write below code using java and now I want to convert it to Java 8.I convert it like this . I need to know this is correct ?
"I have tried this using Jodatime DateTime , I have also tried using Jodatime MutableDateTimeBoth are giving me the same result , 1965/10/13 06:09:54.I expect , 1965/10/13 05:26:40 , instead . I 'm getting this using Oracle query given below , And upon contradiction between Joda and Oracle , I tried Wolframalpha , that is also giving me the same result as Oracle.Anyone please explain why is that difference ?"
"Having a String representation of a number ( no decimals ) , what 's the best way to convert it to either one of java.lang.Integer or java.lang.Long or java.math.BigInteger ? The only condition is that the converted type should be of minimal datatype required to hold the number.I 've this current implementation that works fine , but I would like to know if there 's a better code without exception handling ."
"I need to pass an x/y around . I was just using java.awt.Point . I do this a lot considering it 's the nature of the app , but tons slower then normal arrays . I also tried to create my own `` FastPoint '' which is just an int x/y and very simple class constructor , that 's really slow too.Time is in millescond . java.awt.Point : 10374FastPoint : 10032Arrays : 1210 Jvisualvm says Point ( either awt or my own ) are using tons of memory compared to simple int [ ] array.I guess that 's just overhead from having to create an object instead of a um , basic type ? Any way to tweak or optimize this Point class ? I 've already switched to basic int arrays ( which is tons faster now ) , but just trying to understand why this is slow and if there is anything I can do about it ? Test Code :"
"I 'm here asking for a simple way to add some custom code in the JPA Entity generated by Eclipse from database.Basically what I want to achieve is to add public String properties containing the names of the entity properties , and use them when I need to provide `` property name '' as String and be sure that there wo n't be runtime access errors.Something like this So i could use property name likeand be compile-time safe of his existence and in case of names refactoring after a further entity generation.I 'm aware of the existence of Telosys Tools & co. , but I hoped there could be something simplier/faster ( like a custom class provided as plugin in WSDL_to_entity generation with JAXB ) Thank you ."
There is the following sequence : 101001000100001 ... How to define a method that takes an element 's index of the sequence and returns the value ( 0 or 1 ) ​​of this element ? Maybe there 's need to use recursion ? I would be grateful for any ideas !
"In Concurrency Interest link , there is a code which is like this : -What is the meaning of ( ) - > ? I checked in eclipse , it does not allow . But what was the intention of the thread-writer ?"
"The syntax for Java 's format strings can get complicated , for example : It would seem to be ripe for someone to create a fluent DSL to aid with the construction of these format strings ( similar to what Jooq does for SQL ) .Does such a thing exist ?"
With my Tile Editor that I created I get an Array like this : So it prints out a 2 dimensional array.The problem is that I have hundreds of these in one class and what to organize them to be able to do like : Levels.getlevelCount ; So I figured out that I could do a 3 dimensional Array : int [ ] [ ] [ ] AllLevels = new int [ ] [ ] [ ] But my question is : Are there anyway to declare an array within another sort of like this : Above code gives a Compiling Error .
"Guava 's ImmutableCollection has sub-classes like ImmutableList that are ( non-extendable ) abstract classes rather than interfaces . The documentation says this is to prevent external subtyping . On the other hand , the documentation also says they should be thought of as interfaces in every important senseBut is n't the ability to externally subtype an important sense of an interface ? For instance , if ImmutableList was an interface , I could have a method signature like ( as is the Guava recommendation ) , and then have the flexibility to swap in a custom implementation of ImmutableList in the future . However , since in reality it is an abstract class , I do n't have this flexibility , and therefore am bound to Guava 's implementations . Thus , if I want to maintain this flexibility , I 'd have to revert to using the more general return type of List , which no longer conveys the helpful information about immutability to callers : So why is it important that these not be externally sub-typed ? One answer might be that the Guava designers do n't trust external implementors to properly support the required semantics , but List itself actually has pretty extensive contract , and no one is preventing custom implementations of that . Or are there other reasons ?"
I 'm learning Java and write the simple code below : The result : 10 . Well done ! It run successfully and have no error . Can anyone please explain why I can assign a static variable before declaring it ?
I 'd a code snippet : I 'm not getting why the output is so ? the Output is : a & b Both are equalc & d are not equalI 'm using jdk1.7
"I have the following Java program that I was expecting to not compile , but it did : Why does javac allow calling a non-parameterized method in this way ? My Java compiler version is : javac 1.7.0_75"
"The following code works , fine , but i wonder .. conceptually , is it correct ? Start the threads , wait for them to join . Should ThreadPool be used instead ? If possible , please comment"
Please explain this loop : I am a beginner and I am confused how do such loops work ? Please emphasize on use of a [ j ] in loop .
Before java 8 an inner class could access outer objects only if they were declared final.However now when I run example code ( from below ) on javaSE 1.8 there is no compilation error and program runs fine.Why did they change that and how does It work now ? Example code from java 7 tutorial :
"Below is a trivial java program . It has a counter called `` cnt '' that is incremented and then added to a List called `` monitor '' . `` cnt '' is incremented by multiple threads , and values are added to `` monitor '' by multiple threads.At the end of the method `` go ( ) '' , cnt and monitor.size ( ) should have the same value , but they do n't . monitor.size ( ) does have the correct value.If you change the code by uncommenting one of the commented synchronized blocks , and commenting out the currently uncommented one , the code produces the expected results . Also , if you set the thread count ( THREAD_COUNT ) to 1 , the code produces the expected results.This can only be reproduced on a machine with multiple real cores ."
"Mastering Lambdas by Maurice Naftalin , Ch6 - Stream Performance.There is explanation about the different characteristics of streams at the different stages of execution ( intermediate & terminal ) .For eg.What was confusing to me was explanation of SORTED characteristics : `` Stream elements may have been sorted in other orders if a Comparator has been defined and used for the purpose , but such streams do not have the SORTED characteristic . `` Why if the custom comparator is provided for the implementation of Sorted Data Structure ( SortedMap in above case ) the framework would not consider creating streams with SORTED characteristic ?"
Stacktrace from my NPE starts with : Line number 141 in this file is : Where store is not null and store.getAvailablePieces ( ) is null . I do not understand why I get exception in here.Any ideas ?
"Understanding the difference between ++i and i++ , the below example still feels counter-intuitive.Could someone please explain the order of operations and assignments in the following example ? Namely on line two , why is i not incremented after the assignment ?"
"I have been working with the following class named City and tried to convert it to a record called CityRecord asBut moving to such a representation , one of our unit tests starts failing . The tests internally deal with a list of cities read from a JSON file and mapped to an object further counting the cities while grouping them under into a Map . Simplified to something like : The above code asserted true to contain 4 keys and each accounting for 1 of its occurrence . With the record representation , there are no more than 3 keys in the resulting Map . What is causing this and what should be the way to go around this ?"
"There are many tutorials or questions related to custom title bar with JavaFXI created a custom title bar like this : I can move the windows but now ( because the windows is UNDECORATED I ca n't apply any native Windows feature like the Aero shake ( if you shake a window , all other app are reduced ) Is there any solution to manage this type of feature with a custom title bar ? Here is my code : start.java : main controller :"
"Below is the Javadoc comment for String.intern ( ) method : *Returns a canonical representation for the string object . A pool of strings , initially empty , is maintained privately by the class String . When the intern method is invoked , if the pool already contains a string equal to this String object as determined by the equals ( Object ) method , then the string from the pool is returned . Otherwise , this String object is added to the pool and a reference to this String object is returned . It follows that for any two strings s and t , s.intern ( ) == t.intern ( ) is true if and only if s.equals ( t ) is true . All literal strings and string-valued constant expressions are interned . String literals are defined in section 3.10.5 of the The Java™ Language Specification. ” But I think something changed jdk-8u102 onwards . Check below example : If you run above program in JDK 7u80 ( Last stable release of JDK 7 ) and JDK 8 till 8u101 , then output is : true But if you run above program in JDK 8u102 onwards and in JDK 9 & JDK 10 , then output is : false Why the intern ( ) method started behaving differently JDK 8u102 onwards ? I checked the release notes and Javadoc comments but couldn ’ t find anything about changes related to intern ( ) method in JDK 8u102 . I checked blogs and other websites but no luck . But when I tried with some other string , then there was no change in the output : Above program always prints true in JDK 7 , JDK 8 , JDK 9 and JDK 10 . This behaviour is possible only when , “ Java ” is referred by the String Pool table before Test1 class is loaded.s1 refers to String object “ Java ” on the HEAP and s1.intern ( ) returns the reference of String Pool object ( as “ Java ” is already referred by the String Pool ) .That is why s1 == s2 returns false . But when Test2 class is loaded , “ Udayan ” is NOT referred by the String Pool table.s3 refers to String object “ Udayan ” on the HEAP and s3.intern ( ) adds String object referred by s3 to String Pool and returns the same reference . This means s3 and s4 refer to the same object.That is why s3 == s4 returns true . If my observation is correct , then this means pool of Strings is NOT empty initially.String pool initially contains “ Java ” , “ java ” , “ Oracle ” and other String objects . Can anyone please confirm this ?"
"I am unable to understand how Double.toString ( ) works in Java/JVM.My understanding is that in general fraction numbers can not be represented precisely in floating point types such as Double and Float . For example , the binary representation of 206.64 would be 206.6399999999999863575794734060764312744140625 . Then how come ( 206.64 ) .toString ( ) returns `` 206.64 '' instead of `` 206.6399999999999863575794734060764312744140625 '' ? Test code in Kotlin ."
"I have one number , for example `` 1256 '' , how can I convert it into an Array ? Actually , I use a constructor of class where I stock it.Is there any fine/ adequate solution that may use Java 8 Stream ?"
"I have an ArrayList < String > in Java . Now I want to sort it with some requirements.I have these items in the ArrayList for example : And I want to push back the ones with _locked at the end and keep the order , to make this : What is the best way to do this ? Would I have to iterate through the List remove the String and just add it again ? or is there a better way ?"
"I 'm having an application that creates lots of rows which reference two other entities , i.e . there are two foreign key references in the row which realize ManyToOne relationships.These are the two entities being referenced : This is the entity which references a and b : a , b , and x are mapped to the classes A , B , and X using JPA via EclipseLink , it 's pretty basic and there is nothing fancy about it.When I create an X in Java I do the following ( note that a and b already exist and I do know their IDs only - they are feeded from a legacy application ) : The thing is I have to insert about 200,000 entities , which is quite a lot . There are about 3 times as many As and Bs respectively , so I have to fetch 200,000 times an A and a B , most likely 200,000 different A and B , so there 's not much I can do with caching.My question is : Is it really necessary to fetch the whole entity ? Is there a way to reduce these costs ? Or is there some way that I can manually set the foreign key reference ( which boils down to an integer ) without losing the benefits of JPA ( i.e . not having to write my own query ) ? An alternative formulation of the question : How do I accomplish the following with JPA ? where f_a and f_b are foreign keys ?"
"I need the size of the black part of this image : I 've done some research about how to find it in normal math , and I was pointed to this website : WebsiteThe final answer on getting it was ( from MathWorld - A Wolfram Web Resource : wolfram.com ) where r is the radius of the first circle , R the radius of the second circle , and d the distance between the two centers.The code I tried to use to get the size of this was the following : I did some testing , and the output was this : So that indicates that the size of the overlapping part was bigger than the circle itself ( which is r^2 * PI ) .What did I do wrong ?"
"So , I 'm new to programming , and I was trying to make a basic mole ( chemistry ) calculator just for fun . I did n't find this question . If it was answered please send me the link.This is the formula : n = N / Na where n = mole and Na = 6.022E23The first part of the code throws an error . Just trying to get one , dividing Na by my given N , and even with 6.022 instead of 6.022E23 I 'm getting 1000.0 as an answer.Output 0 : Output 1 : Thanks in advance ."
"I want to show the notifications in the specified time . Like I have a start time from when I want to see the notifications and the end time till when I want to see the notifications i.e the list of strings which should be displayed in a given time slot.Also the list can be of any number specified by the user . How can I decide the time of showing the notifications dynamically ? Or how can I divide the time slot and strings uniformly ? For more clarifications here is the screen which shows the start time , end time and the count of strings to shown in notifications : Please help . Thank you ... EDIT : I am trying the given solution.In my Receiver building the notification.From Activity : I am passing the time array to pending intent , but notification is not getting triggered . I thought for alarm I also need to give the current date so I again formatted time for each notification . But that also did not work . Any suggestions ? EDIT : I have updated the answer by Erwin . I am getting the date also with the time now but still as I debug the receiver is also not getting called . I have set the receiver in the manifest file : Log of timesList What can be the issue : I tried to give current time to the pending intent as : Then I got the notification . But not getting when I am setting a date into that.EDIT 2Not working for date.getTime ( ) , System.currentTimeInMilliseconds ( ) working for SystemClock"
"It seems intuitively clear that in Java , instance variable intitializers are executed in the order in which they appear in the class declaration.This certainly appears to be the case in the JDK I am using . For example , the following : prints 42 0 42 ( in other words , y picks up the default value of z ) .Is this ordering actually guaranteed ? I 've been looking through the JLS , and ca n't find any explicit confirmation ."
"Consider the following code in Java 11 : The first line creates a StringBuilder that uses the Latin1 coder ( one byte per character ) . Then the second line causes the StringBuilder to realise that it needs to use the UTF16 coder instead , so it copies its current contents into a new array before appending the new UTF-16 characters.The StringBuilder class has a constructor overload that takes an initial capacity argument , which is designed to avoid reallocation if you already know the required size of the string to be built . But if you start with an English string and then append a foreign string , this particular constructor overload is useless as it still reallocates the byte array.Is there a way to create a StringBuilder instance that uses UTF16 right from the start ?"
This is a problem I have always heard about in school but never had a reason to mess with until I was asked for an interview.Prompt : Using 2 threads print `` Thread i : The number is ' j ' '' in order where j = 1:100 and i is the thread number . Thread 1 can only print odd j 's and Thread 2 can only print even j's.EDIT the output of j must be orderedThis was my attempt but I did not move on in the interview process . Is there any fundamental part I am missing ? Are there any optimizations ?
I use the following lambda expression to iterate over PDF files.This part .forEach ( Start : :modify ) ; executes the static method modify from the same class where the lambda expression is located . Is there a possibility to add something like else clause when no PDF file is found ?
"can you explain me which is the difference between : andI have always used the second one , but is there any difference with an static initializer block ?"
"I know that overloading uses static binding and overriding uses dynamic binding.But what if they are mixed ? According to this tutorial , to resolve method calls , static binding uses type information while dynamic binding uses actual Object information.So , does static binding happens in the following example to determine which sort ( ) method to invoke ? ..ps : The output is : Child # sort ( Collection c ) is invoked"
"I keep getting told it is bad practice to not terminate a Stream via methods such as collect and findFirst but no real feedback as to why not much said about it in blogs . Looking at following example , instead of using a massive nested if check , I went with Optional to get back a List value . As you can see my last step is filter in that Stream . This works as expected for me which is to get back a list . Why is this wrong and how should I have written it instead ?"
"Happy New Year for everyone ! : ) I have a JTable inside JScrollPane ( fillsViewportHeight is true ) and want to enable row selection from the end when drag starts outside the table ( as shown on the pic ) SSCCE : How can I do that ? UPD : The default behavior of JTable is to select all rows from start to current one , if I start selection lower the last row . I want to select only that rows which was under the mouse while I 've dragged the mouse up ( as I 've shown in picture ) ."
"When I was seeing the declaration of ArrayListwhich implements List interface even though ArrayList 's superclass AbstractList implements the same List interface.Similar declarations can be found on HashMap , LinkedHashMap declarations also.In the declaration of LinkedHashMap , it implements Map interface only and not the other interfaces implemented by its superclass HashMap.So there might be some benefits of having such declarations ."
"I thought this was going to be relatively easy , but alas , it seems it isn't.I am currently writing Unit-Tests for a Facade-like structure in my Project using Java EE 6.For the Tests I use Junit 4.11 , with Eclipse Kepler as IDE.From what I can see , there seems to be something `` wrong '' with double brace initialization , but I am not knowledgeable enough to put my finger on why it does n't work as I think it should.To get to the point , I am using following Class to make conversions in a centralized place : As far as this goes it 's mostly playing with generics and a static map . Now I decided I should write a few unit-tests for that . The following class is a little shortened , all test-cases that do n't reproduce the problem were removed.So far so good , nothing should really happen , at least not what I got now . And that is : A fancy IllegalStateException with the following stacktrace : First thing I did , was run it again , and then setting a breakpoint to inspect what happens inside the ModelConverters # convert ( ) What I got slightly flabberghasted me : It seems that input.getClass ( ) returns ModelConvertersFacadeTests . But why does it not return com.example-company.model.Location ?"
"The following code creates a Collector that produces an UnmodifiableSortedSet : The codes compiles under the ecj compiler : Under javac however : If I change the offending line to the following , the code compiles under both compilers : Is this a bug in ecj , javac or an underspecification that allows for both behaviours ? Javac behaves the same in java 9 and 10 ."
I 'm comparing the various ways of storing a String in java by breaking a String down into its constituent parts . I have this code snippet : This is using sizeof to measure the size of the objects . The results of the above show : Given that a byte is 8 bits and a char is 16 bits why are the results not 10 bytes and 20 bytes respectively ? Also what is the overhead for the String object that causes it to be twice the size of the underlying byte [ ] ? This is using On OSX
"While I was working on a project of mine , I tried to print out an integer from an array using the following code : I accidentally forgot to state which integer I wanted to print out from the array of integers which lead to it printing out this line of code : I have already fixed the issue by changing the 3rd line intoMy question is , what does this line of code - [ I @ 75b84c92 mean exactly ? Is it some kind of unique identifier or ID for the array ?"
"I know how to random number using java Random class.This will random a number between 0-13 13 times ; Question-I would like to random a number between 0-13 for 13 times-If the first random number is e.g ( 5 ) , then my second random number will random any number from 0-13 again EXCLUDING 5 ; If the second random number is e.g ( 4 ) , then my third random number will random any number from 0-13 again EXCLUDING 5 and 4 ; etc..is there a way to do it ?"
"In my Spring Boot project , I 've created a custom annotation with validator extending ConstraintValidator to validate some fields in RequestBody . The annotation works fine for non-nested fields but validator is not called for nested ones.My annotation looks like : My validator class : It works fine in cases like this : but when put on the nested object , a validator is not invoked : usage of MyRequest class in my RestController : Any ideas about how to solve that problem ? I 've already tried to put @ Valid annotation on nested field but it 's still does n't work"
"I 'm playing with a simple android app using the emmulator running android-7 ( 2.1 ) and a moto-defy running android-8 ( 2.2 ) .I ran into an interesting problem whereby a CSV parsing application failed on the emmulator , but succeeded on the defy and in regular java apps ( using sun java ) .I tracked the problem down and the cause is that android-7 's implementation of StringReader does not support a negative skip operation : Android-7 : J2SE 1.6 : Therefore , instead of skipping backwards ( the parser uses this to pre-read a character in certain cases ) the android version remains one character forward.My question is , are the various incompatibilities and variations from the J2SE spec documented anywhere ? If not , what other problems have you guys run into.Thanks , p ."
"OutputAs per Oracle tutorials , `` The Java compiler copies initializer blocks into every constructor . Therefore , this approach can be used to share a block of code between multiple constructors . `` So why initializer blocks of class B is not executed twice as constructor is executing twice ?"
"I have problem with understand why String [ ] args variable has no forEach method ? I can not find any information that this type is not Serializable or Collection because forEach methos implements Serializable.For example , I have simple main Java class . If I want to use forEach method , I have to first import Arrays class and then on stream use forEach method like below : Why it is not possible to make it just simple like this ?"
Eclipse showing Compile time error on Line 4 only why ? My understanding compiler reads top to bottom . so it should say compile time error on line number 1. but How is the priority goes to Line number 4.Kindly clarify . Thanks
"I was told by a Professor that explicit constructor invocation using this was `` poor coding practice '' and penalized for it . However , I have n't been able to find anything in any java style guide that I 've looked through that comments on it one way or another . On top of that , it seems to be done in quite a bit of coding examples that I have seen . I was hoping to get some input on whether this is poor coding practice and why.An example of what I am referring to : EDIT : His comment exactly was `` One constructor calling a constructor of the same class is not good practice . A constructor creates an object , so calling a constructor that calls another constructor what is happening in memory ? Something to thing about . `` And this was the specific code :"
"I 'm having a horrible time coming up with a good question Title ... sorry/please edit if your brain is less shot than mine.I am having some issues handling my game 's maps client side . My game is tile based using 32x32 pixel tiles . My first game map was 1750 x 1750 tiles . I had a bunch of layers client side , but managed to cut it down to 2 ( ground and buildings ) . I was previously loading the entire map 's layers into memory ( short arrays ) . When I jumped to 2200 x 2200 tiles I noticed an older pc having some issues with out of memory ( 1GB+ ) . I wish there was a data type between byte and short ( I am aiming for ~1000 different tiles ) . My game supports multiple resolutions so the players visible space may show 23,17 tiles for a 800x600 resolution all the way up to 45,29 tiles for 1440x1024 ( plus ) resolutions . I use Tiled to draw my maps and output the 2 layers into separate text files using a format similar to the following ( 0 , 0 , 2 , 0 , 3 , 6 , 0 , 74 , 2 ... ) all on one line.With the help of many SO questions and some research I came up with a map chunking strategy . Using the player 's current coordinates , as the center point , I load enough tiles for 5 times the size of the visual map ( largest would be 45*5,29*5 = 225,145 tiles ) . The player is always drawn in the center and the ground moves beneath him/her ( when you walk east the ground moves west ) . The minimap is drawn showing one screen away in all directions , to be three times the size of the visible map . Please see the below ( very scaled down ) visual representation to explain better than I likely explained it.My issue is this : When the player moves `` 1/5th the chunk size tiles away '' from the original center point ( chunkX/Y ) coordinates , I call for the game to re scan the file . The new scan will use the current coordinates of the player as it 's center point . Currently this issue I 'm having is the rechunking takes like .5s on my pc ( which is pretty high spec ) . The map does not update for like 1-2 tile moves.To combat the issue above I tried to run the file scanning in a new thread ( before hitting the 1/5th point ) into a temporary arraybuffer . Then once it was done scanning , I would copy the buffer into the real array , and call repaint ( ) . Randomly I saw some skipping issues with this which was no big deal . Even worse I saw it drawing a random part of the map for 1-2 frames . Code sample below : I really am at my wits end with this . I want to be able to move on past this GUI crap and work on real game mechanics . Any help would be tremendously appreciated . Sorry for the long post , but trust me a lot of thought/sleepless nights has gone into this . I need the SO experts ideas . Thanks so much ! ! p.s . I came up with some potential optimization ideas ( but not sure these would solve some of the issue ) : split the map files into multiple lines so I can call scanner.nextLine ( ) 1 time , rather than scanner.next ( ) 2200 timescome up with a formula that given the 4 corners of the map chunk will know if a given coordinate lies within it . this would allow me to call scanner.nextLine ( ) when at the farthest point on chunk for a given line . this would require the multiline map file approach above.throw away only 1/5th of the chunk , shift the array , and load the next 1/5th of the chunk"
"Below is a small extract of a very large file . I 'm looking for a way to get each name and value ( on the Name ( x ) and Value ( x ) lines ) into an element of a Array or List type with an `` = '' between the two.i.e to get each element to look like `` 'name ' = 'value ' `` .So far I can get the names and values . My problem is , when a section has more than 1 byte ( denoted with a `` _ '' in the name ) I need to place all the byte values in the same element with only one name.I ca n't figure out the proper algorithm to get this to work right.i.e , for partHeaderArtLK_A01 up to partHeaderArtLK_A04 , instead of havingpartHeaderArtLK_A01 = 10 partHeaderArtLK_A02 = 09partHeaderArtLK_A03 = 95partHeaderArtLK_A04 = 38 The element would should to look like partHeaderArtLK = 10 09 95 38 . ( Note : I inserted the dashed line seperators to make things clearer . They do n't ( and can not ) exist in the actual file . ) Here 's my attempt so far : Here 's the link to the full code : http : //justpaste.it/d3u0All algorithms or code is appreciated.Thanks in advance !"
"I am using fragment layout in my app , this app contains a listview . Clicking on items will do some job . works fine when in landscape mode but getting crashed if items are clicked when in portait mode . What can be the problem ? Here is my code : MainAcitivity.javaMenuFragment.java // showing the list viewTextFragment.java // for the actions upon clicking the itemsAndroidManifest.xmlLogcatActivityMain.xmlActivityMain.xml of landscpaeListFragment.xml // for the listviewTextFragment.xmlScreenshots Current situation of the portait mode after following the suggestions suggested in the answers : UPDATEI am able to overcome the crashing problem and to move to next screen after clicking on items from the listview while in portait mode currently , but the view is returning null there ; means the contents which I want to be displayed there ( blue part of the screenshot ) is not displaying , the screen is blank.Here is the updated code : MenuFragment.java//////////////updated code here/////////////// } TextFragment.java/////////////////////updated code here////////////////Bundle bundle= getIntent ( ) .getExtras ( ) ; txt= bundle.getString ( `` message '' ) ; } CASE SOLVEDChanged the public View oncreateView to protected void onCreate ! : ) Screenshots of portrait mode :"
"After I save the note in my Android app , the note ( or the ListView ) of the note/s does n't appear in the MainActivity . The MainActivity class of my app is : The activity_main ( xml/layout file ) of my app is : The Second class of my app is : The NotesDataSource class of my app is : The DB class of my app is : A screenshot of my app ( MainActivity ) , after saving the note ( Nothing shows ! ) : A screenshot of my app , after saving the note ( Nothing shows ! ) How I can solve this problem ? ! Or anyone can write the correct code ? ! Thanks for helping me ."
How can I get a day number from a given date using Calendar API.Example :02/01/2016 is the first saturday in 2016 ( result 1 ) 10/01/2015 is the second saturday in 2015 ( result 2 ) I thought I can use the week numberBut it does not work when we have a precedent year of 53 weeksExample : 09/01/2016 will return 1 when it 's the second Saturday of 2016
"From Oracle 's documentation of Type Inference Type inference is a Java compiler 's ability to look at each method invocation and corresponding declaration to determine the type argument ( or arguments ) that make the invocation applicable . The inference algorithm determines the types of the arguments and , if available , the type that the result is being assigned , or returned . Finally , the inference algorithm tries to find the most specific type that works with all of the arguments . To illustrate this last point , in the following example , inference determines that the second argument being passed to the pick method is of type Serializable : Why the algorithm tries to find the most specific type ?"
"I have a Portfolio class that also has linkedlist of Investment class ( example - Google is an instance of Investment ) , each investment has a trade history ( another linked list ) with data for each trade . When the user want to make a trade ( buy google stocks for 5K ) I need to find if the investment ( in google ) already exists in the investmentsList . If it does n't - add new investment ( and add the trade for its trade history ) , If it does - just add another link to google 's tradeHistory linkedlist.The problem - I need findInvestment method to return a reference to google ( investment instance ) from the investmentList so I can update its trade history.The method returns a listIterator rather than a reference to a location in investmentList ( should be Investment Class ) . How should I correct findInvestment ? ( found=iter is wrong )"
"A friend of mine asked me if I could help him find out the reason behind an error he is getting on a piece of code and most importantly why the error disappears when he add some piece of code . I 've looked into the docs about the classes and could n't find out the reason too.Here is the code : As you can see , the only difference is that on the second list variable we have added the JComponent.class and the error goes away.Why is that ? UpdateWe are using Java JDK 7 update 80Update 2Another friend suggested this piece of code and it also works :"
"If there 's 3 classes . A , B and C. class B extends A and class C extends B.class A has equals method : class B has equals method : and class C has euals method : And the main has these code lines : I ca n't understand why the equals method of class A is being executed.I know that overloaded methods are bonded using static binding . But a points to the `` C part of the object '' after aliasing and there 's the method equals of class C. Why is n't it the equals method of class C that will execute ?"
I have a rest Api with spring boot : but when I use postmanAnd In service function I have nothing when using code below.So what happen with parameter begin by `` # '' symbol . How to solve it ?
"I 've got this class : It seems to me that the compareTo method complies with the Comparator contract , even if it is not consistent with equals ( on purpose ) - that should not be a problem according to the javadoc : It is generally the case , but not strictly required that ( compare ( x , y ) ==0 ) == ( x.equals ( y ) ) However , I sometimes get : For example , the code below throws an exception ( also on ideone - it 's a bit long but most of it is test data ) .Also note that running sorted ( ) before distinct ( ) in the stream solves the problem ."
"I 've just started to learn the Spring framework and I found some tutorial at javatpoint.com.I 've got this code ( nothing special , only prints some questions and answers ) : My question is : Why is he using that empty constructor and the keyword super ( ) ? The app works without them and I do n't get what are they good for in this code.P.S . : There is no super class or something like that ."
"I am not a Java programmer . I read the documentation on `` final '' , and understand it to mean `` a variable 's value may be set once and only once . `` I am translating some Java to C # . The code does not execute as expected . I tried to figure out why , and found some uses of final that do n't make sense.Code snippet 1 : Will PRED [ 1 ] be 0 or 3 ? Code snippet 2 : Surely PRED [ 0 ] will remain as 0 ?"
I have seen two different ways of declaring array of String but I do n't undrestand the difference . Can anyone explain what is the difference between String args [ ] and
"Consider this class : I have a List < User > and I would like to reduce on languages . Input : Expected output : I can achieve this using following code : But I do n't want to create two stream , can this be achieved using a single stream ?"
"The code below is supposed to work a little like the Multi-Document Interface ( MDI ) you might see in a browser like FF , IE or Chrome . It presents 'documents ' ( a black buffered image as spacer ) in a tabbed pane such that they can be dragged from the pane into a new ( or existing ) window by user choice.But it has had issues with closing frames once they have no more tabs , as well as closing the JVM when there are no further visible windows . I think I fixed them by checking with a Timer in the DragTabManager : It checks open frames for instances of DragTabFrameIf it finds one , it check the tab count . If 0 the frame is set invisible and disposed.If it finds no instances of the frame that are visible , it ends the Timer to allow the JRE to exit.At least that is how it is supposed to work . It seems to be working reliably here , and I have seen no 'empty frame or VM failing to shut down ' for quite a few tests . Does it work as advertised for others , or do I need to look further ? FixAs per the suggestions in the answer of DSquare , here is the fixed source , with a few other tweaks as well ."
I want to define a value in my Scala code and treat this value as constant ( used in annotation ) within my Java code ( which is calling scala ) .For example : However when I 'm trying to use this value within Java annotation it gives me an error : java : attribute value must be constantCalling it like this does n't work either : MyValues $ .MODULE $ .a ( ) ; I also tried to prefix the val with a final keyword without success.Is there a workaround for this ?
I need some help with a homework question I am working on.I need to create a `` Library '' class that contains an array of Song objects . ( capacity of 10 ) .Then make a method addSong.Here 's what I have so far : My question is : Is there another way to fill the array ? i will later need to search for a song based on a index value . So i will create a method like : public Song getSong ( int idx ) Thank you in anticipation for your answers !
"Consider a request-response protocol.We spawn a thread to perform a select ( ) loop for reads and writes on an accepted non-blocking SocketChannel . That might look something likewhere Context is just a container for the corresponding SocketChannel , a buffer and logic to read into it and write from it . The readRequest might look likeIn other words , we read from the socket channel , populate some buffer and hand off the handling to some other thread . That thread does the handling and prepares a response which it stores in a response buffer . It then notifies the selector that it wants to write and wakes it up.The Javadoc for Selector # wakeup ( ) does n't mention any happens-before relationship so I 'm worried the selector thread might see the response buffer ( or some intermediate object ) in an inconsistent state . Is that a possible scenario ? If it is , what 's the correct way to hand off a response to be written to a SocketChannel by a Selector loop thread ? ( Publishing the response through some volatile field ? Using a SelectionKey attachment ? Some other form of synchronization ? )"
"I have a TableView in SelectionMode.MULTIPLE . Using a ListChangeListener I 'm able to catch the selection of multiple rows ( by pressing Shift ) .However my solution only works if the items are being selected in the same column OR in the area without columns . Gif for illustration with 4 examples : OK : Selecting 3 items using Shift in State columnOK : Selecting 4 items using Shift in Idx columnOK : Selecting 4 items using Shift starting from State column to area without columnsError : Trying to select 4 items using Shift starting from State column to Data Item columnThe problem seems to be that the SelectedItems-list is apparently empty in the last example . I 'd really appreciate your help regarding this issue.Here is my approach : Just for a better understanding of my code : setSelected ( ... ) sets a BooleanProperty on my DataRowModel which is bound to the State-Column.Without context the reason for using this selected-property seems to be quite silly . However , there are various other fragments of code with ChangeListeners bound to the selected-property.SSCCE ready to run :"
I need to write a program that prints the product of all integer numbers from a to b ( a < b ) .Include a and exclude b from the product.Sample Input 1:1 2Sample Output 1:1Your code output:2Here is my code : What I 'm doing wrong ? Please a hint : ) UPDATE : It did n't help either.Test input:1 2Correct output:1Your code output:0
"I 'm building CRUD interface for ArangoDB as Java service.My ArangoDB service has dynamic IP , but static URL . Thus I want to specify URL instead of IP and port.But when I set it in arangodb.properties file I get the following exception : How can I do it ? UpdateI have figured out that I have to connect to https server . How can I specify it in my arangodb.properties file ? I have tried to connect to the servers endpoint using unix wget command . It does n't connect if I dont specify https protocol . And so my ArangoDB client does n't , if there is plain ip : port . I just get java.net.ConnectException : Connection refused exception ."
"Lets say I have the following three arrays : All arrays will have same length.I want to convert them into an array of objects of type Color : Where each index will contain the r , g , b from the same index from the 3 arrays . For example , lets say for Color [ 1 ] = new Color ( r [ 1 ] , g [ 1 ] , b [ 1 ] ) ; How do I do that using Java Streams ? The for-loop variant of the code is : Is there even a way to do this using streams ?"
"I have an application that performs various analysis algorithms on graphs of nodes and edges G ( N , E ) . The attributes of the nodes and edges vary with the application and form an inheritance hierarchy based on the type of graph and nature of the attributes . For example the root of the Node hierarchy could represent the most general Non-directed Cyclic Graphs ( NcgNode ) . A sub-class of NcgNode might represent directed cyclic graphs ( DcgNode ) , followed by DagNode , etc . The algorithms that can be applied to DAGs are different from those of NCGs , but not visa-versa . A key behavior of the root of the tree is to add and retrieve adjacent nodes of the graph . The question is how to do this without creating an `` unchecked '' exception ? A terse version of the code might look like this : Is there a better way to design this ?"
I am trying to understand the features of Spliterator and came across these 2 methods estimatedSize and getExactSizeIfKnown I could figure out what is estimatedSize but not sure exactly what doesgetExactSizeIfKnowndo . Can someone please give an example explaining the difference between the two.EDIT : I tried the following example in which both of them are the same . In which cases would they be different ?
"I know in java Collections class , there is a static method sort : The second argument in sort should be an object which implements Comparator interface and it 's compare method.But when I learn lambda 's method reference , I see this example : } This is an example of method reference for instance method.the compareWord method has nothing to do with the Comparator interface , I can not understand why this works ? can anyone explain this ? Thank you very much ."
Is it possible to determine which aspects hook into a given class and to gain access to their instances ? Something like :
"1 ) Why is the following assignment not allowed : but this assignment is allowed : Both types are signed , and I would expect b and i were -1.2 ) Why does n't the Integer MIN_VALUE have a sign ? but the Byte MIN_VALUE does have a sign ?"
Could someone please explain why these two pieces of Java codes are behaving differently ? First one correctly counts number of bits but the second one just displays 1 or 0 for non-zero numbers . I do n't understand whats happening .
I have following two methods : Do you have an elegant solution ( other than using type casting and Object ) that will avoid the duplicate code above and will use a single method name ?
"I have an old code base that I need to refactor using Java 8 , so I have an interface , which tells whether my current site supports the platform.and I have multiple classes implementing it and each class supports a different platform.A few of the implementing classes are : Another implementation : At runtime in my filter , I get the required bean which I want : and call isPlatformSupported to get whether my current site supports the following platform or not.I am new to Java 8 , so is there any way I can refactor this code without creating multiple classes ? As the interface only contains one method , can I somehow use lambda to refactor it ?"
"I 'm trying to sort a set of strings written in Macedonian alphabet . I know how to do it , but the end result is n't what I expected . Here is my test program : The letters in ALPHABET_ARRAY are in the correct alphabetical order , but the program prints абвгѓдежзѕијкќлљмнњопрстуфхцчџшBut it should have been : абвгдѓежзѕијклљмнњопрстќуфхцчџшIs there a problem with the Macedonian collator in Java or am I doing something wrong ?"
"Since Strings are immutable in Java , why would I want to use the argument-less String constructor and create an object ? How is the variable s useful to me after I do :"
"According to this table , ++ has right to left associativity . So , I run this code : and expect the expression to be 50 ( as 8 + 7 * 6 , increment starts from right to left ) . But the expression is evaluated from left to right ( 6 + 7 * 8 ) by Eclipse , and gives result as 62 . I am new to this associativity in Java , and must be missing something obvious . Please help me understand this strange behavior.EDIT : Thank you for your answers , but I have one more question now . It is that , as seen from @ bizclop 's code and tree answer , it is obvious that the associativity for ++ does n't matter . Then , is there any use case for this associativity of ++/ -- ?"
"I 'm converting a project from Java to C # . I 've tried to search this , but all I come across is questions about enums . There is a Hashtable htPlaylist , and the loop uses Enumeration to go through the keys . How would I convert this code to C # , but using a Dictionary instead of a Hashtable ?"
"For this experimental project based on the spring-boot-starter-data-jpa dependency and H2 in-memory database , I defined a User entity with two fields ( id and firstName ) and declared a UsersRepository by extending the CrudRepository interface.Now , consider a simple controller which provides two endpoints : /print-user reads the same user twice with some interval printing out its first name , and /update-user is used to change the user 's first name in between those two reads . Notice that I deliberately set Isolation.READ_COMMITTED level and expected that during the course of the first transaction , a user which is retrieved twice by the same id will have different names . But instead , the first transaction prints out the same value twice . To make it more clear , this is the complete sequence of actions : Initially , jeremy 's first name is set to Jeremy.Then I call /print-user which prints out Jeremy and goes to sleep.Next , I call /update-user from another session and it changes jeremy 's first name to Bob.Finally , when the first transaction gets awakened after sleep and re-reads the jeremy user , it prints out Jeremy again as his first name even though the first name has already been changed to Bob ( and if we open the database console , it 's now indeed stored as Bob , not Jeremy ) .It seems like setting isolation level has no effect here and I 'm curious why this is so ."
"quick question.I 'm basically working on a program where we have an Entity cross across a grid . Every time it finishes a `` step '' ( ie , goes from ( 0 , 0 ) to ( 1 , 0 ) ) , I need to fire off an event . The entity 's movement per frame is calculated by : and then added onto the entity 's X co-ordinate . I elected to use world units ( 1 world unit is 16 pixels ) instead of raw pixels for the co-ordinate system simply for separation of concern . The world does not need to know that the distance for one square is 16 pixels - only the drawing system does.So basically , I 'm trying to work out how to tell the system that the unit has finished a `` step '' . Obviously , due to the way the frame movement is calculated , you will never be exactly on a new square , so I must `` clip '' the unit to that square or have a method that will return `` true '' if we are within a certain distance from the square ( which right now I have decided to be 0.05wu - about 0.8 pixels from the square ) .The function I have so far is this : I 'm only using X seeing as I 'm just trying to get it working at the moment . However the problem I have is that this function seems to return one of two results : This is to be expected , as 0 % 0 is indeed NaN . I can work around this no problem . However the issue I have at the moment is the other result..That is , the other result always returns the value of X , rather than the correct modulo ( which , if math.floor ( x ) and x are equal - ie x is equal to 1f ) , which should be 0.I 'm not entirely sure what is causing this . If you have any answers for me or any suggestions on how I can fix this in a better way , I 'm all ears.TL ; DR : I need to figure out when an Entity moves from one co-ordinate to the next . The co-ordinates ( and the Entity 's transition across them ) are stored as a float . If an Entity is halfway across traversing a square , the Entity 's X co-ordinate is stored as 1.5 , for example . Finally , Floor ( 1.0 ) % 1.0 is returning 1.0 , and not 0.EDIT : In my code I have thisWith output http : //pastebin.com/egDwj7GsEDIT 2 : Images are fun ! http : //prntscr.com/1j193nThe white square is the entity . The red square is simply a drawn-on grid . Each square is 16 by 16.As you can see , right now the white square is at ( 6.5 , 0 ) . I need the program to basically recognise when it passes ( 7 , 0 ) .EDIT : Lee and I had a chat , here 's our chat : http : //chat.stackoverflow.com/rooms/34727/discussion-between-neglected-and-lee-meadorHe solved the problem for me so I have accepted his answer as correct ."
Why does this result in a compile error : whereas the following does not ? :
"So , I just read this blog post , and I was confused by the `` ternary-operator is left-associative '' part , so I ran the example code there-in in an interpreter : and indeed , it returns horse which is the counter-intuitiveness that was the point in the blog post.Out of curiosity , I then tried to `` make this work '' by re-writing it to fit what I thought `` left-associative '' would want . I got this ( formatting is weird , but it makes it clearer at least in MY head ) : Now , this works as expected in the sense that what ever character $ arg is returns the vehicle that begins with that character ( lower case of course , but that 's not important here ) .Curious still , because I 'm not clear on WHY the former does not work , I wondered if the latter will fail in a right-associative language , because it does not seem like it would . So I tested it in a java interpreter . Code here for anyone who wants to try and save a few seconds.Both format works in java . So , what gives in php ? I have heard that it is essentially evaluating the leading equalities as the final one ( $ arg == ' H ' ) . But if so , that means its behaving as though it wasThis does not make sense to me . In the second php example I gave , I only moved where the equalities go , nesting in the if true part of ternary expression , instead of the if false part . I do n't see why the first method would not work if the second does . This seems more like an error rather than `` this is how it should work '' , and I 'm just misinterpreting things , which I must be . NOTE : I know I can just wrap parenthesis around things to force the expression to be evaluated the way I want ( which apparently is right-associative ) . I am not looking for `` how to make this work '' , I want to know why it does not ."
"From answering this question , I ran into a peculiar feature . The following code works as I assumed it would ( the first two values within the existing array would be overridden ) : Output : However , attempting this with a sequential stream throws an IllegalStateException : Output : I 'm curious as to why the sequential stream does not overwrite elements of the array as the parallel stream does . I searched around a bit and was not able to find documentation regarding this , but I assume it exists somewhere ."
"ProblemWhen experimenting with the JNI interface , I was wondering if I could take a JObject and transmute it into an equivalent struct to manipulate the fields . However , when I tried I was surprised to see that this did not work . Ignoring how horrible this idea might be , why did n't it work ? My ApproachJava Test ClassI made a simple class Point to do my test . Point has two fields and a constructor that takes in an x and y as well as a few random methods that return information based on the fields.Memory LayoutUsing jol , I found the structure of my Point class in the java runtime ( shown below ) .Test StructI wrote out a simple test struct that matched the memory model described by jol along with some tests to make sure that it had the same alignment and each element had the correct offset . I did this using rust , but it should be the same for any other compiled language.OutputThe final part of my test was making a jni function that took in a Point object and transmuted the point object into the point struct . C Header ( Included as Reference ) Rust ImplementationRunsEvery time I ran it , I got a different result.Version InformationEdit : I did this on Windows 10 Home 10.0.18362 Build 18362Edit 2 : Since I used rust to approach this problem I used rust 's jni crate . It provided the JObject type I mentioned above . It just occurred to me that there might be some confusion since JObject is not the same as the jobject shown in the C header . JObject is a rust wrapper around a pointer to a jobject , hence my dereferencing it before transmuting the pointer ."
"What would be the cleanest way to do this ? I have The maps all have the exact same keys , and no duplicate values . I want to append the Lists of map2 and map3 to the end of the list of map1 , for each key . This is how I am currently trying to do it :"
Sorry I couldnt think of a more concise title.My question is why does the following piece of code work : when it will not work making the Object array a generic as so : When the availableObjects [ i ] = new RenderElement ( ) ; line is executed in this latter example I get a ClassCastException . I understand why it works in the first example but not why it does n't in the second . availableObjects should be an array of RenderElement and I am trying to give it a RenderElement . What crucial bit of info am I missing ? Thanks for the help.Update ... Thanks very much for the responses . I thought I understood but I have managed to confuse myself again : If I add the function : to the TObjectPool class . It will happily work with the T [ ] array.So the new TObjectPool and subclassed pool are as follows : I know how I can get round this now after reading your responses but I am curious . Can anyone shed some light into this peculiarity ? Thanks again .
"I need a Collector that 's nearly identical to Collectors.toSet ( ) , but with a custom finisher . I 'd love to be able to do something like : and be done , but that does n't seem possible . The only alternative I can see is it essentially recreate Collectors.toSet ( ) using Collector.of ( ) , which is not very DRY.Is there a way to take an existing Collector and amend it as described above ? EDITA few of the answers have recommended something like this : However my custom finisher is n't actually returning a Set ; it 's using the accumulated set to return something else . The fact that it 's doing that is putting me into Generics hell which I 'm still rummaging through.."
"I have a simple spring boot application and a controller class.A simple method inside my controller : I am calling this method from Postman , I can see the time it takes to complete this method is different in every call.For example 28ms , 70ms , 15ms ... It is ok if we talk about milliseconds but I have noticed that the more complex the web service is , the bigger the difference . Sometimes the difference is even seconds.I suppose this is normal but what is causing this ?"
I wanted to know if the allOf method of CompletableFuture does polling or goes into a wait state till all the CompletableFutures passed into the method complete their execution.I looked at the code of the allOf method in IntelliJ and it is doing some sort of binary search.Please help me to find out what the allOf method of CompletableFuture actually does .
"I am a newbie at programming and Java and this is my first null , I am a little bit confused because I do not know what happened is that kind of errors in coding ? Or any thing else ? Kindly needs your explanation in this situation and about null at overall in a simple wayOutput is :"
"I 'm trying to create a custom BodyPublisher that would deserialize my JSON object . I could just deserialize the JSON when I 'm creating the request and use the ofByteArray method of BodyPublishers but I would rather use a custom publisher.This implementation works , but only if subscriptions request method gets called with 1 as a parameter . But that 's what happens when I am using it with the HttpRequest.I 'm pretty sure this is not any way preferred or optimal way of creating the custom subscription but I have yet to found better way to make it work.I would greatly appreciate if anyone can lead me to a better path ."
"For studying purpose , I am trying to migrate this Java Command Pattern example to PHP : https : //codereview.stackexchange.com/questions/52110/command-pattern-implementationAs @ simon commented , using method reference operator , would modernize quite a bit the code : And then you could create commands like this : My current PHP implementation is here : https : //3v4l.org/iIHn9So what is the best approach to implement the MyCommand Class in PHP ?"
"It is well known , that generic types do n't survive the compiling process . They are replaced by class casts.But nevertheless , the type information is present in the class file and can be seen using reflection : When executed , this will print java.lang.String.Can a JIT use this for some kind of optimization ? Or is that information from the point of view of the JIT useless ?"
"I 'm currently studying a book for the AP CS A exam , specifically the Barron 's book for test preparation.One section of the book refers to two classes , Student and GradStudent , where GradStudent extends Student.GradStudent has the method getId ( ) while Student does not.If I were to run the following code : The book informs me that I would get an error . Why is this ? Since I am initializing it as a GradStudent , would n't s have access to the method getId ( ) ? Essentially , if I declare a variable as the superclass , and initialize it to the subclass , what happens ? In other words , how do s and g in the following example differ : EDIT : I 've now understood that s only has access to the methods in the Student class.So what happens if I do the following : What happens to the id field ? ( Assuming it is only present in the GradStudent class ) If I casted s to GradStudent again , would it be able to access the same id ?"
"Case 1Prints 1 . Why ? Case 2Prints 0 . Why ? Honestly , i am at a loss here"
"I came across the following scenario when studying the book `` Functional Programming in Scala '' by Paul Chiusano and Runar Bjanarson ( Ch . 7 - Purely functional parallelism ) .You can find the original code on Github here . See here for the java.util.concurrent documentation.I am concerned with the implementation of fork . In particular , allegedly fork can lead to deadlocks when the ThreadPool is too small.I consider the following example : I would not expect this example to end up in a deadlock as there are two threads . Yet , it does on my computer when I run it in the Scala REPL . Why is this so ? The output when initializing the ExecutorService ises : java.util.concurrent.ExecutorService = Is pool size = 0 correct here ? In other word , is this a problem of not understanding java.util.concurrent._ or is the issue with not understanding the Scala part ?"
"Many examples on the web about Quicksort ( in Java ) are close to this : The thing I 'm puzzled about is why there are those equals checks:1 ) while ( i < = j ) instead of while ( i < j ) 2 ) if ( i < = j ) instead of if ( i < j ) Are there any edge cases where this equals is crucial ? From my understanding if we would have if ( i == j ) , then we would basically exchange the same value with the same value.Anybody can solve that puzzle for me ?"
"Why does this codeyield this output [ 0 , 1 , 10 , 1 , 100 , 8 , 1 ] ? Why is there an 8 in the output ? Do underscores add some secret functionality ?"
"I have a java.nio.Path which points to an absolute path : I have a second java.nio.Path which points to the root directory of the project , also an absolute path : Is it now possible to create a java.nio.Path which holds the relative path between the two :"
"I need to implement an enum to enum converter in java : Enum_2 > Enum_1 and I 'd like to do it in generic way.So I defined an interface : and Enum_1 : and Enum_2 which implements LabelAware and needs to be converted to Enum_1 : Finally , here 's a generic converter ( List.ofAll ( ) comes from javaslang ) : And a main method : It all compiles and runs well , however I 've no idea why I need to cast the result of Converter.map method to D , since I 've declared D to extend Enum . Can it be done in a generic way without any warnings ?"
"This is kind of strange , but code speaks more then words , so look at the test to see what I 'm doing . In my current setup ( Java 7 update 21 on Windows 64 bit ) this test fails with ArrayIndexOutOfBoundsException , but replacing the test method code with the commented code , it the works . And I wonder if there is any part of the Java specification that would explain why.It seems to me , as `` michael nesterenko '' suggested , that the value of the array field is cached in the stack , before calling the method , and not updated on return from the call . I ca n't tell if it 's a JVM bug or a documented `` optimisation '' . No multi-threading or `` magic '' involved ."
"Coming from a Java background , I understand that this does not compile.The last line produces a compiler error ( EDIT : at least on jdk1.6.0_65 ) it does : Bound mismatch : The generic method returnSub ( T , U ) of type Test is not applicable for the arguments ( Test.SubClass , Test.SuperClass ) . The inferred type Test.SuperClass is not a valid substitute for the bounded parameter So , I got surprised , that this seems to work in Scala . I wrote the sample code below ( which as far as I can tell , expresses the same `` logic '' ) : I guess the Scala compiler is smart enough to say `` OK , child is an instance of SubClass , but I ca n't invoke returnSub if I say that , so let me try if I consider child as a SuperClass instance , and , well , it works , so let 's do that '' .Is that what 's going on ( and if so , can you point to a language specification about that ) ? Or maybe my Scala `` conversion '' is not equivalent to my Java code ? Thanks !"
"Can someone tell my why this gives a compile error ? I do n't see why the cast to A in the second for-loop causes strings ( ) to return a general List of Objects.Is this a Generics quirk ? Thanks , Kristian"
"In python I have the following : this is a structure to represent a graph and that I find nice because its structure is the same as the one of one of it 's nodes so I can use it directly to initiate a search ( as in depth-first ) . The printed version of it is : And it can be used like : Now , I 'm curious to know how would one implement it in C++ , C # and Java without resorting to `` Object '' tricks that would fill the code with ugly casts . For C++ I was thinking in templatemeta programming but that would generate `` finite data types '' when what is needed is something like"
"I got to deal here with a problem , caused by a dirty design . I get a list of string and want to parse attributes out of it . Unfortunately , I ca n't change the source , where these String were created.Example : Now I want to extract the attributes type , languageCode , url , ref , info and deactivated.The problem here is the field info , whose text is not limited by quote mark . Also commas may occur in this field , so I ca n't use the comma at the end of the string , to find out where is ends . Additional , those strings not always contain all attributes . type , info and deactivated are always present , the rest is optional.Any suggestions how I can solve this problem ?"
"I read several posts about concurrency problems but I 'm still unsure about something . Can I say that when using synchronized , I get volatile functionality for free , because when the lock on an object will be released , the next thread always reads the modified object . With volatile , the value of an object is immediately reflected to other threads . But when I use synchronized , there is no possibility to immediately reflect it due to the lock on the object . When the lock is released , only then another thread may access it . So I do n't have to care about reflecting the value immediately to other threads . Do I understand this right ? [ UPDATE ] Example prints always 1 2 3 4 5 6 7 8 9 without volatile ."
"I have some code that splits a String of letters , make a List with that and later , populate a LinkedHashMap of Character and Integer with the letter and its frequency . The code is as following , How can I write it concisely with Java 8 ? Thanks ."
"i am currently having a problem with the codestylesettings i.e . the `` Reformat Code '' function in IntelliJ.NECESARRY INFORMATION : I am writing groovy scripts , which use some Java functionality ( for example generics ) It appears that my version of groovy ( which can not be changed for various reasons ) runs into compile problems when having a variable defined like this : NON-WORKING : Problem is that the compiler can only interpret the last 2 closing angle brackets correctly if there is a space between those.WORKING : This is a known bug in the version of groovy which i am using.PROBLEM : The `` Reformat Code '' functionality always removes the space , which i added between the closing angle brackets in order to make the script compilable.QUESTION : How can i teach IntelliJ to not remove the space ? ATTEMPTS : This setting does exist for java files ( Settings- > Editor - > Code Style - > JAVA - > Spaces - > Within - > Angle Brackets ) .Exported XML Settings : But not for groovy , so i tried adding it for groovy like so : When reformatting it only freezes for like a minute or so and then removing the spaces again.Probably cuz groovy is not aware of those angle brackets hence it is Java functionality used here ."
"I have a class with a method which I want to be accessible only for its child objects , and not for other classes in this package . Is there a workaround to have this kind of modifier ? Maybe there is a way to make a package final , so other programmers can not add any classes into my package ? Or is there a way to get the instance which called the function , and check whether this one is an instance of my super object ? Or do I just have to leave it , and just use protected , and other programmers might add classes to my package ..."
"I have this class , which is a simplification of some code I found in a project that is being ported from Java 6 to Java 8 : It 's a very small example to merely showcase the problem , the actual code makes a bit more sense . The issue seems to be quite general though , hence the abstract example . The core issue is the following : for some reason , javac does not want to accept an expression with type MyMap < ? , ? > as the argument to the setMap ( ) method , even though this should , according to my understanding , be well-typed.The code compiles without errors with javac 6 , but I get this obscure error message when I use javac 8 : The error message seems to indicate that no unification can be found for the first type parameter of MyMap , javac can not find a type that unifies with both CAP # 1 , which represents the first wildcard argument in the actual parameter to setMap ( ) , and A , which is the corresponding type parameter of the formal parameter of setMap ( ) . Even though it seems to me that A and CAP # 1 should be perfectly unifiable , they would then both represent the existential type introduced by erasing the actual types in the signature of getMap ( ) .Can anyone spot what is going wrong here ? Was javac 6 erroneously accepting this code ? Also , is there a not-too-intrusive ( and javac 6 compatible ) way to guide javac 8 towards the right unification ? EDIT : I tried the suggestion to introduce a variable from stackoverflow.com/questions/23063474/ but that does not seem to help , I get the same compile error.EDIT2 : Clarified the `` intent '' of the example code.EDIT3 : renamed Map to MyMap , apparently it is too confusing to define a custom Map type ."
I have following code : Why does it print me Java Stream ?
"*disclaimer , when I say `` I have verified this is the correct result '' , please interpret this as I have checked my solution against the answer according to WolframAlpha , which I consider to be pretty darn accurate . *goal , to find the sum of all the prime numbers less than or equal to 2,000,000 ( two million ) *issue , my code will output the correct result whenever my range of tested values is approximately less than or equal toI do not output correct result once test input becomes larger than approximately 1,300,000 ; my output will be off ... test input : -- -- 199,999test output : -- -1,709,600,813correct result : 1,709,600,813test input : -- -- 799,999test output : -- -24,465,663,438correct result : 24,465,663,438test input : -- -- 1,249,999test output : -- -57,759,511,224correct result : 57,759,511,224test input : -- -- 1,499,999test output : -- - 82,075,943,263correct result : 82,074,443,256test input : -- -- 1,999,999test output : -- - 142,915,828,925correct result : 142,913,828,925test input : -- -- 49,999,999test output : -- - 72,619,598,630,294correct result : 72,619,548,630,277*my code , what 's going on , why does it work for smaller inputs ? I even used long , rather than int ... help please : )"
"( Disclaimer : I am new to Java and also , I have read the related SO question . ) I have the following code : But the PDFont class is not recognized in Eclipse.When I add the following : The PDFont class is picked up.Given that the PDFont class is located under the hierarchy specified in the first import statement ending with the asterisk , why is a specific import statement necessary ? Also , is there a way to search for the location of a class in a library if one does n't have the documentation handy ?"
"I 'd been trying to figure out all about Java optimizations and found something interesting.First case : primitive type compile-time optimizationAfter compilation ( I 'm using jd-gui-0.3.5.windows to decompile binary files ) it is looks like : As expected , is n't it ? i was replaced with it 's value ( inlining optimization ) after compilation . So , I expected to see something similar after replacing primitive type with it 's wrapper , but ... Second case : non-primitive type compile-time optimizationAfter compilation : Questions : What is Clazz.this in this context ? I know , that it is reference to enclosing instance of Clazz , but it should not work in that case ! I need to print i , but compiler suggests me to print Clazz.this instead of it and it works ! What is the problem ? Does jd-gui decompiles incorrectly or do I missing something about Java compilation and optimization ? UPD : Content of Class $ 1 :"
"I 'm trying to use a do while loop to find out whether the user wants to check a dog or a cat into a kennel system in Java . The idea is that they enter either `` dog '' or `` cat '' when prompted , and any of entry will result in an error and they will be prompted again to enter the file name.If `` cat '' or `` dog '' has been entered then the equivalent file will be assigned to the program ( dogs.txt or cats.txt ) and then the system will run and load that data into the program.Here are the current variables : and the method that is causing an issue : And here 's what 's printed when you run the code : It 's assigning a file to the program regardless of what 's entered and then continues to load the program.I 've tried using catch { but it 's not working for some reason , can anybody offer any help ? Thanks !"
"Let M ( n , k ) be the sum of all possible multiplications of k distinct factors with largest possible factor n , where order is irrelevant.For example , M ( 5,3 ) = 225 , because:1*2*3 = 61*2*4 = 81*2*5 = 101*3*4 = 121*3*5 = 151*4*5 = 202*3*4 = 242*3*5 = 302*4*5 = 403*4*5 = 606+8+10+12+15+20+24+30+40+60 = 225.One can easily notice that there are C ( n , k ) such multiplications , corresponding to the number of ways one can pick k objects out of n possible objects . In the example above , C ( 5,3 ) = 10 and there really are 10 such multiplications , stated above . The question can also be visualized as possible n-sized sets containing exactly k 0 's , where each cell that does not contain 0 inside it , has the value of its index+1 inside it . For example , one possible such set is { 0,2,3,0,5 } . From here on , one needs to multiply the values in the set that are different than 0.My approach is a recursive algorithm . Similiarly to the above definition of M ( n , k ) , I define M ( n , j , k ) to be the sum of all possible multiplications of exactly k distinct factors with largest possible factor n , AND SMALLEST possible factor j . Hence , my approach would yield the desired value if ran on M ( n,1 , k ) . So I start my recursion on M ( n,1 , k ) , with the following code , written in Java : Explanation to the code : Starting with , for example , n=5 , j=1 , k=3 , the algorithm will continue to run as long as we need more factors , ( k > =1 ) , and it is made sure to run only distinct factors thanks to the for loop , which increases the minimal possible value j as more factors are added . The loop runs and decreases the number of needed factors as they are 'added ' , which is achieved through applying M ( n , j+1 , k-1 ) . The j+1 assures that the factors will be distinct because the minimal value of the factor increases , and k-1 symbolizes that we need 1 less factor to add.The function 'sum ( j , n ) ' returns the value of the sum of all numbers starting from j untill n , so sum ( 1,10 ) =55 . This is done with a proper , elegant and simple mathematical formula , with no loops : sum ( j , n ) = ( n+1 ) *n/2 - ( i-1 ) *i/2The reason to apply this sum when k=1 , I will explain with an example : Say we have started with 1*2 . Now we need a third factor , which can be either of 3,4,5 . Because all multiplications : 1*2*3 , 1*2*4 , 1*2*5 are valid , we can return 1*2* ( 3+4+5 ) = 1*2*sum ( 3,5 ) = 24 . Similiar logic explains the coefficient `` i '' next to the M ( n , j+1 , k-1 ) . say we have now the sole factor 2 . Hence we need 2 more factors , so we multiply 2 by the next itterations , which should result in:2* ( 3*sum ( 4,5 ) + 4*sum ( 5,5 ) ) However , for a reason I ca n't explain yet , the code does n't work . It returns wrong values and also has `` return '' issues that cause the function not to return anything , do n't know why.This is the reason i 'm posting this question here , in hope someone will aid me . Either by fixing this code or sharing a code of his own . Explaining where I 'm going wrong will be most appreciable.Thanks a lot in advance , and sorry for this very long question , Matan.Below is my fixed code , which solves this question . Posting it incase one should ever need it : ) Have fun !"
"I 'm trying to perform some retrieval queries on a `` correct '' pom.xml used by maven . For that I use basic XPath queries from JDOM.Unfortunately the queries do not return any results ( and neither do simple descendant filters ) . I 'm reasonably sure that the problem lies within the root declaration of the pom.xml : As can be seen an empty-namespace is defined that does n't match either `` '' or `` http : //www.w3.org/2000/xmlns/ '' , where `` '' is the default No-Namespace and the xmlns namespace is the default xmlns namespace.So given a Document , when I want to perform an XPath-Query like follows : Given the fact that all XPath expressions and queries are required to be namespace aware ( compare the XPathHelper javadoc ) , I 'm pretty sure that I can get this to work by adding the required namespace declarations.I 've tried the following with different kinds of failure : At this point I 'm not even sure I 'm attacking this at the right point . How can I get my XPath query to return results ? Note : The following more simple queries do n't return results either :"
"It seems , that JShell object created inside another JShell does not have access to parent 's JShell scope . For instance : Is it somehow possible to make parent scope visible to the child one ?"
"What I want as an end result is thisto appear ( when run ) as not to appear as Is there any way to do this ? I tried using windows character map , copied the symbol here , and in my code , but after changing encoding to UTF-8 and inserting it , it comes up as ? when run ... What can be done ? Thanks in advance for answers to this utterly simple question"
"Suppose we have a program like this : We know that the weak reference to the BigThing object can not prevent the object from being garbage collected when it becomes no longer strongly reachable.My question is about the local variable bt which is a strong reference to the BigThing object . Does the object become not-strongly-reachable at point 2 ( just before calling doSomething ( ) ) or at point 3 ( end of block scope ) ? The answer to this question will affect whether the call to doSomething ( ) is guaranteed to be able to access the live BigThing object , or whether the underlying object can die during the function call.I am uncertain because you could argue that after point 2 , the local variable bt is never read or written anymore , so the variable is effectively dead and the pointer value can be discarded . This `` optimization '' would be valid if all references were strong , but the reasoning falls apart when the notions of soft , weak , and phantom references are introduced , and finalizers as well . Also as an analogy , because C++ has destructors , a value must be destructed at the end of the scope , and can not be moved ahead to the point of last usage ."
"I am trying to find out if a GIT branch can have a subset of the project data like the example below.I am working on a java , spring , maven project and my source is atand my JSP pages are at : we are thinking of outsource the JSP pages to a diff group but we do n't want them changing the java code so we are trying to think if we can map a branch with justand then merge it back in"
"I 'm trying to play with reflection to see if I can get to a point where I 'm able to type in a class name and my application will load that class and create an instance of it . After a few attempts I found I could n't just stick a class name in Class.forName ( ) without its package name , so I wound up trying to get a list of all available packages that have been loaded and trying to load the class I type in with each package name till it gets a hit.This is what I 've got so far : It semi works in a very weird way . For example when I type in `` Object '' at the prompt it somehow manages to load sun.net.util.Object , but when I print out the actual object it prints class java.lang.Object . I get the same thing with a String as well as several other things I typed . One interesting one I tried was int - it loaded sun.net.util.int and when I printed the object it just returned null . Another happened when I tried Java : Does anyone have any clue what 's happening here ? Is there something special about the sun.net.util package that 's causing this ? I do n't really care that my code does n't work exactly like I want , I would just love to know what 's causing this strange behaviour.Java version : I 'm on Windows 8 64 bit if that makes any difference ."
"I have an object called employee which has a long list of attributes , I am retriving the values from database and need to put them into the employee object , I am doing the following but as the code is so long I am wondering if there is any shortcut to it ."
"Let 's say I have an unsorted list of four objects : [ B , C , A , D ] .All four objects are of the same type , and : By ! = I mean that they are neither less-than , equal-to , or greater-than the other objects.I need to `` sort '' the list such that A will always come before B , and C will always come before D. Beyond those two requirements , I have no demand on the ordering of the list ; therefore , given the previously described list , the sort function should return either [ A , B , C , D ] or [ C , D , A , B ] .As for the cause of this problem , I am trying to sort an array of java.lang.Class objects based on their relationships to each other . For example , if A is the super-class/super-interface of B , then A is less-than B . If A extends/implements B , then is A greater-than B . If A is B , then obviously A equals B . Otherwise , A is completely non-comparable toB ."
I have the following code : How can I set restrictions ? I.e . the T to be String or int or double for example . Is this possible ? P.S.I do n't want to use Because I do n't want to have only Strings..
"We already know about this suggestion/practice to use char [ ] instead of String for sensitive data . There is multiple reasons for it . One is to clean up the sensitive data right after they are not needed anymore : Now the question : does it ( i.e . using char [ ] ) make sense ( specifically the point mentioned above ) , when the sensitive data comes to you originally as String value ? for example : Thanks in advance.UPDATE2 : I 'll rephrase the question : in this specific context ( forget about changes in future or anything else ) , does the line `` clearing the content of char array '' do any good ? UPDATE1 : it 's not a duplication of Why is char [ ] preferred over String for passwords ? I know what the story is . I 'm asking in this specific context , does it still make sense ?"
"I had a look at the source code of the String.hashcode ( ) method . This was the implementation in 6-b14 , which has been changed already.My question is about this line : int len = count ; Where count is a global variable representing the amount of characters of the String.Why is a local variable len used here for the loop condition and not the global variable itself ? Because there is no manipulating of the variable , only reading . Is it just good practice to use a local variable if a global field is used for reading from or writing to it ? If the answer is yes why for reading too ?"
I have an adapter class with a checkbox and when the checkbox is selected it pushes a JSONObject key and value to Parse . Inside my app it only saves one key and value to Parse as a JSONObject and I want my app to save several key and values into Parse when selecting other Checkboxes.When I select a different Checkbox it changes the single key and value rather then adding another set to the JSONObjectPhoto of the row inside Parse including the JSONObjectInstead I 'd like to have the JSONObject inside Parse to save data like this when other checkboxes with different keys and values are selected.instead of just having this aloneHere is the code inside my Adapter classChecklistAdapter.java The functional code provided just saves on key and value pair.Edit : If you 're curious about what the Toast does when you click the Checkbox here .
If I evaluate the following expression in Scala REPL : the returned type is : java.lang.String.If I evaluate this similar expression : the returned type is : String.Why the difference ?
"In my current Java/Spring project , I am in the phase of integration with PayPal . After configure a Java class to handle the payment process , following the instructions from here , I run my application and try to checkout an order with paypal.I am redirected correctly to the PayPal login page , and after the login , to this payment review page : but then after I click on `` Continue '' , instead of finalizing the payment , I am redirected to my profile page.Here is my code : Can someone tell me , what am I missing here ?"
"I have a problem where I want to convert a list of POJOs into DTOs and pass them into a wrapper object which is then returned . Consider this working piece of code : I am looking for a way to rewrite this into smaller , maybe more elegant , piece of code using Java lambda expressions . This is what I have done so far . I can do the conversion from POJOs to DTOs but I am struggling to pass the list of DTOs to the constructor of a new wrapper object.How could I get it even shorter a one-liner , something like this ? Obviously , the last piece is not working but that is something I would like to achieve . Any suggestions ? Thank you my friends : )"
"I have this working hierarchy already and the program runs as expected . Basically I have abstracted everything in a Base class and all other subclass adding their own methods.everything looks good until later ( errr ... new requirements ) I realize I need to have a new class ( lets call this class C ) that extends bothclass A and B . Now , in java its not possible to extend two concrete class.I need both of the methods and variables in class A and class B but I dont know how to do this ? Any hints on how do I do this change ? I am not that good in design pattern so i thought of asking it here.ThanksUPDATEThis is actually a JSF Managed Bean wherein I abstracted everything in a Base Managed Bean and all other subclass overriding/adding their own implementations on top of the base managed bean.There is just a new requirement that was added wherein I needed the functionality of both subclasses ( A and B ) into a new subclass ( C )"
"This is what I tried : I compiled the program at first and ran it two consecutive times , I got two different outputs : output 1 : output 2 : I want to know why did the JVM swap the second object 's location to first object 's location When it ran for the second time.. , it is quite bewildering.. ,"
"I developed some code in Eclipse , tested it successfully , pushed it to our Jenkins CI server , and got an email that Maven was choking with a Java compile error . I subsequently isolated the problem and created the following minimal example showing the issue : In Eclipse , this code compiles without error and appears to execute as intended . However , compiling with javac gives the following error : Changing the argument type of transform ( ) from MyFunction to Function , or removing the wildcard ? extends in the argument type , makes the example code compile in javac.Clearly , either Eclipse or javac is in violation of the Java Language Specification . The question is , do I file the bug report on Eclipse or javac ? The type inference rules for generic lambdas are so complex that I have no idea whether this program is legal Java or not according to the JLS . Motivation note In the original code , transform ( ) was Guava 's com.google.common.collect.Lists.transform ( ) . The MyFunction interface was Guava 's com.google.common.base.Function interface , which extends java.util.function.Function for historical reasons . The purpose of this code was to create a view of a list of a first type as a list of a second type . The second type was a functional interface type and I wanted to populate the output list with functions of this type constructed based on the values in the input list—hence the curried lambda expression . Version info for reproducibility Eclipse versions tested : 2018-09 ( 4.9.0 ) Build id : 20180917-1800 2019-03 RC1 ( 4.11 RC1 ) Build id : 20190307-2044 javac versions tested : 1.8.0_121 JDK 10.0.1 via the JDoodle online Java compiler"
"This is just out of curiosity . If I store two recursive numbers or irrational numbers in two doubles and then perform some operations , how does it produce actual result ? For example , Another one : How these accurate results are generated ?"
"I 'm trying to parse the following string to a Date object : Using this SimpleDateFormat : But I 'm getting a : What am I doing wrong , How I should handle the T and the Z letters in the date ?"
"Let 's say we have a class and an overloaded function : and I want to call g with a method reference to a function of type A - > int : This works with javac , but not with eclipse ecj . I submitted a bug report to ecj , but I am not sure if this is an ecj or javac bug and tried to follow the overload resolution algorithm to figure it out . My feeling is that the code should be accepted because it is intuitively reasonable that ToIntFunction is a better match for toInt than ToDoubleFunction . However , my reading of the JLS is that it should be rejected because there is no justification for one being more specific . I have to admit that I am a little lost in the JLS spec and would appreciate some help . I first wanted to compute the type of Main : :double2int , so I looked at 15.13.2 . Type of a Method Reference . It does not define the type , but it defines when the type is compatible in different contexts : A method reference expression is compatible in an assignment context , invocation context , or casting context with a target type T if T is a functional interface type ( §9.8 ) and the expression is congruent with the function type of the ground target type derived from T.The ground types are ToIntFunction < A > and ToDoubleFunction < A > . toInt returns an int which is assignment compatible to double so I would conclude that the method reference is campatible with ToIntFunction < ? extends A > and ToDoubleFunction < ? extends A > in invocation context . This can be verified by assinging the method reference to both ToIntFunction < ? extends A > and ToDoubleFunction < ? extends A > which is accepted in the main function.Then I looked at overload resolution and found 15.12.2.5 . Choosing the Most Specific Method which has a special case for method references to decide which of the two overloads for ToIntFunction or ToDoubleFunction is more specific for the parameter Main : :toInt of compile-time declaration A - > int . A functional interface type S is more specific than a functional interface type T for an expression e if T is not a subtype of S and one of the following is true ( where U1 ... Uk and R1 are the parameter types and return type of the function type of the capture of S , and V1 ... Vk and R2 are the parameter types and return type of the function type of T ) : ... If e is an exact method reference expression ( §15.13.1 ) , then i ) for all i ( 1 ≤ i ≤ k ) , Ui is the same as Vi , and ii ) one of the following is true : R2 is void . R1 < : R2 . R1 is a primitive type , R2 is a reference type , and the compile-time declaration for the method reference has a return type which is a primitive type . R1 is a reference type , R2 is a primitive type , and the compile-time declaration for the method reference has a return type which is a reference type.The first condition obviously does not match because R1 and R2 are not void.The two interfaces ToIntFunction and ToDoubleFunction differ only in their return types which are primitive types double and int . For primitive types , the clause `` R1 < : R2 '' is defined in 4.10.1 according to the size of the types . There is no relation between double and int , so this case does not define which type is more specific . The last two points do not fit either because none of the two functional interfaces have a return value of reference type.It seems that there is no rule for the case when two functional interfaces return primitives and the code should be rejected as ambiguous . However , javac accepts the code , and I would expect it to do so . So I am wondering if that is a missing point in the JLS ."
"Is the following lambda possible somehow in Java ? I 'd like to count elements from my filtered stream but collaterally store the first 10EDIT : It was too implicit from my side , but the idea is meant of course as a potential solution which would be the fastest ( faster than calling twice the stream generator and do both operations separately at least ) : ... taking profit of a single iteration , and without having to load the whole collection on memory . I 'm doing tests with parallelization of the answers"
I have the below codeThe double Value which I set is not returned as output . Double Value using Big Decimal 78871234510124576 Double Value using String format 78871234510124576Is there a standard way to convert a Double to a String without explicit type casting with the range of value being long data type ( max value ) instead of double ? My Intention of asking this question is because am reading an excel sheet using Apache POI with all cell type being general in the Excel . I am using getNumericCellValue ( ) to read the value of a cell which always returns number in decimal format . For example 222 will be returned as 22.0 . I want to remove the decimal and convert it to a String .
"I 'm trying to solve this exercise and here 's my solution . It basically holds a tree map to map the nodes at the same veritical offset to a key . And uses a priority queue to split ties when there are multiple keys at the same ( horizontal level ) using the value at the node . } And to be clear here 's where I think the problem is I get the expected order when a.x isnt equal to b.x but it doesnt seem to go by the val when they 're equal . Here 's the failing test case Actual : [ [ 7,9 ] , [ 5,6 ] , [ 0,2,4 ] , [ 1,3 ] , [ 8 ] ] Expected : [ [ 9,7 ] , [ 5,6 ] , [ 0,2,4 ] , [ 1,3 ] , [ 8 ] ]"
"So my professor mentioned that a break in an if/if-else statement is `` bad '' code.What exactly does she mean by that ? Also how am I able to fix my code that I currently have written , because it does work the way I want it to , it 's just now I need to get ride of the break statement.Essentially I want the user to enter ANY positive number and that number is added to the first or second sum . Once the user enters any number < = 0 I want the program to stop immediately . The issue that I keep having when I tinker with the code is that the code keeps running through . Meaning if I have the user enter in 0 to be added to the first sum , the code still asks the user to enter in a number for the second sum . I need it to stop right away and not continue . Any help would be a great help ! I am using Java.EDIT ! ! ! So let 's say hypothetically I want to make a program that does the exact same thing I am doing now just with no break statement . How would I do so ? A few rules . The most outer statement must be a `` while '' loop . The inner workings of it can be anything . I also need the machine to print out `` Enter a number to add to first sum : '' and `` Enter a number to add to second sum : '' alternating . So if I entered in 1,2,3,4 . The first sum would be 4 and the second sum would be 6 . Last rule is that it can not contain any break statements !"
"I would like to convert an iterator of Strings to Inputstream of bytes . Usually , I can do this by appending all the strings in a StringBuilder and doing : InputStream is = new ByteArrayInputStream ( sb.toString ( ) .getBytes ( ) ) ; But I want to do it lazily because my iterable is provided by Spark and could be very large in length . I found this example to do it in Scala : But I could not find an easy way to convert this into Java . I converted the iterator to stream using Spliterators.spliteratorUnknownSize but then getBytes outputs an array which could not flatten easily . Overall it became pretty messy.Is there an elegant way to do this in Java ?"
"In CXF 2 I could set the level like this : However , in CXF 3 cacheLevel property is missing in org.apache.cxf.transport.jms.JMSConfiguration.How can I set the cache level in CXF 3 ? Thanks in advance ."
"I am trying to implement a new architectural approach for inter-layer communication by using abstract models and decorators.Conventionally , when we design the layers of a monolithic application , we would have a application ( controller ) layer , a domain ( business ) layer and an infrastructure ( persistence ) layer . Those layers communicates with each other by a concrete model definition , that when being read from a database , navigates through a repository , then to a service and finally to a controller that dispatches it out to a client.That said , let 's get to the point ... Normally the infrastructure model must not be the same as the business model which also must not be the same as the UI model.The infrastructure model may concern only with it 's destination repository strucutre , the domain layer may concern only with business operations , and the UI layer must only be concerned with it 's clients and data read/input.All those layers must `` understand '' an abstraction of each other , or even implement bi-directional value mapping ( or DTOs ) , in order to communicate between them . Mapping/DTO is a bad approach because we would have unnecessary processing for data-mapping.So , here is what I 'm trying to do : Separate layers by using decorators for communication.In that approach , we would have abstract components and it 's decorators on a shared module , and each layer would have it 's own decorator.Eg . : AbstractFoo is an abstraction ; FooDecorator implements AbstractFoo and also wraps an AbstractFoo ; FooEntity is an infrastructure model that implements FooDecorator and handle persistence stuffFooBusiness is a business model that implements FooEntity decorator and handle business stuffFooView is a controller model that implements FooBusiness decorator and handle UI fields , encoding and etc ... With that approach we could : Have only 1 object in memory holding Foo information , but every layer '' minds it 's own business '' .Separate the layers in different modules , so the business only imports the infra , and the app layer only imports the business.We could distribute stubs for dumb logics without giving away ourdomain , like a shopping-cart service that must only know the summaryof a Product , but not the domain object itself.We could have different teams working in different layers of the application without conflict.Here 's an example on paper : SketchSo ... what I ask is for suggestion , tips and some opinions if it 's a good approach . [ UPDATE # 1 ] : To simplify my question , I will post a use case below : Shared Components : Infrastructure Layer : Domain ( business ) LayerApplication ( view ) Layer-"
"Can someone explain to me why .net is calculating these differently to JavaThe equationJava calculates it as.Net calculates as My issue is that I need .Net to calculate the same as Java as i 'm porting across a decryption function and if it calculates differently then the decryption is n't going to be right . Any help would be appreciated. -- Update -- Thanks guys , Xor was what I should of been using . Plus need to workaround Java not throwing an exception when an Integer number is too big.Xor gives a result of -3121757145Combine this with the answer from this link I found - Java sum 2 negative numbers . Gives the same result as Java"
"The following code prints true for 100 times : Granted , 100 times is not a guarantee . But does n't it seem though that even if the identity used here does not meet the requirement `` ... for all u , combiner.apply ( identity , u ) is equal to u '' per the doc , we can still say that a parallel stream derived from a list or any other inherently ordered structure will behave just like a sequential stream in reduce ( ) returning the same output ?"
"I have difficulties in naming the two kinds of scopes that I see in Java : The case is mostly with f = 3 and g = 2 ; A while statement does n't introduce a new scope , so I ca n't create a while-local variable named f. But if I create a local variable named g then I can `` re-create '' it after the loop . Why ? I know it 's no longer accessible , but if the compiler checks accessibility then it almost checks scopes..So I was wondering what is the deal here , what are these concepts called ? Is it the same as in C++ ? I just managed to install g++ and tried it out myself : So apparently C++ treats all scopes equally !"
"I am struggling a bit with class casting . Let me set the scene . I have java server code that uses a service and orchestrator layer . A request comes into the service layer in a bean format ( java class aligned with the front end view ) , and then i have a bunch of domainBeanMapper classes which take a bean format object and translate it to a domain format object . Eg UserBean has a dateOfBirth represented by a string , while User has the dateOfBirth represented by a Date so the UserMapper.java will make the date string into a date object . So for each object in the system i have a *.java , *Bean.java and *Mapper.java ( User.java , UserBean.java , userMapper.java ) . in applicationContext i hold the relationship from each object to their mapper , like this : and then i define the mapper : I call the domain bean mappers like this from my service layer : In the run of this code I find the mapper object that I want like this : where findApplicableMapper works like this : For the last few years , this has worked like a charm . For whatever object I want in the system i can easily pick out the relevant mapper and then translate from my bean format to domain format and vice-versa , based on the .getClass ( ) call of any instance . Now , I have a new requirement that is giving me trouble . I want to be able to translate from my User object to several sub-objects based on a parameter . So for some calls , i want just the id , firstName and lastName back . For other calls I want more fields , but still not the whole object , and then for some calls I want the whole object back like before . I do n't want to go down the sub-objects path and end up with UserLight , UserLightWithName , UserLightWithNameButNoAddress , ... argh nightmare . So instead I was hoping to create a bunch of interfaces representing `` views '' . So the request comes in with the ViewType of Basic , and that means I want the user 's personal details and address . So I wrote an interface called UserBasic , got User to implement it , and added a mapping from UserBasic to UserBasicMapper , and from UserBasicBean to UserBasicMapper , in the hope that I could make the translate call like this : but this does n't work because getClass ( ) always returns the instances class , not the interface that it has been cast to . I guess I can always add another paramater to the mapDomainToBean call which is the class that I want used , but the codebase is quite massive and I will need to touch on every call if i make that change . So basically I 'm looking for a way to cast an instance to an interface type and then find that interface type ? Is this possible ? ? crosses fingers ..."
why does it work with streams and does not work for the simple set ?
I used it works fine if in the following caseproduces : but in case of following string it only removes the square brackets within square brackets in the first runproduces :
"At vJUG24 , one of the topics was JVM performance.Slides can be found here.He had an example : which was called via ( ca n't quite read the slide properly , but it 's similar ) : He said because it was a static method , it could be optimised by inlining it like this : Why is it important that the log method is static for the JVM to make this optimisation ?"
In one of my Java classes I have these 2 very similar functions . Is there a way in Java to combine them into one function so I do n't have to maintain 2 functions ?
"I am wondering whether you would consider it a good practice to remove references ( setting them to null ) to objects in order to help the Java Garbage Collector.For instance , let 's say you have a class with two fields , one of them being very memory-consuming . If you know you only need it for a particular processing , you can null it right after to help the GC.Assume I really need those two to be fields , and not only internal variables , so heavyObject1 can not be out of scope at the end of the method.Would you do this as a general practice ?"
"Why java += get wrong result , and how can I prevent this problem ? ( for example any way show warning in IDE ? ) I tried eclipse & IntelliJ but both not show any warning.Sample code :"
I 'm facing an issue with generic types : What 's the best solution between the 1. and the 4 . ( or any other one by the way ) ?
"Do Java ( 9+ ) streams support a HAVING clause similar to SQL ? Use case : grouping and then dropping all groups with certain count . Is it possible to write the following SQL clause as Java stream ? The closest I could come up with was : but extracting the entrySet of the grouped result to collect twice feels strange and especially the terminal collect call is basically mapping a map to itself.I see that there are collectingAndThen and filtering collectors , but I do n't know if they would solve my problem ( or rather how to apply them correctly ) .Is there a better ( more idiomatic ) version of the above , or am I stuck with collecting to an intermediate map , filtering that and then collecting to the final map ?"
"Some informationI am working on a program that works with basic sets and antichains.Antichains are subsets of the powerset of a set so that no two elements ( sets ) in this subset are subset of another element ( set ) in this subset . For instance { { 1 } , { 1,2 } } is not an antichain because { 1 } ⊆ { 1,2 } .Some of the most important operations on antichains A and B can be defined asa.join ( b ) = sup ( a ∪ b ) a.meet ( b ) = sup ( { X ∩ Y | X ∈ a and Y ∈ b } ) Where sup is the supremum of an antichain , meaning the smallest antichain bigger than the given set.Representation thus farThe basic set is represented by a long , bitarray-alike . This means that every element of the set is represented by a 1 in the bitarray . For instance the set { 1,2,3 } is represented by 7 ( the bitarray 111 ) and the set { 1,2,4 } is represented by 11 ( the bitarray 1011 ) and so on.Now I wanted to lift this representation to represent the antichains in a similar way . This means I could represent the antichain { { 1 } , { 2,3 } } as 1000010 in a bitarray , because the long storing the set { 1 } is 1 and for { 2,3 } it is 6 ( the indices of the 1 's in the bitarray ) .Unless I find some better alternatives , I use the BitSet-class to work with this bitarray , hoping to save some time over working with any Collection < T > .I managed already to define and optimise most of the elementary operations stated before , but they were optimised in an older implementation , simply using a TreeSet , thus not optimised for working with the bitarray.My questionsMy question now is whether BitSet is the optimal representation , knowing that these bitarray-representations double in size every time an element to the starting set is added . I also thought of BigInteger for instance , having the advantage to be comparable ( something I also need ) .Also I would like to know whether anybody already did something likely and knows how to implement the join and meet efficiently , using bitarray-properties.Thanks in advance.Edit : The code for my join and meet look like this , for the moment :"
"I am moving to use Java11 . Learning a new method Predicate.not , I found my current code to find only cat family as : output is : leopard , cat , lionNow I am trying to use the new method and the output is coming incorrect . How do I correct it ? What did I do wrong ? My later code : But this outputs all my list now . horse , leopard , cat , dog , lion"
My web app seems to be running out of memory which I think is due to a thread leak . It seems that threads are being stuck at waiting and this grows larger and larger until the memory reaches the top of the heap size . The thread size increases on my local Tomcat Server of the web app while idling and not using the web application . I do n't have a great understanding of thread leaks but i 'm sure threads are mean to be released to free up allocated memory.I have taken a thread dump and a lot of these threads are waiting on com.mashape.unirest.http.utils.SyncIdleConnectionMonitorThread as shown below.Any helpful tips to solve this issue would be appreciated .
"I have simple code : I want to know why is possible , butimpossible ! Who can explain ? Who can specify common rule for similar issues ?"
"As we know , String ( ) .intern ( ) method add String value in string pool if it 's not already exist . If exists , it returns the reference of that value/object . I need to know , when i call test.intern ( ) what this intern method will do ? add `` dog '' with different reference in string pool or add test object reference in string pool ( i think , it 's not the case ) ? I tried this I just want to make sure , when I call test.intern ( ) it creates new object with same value in String pool ? now I have 2 objects with value `` dog '' . one exist directly in heap and other is in String pool ?"
I have the following saved json data in Elasticsearch : i want to delete all list of ids which its expirationDate are smaller than today using QueryBuilder in springdata Elasticsearch
"I have two generic methods , which are designed to force the caller to provide parameters that match type wise : However , when calling them , the compiler reasons differently on what is allowed to pass as parameters : How come ? Is the compiler just too clumsy to properly reason about types here , or is this a feature of the type system ? If so , what are the rules that lead to this behavior ? Also , how would I create a `` type safe '' version of compareValues without adding artificial parameters , if at all possible ? Please note , that the provided methods merely contain a dummy implementation and do not reflect the code in my actual code base . The focus here are solely the method calls ."
Creating the apache Abdera client is failingPart of my code isThis is throwing me ... Any help ! !
"I have an ArrayList which contains some values with duplicates and elements that occur thrice , I want to collect those values that occur thrice specifically into another ArrayList likeHere , I want to get only the Strings that occur thrice in another array list.Currently , I have a solution for dealing with duplicates but I can not extend this for only getting strings that occur thrice , this please help me to find out ."
I have below working groovy code from Spring framework project : Unmarshaller.unmarshall is actually interface method : https : //docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/oxm/Unmarshaller.htmlUnmarshaller interface is implemented by several classes.Who decides which implementing class to inject during runtime and how it decides which class to use ? Does Spring IoC mechanism does this ? If so does it pick up one specific implementing class during build time when jar is generated or it does it during run time ? Also how to know which implementing class it actually used ? Will above code work outside of Spring in ordinary Java file assuming dependent jars in classpath ?
I 'm implementing the visitor pattern for a project and realized I may be able to save some typing by having the default implementation of accept be the following.However if the static type of this resolves to Visitable this implementation will not work so what is the static type of this in this situation ?
The following code : prints : How is the lambda invocation implemented ? Why are there 2 stack frames ?
"So , how to get outcome of this code using functional programming : Which throws out `` Total of reduced numbers : 47.7 '' How to get the same outcome using functional programming tools like map ( ) , reduce ( ) etc ?"
"This might seem to be a no-brainer at first glance . It probably is , but a few things have me feeling I might be missing something . First the Java documentation for Character.isWhitespace seems to exclude it . The definition for what is and what is not allowed as whitespace seems very definitive ( 'if and only if ' ) and the first line says not a non-breaking space.I have always regarded an ordinary 'space ' - that thing you get when you press a spacebar - as a non-breaking space.So where does it fit in the list ? The list is regarded as definitive in the highest rated answer to this question - am I simply reading it wrong ? Also , the first commenter to the top answer in this question seems to have his doubts ( in a different context ) . Yet when I construct a simple bit of code to test , it indicates that a normal space is an instance of whitespace , as one would expect.So , am I reading the first item on the list wrongly , is it somewhere else on the list , or is the list itself simply wrong ?"
"I have a recent interview question , reordering of elements in an array with minimum memory usage . Not to use any additional variable or collections etc.input : output :"
"This is my first question . These 2 create method questions , were on a quiz I took . Create a method , to find a radius , double r. Return the array and its indices , from the 2d circles array . If you ca n't find double r , return { -1 , -1 } . **Create a method to swap the circles , using the findCircleWithRadius method ."
"I have a question regarding the JLS 3rd edition , and the inference mechanism . It is stated in the section 15.12.2.7 that : If F = U [ ] , where the type U involves Tj , then if A is an array type V [ ] , or a type variable with an upper bound that is an array type V [ ] I tried to create a type variable with an array type upper bound , but this does not seem to be accepted by the compiler . Something like : My question is : is the JLS wrong in this fragment , or did I miss something ? The last part of the sentence seems unsatisfiable for me.Thanks"
"I used to declare a final String inside a constructor . Now I want to insert an if-statement in order to declare it differently if needed.I used to do : Now I 'm tryingUnfortunately path can not be found now ( can not find symbol error ) and I 'm really lost with my research understanding this.The following works though , I just can not explain ... I must have a deep miss conception about something here.Can you explain me what is going on here , what should I read about to get this ."
"I have to design an interface for hierarchical entity : It 's quite easy to implement default getAncestors ( ) method in terms of getParent ( ) in such a way that the former would return Stream of all the ancestors . Implementation example : But I need to also include this into the stream , and here a problem appears . The following line is not correct because this is of type HierarchicalEntity , not T : How can I redesign the interface in order to make getAncestors ( ) include this into the result ?"
"I want to create a sentence from words from two different lists . Like the example above : `` list1w1 list2w1 list1w2 list2w2 list1w3 list2w3 ... '' I know how to do it with for loop , but I want to use streams . Is it even possible ? My current solution :"
I would like to initialize List of my Dto the shortest way possible . Right now I 'm using : Is there any way of making it a one-liner ?
I am trying to read and understand some Java code . Here it is : What does the < ? super PopulationLoadContext > mean ?
"I have a list of LocalDates lets say 14-06-2020 , 15-06-2020 , 17-06-2020 , 19-06-2020 , 20-06-2020 , 21-06-2020 and I want to have all consecutive intervals from above dates . So the output would be likeWhat would be the most efficient way to do in JavaSo I have create an Interval class that would hold start and enddateI can iterate over each element in list of dates and then check for logic if two dates are consecutive something in below line , I wanted to check if there is something better using stream api or can i group dates by consecutive days and then collect them using interval"
"I built a quite fat JavaFX application ( the JAR is about 128 MB ) and I got no problem in running in through IntelliJ . But when I run it from the terminal my 3D model loaders ( Fxyz3d library ) launch this exception.This is thrown only for the 3D-object Loader from the Fxyz3d library , not for my other normal FXML loaders . I 'm using the same way to get the files from my src/main/resources folder , that is getClass ( ) .getResource.So is this really a path issue ? or is it a library issue ? In IntelliJ there 's no problem at all instead , it all works fine.Here it 's the part of the code that does n't work : If anyone has encountered something like this before and knows what it going on , help would be really appreciated"
"java.lang.Class has methods to test if a given type is : isAnnotationisArrayisEnumisInterfaceisPrimitivebut how does one test that an object of type Class ( instanceof Class is true ) represents a declared , non-abstract class rather than in interface , enum , primitive , array , etc . For example : I was looking for a isClass method , but there isn't.UpdateI see the confusion generated by my question - while some people got my question.I did some further research and found out that in .NEThttp : //msdn.microsoft.com/en-us/library/system.type.isclass.aspx , there this is a isClass member and I was looking for a similar method in java.lang.Class.I now know that the equivalent in Java is to test for all the other isXXX methods to find out that it 's not a class ."
"I have Map < Integer , Doctor > docLib=new HashMap < > ( ) ; to save class of Doctor.Class Doctor has methods : getSpecialization ( ) return a String , getPatients ( ) to return a collection of class Person.In the main method , I type : As you can see , I have problem with groupingBy , I try to send the same value d to the method , but it 's wrong.How to solve this ?"
I face the below problem in java 8 the real question is why there is an extra character appended to the currency symbol .. ? why the above program behaves in this way ... ? .what is the problem in it & how to rectify it .. ? Thanks
I tried to set up a onClickListener inside my fragment.Here is my layout : Does anyone know why the onClick method never gets called when I hit my button ? Did I miss anything ?
"Note : I am well aware that initializing it fixes the problem ; I just assumed the compiler would follow the execution path and see that foo would actually be initialized at the point where it suggests it 'may ' not be.My initial assumption would be that if the length was never over 3 , I would never need to allocate memory for it to be used.This will never be used in production , I am simply curiousSee the following example : -Why is this causing the following to be displayed ? The local variable foo may not have been initializedSurely following the branches , there is never a case whereby foo is not initialized . I know that if I were to do : -there would be no compilation problems , but why do I need to do this ?"
"I am trying to demonstrate an `` anytime algorithm '' - an algorithm that can be stopped at any time and returns its current result . The demo algorithm just returns some mathematical function of i , where i is increasing . It chcecks whether it is interrupted , and if so , returns the current value : In the main program , I use it like this : When I run this program , I get the following input : I.e , the first three threads are really interrupted when I tell them to , but the last thread is not interrupted after 1 second - it continues working for almost 22 seconds . Why does this happen ? EDIT : I get similar results using Future.get with a timeout . In this code : if the timeout is at most 800 then everything works find and it prints something like `` Timeout after 806.0 [ ms ] '' . But if the timeout is 900 it prints `` Timeout after 5084.0 [ ms ] '' .EDIT 2 : my computer has 4 cores . The program rusn on Open JDK 8 ."
"In the program I 'm currently working on , there 's one part that 's taking a bit long . Basically , I have a list of Strings and one target phrase . As an example , let 's say the target phrase is `` inventory of finished goods '' . Now , after filtering out the stop word ( of ) , I want to extract all Strings from the list that contains one of the three words : `` inventory '' , `` finished '' , and `` goods '' . Right now , I implemented the idea as follows : The list contains over 100k words , and with this it takes rounghly .4 to .8 seconds to complete the task for each target phrase . The things is , I have a lot of these target phrases to process , and the seconds really add up . Thus , I was wondering if anyone knew of a more efficient way to complete this task ? Thanks for the help in advance !"
"Here is my code [ Kotlin ] [ Java ] - it inherits kotlin class Parent.the Parent class has the Generics called T ( out ) , V ( in ) , so I think..the constructor of class Child should be..i.e . the second argument vList should bebecause the V of parent 's Generic is 'in ' but it's..is there anyone can explain this ? help me ! [ Edited ] ... It 's possible.. the code in my question is just generated code from IDE.."
"Let 's say I have the following method I want to refactorThis method 's purpose is to act as a proxy attaching error handling on the stream rethrowing in a wrapping exception CustomRuntimeException . So when we consume it later in the flow , I do n't have to handle those exceptions everywhere but only CustomRuntimeException.Upstream , I used that method as followAnd here 's what the parser.parse method looks likeThe exceptions I want to handle will be thrown by the ValueIterator.hasNext method . Which means they wo n't be thrown at Stream creation but only at Stream consumption ( calling foreach/map/count/collect/ ... on the stream ) .How do I attach error handling on my stream in method parseFile nicely without having to consume the stream ? Is it possible ? Obviously this code will work only if the parser.parse method consume its stream before returning it . Which is against using streams ."
"I have two numbers . I want the lower number to be the subtracted from both values.The following is kinda ugly to me , so is there a better approach I could do this ?"
"This question lead me to do some testing : Tangential to the other post , it 's interesting to note how much faster the comparison is when the Object that we 're comparing is initialized . The first two numbers in each output are when the Object was null and the latter two numbers are when the Object was initialized . I ran 21 additional executions of the program , in all 30 executions , the comparison was much faster when the Object was initialized . What 's going on here ?"
Why does a distinct count of an int array return a different result than a count of an Integer array ? I would expect a result of 3 in both cases.Results
"I 'm rebuilding my app from java to flutter . I 'm using firebase to store colors as integer values . In java I can use the following to convert rgb values to integer values : And I can use the following to convert from an integer value to rgb : How can I convert a Java integercolor to a flutter color and back ? An example , lets take RGB 154 , 255 , 147In flutter this would be the result is 4288348051In java this would be -6619245"
I came across this bug in our code today and it took a while to figure . I found it interesting so I decided to share it . Here is a simplified version of the problem : Guess what Test.getTest ( ) ; returns & why ?
"I 'm currently dealing with 2 systems that expose interop via their own RESTful JSON APIs . One is in C # with JSON.NET and one is Java Spring Boot Starter ( Jackson JSON ) . I have full control over both systems.Both systems need to transfer JSON data with reference handling . Whilst both JSON serialization frameworks support it , C # JSON.NET uses `` $ id '' and `` $ ref '' syntax to signify references whilst Java 's Jackson uses something plainer with only `` id '' .I am much less familiar with Java than I am C # so I would more readily accept and understand any solution on getting JSON ref handling working both ways on the C # side . How can I get these two systems to interop with JSON refs ? C # JSON.NET reference handling documentation.Example JSON coming from Java JacksonNote that it is possible to mark up what class property Jackson uses as the reference . In this case I am using the Id variable as it will always locally unique to the type ."
"I developed a breakout alike game with a friend using HTML5 WebSockets and java as backend and recently deployed my game on a Glassfish server that 's running on the 20 $ Digitalocean droplet ( 3GB ram , 2cpu 's ) .When developing the game I worked with IntelliJ and a co-worker with Netbeans , when deploying our WAR file on the Glassfish servers running on our PC everything is working as expected . But when deploying the exact same WAR file on the droplet , the ball seems to be moving 3 times as fast.I have tried reproducing the issue by installing the same Ubuntu server as the droplet on a virtual machine and executing the same steps I used to install OpenJDK , Glassfish , ... but on the VM it was working fine as well.Other droplets with 1 CPU ( tried ubuntu and centos ) produces the same issues . I wonder what might be the cause of this issue that I 'm missing ? Below is the code that I 'm using for the connection/game : WebSocket : Game class with the ball move method underneath :"
So I wrote some code and Netbeans suggests convert to try-with-resources on the same line I instantiate sc . This suggestion pops up the moment I put the sc.close ( ) after the while-loop . I do n't quite understand why this close-operation is badly placed .
I have the following ( kotlin ) code : and then of coursebut for the life of me I ca n't figure out how to create a trivial entry in this section : The basic cards appear in the Google Assistant section ( obviously ) .What am I missing in order to create default simple default responses ? If you are thinking `` oh that 's easy - it 's ... . '' then yes you are correct - it is simple I just ca n't find it . FWIW . Some of my ( not working ) attempts look like :
"As we already know that the URL and FORM scope variables can be modified using external proxy tools.For example if someone makes a request like this - http : \\website\index.cfm ? a=1 & b=2This way one can add values to URL scope of a .cfm page.Similarly is there any way to add/alter value to request scope in ColdFusion without it being set in code explicitly.I am asking this because we have a code like this in one of CFM page.The security team is saying that the above code is vulnerable because REQUEST scope in JAVA can be tampered/altered by external proxy tools . And since ColdFusion is build on JAVA , ColdFusion 's REQUESTcan also be tampered by external proxy tools . Is this a right assumption ? Is JAVA and ColdFusion REQUEST scope same ? And finally the main question - Is there any way an external request to the page mentioned above in the example , modify the REQUEST scope or to be more precise REQUEST.uploadFileDir variable ?"
"Lets assume i want to iterate over a collection of objects.How does the second example ( without lambdas ) work ? A new object ( Predicate and Consumer ) created every time i call the code , how much can java jit compiler optimalize a lambda expression ? For a better performace should i declare all lambdas as a variable and always only pass a reference ?"
"The foo method in following example gives us a warning , while bar not ?"
"How can I use Java8 Supplier interface to rewrite this factory method to provide the proper typed instance ? I 've a simple interface that extends Map : Then I have a ThingyFactory class , which contains a list of all of the implementation classnames of Thingy : I 'm pretty sure that I can do this elegantly and w/o the SuppressWarnings and classloader using the Supplier interface but I ca n't seem to get the pattern quite right . Any guidance appreciated !"
"I would like to upload large files in a POST request using Volley . I tried to use a VolleyMultiPartRequest library , but I get java.lang.OutOfMemoryError : All of the libraries like VolleyPlus MultiPartRequest overrides the function public byte [ ] getBody ( ) . This seems to be the problem , because if a large file is converted into a byte array , then it can not fit into the memory . I need to send the request in chunks . How is that possible ?"
"Basically I need jacoco only instrument the tests part , but is instrumententing the entire pom.xml , and the report came with everything ( Data from “ oracle.jdbc.driver ” , “ com.mysql.jdbc ” … etc . ) I 've been trying for a couple of days with almost everything . But I have not succeeded so farNotice here how jacoco : instrument instrument the entire pom.xmlAnd my tests run inThis is my maven flow : Any real example here would be great In `` Jacoco default-instrument '' for run only tests part . It is that possible ?"
How is it possible for the following line to compile : Provided getInteger ( ) is typed as following
"I have a list of EmployeeI want to get Map < Employee , List < Employee > > where map key is for each Department 's max salary employee and value is all employee of that department.I am trying to groupingBy but it gives all employee with Department map . How to get all max salary employee as map key ?"
"I 'm new in java , spring and kafkaI have the next code for sending messageMy configuration for producer : I want to send message with my consumer group ( example `` MyConsumerGroup '' ) , but I do n't know how I can to do itthanks for help"
There is a old Java code ( without lambda expressions ) : I 'm trying to rewrite this code to Java 8 Stream API style : PROBLEM : The function isCheckerBlocked ( ) ( which uses in last filter ( ) operation ) takes variable of VectorDirection type ( variable d ) . But after calling map ( ) function I lose access to this variable . How I can save access to d variable after calling map ( ) function ? Thank you for attention .
"In the past I have seen people using the following 2 idioms to inject dependencies from the same @ Configuration : Is there any practical difference between them ? Does Spring process the whole instantiation method in each call for IDIOM 1 ? ( relevant if method has any side-effect , might be not idempotent ) ? Does otherwise Spring inject the global managed instance when injecting for IDIOM 1 ? ( relevant If some external process changes the state of the original singleton bean ) Is Spring container that smart ?"
"I ca n't figure out the smallest upper barriers for those twoi thought about log3 ( n ) for the first oneand O ( n ! ) for the second , but i 'm not sure about that , because i have not really understood the subject"
"I think example of volatile in Java specification is a little wrong.In 8.3.1.4. volatile Fields , it says ... then method two could occasionally print a value for j that is greater than the value of i , because the example includes no synchronization and , under the rules explained in§17.4 , the shared values of i and j might be updated out of order.I think even if these updates are in order , method two may still see j greater than i , since System.out.println ( `` i= '' + i + `` j= '' + j ) is not atomic , and i is read before j.method two is the same like So it is possible thatIn this case method two see a value for j that is greater than i , however updates are NOT out of order.So out of order is not the only reason to see j > iShould it be System.out.println ( `` j= '' + j + `` i= '' + i ) ; ? This time out of order is the only reason to see j > i"
"I 've come across something I find odd in Java and have n't been able to find much information on it . Consider the following code : The compiler shows an error on the getMap ( ) method : But the same error is not present for the getList ( ) method , yet I would expect either both to work or both to fail . In both cases , the overriding method is delcaring List < String > in place of List < ? extends Object > . Can someone explain this ?"
Is this good OO Design assuming you want every inheriting class to be a infinite Thread ? Any better/more elegant way of doing similar thing ?
"Obtaining an intersection of two streams , or finding whether their intersection is empty or not is generally not possible in Java , since streams can only be used once , and the generic solution has a complexity.If we do n't know anything about the nature of the underlying supplier , we can get away with at most one stream and one collection : Still , what if both our suppliers represent ordered collections sorted using the same comparator ( in the most simple case , two TreeSets of Comparables ) ? In this case , solution will have linear complexity ( or , more precise , , see this answer ) .Now the question : can the above linear solution be implemented using only Stream API ( i. e. using two streams as the input ) ?"
I have a class that I want to test . It looks similar to this : Class Dependency1 is complex and I would like to mock it out when writing a unit test for methodUnderTest ( ) .How do I do that ?
"I have a java interface like thisplease note the < V extends T > type parameter of the method.Then I have a class MyFoo implements MyInterfaceSo when I now have a class like this : Then I want to take MyFoo to set Other in a Bar instance : This works perfectly . Type can be determined by java generics . No additional cast is needed.However , if I want to use bar.setOther ( ) then the type can not be determined : Then I get the following compile error : error : incompatible types : Object can not be converted to OtherI do n't understand why this does n't work for the bar.setOther ( foo.get ( ) ) method but works when accessing the field directly bar.other = foo.get ( ) Any idea how to solve that without adding an extra cast like bar.setOther ( ( Other ) foo.get ( ) )"
"I want to know if the below code is violating open closed principle . Animal is a parent class of Dog , however Animal has jackson annotations that help ObjectMapper ( de ) serialize the classes . Anyone who extends Animal will have to edit only annotations present on Animal to make sure ( de ) serialization works as intended leaving the class untouched ."
I know this question is basic but I am looking for a less-clumsy approach to the following if statement : I should also note that sOne.Contains ( ) refers to the following code ... It should also be noted that those five chars will never be changed .
"BackgroundI am exposing the following interface as part of an API : The client passes me models of `` pastures '' as objects implementing this interface . Each object represents one pasture.On my side of the API , I keep track of `` visits '' to these objects at various times , then invoke pasture.yield ( time , lastVisitTime ) when I need to know how much the pasture would have produced in the mean time.The problem arises that this interface can be implemented on the client side as a lambda expression , and apparently each lambda expression instantiation does not necessarily create a new object with a new identity , which is what I rely on in order to keep track of which pastures were visited at what times.QuestionIs there a way of preventing the interface from being implemented as a lambda expression , forcing instead that the client implements it as an anonymous class . Adding a dummy method to it would do the trick , of course , but that would be arbitrary and untidy in my opinion . Is there another way ?"
"I have a resource called Pricing which i want to retrieve . An Offer can have pricing and a Promo can have Pricing resource and there is another entity Customer with which Pricing can be mapped . I want to retrieve Pricing based on either one of OfferId/PromoId/CustomerId.To design the URLs for this , i 'm running into two options : Option 1 : Pass it as query stringOption 2 : Have three APIsIMO , OfferId/PromoId/CustomerId should be treated as attribute of the resource . Therefore pass attribute as query string.I 'm more inclined towards Option 1.Option 2 avoids if else condition to retrieve the resource and looks much cleaner but does it seems to be supporting REST standard of URL design ? What 's the REST standard to design the URL . Which option would you recommend ?"
I am a noob to regex.I have string like : -andi have to extract all patterns matched with this type $ { ... . } Like : - for given str result should be further if it finds any duplicates then gives only one . for ex : -result should be : - onlythis is my answer : -but this one not giving the correct result.it gives only So please suggest me correct regex .
"In my project I need to process objects in different threads . To manipulate stream 's behaviour I create new observables to change their observeOn ( ) this way : But I think in RxJava there is much more beautiful and efficient way to process one response in different threads . I tried to google it , but I did n't find anything.Thanks , Anton"
"How to get all elements of a list by instance ? I have a list that can have any class implementation of an interface Foo : I want to use the java8 stream api to provide a utility method for extracting all elements of a specific class type : using : Result : It works , but I have to add @ SuppressWarnings due to the unchecked cast of ( List < T > ) . How can I avoid this ?"
I want to understand why the following code throws Null pointer exception .
"I 'm trying to get as much performance as possible from some internal method.The Java code is : In my profiler I saw there is 1 % CPU spend in java.util.Objects.requireNonNull , but I do n't even call that . When inspecting the bytecode , I saw this : So the compiler generates this ( useless ? ) check . I work on primitives , which can not be null anyways , so why does the compiler generate this line ? Is it a bug ? Or 'normal ' behaviour ? ( I might work around with a bitmask , but I 'm just curious ) [ UPDATE ] The operator seems to be having nothing to do with it ( see answer below ) Using the eclipse compiler ( version 4.10 ) I get this more reasonable result : So that is more logical ."
"I was looking through code in Guava https : //github.com/google/guava and I see a lot of cool optimizations.I was wondering if using & over & & is an optimization and if it is , why is it ? Could it be a style choice ? We are squaring an int b in the IntMath.checkedPow function . We want to check that b * b does not overflow : In this example , why was & used over & & ? Edit : Matt is correct . I compiled this Java code in Java 8 : I looked at the Byte code using Intellij . I see that we are using branching in the `` and '' function because we have IFEQ and GOTO.To answer the question , & is faster if the cost of evaluating an extra < = is faster than branching.Erwin 's comment made me look closer at the actual while loop . b *=b is in a while loop which may repeat a lot . However , b can only be negative in the first loop because when we pass b *= b : b will be positive from then on ."
"My understanding is that you can not reference a variable before it has been declared , and that all code ( including instance initializers ) that is within the body of a class , but outside of any method , is executed in order before constructor when the object is created ( the exception being static variables and initializer blocks , which are run in order at the beginning of the program , to initialize the entire class ) . Why , then , does the following code compile ( and run ! ) :"
"I am using Java 8 , after following documentation : How to Use Tables - Using an Editor to Validate User-Entered TextI 'd like to setup a specialized formatter when editing a column in my JTable . This column contains java.time.LocalTime instances.Where LocalTimeEditor is defined by ( tentatively ) : But this leads to the following compilation error : I 'd like to stay away from a solution involving SimpleDateFormat ( +DateFormatter ) as explained here or here , since java.util.Date should be considered legacy ( see old code here ) .Is there a solution to integrate DateTimeFormatter with JFormattedTextField , or am I blocked by : JDK-8034818 - JFormattedTextField does not accept DateTimeFormatter as formatterI 'd also like to stay away from MaskFormatter , since it does not allow easy error handling for something like : `` 25:70:90 '' ."
"I am working out with Java Puzzlers second puzzle.You will think the answer is 0.9 . But it is not . If you workout this you will get 0.8999999 . The solution given isNow it will print 0.9 . I understood why it prints 0.89999 . But whileI am curiously debugging BigDecimal class , I found there are many constant values substituted in most of the places . I 'll list all those below and interested to know the reason behind it.BigDecimal.java line number 394 , Here Character.digit ( c,10 ) .Here 10 is passed as radix.Q1 . Why 10 is passed there. ? ? BigDecimal.java line number 732Q2 . If you look into the code in depth , you can understand what the valBits is , and I am unable to understand why rightshift is used some where ? Q3 . Here also you can see there as many constants like 63 , 52 are used . Why ? Q4 . I can understand that the hexadecimal 0x7ffL used here will increase the speed of execution . Again why BitWise & operator is used there with the hexadecimal constant.I hope my question is clear . Sincerely your patience is appreciated ."
"I have two functions . One works fine , while the other does n't compile . Not able to spot the cause . Can you please help me here ? This works fine This one does n't compile"
"I am unable to grasp the idea of either addition operator or short data-type.It 's said that ; which will not compile because addition operator always cast short , chart , byte data-types to int and I understand this . But this ; works totally fine . So , if addition operator auto converts short to int and then apply the result ( where result ofcourse will be an int ) , why this works fine ? Edit : This question is not duplicate of Primitive type 'short ' - casting in Java since I understand the conversions process . Also , the question talks about conversions of data types where as my question relates to int literals ."
"I want to change the value of a field in a Stream . I am trying to change it in a .map but I got a compilation error Syntax error on token ( s ) , misplaced construct ( s ) the stream :"
"I 'm trying to obtain the lowest level of byte counting possible with URLConnection . I already went to count the data passing by the two streams , with CountingInputStream and CountingOutputStream from the Apache Commons IO but the byte counting I get there is equal to the body size I 'm sending + response body size I 'm receiving back.In HttpClient , I had a MeasuringClientConnManager with what I presume being a more low level byte counting.To get the most exact value , I 'm comparing the counting on those libraries with those methods , using TrafficStats : Using those methods I obtained much closer values with HttpClient than URLConnection . Two questions : How come on URLConnection , I do n't see on the OutputStream some byte size indication the headers are sent ? How come I see there only the body size ? Where are the headers ? The url call ? The DNS resolving bytes ? Is there a way to measure every byte that a call to the URLConnection library sends on the network interface ? The lowest level , the better !"
"ProblemWhen I am starting the PetUI main class from the actionPerformed function in my StartGUI class , the PetUI dialog does not start with anything on the screen but it seems to be running in the background . For debugging purposes , the pet will die within a few seconds . Once the pet dies , the screen updates and you can see the correct screen until you press OK and it will load the StartGUI class again so you can make a new pet and start over.NoteWhen I run the PetUI main directly from the IDE , it loads correctly and follows out all functions without error.Images : When starting from StartGUI class : The dialog on the left is the StartGUI class , and then one on the right is the PetUI class started from the StartGUI class.After Pet Death : Now that the pet is dead , you can simply see that the PetUI class has updated its dialog , and you can see what is correctly supposed to be shown.Running PetUI directly from IDE ( IntelliJ Idea ) Now you can see that it works and does it 's function correctly.CodePetUI Class : StartGUI Class :"
"If I understand signal right this is an asynchronous message between two or more objects . For example in UML we have a signal classifier : Then we can write this signal in Java as following : However , in Java we have a CLASS , but in UML we have a SIGNAL classifier , but not a CLASS classifier ( Update : I mean in this example ) . How to explain it ?"
"Let 's say I have the following code : And let 's also say shouldDoSomething ( ) is a method I do n't have source code for . Is there any way I can force the code into the if block even if shouldDoSomething ( ) returns false ? And vice versa ? I know in C++ in Visual Studio I could just change the value in the EAX register and be on my way , but I did n't know if there was something similar for debugging in Eclipse when code is written in this style ? Refactoring the code to capture the response in a variable is not an option ."
"I am configuring Coveralls using a GitHub Action.I searched but I can not find how I should be able to generate the ./coverage/lcov.info file.When the action runs , since I do n't have such file , I get : I tried running test with Coverage via IntelliJ but the only export I can produce is in HTML format.How can I generate the lcov.info file ? Edit - Adding my workflow for reference , as requested in comments"
"I 'm currently studying Java and , as a part of my learning , I attempted to intentionally induce a stack overflow to see what it would do.I did some boundary testing and , interestingly , I discovered that if I execute the following code it will only sporadically cause an error . Sometimes it will run without any problems.My questions are as follows : What might be causing my stack size to vary between executions of this very simple example ? These days , does a stack overflow always occur due to poor code design ( i.e . infinite recursion , excessively large primitives , etc . ) or are there real world scenarios where the stack is still a technical limitation ? This one may seem obvious but.. does increasing the physical memory of a system also increase the size of the stack ?"
"I know that the System.in of the System class is an instance of a concrete subclass of InputStream because the read ( ) method of InputStream is abstract and System.in must override this method.According to the document about the read ( ) method of InputStream : public abstract int read ( ) throws IOException Reads the next byte of data from the input stream . The value byte is returned as an int in the range 0 to 255 . If no byte is available because the end of the stream has been reached , the value -1 is returned . This method blocks until input data is available , the end of the stream is detected , or an exception is thrown . A subclass must provide an implementation of this method . Returns : the next byte of data , or -1 if the end of the stream is reached . Throws : IOException - if an I/O error occurs.The read ( ) method should return -1 if the end of the stream is reached . My question is , when will the System.in.read ( ) return -1 ? The following is sample code : Run this code , and type `` abc '' followed by an `` Enter '' , the result is ( under Linux ) : Then the application is blocked and waits for another input . But I thought the statement in while loop `` ch = in.read ( ) '' should continue to run and return -1 after reading the line-termination character and printing 10 on the console . If so , the application should be terminated . But it is blocked . As a comparison , if I uncomment the commented line , using a file whose content is `` abc\n '' as byte input stream , then the application terminates as expectation because -1 is returned . Is it really true that the System.in.read ( ) never returns -1 ? If so , why is the implementation of the read ( ) method in System.in different with other subclasses of InputStream such as FileInputStream ?"
"I am working on a Java web project using Jackson for Json serialization and deserializtion.I am using Jetty as a web serverI am trying to deserialize a generated class at build time : I am using AbstractSamplePayload to add propeties to the generated class , AbstractSamplePayload : So with the @ JsonAnySetter and handleUnknown method , I am trying to ignore additional properties.After , I am trying to deserialize a Json format string with ObjectMapper : After building the project , everything is working fine at runtime with the deserialization , at the additional properties are ignored properly.After deploying the Web archive in different VMs , some of them , when try to build our object with the previous method , the application throws UnrecognizedPropertyException : Unrecognized field `` sampleProperty '' , not marked as ignorablealthough we have the @ JsonAnySetter.After digging in the issue by adding some logs that contains the list of methods of the SamplePayloadContent class , I figured out that the VMs that hold the problem , do not recognize the extended method handleUnknown.The weird behavior here is all the VMs have the same version of Java and Jetty and the same OS , but we are getting bad interaction with some of them.Thanks in advance for your help ."
"I am upgrading java version from 6 to 7 for my project . It used to compile fine with java 6.This is snapshot from a de-compiled class . Types were not erased by compiler and code compiles fine.But after java upgrade to version 7 , this code has started giving compilation error error : name clash : provideVptchProv ( NeVersion , Provider , Provider ) and provideVptchProv ( NeVersion , Provider , Provider ) have the same erasureHas Java 7 changed anything that is not allowing Guice to work.Note : Google Guice version is 2.0Do I need to update Guice or is there any workaround ?"
"I have a situation where I have have a lot of model classes ( ~1000 ) which implement any number of 5 interfaces . So I have classes which implement one and others which implement four or five.This means I can have any permutation of those five interfaces . In the classical model , I would have to implement 32-5 = 27 `` meta interfaces '' which `` join '' the interfaces in a bundle . Often , this is not a problem because IB usually extends IA , etc . but in my case , the five interfaces are orthogonal/independent.In my framework code , I have methods which need instances that have any number of these interfaces implemented . So lets assume that we have the class X and the interfaces IA , IB , IC , ID and IE . X implements IA , ID and IE.The situation gets worse because some of these interfaces have formal type parameters.I now have two options : I could define an interface IADE ( or rather IPersistable_MasterSlaveCapable_XmlIdentifierProvider ; underscores just for your reading pleasure ) I could define a generic type as < T extends IPersistable & IMasterSlaveCapable & IXmlIdentifierProvider > which would give me a handy way to mix & match interfaces as I need them.I could use code like this : IA a = ... ; ID d = ( ID ) a ; IE e = ( IE ) e and then use the local variable with the correct type to call methods even though all three work on the same instance . Or use a cast in every second method call.The first solution means that I get a lot of empty interfaces with very unreadable names . The second uses a kind of `` ad-hoc '' typing . And Oracle 's javac sometimes stumbles over them while Eclipse gets it right.The last solution uses casts . Nuff said.Questions : Is there a better solution for mixing any number of interfaces ? Are there any reasons to avoid the temporary types which solution # 2 offers me ( except for shortcomings in Oracle 's javac ) ? Note : I 'm aware that writing code which does n't compile with Oracle 's javac is a risk . We know that we can handle this risk . [ Edit ] There seems to be some confusion what I try to attempt here . My model instances can have one of these traits : They can be `` master slave capable '' ( think cloning ) They can have an XML identifierThey might support tree operations ( parent/child ) They might support revisionsetc . ( yes , the model is even more complex than that ) Now I have support code which operates on trees . An extensions of trees are trees with revisions . But I also have revisions without trees.When I 'm in the code to add a child in the revision tree manager , I know that each instance must implement ITtree and IRevisionable but there is no common interface for both because these are completely independent concerns.But in the implementation , I need to call methods on the nodes of the tree : If createNewRevision is in the interface IRevisionable and addChild is in the interface ITree , what are my options to define T ? Note : Assume that I have several other interfaces which work in a similar way : There are many places where they are independent but some code needs to see a mix of them . IRevisionableTree is not a solution but another problem.I could cast the type for each call but that seems clumsy . Creating all permutations of interfaces would be boring and there seems no reasonable pattern to compress the huge interface names . Generics offer a nice way out : This does n't always work with Oracle 's javac but it seems compact and useful . Any other options/comments ?"
"I was digging through some of the Java Math functions native C source code . Especially tanh ( ) , as I was curious to see how they implemented that one.However , what I found surprised me : As the comment indicates , the taylor series of tanh ( x ) around 0 , starts with : Then why does it look like they implemented it as : Which is clearly not the correct expansion , and even a worse approximation than just using tanh ( x ) = x ( which would be faster ) , as indicated by this plot : ( The bold line is the one indicated on top . The other gray one is the log ( abs ( x ( 1+x ) - tanh ( x ) ) ) . The sigmoid is of course the tanh ( x ) itself . ) So , is this a bug in the implementation , or is this a hack to fix some problem ( like numerical issues , which I ca n't really think of ) ? Note that I expect the outcome of both approaches to be exactly the same as there are not enough mantisse bits to actually perform the addition 1 + x , for x < 2^ ( -55 ) .EDIT : I will include a link to the version of the code at the time of writing , for future reference , as this might get fixed ."
"Given the following setup : Why wo n't the compiler accept the list as parameter to accept ( ) ? List extends Iterable via Collection so that is n't the problem.On the other hand , the compiler tells me thatincompatible types : java.util.List < enums.Constants > can not be converted to java.lang.Iterable < enums.MyInterface > But Constants IS a MyInterface ... is n't it ?"
"When I calculated this problem on paper I found A=200 B=20 , but when I write it down to eclipse it shows A=100 B=20Can you explain the solution like solving on the paper ? I tried to solve in Eclipse and by myself.How do we solve it ?"
"I have the following 2 classes : And when I run Cat , I got the following results : I can understand 1,2,3 and 5 , but why # 4 is not : `` Cat : static -- 4 `` ? My understanding would be like this : myAnimal=myCat means `` myAnimal '' is now exactly the same as `` myCat '' , so anywhere `` myAnimal '' apears , you can replace it with `` myCat '' and get the same result , because everything inside myAnimal is the same as everything inside myCat , therefore `` myAnimal.staticMethod ( 4 ) '' should be the same as `` myCat.staticMethod ( 4 ) '' and the output should be : `` Cat : static -- 4 '' , similiar to `` myCat.staticMethod ( 1 ) '' above.But that does n't seem to be the case , why ?"
I 'm trying to replace the common switch for arithmetical operations by BinaryOperator functional interface . The base method is : As I understand it 's nesessary to write something like : But I do n't understand how to avoid switch in computeExpression that would be the same as computeOne .
"I have an app running on Google App Engine which is the backend for an Android app . It 's basically a bridge between the Android app and a MySQL database running on my own server.The log for the App Engine app is filled with this warning about an exception caught while disconnecting . The exception message is java.net.SocketException : Invalid request : Invalid how . which does n't mean anything to me.The stack trace seems to indicate this line as the cause : mConnection.close ( ) ; ( mConnection is a java.sql.Connection object ) .Other than the warning in the logs , everything seems to be working fine . What could be causing this message ? Below is the full log message with stack trace :"
"I am developing a plugin for an RCP application.Within the plugin.xml , I need to register certain classes at a given extension point.One of these classes is an anonymous ( ? ) class defined like this : } Is there any way to reference AnotherClass < ClassOne > within the plugin.xml ? I already tried something like de.me.mypackage.ClassOne $ AnotherClass but that does not work . Do I have to declare that class within its own file to be able to reference it ?"
"Java 's inner classes can be static or non-static . Non-static inner classes are tied to an instance of the enclosing class.Annotations are a type of Java interface , and like any other class , they can be defined inside a class . Similarly , they can be declared static or non-static . What is the difference between these two choices , is there any difference between how they 're used by consuming code , and is there any scenario where it 'd make sense to use one or the other ? Example :"
"I have the following code : where factor.getAttributes ( ) returns List < Attribute > . Apparently , there is only one initial call to factor.getAttributes ( ) and then the traversal starts . However , I do n't understand why there is only one call . If I were to include a function call in the header of a regular for ( ) loop , I believe it would be evaluated at each iteration . In that respect , how and why is the advanced loop different ?"
"I have a list of data in a txt file like thismy assignment is to sort these data by each criterion ex ) sort by date , latitude and longtitudei tried bubble sort like this this works but takes too much timetheres 40000 data in the txt fileis there any alternative way to sort these data ?"
Sample 1 : Output is : Sample 2 : Output : I just do n't understand why making saySomething non-static causes the second call to saySomething invoke the Cow version instead of the Animal version . My understanding was that Gurrr ! Moo ! Moo ! would be the output in either case .
"I want to get 4 parts of this string The 4 parts I need are `` 10 trillion '' `` 896 billion '' `` 45 million '' and `` 56873 '' .What I did was to remove all spaces and then substring it , but I get confused about the indexes.I saw many questions but could not understand my problem.I could n't run because I did n't know that was right ."
"My project is finally complete , but my only problem is that my teacher does not accept `` breaks '' in our code . Can someone help me resolve this issue , I have been working on it for days and I just ca n't seem to get the program to work without using them . The breaks are located in my DropYellowDisk and DropRedDisk methods . Other then that issue , my connect four program is flawless ."
"I just started using jshell in intellij idea community version . When I write the below code in jshell , it works.However the same code does n't work in intellij . It says `` Expression expected '' . It executes fine but shows that there is error with List < String > . The problem is `` auto-complete '' does n't work . To workaround this issue , we can use raw type but I want a generic one . Is there something that I am missing ? How can I write a generic type ?"
"I have a mathematical formula in my program that takes in two values , both between 0 and 1 , and does a lot of work to find an answer . I also want to be able to do the inverse , i.e . I want to know what input values will produce a certain output . I can not do this analytically , as the same answer can be produced from numerous inputs and the formulas are too complex anyway.My problem is that I am currently doing something like this , which takes fairly long to computeSeeing as the formulas are static , I could surely pre compute these values . I presume it would then be much quicker to look up a value than to perform many calculations . I have never done anything like this before . Does anyone know what data structures to use/ how to index/ how to store the results ? At the moment my only thoughts are that I could somehow sort the answers to reduce the search space or else just initializing a huge array at runtime . If it matters , the answer can only range between 0 and 2000 ."
"Recently , I observed an unexpected behavior of accessing priavte fields in Java . Consider the following example , which illustrates the behavior : Why I am allowed to access the private field of another object of class A within the foo method ( 2nd case ) ?"
We tried just for fun to create a for loop like below . We assumed that the number we get would be very high but we got 0 . Why is it 0 and not something big ? We even tried it with a long because we thought it might be bigger than a int.Thanks in advance .
Suppose I have this code : Running the code : would yield 2 for getAddressMethodCount variable ; why is this so ?
I can compile above method . Is there any explanation about the allowed multiple `` + '' operator ?
I was wondering why the following bit of code does not work : If the type is < ? super String > it can contain anything which is super of String ( String included ) not ?
I am a beginner in java and Apache POI . So right now what i wan na to achieve is I want to loop the array days row by row ( vertical ) under the Days column : Public Holidays Days Date ClassThe error that I am getting is that : The method setCellValue ( double ) in the type Cell is not applicable for the arguments ( String [ ] ) Please help me solve this array problem .
Function abstraction : max method implementationAnd usage ( how it should look like ) But I get this error and do n't understand why it requires ObjectI have read big amount of similar QA but did n't get how to fix this.Thanks .
In other words I want to know if changing variable before interrupt is always visible when interrupt is detected inside interrupted thread . E.g.I tried to find answer in Java language specification and in Summary page of the java.util.concurrent package mentioned in Java tutorial but interrupt was not mentioned.I know about volatile and other synchronize primitives but do I need them ?
"I 'm using Hibernate version 4.3.5.Final . The problem here is that Hibernate finds entities of the type Foo where the case of the property address has different a case ( e.g . `` BLAFOO '' ) . However , in my example , ex.ignoreCase ( ) is not called.I only want to find entities which match the exact case . What am i doing wrong ?"
I have a nested list of Long . for example : Is there a way using streams to create a new list of items that are present in all the lists :
"What would be a good pattern to use here ? I don´t want to return nulls , that just does not feel right.Another thing is , what if I want to return the reason that causes it to null ? If caller knows why it is null , it can do some extra things so I want caller knows it and acts that way"
I am making program to campare sorting algorithms.I am using big amount of numbers . I have a performance problem in creating array full of random numbers.Is there any way to make it faster ? Currently I am using : where
"I am currently porting an open source library to be JDK9+ compliant , and it depends on some of the Java EE Modules that have been deprecated in Java 9 and removed in Java 11 : specifically , JAXB , JAX-WS and javax.annotation.I added explicit dependencies to the third party implementations as suggested here : However , I 'd like my library to use them only if necessary ( i.e. , on JDK9+ ) and keep using the endorsed implementations on JDK8.I can do so by adding the dependencies in a Maven profile to be activated only on JDK 9 and above , but what if I wanted to publish the jar file for my library on Maven Central ? Should I publish two different jars , one with the Java EE third party implementations included , for JDK9+ and one without for JDK8 ? Is there a way to produce a jar file that will use the third party implementations on JDK9+ and the endorsed ones on JDK8 ? I have looked into multi-release jars , but looks like they are intended for jdk version-dependent implementations among project classes , not among dependencies.Also , in case it 's not possible to use the endorsed implementations on JDK 8 , is there a way to reliably test that using the third party implementations does not introduce any regressions ?"
"Recently I was refactoring a generic method when I got into generic casting issues I can not explain . Finally I realized I could do without the T type altogether ( just inline it myself ) , but I 'm still curious as to why the convert fail . I created this minimal example to illustrate the issue.Can someone explain me why the convert fails and the workaround works ?"
"Example : When I execute the program , some times I have the output like below : Sometimes I have output like below : In some other occasions I have output where t1 starts first , and t2 starts before t1 completes all output.I thought output1 makes more sense as “ Threads with higher priority are executed in preference to threads with lower priority. ” How can we understand the reasoning behind this example ?"
"Let 's say I have a method like this : The actual specifics of the method is n't really important . However , to call this method we use : My question is , is it possible to write such a method without conventional parameters . Without overloading , and ultimately without Boxing.Ideally invoked by :"
"Related to this question https : //stackoverflow.com/questions I want to achieve the same in Java with rxJava2 as in haskell How can I implement generalized `` zipn '' and `` unzipn '' in Haskell ? : In haskell I can achieve this with applicative functors : being f : : Int - > Int - > Int - > Int - > Int - > Int - > Int - > String - > String - > String - > Intand a1 .. a11 values corresponding each typeNow in Java : Imagine you have a long arity function : And a function using that interface : And the arguments you need are in sources like : And then the zipArray function : As you can see , there are several errors : Bad castingBad argument indexingType errors in runtimeHow can I fix those errors ? What if one of them is Optiona < Single < String > > ?"
"Im currently developing an application that implements apigee , however , i 've come across an issue when trying to update entities . Below is the method i 'm currently using . However I 'm getting the following error : '' Error PUT to 'https : //api.usergrid.com/ORGNAME/APPNAME/user/USERID '' followed by : `` No authentication challenges found '' '' doHttpRequest returned null '' Any assistance would be highly appreciated . Thanks"
"If you declare an instance of a generic class as a raw type in Java , does the compiler assume a parametrized type of Object for all class member methods ? Does this extend even to those methods which return some form ( e.g . a Collection ) of a concrete parametrized type ? I erroneously declared an instance of a generic class without a parametrized type , which led to very interesting downstream effects . I 've provided a simplified example of a scenario which produced an 'incompatible types ' compilation error . My basic question : Why does javac produce an 'incompatible types ' error , complaining about the indicated line below ? An interesting note is that if t2 is declared with a wildcard type ( Test < ? > t2… ) the code compiles and runs as expected.The use of the for-each loop invokes next ( ) on the iterator on the set returned by getInts ( ) ( which returns a generic type gleaned from the Iterable being iterated over ) . The documentation here mentions that if the Iterable is raw , Objectis used as the return type . Why does the compiler also seem to change the return type of Test.getInts ( ) from Set < Integer > to Set < Object > ?"
"I know , it 's a very basic topic , so if it is a duplicate question , please provide a reference.Say , there is a following code : It outputs : 42,42But if we change the order of the appearance of the variables : It outputs : 42,0I understand that in the second case the situation can be described as something like : `` Okay , I do n't know what the returned x value is , but there is some value '' . What I do n't completely understand is how x may be seen here without being seen along with its value . Is it a question of compile time and run time ? Thanks in advance ."
"Another example from the Oracle Java SE tutorials . It works fine , but I 'm not sure if/why 'this ' is necessary when creating an instance of the inner class . The result seems to be same regardless of whether I take it out or not . To be clear , I am referring to : InnerEvenIterator iterator = this.new InnerEvenIterator ( ) ; // not sure why using 'this '"
"Consider the following self-contained sample : The code above compiles just fine under the following : javac from the command line.IntelliJ IDEA configured to use the javac compiler.But it fails to compile with the following : EclipseIntelliJ IDEA configured to use the Eclipse compiler.Eclipse fails to compile the line marked with < -- ERROR , giving the following message : The constructor Blooper5.ConvertingIdentifier < Annotation , Class < capture # 5-of ? extends Annotation > > ( Blooper5.Converter < Class < ? extends Annotation > , Annotation > ) is undefinedAdmittedly , this code really pushes the generic parameter type inference capabilities of the compiler , but still , I would like to know precisely what the discrepancy is , no matter how small.Some exposure of my methods in case someone manages to see something wrong that I fail to see : The command I used to compile with javac was `` c : \Program Files\Java\jdk1.8.0_40\bin\javac '' Blooper5.java.I have version 14.1 of IntelliJ IDEA . Under Project Structure/SDKs I only have `` 1.8 '' which points to C : \Program Files\Java\jdk1.8.0_40 and under Project Structure/Modules the specific module is configured to use the `` Project SDK ( 1.8 ) '' which lists as 1.8 ( java version `` 1.8.0_40 '' ) .As for Eclipse , I am using Eclipse for RCP and RAP Developers - Version : Luna Release ( 4.4.0 ) - Build id : 20140612-0600 . Under Preferences/Java/Installed JREs I only have jdk1.8.0_40 , and it is the default . Under Execution Environments it is also checked as a `` Compatible JRE '' of `` JavaSE-1.8 '' . And in my Project/Properties/Java Build Path/Libraries the `` JRE System Library '' is [ jdk1.8.0_40 ] .More noteworthy facts : It is not just me ; it also fails on a colleague 's ( very similar ) eclipse installation.IntelliJ IDEA says that the lambda expression a - > a.annotationType ( ) can be replaced with a method reference , but if asked to do so , it does not convert it to Annotation : :annotationType ; instead , it converts it to ( Converter < Class < ? extends Annotation > , Annotation > ) Annotation : : annotationType.So , the question : What is causing these discrepancies between Eclipse and the others , and what can be done to eliminate these discrepancies ? ( Obviously , the goal is to eliminate the unfortunately too frequently occurring scenario where one developer commits code which fails to compile on another developer 's IDE . ) EDIT : When I originally posted this question I thought that IDEA using the Eclipse compiler also compiled fine , but I was wrong . It turns out that it is possible to get IDEA to fail to compile the above code by selecting the Eclipse compiler . Still , the question is why there is a discrepancy between eclipse and javac ."
Can someone please explain the difference between the following cases and where would we use each one ? Thanks allEdit : Hello all thank for the answers . I maybe I was not clear enough . I am aware that classes B and C can not be declared static unless they are inner classes . I so in your answers please assume that they are inner classes . I want to know when would I declare them static and even when to declare their methods static . I know that a static method in a non static class means that you can call it from anywhere and it is generally to perform general operations that are not specific to an object . But why would you declare static class ? I will check your answers again after you reread my edit and accept the most explanatory answer
"We have a mobile app which presents feed to users . The feed REST API is implemented on tomcat , which parallel makes calls to different data sources such as Couchbase , MYSQL to present the content . The simple code is given below : Right now we have around 4-5 parallel tasks per request . But it is expected to grow to almost 20-25 parallel tasks as we introduce new kinds of items in feed . My question is , how can I improve this design ? What kind of tuning is required in Tomcat to make sure such 20-25 parallel calls can be served optimally under heavy load . I understand this is a broad topic , but any suggestions would be very helpful ."
"While researching another question , I was surprised to discover that the following Java code compiles without errors : In my JDK6 , var gets initialized to 1.Does the above code have well-defined semantics , or is its behaviour undefined ? If you say it 's well-defined , please quote the relevant parts of the JLS ."
"I have a very basic JavaFX application that works flawlessly if the Application class is not the Main class : However , when I merge the two together ( which is the recommended way in most tutorials , including OpenJFX 's official documentation ) , the module system throws an IllegalAccessError ( at least on OpenJDK 11.0.2 ) : The exception is : java.lang.IllegalAccessError : class com.sun.javafx.fxml.FXMLLoaderHelper ( in unnamed module @ 0x642c1a1b ) can not access class com.sun.javafx.util.Utils ( in module javafx.graphics ) because module javafx.graphics does not export com.sun.javafx.util to unnamed module @ 0x642c1a1bThe weird thing is , that I did not actively use the module system . I did not add a module-info.java to my project . So I assumed everything should get exported to any unnamed modules ? But that is not even the point.The main question is : Why does the same code behave differently if distributed across two classes ? In both cases FXMLLoader uses com.sun.javafx.fxml.FXMLLoaderHelper , which in turn uses com.sun.javafx.util.Utils . So either I should get the exception in both cases or in none . What is the difference ?"
"I 'm trying to load images to an array and ca n't figure out the syntax . I 'm used to something like this in C # : That does n't work here . Can anyone help me with this syntax , and any applicable imports I need to make . This is what I have : The library that allows me to use the ImageIO wo n't load ."
"This will not compile : This will compile and work : First and second example are very similar . First uses varargs , second not . Why one works , second not . 7 is primitive , so second method should be called in both cases . Is it normal behaviour ? I found it : Bug reportStack overflow"
"I want to limit maven to use only private/not public maven repository , do these two settings have the same effect ? 1.Setting mirror in settings.xml2.Setting repository in pom.xmlAgain the requirement is that maven never goes out to public repositories even if some dependencies are not there on the internal repository . thank you"
"I 'm creating a ListPopupWindow like this : I tried to do simple mathto center it horizontally . It worked on my phone but not on others , so I suspect something is wrong about my asumptions . But I also suspect there 's a better way of solving this.How do I simply center something horizontally programatically ? PS : the same ListPopupWindow but with different number of elements is getting placed on different positions on screen . Why this happens ? UPDATE : Based on the answer below , I triedand didbut my popup is slightly to the left , not exactly centered . My view is in landscape mode , does it have anything to do with it ? I tried changing width by height but it did n't work"
"In my Java program , I have the following code : Strangely enough , calling Arrays.sort ( ) from java.util.Arrays causes many items to be removed from the list . When I run the code above , this is the output : I am very , very confused as to what 's going on here . Why are only 11 items printed out ? Is Arrays.sort ( ) removing items ? Why would Arrays.sort ( ) do this ? Why is the size of the array still 50 ? Are the items being blanked out or something ? I assume that my readFile ( ) method works fine as the unsorted array prints out fine ... The file I am reading from : https : //nofile.io/f/8TO3pdnmS3W/States.txt MD5 starts with 8b961b5"
"I have defined list from 0-9 ( Integer ) as below : When I try to remove elements using below code : It should throw ConcurrentModificationException but interestingly it works for some of the elements and gives below output ( threw exception at the end and removed some of the elements ) : But if I have added sorted ( ) like below : This worked perfectly fine and removed all the elements , I am confused why stream behaves this way ."
"Question1 : Does it make sense to specifiy the size of the ArrayList . I know how many elements is going to carry in my List , is it good to specify the size before hand or it does not even matter . Question2 : The java.util.ConcurrentModificationException occurs when you manipulate ( add , remove ) a collection while iterating over the same collection . Does that mean there is a thread which is modifying the ArrayList and another Thread iterating the same object . Question3Can anyone tell me how i can lock a list ?"
"I have the following two classes : I am trying to find out the max pair from a map where objects of these classes are key and value pairs respectively . I also have an com.google.common.collect.Ordering < ValueClass > which uses multiple comparators . I can easily find out the max of values using this ordering , but what I am interested into is the key of the max value.I can write a certain implementation wherein I can keep track of my key w.r.t the value in a loop and use the ordering to compare values ( similar to the conventional way of finding a max value ) but I want to know if we already have such case handled by Guava or any other library ?"
"I am writing software that detects an images outline , thins it to a `` single pixel '' thick , then performs operations on the resulting outline . My hope is to eventually get the following : I have written software that detects the RGBA colors , converts it to HSB , asks for a limit that sets whether a pixel is an outline or not ( typically some value around 0.25 , and checking the B ( brightness ) value ) , and then stores true or false in a 2-dimensional array of booleans ( true is an outline , false is not ) . This gets me to stage 2 just fine . I am currently stuck on stage 3 , and am currently attempting to achieve the following : Here is my current code , where the outline [ ] [ ] variable is the original 2d array of trues/falses ( stage 2 ) and thinned [ ] [ ] is the outline in stage 3 ."
"In Java , int a = 10 , b = 10 ; But , in SQL , Why is that ?"
"I have the following Java generics questionI have the following generic class thay may be sketched as : where ... represents code that is not relevant to the case.For the class MyClass < T > is not as important which exact type T is ( as of now ) but for both : AnotherClass < T > OtherClass < T > is absolutely crucial what the generic type is and decisions will be made at runtime in base of that.Based on that , the type T is not completely arbitrary , it may be either an instance of a hierarchy of classes T_1 or a hierarchy of classes T_2 . As is defined the class , the type T is equivalent to Object but I know that is equivalent to either T_1 or T_2There is not businnes relation between entities T_1 and T_2 therefore I 'm not doing : Clarification about why using a generic if they are unrelated : I 'm defining ( trying to ) a generic class for both because even they are unrelated explictly , there is a implicit relation because both T_1 and T_2 can and will appear associated to the entity represented in MyClassT will be the same for MyClass , AnotherClass and OtherClass so that in a instance there will only be either T_1 or T_2 but never both at the same time . My question is , which alternatives do I have here other than design an interface for MyClass and implement it for both T_1 and T_2 ? . Can I achieve something like MyClass < T extends T_1 or T_2 > ? Kind regards"
"I have a SpringBootApplication , packaged as war file : on the application.properties : but on the logs I see those messages when I deploy the war in the Tomcat 9 : the logs : on my tomcat9/conf/context.xml :"
"I am adding screenshot for some more information . I am new to Java8 , kindly forgive me if I am asking a bad question . When I was doing research for input of space separated value I got this statement . I understand that below statement takes value as 1 2 3 and returns value [ 1 , 2 , 3 ] as a list.Kindly correct me if I am wrong , Stream : is used on collection for iteration.bufferedReader.readLine ( ) : it reads the line as stringreplaceAll : is replacing space with , later it gets parse into Integer and being collected into ListMy doubt is when I am inputting 1 2 3 which is a string . So , is this stream first splitting the value with space then iterating on splitted value ? or is it 1st parsing the value later storing the value in list later splitting value with space and removing space and replacing with , . I am very curious , how exactly below statement is working ."
"I am writing some code to handle a stream of binary data . It is received in chunks represented by byte arrays . Combined , the byte arrays represent sequential stream of messages , each of which ends with the same constant terminator value ( 0xff in my case ) . However , the terminator value can appear at any point in any given chunk of data . A single chunk can contain part of a message , multiple messages and anything in between.Here is a small sampling of what data handled by this might look like : This data should be converted into these messages : I have written a small class to handle this . It has a method to add some data in byte array format , which is then placed in a buffer array . When the terminator character is encountered , the byte array is cleared and the complete message is placed in a message queue , which can be accessed using hasNext ( ) and next ( ) methods ( similar to an iterator ) .This solution works fine , but as I finished it , I realized that there might already be some stable , performant and tested code in an established library that I could be using instead.So my question is - do you know of a utility library that would have such a class , or maybe there is something in the standard Java 6 library that can do this already ?"
"I am creating a project which will respond to collect multiple bean object , save it to the database and return the status of the transaction . There can be multiple objects that can be sent from the client . For each object , they are having separate database thus separate controller.So I planned to create a framework that can accept multiple objects from multiple controllers and send only one centralized object . But I am not sure how to use a centralized object as a return type in the controller ( currently I returned them as Object ) . Below is my code : Controller : Service : In service I returned the PlayerValue object but I want to wrap this object into a centralized bean ResponseValue . I created an aspect for thatTo sum up , There could be multiple entity similar to PlayerValue . I need a way to return the result in a centralized bean . Above process work , BUT for this I have to give return type as Object in Controller . Does anybody has an idea how can I use return type as List or T in controller . Also I know it can be done by implementing a ValueConverter interface , but this conversion is straightforward . So it would be nice if any other developer do n't have to implement the ValueConverter everytime he want to add a different controller.Also feel free to review the implementation and let me know if anyone has some alternative idea or some comments.Note : I reduce a lot of code in the question so that it can be easier to understandable without understanding the actual requirement context . Please do let me know if anyone need more info ."
I wanted to pass object as a parameter instead of class object as type literal . I tried many ways but did not get output . If i 'm running above code that will accept following values as parameter passing . If I have a FormBean class thenI want that method can only accept already created intance object . I can not even use newInstance ( ) method to create another object because i required old object instance values also.Any suggestions ?
I wrote a Java program that sleeps for a while : I run the program with : I inspect the processes that Ubuntu creates to run it : What are those threads ( i.e . lightweight processes ) named { java } created for ? Is it possible to find out what programs they run from shell using some commands ? Which processes ( and LWPs ) are running JVM ? Which processes ( and LWPs ) are running my Java program ?
"Is it the compiler or the runtime do the auto-boxing/unboxing ? Consider the following example : At ( 1 ) , the primitive integer value will be converted into something like new Integer ( 1 ) , and returned . That 's effectively some kind of implict consverion known as auto-boxing , but who will do that ? The compiler , or the JVM ? I was just starting to learn the ASM , and such boxing issue really confuse me ."
"The documentation of the sorted operation says : For ordered streams , the sort is stable . For unordered streams , no stability guarantees are made . and the page-summary says : Some intermediate operations , such as sorted ( ) , may impose an encounter orderCan someone explain why sorted operation needs an encounter order to the Stream ( I do n't see the relationship between the presence of an encounter order and the sorting operation ) ? Does that mean the following code is not valid ( as HashSet is not intrinsically ordered ) ? When I run this code , it always give me the same output [ -3 , 4 , 10 , 15 , 20 , 22 ] Event if I use .parrallel ( ) , the output remains the same [ -3 , 4 , 10 , 15 , 20 , 22 ]"
"I got a bit of a struggle setting up IntelliJ for a JavaFX project.I set it up using File > Project Structure > Libraries > Add new library > From Maven searching for org.openjfx : javafx-fxml:11.0.2 . So it was found and I deliberately checked Download JavaDocs since this would be useful.However , when I tried to start the project , I got the following error : java.lang.module.FindException : Two versions of module javafx.graphics found in lib ( javafx-graphics-11.0.2-linux.jar and javafx-graphics-11.0.2-javadoc.jar ) Apparently the compiler mistoke javadoc for another version ... When I then removed the *javadoc.jar files downloaded for JavaFX the program started just fine.As you can imagine , I would like to keep the possibility to read JavaDoc directly in my IDE.Any ideas how to fix that ? Edit : Here is a sample repo at Github : leun4m/javafx-demo @ 2a7a03aRun Configuration :"
"The following code simply subtracts a value ( 10 in this case , just for the demonstration ) from the current year obtained by using the java.util.Calendar class.I expect this code to display 2003 ( current year - 10 ) but instead , it displays -10 . I assume the constant YEAR has n't been initialized . Why does this happen in this case ?"
"I need to develop a Java version of the Iterated Prisoner Dilemma using Repast Simphony as simulator.The ideas is that each Player is an agent , and we have a n x n grid of Player that ca n't be moved . Each Player has to play with 4 neighbours ( northern , southern , western and eastern one ) , finding the best strategy based on the outcome of the 4 different games in each round.Since there 's not a built-in system to exchange messages between agents in Repast Simphony , I had to implement some kind of workaround to deal with agents ' sync ( A vs B and B vs A should count as the same round , that 's why they need to be sync'ed ) .This is done by seeing each round as : Player i chooses the next move for each of the 4 enemiesPlayer i sends the correct move to each of the 4 enemiesPlayer i waits for each of the 4 enemies to replyFrom my understanding of Repast Simphony , scheduled methods are sequential ( no agent-level parallelism ) , meaning that I 'm forced to do the waiting in a different method from the send one ( scheduled with lower pritority to ensure that all the sends are completed before starting the waits ) .The issue here is that , despite receiving all the 4 expected messages ( at least this is what gets printed ) , once the waiting method starts it reports less than 4 received elements.Here 's the code taken from Player class : Here 's the console output , so that you can see that everything seems to be sent and received without issues ( used a 3 x 3 grid ) : As you can see in the last line , playSharedQueue.size ( ) is 1 and I really do n't understand why . If methods invocation are sequential the waitResults ( ) methos is invoked after the 9play ( ) ` executions , and given that each of the correctly sends 4 messages , I ca n't find a reason why that size is still 1.Of course being everything sequential means that there are no synchronization issues , even if I had the same problem using LinkedBlockingQueue instead of HashSet.Do you guys have any hint on this ?"
"I was playing around with Java 9 with the prod code . And I found a couple of Formatting tests failing . After some research , I was able to create a class to reproduce the issue . Which happens in Java 9 but not in Java 8.The class is herehttps : //pastebin.com/87sA5WMbBasically comparing 2 strings : An string literal andA formatted string in Locale.FRANCE produced using NumberFormat Using equals on both fails , because of the following : As you can see there are a different number of bytes and different representation . I do n't know how to work around this and more important which is the change in Java9 that is affecting the code.The result using plain old Java 8 is as follows : Java 9 version used which is the latest version available ."
"In answering this question about lambdas which capture local variables , I defined a simple lambda which captures a local variable , and showed that the lambda has a field with that variable 's value . According to various sources ( e.g . here , here ) , when a lambda captures a local variable , its value is stored in a `` synthetic '' field . This seems to be implied by the Java Virtual Machine Specification ( §4.7.8 ) , which says : A class member that does not appear in the source code must be marked using a Synthetic attribute , or else it must have its ACC_SYNTHETIC flag set . The only exceptions to this requirement are compiler-generated methods which are not considered implementation artifacts , namely the instance initialization method representing a default constructor of the Java programming language ( §2.9.1 ) , the class or interface initialization method ( §2.9.2 ) , and the Enum.values ( ) and Enum.valueOf ( ) methods.The lambda 's field is not one of the defined exceptions , and the lambda 's field is not declared in the source code , so by my understanding the field should be synthetic according to this rule.The existence of the field can be easily demonstrated via reflection . However , when I check using the Field.isSynthetic method , it actually returns false . The documentation for this method says it : Returns true if this field is a synthetic field ; returns false otherwise.I 'm testing using JShell in Java 10.0.1 : The same behaviour occurs outside of JShell : What 's the explanation for this discrepancy ? Am I misinterpreting the JVMS , am I misinterpreting the Field.isSynthetic method documentation , are the spec and the docs using the word `` synthetic '' to mean different things , or is this a bug ?"
"Looking into another question I bumped into this intriguing behavior of the 1.8.0_112 Sun-Oracle compiler ( I have not tested with others ) : The compiler only fails at the last for loop : So despite that intList ( ) return list type List < Integer > in Alpha does not depend on the type parameter T , it seems that the < Integer > is erased at compilation time . Notice that if we declare a non-generic interface Beta that would be , in theory , equivalent to making reference to the raw Alpha , there is no issues.Is this the expected behavior ? can some one point out the paragraph on the language spec that would cover this point ? If this is not a bug at the very least it seem rather anti-intuitive and non-productive ; perhaps is done for the sake of back-comparability ? ."
I have try and catch block in JAVA codeAnd my compiled class look like /* * Decompiled with CFR 0.145 . */ ... ... ..I wounder why another try block added in compile time.Full Source code in https : //github.com/vikram06/java_try_catch_bug
"Edit : I 've realised that this pattern feels a lot like currying , a technique that functional programmers use to specify function parameters in advance of invocation . The difference here is that we 're currying constructors on objects instead of simply currying functions.Throughout a couple of projects I 've found myself using this bizarre design pattern that I ca n't find the name of . Does it have a name ? Perhaps it 's just bad practice , you tell me.The Design PatternWith this pattern , you would have ... An abstract base class without abstract methods ( we can discuss this later ) .Many `` implementations '' of the base class . However , these implementations would only serve to invoke the constructor of the base class.A Java Example ( with hypothetical scenario ) I will define a hypothetical scenario to provide some context.Scenario : Bob is writing a small API for scanning source code . He wants to be able to check if a comment starts/ends at a given index within the source code.Here is Bob 's code.1 . The Abstract Base ClassYou may be wondering why it is abstract but has no abstract methods . This is simply because Bob does n't want you to instantiate it directly . Bob wants you to write an implementation of CommentDetector and then instantiate that instead . Here are two of Bob 's implementations ... 2 . Some ImplementationsOne for multi-line comments in Java : One for single-line comments in Java : Bob has written these implementations for us so that we can write new JavaMultiLineCommentDetector ( ) instead of new CommentDetector ( `` /* '' , `` */ '' ) .Bob also encourages you to write your own implementations for other languages if need be.SummaryIt feels like the intent of this design pattern is to improve readability of the code by pre-defining constructor calls.This design pattern gives a polymorphic feel to the code ( even though it may/may not be truly polymorphic ) .Writing new implementations is quick and easy.Implementations do not depend on each other , and can be compiled/deployed independently.Does this design pattern have a name ?"
"I 'm working with data of the following form ( four examples given , each separated by a new line ) : I need to extract the publication name and - in case it exists - the issue number . This has to be done with a regex.So given above data , I am looking for finding the following results : The following pattern works only for data that has the , issue no . xyz part : Any ideas for a regex string which will work for both cases ( with and without issue number ) ?"
"This program does n't do what I wanted . It prints `` sad '' twice , whereas I was hoping it would print `` happy '' and then `` sad '' ."
consider this code snippet prints what i am expecting to see first i thought it might be the precedence of ~ and ++ if the ~ is evaluated before ++ the answer will be else if the ++ is evaluated before ~ I searched Oracle tutorials but I could n't find the answer.Can anyone explain this behavior ?
I am trying to convert the following PostgreSQL query to jOOQ : What I have is : Is there a way to do using jOOQ 's fluent API so I do n't have to use strings ?
"I got the following Expression that can look like this ( the amount of Sqrt [ XXX ] is unknow ) and I want to turn all Sqrt [ XXX ] into Sqrt ( XXX ) , I want to replace the [ ] brackets of the Sqrt into ( ) bracketsso the above example will look like Sqrt ( A+B ) + Sqrt ( Min [ A , B ] ) * Min [ Sqrt ( C ) , D ] I do n't want to `` hurt '' the other [ ] brackets in the expression ( like the ones next to Min ) How can I do it with regex ?"
"Is there an efficient and least redundant way to conditionally put new items in map.The best I can do is the following , but was curious if there was a better way to do the above in Java 9 ."
"I want to compare the response from the server with a string , but I get a false result when testing the two strings . Why ? I found this but did n't help : How do I compare strings in Java ? I tried two ways : The code does not run in either case because the value of the test is false.Full codeServer side - C # ( Windows ) ( This is not yet complete ! ) Client side - Java ( Android ) ( This is not yet complete ! )"
"A friend of mine noticed that was valid in Java . It turns out that the type of list is evaluated to ArrayList < Double > . When using var < Integer > list = new ArrayList < > ( ) ; , list is just ArrayList < Object > .Both of us were not able to figure out , what the generic type of var does , as it seems to be ignored . But if so , why is this even syntactically correct in the first place ?"
I 've created my own exception but when I try to use it I receive a message saying that it ca n't be cast to my exception I 've got one interface like thisother like this one and finally a method in another classThis try catch block on the last method is to make maths operation and I want to catch a division by zero exception on the RetryException .
"Going through the java.lang.module I read amongst a class documentation the following : What are the causes from using lambda and streams that are avoided here and what are their possible impacts ? Illustrations would help understand better , not looking for opinions here though ."
I 'm faced with the issue that I need to convert time from 24 format to AM/PM format ( and vice-versa ) removing redundant values such as nanoseconds and seconds by time4j library.I 'm using the time4j library because Java ca n't handle Windows Time Zones and I have to convert them via time4jConversion from 24 hour format to AM/PM will depend on users localization . And I want to transmit it ( localization ) as an argument . Localization will look like `` en-US '' string.For example : If users localization is `` en-US '' then convert 24 hour format to AM/PM . Else keep current value.Or maybe it 's better to get time in the format I need when I already define localization of my user ? Any ideas how to do this ? Please help ) I have to spend a lot of time reading time4j doc but my mind is blownTo have full scale of what I 'm doing and what the purpose all of this : I have to get users timeZone from my DB which corresponds to Windows Time Zones and convert them to IANA time zones . I already did this by this method Where `` userTimeZoneId '' is timeZone from DB . It corresponds to Microsoft Name of Time ZonesMy next step is to get time / or time stamp from users time zone which I already convert to IANA time zones.I did like this : Where `` winZone '' converted timeZone ( eg . `` WINDOWS~Europe/Kiev '' ) So now returning to my problem I described at the top of the post.Maybe it 's better to get time in the format I need when I already define localization of my user ? How can I convert time from 24 format to AM/PM and vise-versa ? How to remove redundant values such as nanoseconds and seconds ? How can I use user localization in conversion ?
"The core Java classes pointed to by the famous BalusC answer ( https : //stackoverflow.com/a/2707195 ) : All the above seem to be classes with private constructors instead of being enums . If enum is the best practice to implement a singleton pattern ( Why is Enum best implementation for Singleton ) , why was it not used in the core Java source ?"
In android I would like to draw flower by adding each petal from a center point . I used setRotation on the image view but the center point is different for each petal . ( I mean the center point from the flower ) Can anybody look at my code and suggest me correction ? Thanks.Image I get is this
"I have the below classes.I have manually compiled the classes using javac and ran the Driver class.Later removed the entity.class and MyCustomException.class and ran the app like below . java Driver testThe below error is complained about MyCustomException is missing but not about the Entity class . So , not clear why JRE complaining about MyCustomException class but not the Entity class . Indeed I have removed code throw new MyCustomException ( ) ; but I did not encounter error about Entity class.Please note that the IF condition will NOT be executed as I am passing command argument as testWhy is it throwing an exception is causing to load the MyCustomException which would be never executed but the JVM does not load any other regular class unless condition is satisfied , as here Entity class here . Please check Driver.java below.MyCustomException.javaEntity.javaDriver.javaThanks for help"
The java.time.Duration class built into Java 8 and later represents a span of time unattached to the timeline on the scale of hour-minutes-seconds . The class offers a plus method to sum two such spans of time . The java.time classes use immutable objects . So the Duration : :plus method returns a new third Duration object as a result rather than altering ( mutating ) either of the input objects.The conventional syntax to sum a collection of Duration objects would be the following.Can streams be used in place of this for loop ?
"I was learning about Streams in Java 8.For example , If I have to double a number : If I have to square a number , then I can use below : But If I have to apply both functions on same Integer array using `` andThen '' method java.util.function.Function , I am doing it via : Is it possible to rewrite this ( 3 statements ) in single line like : This is giving me a compiler error . Is it possible to do it ?"
I 'm working on an application using Spring Boot and Thymeleaf.I have the following snippet in my custom login page : This paragraph is associated with the following security config : So after a logout the user is redirected to /login ? logout and the logout message is shown.My problem is this message is also shown when the user explicitly navigates to /login ? logout by simply writing http : //myserver:8080/login ? logout into the browser.Is it possible to prevent the user from directly accessing /login ? logout ( and thus show the message only when an actual logout happens ) ?
"I 'm in a weird situation where have a JSON API that takes an array with strings of neighborhoods as keys and an array of strings of restaurants as values which get GSON-parsed into the Restaurant object ( defined with a String for the neighborhood and a List < String > with the restaurants ) . The system stores that data in a map whose keys are the neighborhood names and values are a set of restaurant names in that neighborhood . Therefore , I want to implement a function that takes the input from the API , groups the values by neighborhood and concatenates the lists of restaurants.Being constrained by Java 8 , I ca n't use more recent constructs such as flatMapping to do everything in one line and the best solution I 've found is this one , which uses an intermediate map to store a Set of List before concatenating those lists into a Set to be store as value in the final map : I feel like there has to be a way do get rid of that intermediate map and do everything in one line ... does someone have a better solution that would allow me to do this ?"
I declared a data class like this : My code is : The console output is : name is nullHow is this possible ? The name attribute is not a nullable string .
"I have a simple JMX application that has exposed MBeans based on this tutorialIs it possible to launch this application with a custom class in the classpath that extends JCONSOLE , so that when a client tries to access it remotely the extended jconsole window opens ? So for example , I create a simple application and package it in MyApp.jar . Then I run it with the following commands in the cmd : With managepement.properties looking something like this : Is it possible for a client to connect remotely using : And pull up the jconsole window with the extended functionality ? Or , would the client have to reference the extension when trying to connect , so something like :"
"I 'm trying out Android 's D8 and R8 . As the documentation says the command to run D8 is the following : And for R8 : I found the d8.jar inside % ANDROID_HOME % \build-tools\28.0.3\lib , but I ca n't find the r8.jar.Where r8.jar is located inside Android SDK ?"
"I 'm triying to understand the differences between the three methods for managing the UI interactions.I 'm really confused with these three terms when triying to figure them out in a real case.The below code shows the function of the invokeAndWait method , but if I replace it byinvokeLater or getEventLock ( ) the program will work exactly the same way.Could someone please modify the code in order to show the differences between the threemethods for updating the UI ? These three concepts are very confusing for many starting people so any explanatory source codedescribing their functions will be strongly helpful for anybody , I think.Thanks in advance !"
"Looking at the following code , why does n't the second invocation of dump get compiled ? And how can I fix it without removing the wildcard ? The JDK 's compiler gives"
"I am having trouble with InputProcessor only on my IOS build . This code works for Desktop and Android builds but not iOS.Basically , I need to catch an event anytime the user types on the onscreen keyboard . But in iOS I only see my println for keyTyped intermittantly and only when i type on the on screen keyboard fast . All the other touches just show a new line in the console , I am not sure where this new line output is originating from.The issue seems to stem from however iOS sends events back to my application and how LibGDX InputProcessor receives them . I have tried creating my own object that extends TextField and implements InputProcessor then set the instance of that object as the inputProcessor but i get the same result . If i touch anywhere on the screen that is not the iOS onscreen keyboard i get events firing consistently.This is what the iOS console output looks like this when i type very fast , if i type slow the println never shows up : Doing the same thing on an android device ( nexus 7 ) yields the following ( which is what I would expect ) : here is my code : LibGDX version : 1.9.6RoboVM ( MobiDevelop ) version : 2.3.1I guess i can always roll my own on-screen keyboard ..."
"I am trying to implement the function : For example if I have Map < String , List < Integer > > , I want to create another Map < Integer , List < String > > . I have written some code : but as you can see this only works if the map in the argument does n't contain list as values ."
"Can anybody explain why the if statement below evaluates false ? it takes in a `` PolyLine '' object , but instanceof returns false because I get an alert of `` 2 '' followed by an alert of `` 4 '' and have no clue how it 's even possible ."
"This is in continuation of my previous question . As the original question is closedAs per accepted answer , tasklet can be used , I have also tried implementing custom item writer in a chunk oriented step which uses jackson / JsonFileItemWriter , can we use this or does it have any performance impact ? Question 1 : `` Is the above approach recommended ? `` Question 2 : `` Can we generate file in item processor itself and use no-op item writer ? `` Can some one please help ?"
"I am new to the Stream API.I have a question about Stream API , specifically the parallel and sequential stream . The question is : if , for example , i have a pseudo-code like this : Is the Stream API going to execute filter in parallel and mapping sequentially , or does it merely change the `` parallel-characteristic '' of the stream , so , in this example , the stream is going to be sequential ?"
"In Java 8 , if I have two interfaces with different ( but compatible ) return types , reflection tells me that one of the two methods is a default method , even though I have n't actually declared the method as default or provided a method body.For instance , take the following code snippet : Java 1.8 produces the following output : This seems odd , not only because both methods are present , but also because one of the methods has suddenly and inexplicably become a default method.Running the same code in Java 7 yields something a little less unexpected , albeit still confusing , given that both methods have the same signature : Java definitely does n't support multiple return types , so this result is still pretty strange . The obvious next thought is : `` Okay , so maybe this is a special behavior that only applies to interfaces , because these methods have no implementation . '' Wrong . yieldsWhat 's going on here ? Why is Java enumerating these as separate methods , and how has one of the interface methods managed to become a default method with no implementation ?"
"Using records ( preview feature java-14 ) in a jlink : ed application , gives below error when using options :"
"Suppose the following generic class with 2 types T , Uand the list of its itemsthat need to be sorted according to the first/second attribute . Unfortunately , the class definition contains some issue , the following error appears : How to design the comparator class ? This code is probably completely wrongThanks for your help ."
"I want to have a static method , which whenever called will return a color value that did n't appear yet , and is not too close to last returned color ( i.e . return new Color ( last_value += 10 ) wo n't do ) . It also should be not random , so everytime the application is launched , the sequence of returned colors would be the same . First thing that popped to my head , is to iterate over an array with a primal number step , something like this : But I do n't like it , since colors will be close to each other from some calls back ."
"I 'm looking at some of the code in the Android butterknife library and found this snippet here : I found this a bit peculiar to have what looks like just empty comments after each line , but no comment text . It reminded me a little of line continuation in C macros , but I have never come across this before in java.Does this actually accomplish anything / is there some convention here where this is used ?"
"Whenever I try to add the numbers in string like : My program is adding the numbers , but very slowly . But When I altered my program and made it like : I got the result very quickly . Why is that so ?"
"I have two arraylists of type String , one of Operands and one of OperatorsThey are filled like soIdeally I would convert this to a single ArrayList that is filled like soIt would be easy to hardcode Polish Notation for three elements , but I have varying numbers of operators and operands ( up to four operands and three operators ) . This code is to be used to convert SQL select statements to MongoDB.find ( ) statements . Any pointers on how to implement the ArrayList merge in Polish Notation ( prefix polish notation ) would be much appreciated . [ Edit 2 ] Below is an example of an SQL statement with 3 operators ( `` like '' , `` and '' , `` < `` ) and three operands ( 'FLIR % ' , `` price '' , `` price '' ) and it 's MongoDB equivalent . I think using Polish Notation can help me convert SQL 's order of the query into a Mongo-ordered queryin SQLin MongoDB"
"As I know lambda expression can be replaced by method reference without any issues . My IDEs say the same , but the following example shows the opposite.The method reference clearly returns the same object , where as lambda expression returns new objects each time.Here is my output :"
I am integration testing a component . The component allows you to save and fetch strings . I want to verify that the component is handling UTF-8 characters properly . What is the minimum test that is required to verify this ? I think that doing something like this is a good start : One mistake I have made in the past is I have set String toSave = `` è '' . My test passed because the string was saved and retrieved properly to/from the DB . Unfortunately the application was not actually working correctly because the app was using ISO 8859-1 encoding . This meant that è worked but other characters like ☺ did not . Question restated : What is the minimum test ( or tests ) to verify that I can persist UTF-8 encoded strings ?
"I 've just encountered an interesting problem related to Java serialization.It seems that if my map is defined like this : And I try to serialize it to a file with ObjectOutputStream : ... I get java.io.NotSerializableException.However , if instead I put values to the map the standard way : ... then serialization work fine.Can anybody tell me why it happens and what 's the difference between these statements ? I think they should work the same , but apparently I 'm missing something ."
"I have a domain model class which has a toString implementation that looks like this : The methods getX ( ) , getY ( ) and getZ ( ) are not simple getters , they can perform lookups in the background , generally a lookup to a static map of predefined key-value pairs . Some of them had throws SomeCheckedException in their signatures.My impression is that this is bad practice and a `` code smell '' . The fact that toString ( ) even needs this check is to me a symptom of bad design . But I 'm asked by a colleague , what exactly is wrong with catching the generic Exception in a toString ( ) , since the caught Exception is propagated further.I believe it violates at least the KISS principle , since a simple method like toString ( ) here is indicated as requiring special exception handling.So is it code smell to have a catch-all block in a toString ( ) ? Answers I found were either for the general scenario of catching generic Exception and I agree with most of them , that if you 're doing a generic error handling mechanism or a batch then it 's expected to work on generic exceptions . This argument was unconvincing in our discussion , so I 'm curious of other opinions ."
"I am trying to figure out how to get generics to jump through hoops.I have : And many `` Subtype '' classes : What I want is to declare a class with two type parameters T and S , where T is bound by Type and S is bound by T and Middle.I ca n't see a way with generics to ensure that S extends T AND implements Middle.What I want is something like : orBut of course neither are legal . Maybe there is some magic I am missing ?"
"Consider the following code , which is an extraction of a real use case where LinkedList < E > implements both List < E > and Deque < E > .One can observe that both interfaces have a size ( ) and an isEmpty ( ) method , where the isEmpty ( ) method could be made default in terms of size ( ) .So , let 's do that ( with dummy interfaces ) , since Java 8 does not do it yet : Oops ! We get a compile-time error on LinkedList , as it does not know which isEmpty ( ) implementation to use , so we add this : Now we have lost practically all benefits of default methods for this use case , as it still takes us as much code to write the isEmpty ( ) method as it did before.But can it be solved ? Yes ! Consider the following implementation : So the question : Is this how we , and also the JDK , are supposed to handle it in future implementations ?"
"I 'm using Scanner and a Delimiter to tokenize my .txt file ( it 's a homework that I 've got to do ) . First version of the file looks like this : And I 've used useDelimiter ( `` [ ] * ( , ) [ ] * '' ) second version of the file looks like this : And I ca n't come up with a regexp which would help me to separate numbers by space and words by comma . Esentially I need an array with 14 values ( very good being a single variable ) Note there are multiple spaces ( this is done on purpose to make it harder for us ) .So any sort of help would be appreciated.P.S . We 're only allowed to use Delimiters only ( no splits etc.. )"
"I have the following in my class : Is the call to getCounter atomic , or not ?"
when a programmer use a try block without catch like this what happen to exception and how it possibly handle later ? I try learn it from internet but no clear result for it ...
There is an Eclipse Plugin managed by Maven containing this configuration : In console I run If I open Eclipse in the workspace there is no project .
"I am totally new to Choco and CP , but I am making a little model to solve the Steiner tree problem , and Choco keeps forcing the first node to be true whatever the graph is ( and its not correct , I checked ) .I have an array es of IntVar that ==1 if the edge is in the solution , or ==0 otherwise . Same for the array vs that sets vertices.I use the array activeEdgeW to be able to have a scalar constraint where the coeffs are variable.Then I just have the channeling constraints , the tree constraint and the sum == w constraint . And minimize w. Fairly simple , but for some reason vs [ 0 ] == true always , for any graph.My model is honestly pretty simple , I really do n't know where that comes from : That 's my model , the rest of the program is just the graph data.Does any one have any clue of where this is coming ? I tried putting the nodes in different orders in UB , but always the first node insists in being in.I tried to remove the channeling constraint , and it showed me that the node is not always true , but an edge reaching it must be , so it becomes true . Nevertheless , as you can easily see , I have no constraints on the array es that would force an edge to be true whatsoever.Thanks for the help !"
"Is there any way to shorten this if ( ) statement ? To avoid repeating string.equals ( ) somehow ? To something looking similar to this : I am aware that this question looks odd , however if ( ) with such long conditions list is unclear and requires a lot of writing as well ."
"I want to run code compiled before . I compiled anyway it is not important how to compile but running the code is problem.My code.javaThen I compiled this code and code.class ( in the D : // directory ) was generated . Now I want to run this compiled file . My code is : Here there is no error but this code does not do anything . No cmd opened , nothing . Where am I wrong ? What should I do ?"
"I 'm reading the Java 8 specification to better understand the Java language.Specifically , the Chapter 7 Packages.However in 7.5.2 7.5.2 Type-Import-on-Demand Declarations I do n't understand the case where we can use TypeName according to the following syntax : The specification says : If the PackageOrTypeName denotes a type ( §6.5.4 ) , then the name must be qualified ( §6.5.5.2 ) , or a compile-time error occurs.So I jump to 6.5.4 but the following is very unclear : If the PackageOrTypeName , Q , occurs in the scope of a type named Q , then the PackageOrTypeName is reclassified as a TypeName . Otherwise , the PackageOrTypeName is reclassified as a PackageName . The meaning of the PackageOrTypeName is the meaning of the reclassified name.So I ca n't imagine how to use TypeName.Please , can anyone provide me with an example to import types with * withTypeName ?"
Function to be refactored ... Function might be used like this ... Edit : Collected suggested implementations and tested efficiency by running them against Person lists.edit2 : Added missing equals method to Person class.Results : ConclusionWhen list size reach 10000 items then so far only Schaffner 's implementation is usable.And because it 's fairly simple to read I will pick it as the most elegant solution .
"I have made a small program in Java that displays its .java source with a gui . It does not use FileChooser to do this . I am reading the .java sources with the aid of following statementswhere name is the name of the .java file i.e . if the file is MyProg.java then name==Myprog . Of course my program is inside the dev.classes packageThe thing is that when I export my project to JAR and include source files this works because source files reside inside the /dev/classes/ directory.However , I have n't yet discovered a way to make my program run in Eclipse or from the command line without giving me exception . And of course when someone tries to add those source files to be used automatically as resource files the process fails.Can I somehow use the same code both when running from Eclipse and from the JAR ? It must be something very trivial but because I am not Java expert I can not see ."
"I 'm preparing for ACM competition and i 'm stuck with this problem . You have buildings with given position Xi and height Hi the shields are made of steel and they need to be supported by at least two buildings with the same height . The right end of the shield must lie on top of some building . All the buildings that lie under the shield ( including those that lie on the end ) are protected by that shield and their height can ’ t exceed the height on which the shield is placed . One building can be protected with at most one shield . You are given infinite number of shields , each with the same length L. Find the maximum number of buildings that can be protected by the shields and find the minimum number of shields that can be used to protect the maximum number of buildings . Input The first line of input contains one positive integer T ( 1 < = T < = 20 ) , the number of test cases . Each test case starts with a line that contains exactly two integers : the number of buildings N ( 2 < = N < = 100,000 ) and the length of a shield L ( 1 < = L < = 1,000,000,000 ) . In each of the next N lines there are two integers , Xi ( the position of the i-th building , 0 < = Xi < = 1,000,000,000 ) and Hi ( the height of the i-th building , 1 < = Hi < = 1,000,000,000 ) . The buildings are given sorted by their x coordinate . There won ’ t be two buildings with the same x coordinate . Output For each test case , on two a line , output the maximum number of buildings that can be covered and the minimum number of shields that can be used for that purpose.ExampleObviously brute-force solution is easy code to code but will fail on time limit ( 1s ) , I was reading about segment tree , but since i have n't worked with segment tree i 'm interested is that the way to solve this problem or is there some easier solution that i 'm missing out ? P.S Although it says shield lenght is L , it 's actually L+1 , the last building must the highest and have a building on position [ Xi-1 , Xi-L ] with same height to be able to place a shield and building positions will be sorted ."
"I was thinking about changing this question into my situation . I then decided that my situation needed its own question and hopefully answers . After calling FileChannel.truncate ( ) to reduce the size of the file , I call FileChannel.size ( ) , close the FileChannel and then call File.length ( ) . The File exists throughout the entire operation . FileChannel.size ( ) is always accurate . On a rare occasion , File.length ( ) will return the size of the file before truncate ( ) .Here is the code that shows the situation.On a rare occasion , the code throws the IOException . channelSize == size and fileLengthOpen == size but fileLengthClosed ! = size.Why does fileLengthClosed ! = size ? How do I ensure File.length ( ) matches FileChannel.size ( ) ? Flushing the file 's metadata would be okay as long as it does not force flushing the file 's contents . Flushing the file 's contents would incur unneeded file I/Os.Answers telling me to use channelSize or fileLengthOpen or to ignore the problem will not be accepted . I have another class file that uses File.length ( ) to determine the length of the file . Passing channelSize or fileLengthOpen to the other class would require passing the value up the stack several frames and then back down several frames . If you suggest that I use Files.size ( ) to fix the problem , please explain why.I am not sure if this matters . I am running Java 10 on Linux . ( Yeah , I know Java 10 is old , but I am stuck with it until I can implement the necessary features to upgrade to Java 11 . ) Edit : In the past , multi-threaded updates on files has caused problems . For this reason , I created a file locking mechanism so that only 1 thread in the entire process can exclusively operate on a file ( or multiple threads can read the file ) . Furthermore , the File object passed to my truncate ( ) was created by the calling thread and is only used by that thread . I can guarantee that no other thread in the process can operate on the file on disk or the File object.Edit : I changed the code to call Files.size ( ) before and after channel.close ( ) . channel.size ( ) , File.length ( ) and Files.size ( ) report the correct size while channel is open . Right after channel.close ( ) , File.length ( ) and Files.size ( ) are on the rare occasion the original longer file length and not the truncated shorter length ."
"In C # , if you want to read a string without having to escape the characters , you can use an at-quotewhich is equivalent to Is there a simple way to escape an entire string in Java ?"
"Is there any way to generate a list of classes in a Java project that are no longer needed by any other classes in that project ? Here 's a diagram to help illustrate the situation ( I hope you enjoy my ASCII diagram since I do n't have enough rep to use an image ) , where C and B depend on project A : I started refactoring by moving code from B to A , so that it could be shared by C and B . However , now that I 'm getting close to finishing refactoring , I want to check to see if there are any classes that I moved to A that can now be moved back down to B ( classes that are in A but are n't using by any code in A ) Is there some tool that I can use to generate a list of such classes for me ?"
"I 'm writing a program in which on button click data in a pie chart rotates ( slice on 10-12 o'clock moves to 12-2 etc ) . Code below ( kinda ) works , it rotates , but eats the temp slice and creates whole paragraph of errors . It is my first time trying JavaFX and I 'm not really sure how to manage that . Here 's the stack trace :"
I am reading a book Effective Java which has the following example . In the below example author copies the reference of objects present in the ObjectOutputStream by the following lineWhy does this reference point to the date object present in the ObjectOutputStream ? what is stored in a reference ?
"I have some selenium tests running on Firefox browser.unfortunatly , although I take care to create a new profile , I always have the /firstrun/ page of Firefox showing up when my test start , which is rather annoying , since that page gets it content over the web.I 've tried disabling it the following waybut it stills shows up.What can I do to make sure Firefox starts with no page shown ?"
"BackgroundA bit input stream is backed by an array of bytes . There are a handful of methods that read from that byte array into various coerced primitive arrays.ProblemThere is duplicated code . Java lacks generics on primitive types , so perhaps the repetition is unavoidable.CodeThe repetitious code is apparent in the following methods : Note how final byte [ ] out relates to readByte ( bits ) just as final short [ ] out relates to readShort ( bits ) . These relations are the crux of the problem.QuestionHow can the duplication be eliminated , if at all , without incurring a significant performance hit ( e.g. , by autoboxing ) ? Relatedhttps : //stackoverflow.com/a/9666217/59087https : //stackoverflow.com/a/27716039/59087https : //wiki.openjdk.java.net/display/valhalla/Mainhttps : //www.slideshare.net/IvanIvanov138/primitives-in-generics-from-project-valhala"
"Please help me complete my isEmpty method : What code would I put int to establish that if I am dealing with an array it will return true if it 's length is zero ? I want it to work no matter the type whether it is int [ ] , Object [ ] . ( Just so you know , I can tell you that if you put an int [ ] into an Object [ ] variable , it will throw an exception . )"
I have couple of enums implementing some common interface and I would like to return class literal from the method . However I am unable to specify the intersection type correctly . See below the code sample illustrating the problem. # getEnum1 method does n't compile . Interestingly it works as parameter value in # enumParam . How can I specify the intersection type to be able to return class literal from the method ?
I was going through the JLS documentation on Thread and Locks http : //docs.oracle.com/javase/specs/jls/se7/html/jls-17.html # jls-17.5 . I am confused with above example ( ex no 17.5-1 ) mentioned in the section as to how f.y could be seen as zero.The Reader Threads will either read the object f as null in which case it will not execute anything or it will read the object f with some reference . If the object f has a reference then the constructor must have completed its execution even though Multiple Writer Threads are running so that a reference could be assigned to f and if the constructor has executed then f.y should be seen as 4.In what condition can f.y =0 be possible ? Thanks
"In my scala code , I 'm using a java library which defines an object with a public attribute called `` val '' : Is there a way to get this attribute in scala ?"
"Can you use underscores in numbers in Java ? I saw this code in a blog , and it works , but will it continue to work in the future ? Is it a feature or a bug ?"
"I have an entity that has a position value in the list . And you need to determine the value of the next position , by obtaining the last value and increasing by one.If there is no one element , then return zero.Is it possible to somehow make changes in a single line so that for the obtained maximum value immediately increase by one if there is and if not , then return zeroThat is , such as such ( pseudocode ) :"
"I 'd like to be able to write , for examplewhich would do the same thing as the existingbut also include private and protected methods . Any ideas how I could do this ?"
"I recently had a technical interview and got small coding task on Stream API.Let 's consider next input : The task is to find Students with unique subjects using Stream API.So for the provided input expected result ( ignoring order ) is [ John , Anthony ] .I presented the solution using custom Collector : But the solution was considered as not optimal/efficient.Could you please share your ideas on more efficient solution for this task ? UPDATE : I got another opinion from one guy that he would use reducer ( Stream.reduce ( ) method ) .But I can not understand how this could increase efficiency . What do you think ?"
"I was asked this question on the interview . I did n't answer and actually I do n't understand how it works.I 'm not asking why does it produce a correct answer ... First of all , why does the algorithm eventually stop ? To me it 's not that obvious.In order for it to stop , carry has to become 0 . Ca n't someone explain it in a nutshell ?"
"I am watching Programming Methodology ( Stanford ) ( CS106A ) course on Java . In lecture 14 Professor Sahami told about memory allocation in Java for functions and object on stack and heap . He told that for any method called on an object , a stack is allocated and argument list and this reference is allocated space on stacke . Through this refernece stored , Java is able to refer to the correct instance variables of an object .but for constructor no this reference is stored along with argument list as object is beingconstructed . My ques is if constructor do n't have have this refernece then how we can use it inside constructor for ex"
"I 've a parameterized interface : And classes implementing the interface : The number of different MyClass*X* is known and exhaustive , and there is only one instance of each MyClass*X* , so I would like to use an enum : To be able to use MyEnum.MY_CLASS_1.run ( someOtherClass1 ) ; for example ( I would then have every instance of MyInterface in one same place ) . Is it even possible ( and if yes , how ) ? Because I 'm quite stuck for now ... What I tried yet : In the above method , when using the type Object for the e parameter : The problem I think is with that private MyInterface < ? > instance field : I need to know how is the instance parameterized , using something like private MyInterface < T > instance , but I ca n't find a working solution ... In short , I 'm stuck ; ) PS : since the run methods bodies can be quite long , I 'm trying to avoid anonymous classes within the enum : MyEnum would then become totally unreadable ."
It seems the need for a type like the following would be so ubiquitous that something like it should be already built into Java : It can then be used in other classes like this trivial example that calls a bunch of executers on an object.Is there a built-in type equivalent or a common library equivalent ? Is there a name for this concept ?
"So here I have this long line of if statements , that are supposed to detect if the value of int [ ] anArray ; is within a certain range . anArray = new int [ 15 ] ; The values of int [ ] anArray ; , starting from anArray [ 0 ] are:49 50 51 59 0 5 9 10 15 19 50 55 89 99 100This is the part of the code that determines if the given values are within a range : Yeah so that 's the code , but that long list of if statements seems a bit redundant . The for loop flips through each of the array values and determines what range they belong in . Then the int [ ] counterarray adds up the amount of values together . So how do I make that long list of if statements more aesthetically pleasing ?"
"If I have JungleCat as a subclass of Cat ( JungleCat extends Cat ) , and then I say : I 'm wondering what are the object types of cat1 , cat2 , cat3 , cat4 , and cat5 ? I 'm also wondering why there 's redundancy in instantiating an object : why do you need to list two object types when you instantiate an object.I 'm sorry if this is a really basic question , but it 's the sort of thing where I just want to know once and for all and with a good answer with good reasoning , which I know I can expect here ( and not Yahoo Answers , etc ) : P"
"I have kind of a general java question I 'm looking for an answer to . Lets say I have an object with a property height and I have a method that uses height to make some calculation . Is it better to pass the property height to the method or is it any different to pass the full object and use a getter to retrieve the value of height . I hope this makes sense.e.g.is the same , worse , better than ?"
"I ran into this today and the only thing I can think is that this is a bug in the Java compiler . The following code compiles , but certainly seems incorrect ( since testMethod has a differenet signature in the child but overrides the parent ) and will throw class cast exceptions at runtime.And using the above structure : All of this compiles fine , but will obviously throw class cast exceptions if you run it . If you remove < T > from TestInterface , or fill T in in the line TestClass implements TestInterface < T > then the code will no longer compile , which makes sense . Imo < T > should have no bearing on the compilation of testMethod since it plays no part in that method . Maybe adding < T > to TestInterface is causing the compiler to type-erase the method signatures even though T does n't participate in those methods ... ? Does anyone know what is going on here ?"
"I am new to wildcards and am having an issue iterating through a Collection type . I had to transform this function to work on any Collection type , not just List and here is what I did : changed to : However , when I compile the code I receive the errors : Am I not using iterable correctly ? Any help is appreciated !"
"According to the Java Language Specification ( Example 17.4-1 ) the following snippet ( starting in A == B == 0 ) ... ... can result in r2 == 2 and r1 == 1 . This is because the result of executing B = 1 ; does not depend on whether or not r2 = A has been executed , thus the JVM is free to swap the order of the execution of those two instructions . In other words , the following interleaving is allowed by the spec : which clearly results in r2 == 1 and r1 == 1.My question : Suppose we tweak the example a little : where obj is a reference shared between the threads.Is the reordering of r2 = A and B = 1 still allowed ? The JLS says ... However , compilers are allowed to reorder the instructions in either thread , when this does not affect the execution of that thread in isolation ... .which sort of indicates that the instructions may still be swapped . On the other hand , the following statementAn unlock on a monitor happens-before every subsequent lock on that monitor.indicates that under certain schedulings we may have a happens-before relation between the statements in the two threads , which presumably disallows instruction reordering ."
"I have accidentally run into Striped64.java class from Kamon Monitoring tool . At line 95 I found this comment : Although I understand what CAS is , I am unable to find out what a release-only form of CAS is . Could someone shed some light on this ?"
"I 've noticed that in Java if the current thread is beeing suspended within a try-block the corresponding finally block is not being executed such as inCan this observation be generalized to the suspension of threads i.e . is it true what the Oracle doc says that it can only used to bypass return , break and continue ? Oracle doc . says : But finally is useful for more than just exception handling — it allows the programmer to avoid having cleanup code accidentally bypassed by a return , continue , or break ."
"It is a well know fact that in Java one needs to initialize a local variable before using it ( cf . JLS ) A local variable ( §14.4 , §14.14 ) must be explicitly given a value before it is used , by either initialization ( §14.4 ) or assignment ( §15.26 ) , in a way that can be verified using the rules for definite assignment ( §16 ) .Otherwise one gets a compiler error : What is the rational for this design decision ? Why does the compiler not automatically convert a declaration ( e.g . int x , double y , String foo , etc . ) to a definition initialized with some default value ( 0 , 0.0 , null ) ? Are there any drawbacks of doing so ?"
"How can I do something like the following JavaScript code , in Java ? What I want to to do is to continue evaluating statements or methods , until it gets something instead of null.I would like the caller code to be simple and effective ."
"I have decided to check the Java Compiler 's perspicacity ; thus , I have written a simple class.I was wondering whether the compiler will optimize the condition to something simpler like : I compiled the class and then disassembled it with the javap tool . When I took a look at the output , I was truly dumbfounded , because the compiler checks both of these conditions , what is clearly shown below.I am just curious , why is it executing redundant instructions , when it can be optimized to something simpler ?"
"Lets say I have these two classes , one extending the otherWhat I want to do is warn the user to call the super-class 's method foo if they have n't in the override method , is this possible ? Or is there a way to know , using reflection that a method that overrides a method of its super-class calls the original method if I pass on the class type to the super ? for example : Maybe even an annotation I can put on the super method so it shows that it needs to be called ? EDITNote , its not the super class that needs to call the foo method , it would be someone calling the sub class 's foo method , for example a database close methodI would even be happy with making the method `` un-overrideable '' if it came down to it , but would still like to give it a custom message.Edit 2This here is what I wanted in a way : But it would still be nice to have the above , or even give them a custom message to do something else like , Can not override the final method from Bar , please call it from your implementation of the method instead"
"The crux of the question is , why does this cause a compile-time error ? BackgroundI understand why generics are n't covariant in general . If we could assign List < Integer > to List < Number > , we 'd expose ourselves to ClassCastExceptions : We get a compile-time error at line 2 to save us from a run-time error at line 4 . That makes sense.List < C > to List < C < ? > > But how about this : In both scenarios , ultimately I get only get Object elements without casting , so I ca n't get a `` mysterious '' ClassCastException.The section in the JLS that corresponds to this is §4.10.2 , so I understand why the compiler is giving me the error ; what I do n't get is why the spec was written this way , and ( to ward off speculative/opinion-based answers ) , whether it actually provides me any compile-time safety.Motivating exampleIn case you 're wondering , here 's ( a stripped-down version of ) the use case : The error is because GenericFoo.class has type Class < GenericFoo > , not Class < GenericFoo < ? > > ( §15.8.2 ) . I 'm not sure why that is , though I suspect it 's a related reason ; but regardless , that would n't be a problem if Class < GenericFoo > could be casted — either implicitly or explicitly — to Class < GenericFoo < ? > > ."
"I have below codeIs there a clear way to handle p ! =null , p2 ! =null , p1 ! =null . I can add p , p1 , p2 to a list and iterate through it as below but I was looking for a cheaper way than adding products to list and then iterating through them. ? Also , I would like to if checking for null each time is expensive than adding to list and iterating through it ?"
I have an abstract class which is defined as : I do n't wan na use question mark ( ? ) and use some generic variable as like T or U . How can I do that ?
"Consider the following code : In this code , a non-comparable object is first added to a PriorityQueue . This code works fine , as already answered here.Then , a second object is added to this queue . As expected per PriorityQueue.add Javadoc , a ClassCastException is thrown because the second object is not comparable to the first one.However , it seems that the size of the queue was increased although an exception was thrown : the second print statement outputs 2 instead of 1.Is this behaviour expected ? If so , what is the reason behind this and where is it documented ?"
"Following are the outputs when I try to run the code in eclipse multiple times . I believed so far that whenever the last line of the code from either try/catch block is about to be executed ( which could be return or throws new Exception ( ) type of stmt ) , finally block will be executed , but here the output different every time ? Can anyone clarify if my assumption is right or wrong ?"
"First thing , I know many people have asked same thing , but this one is nearly same but I have few more questions.I have an image of 48px x 48px , so if I set this image in ImageView with then image looks bigger but if I use following fixed size , it gets smallerI think it 's now showing properly ( not pixelated ? ) with 48dp , but why it got bigger if I use wrap_content ? And if the image size through wrap_content is correct then whats the point of using dp ( if it make image smaller ) ?"
"I 'm studying up for the SCJP exam , upon doing some mock tests I came across this one : It asks what is the output of the following : I thought it would be 21 20 , since t.i would invoke getInt , which then increments k to make 21.However , the answer is 1 20 . I do n't understand why it would be 1 , can anyone shed some light on this ?"
"In the following example that uses JDBC ( this question though is not specific to JDBC ) : If I do not initialize the conn to null then the compiler complains that in the catch block I can not use a reference that has not been initialized . Java by default initializes a object reference to null then why do I need to explicitly initialize it to null . If the compiler did not like the original value of the reference which was null to start with , why did it even accept my explicit initialization ? NOTE : I am using Eclipse Luna as my IDE ."
"My maths says the following Java program would need approx 8GB ( 2147483645 * 4 bytes ) of RAM : This is backed up by observing the program when running : But unless you set the max heap to around 12.5GB , the program fails to start : Can understand the need for a bit of wiggle-room but why do we need so much ?"
"I need help on this code I seem to have a problem regarding on summing the even numbers , what I want to happen is that the even numbers will be outputted and at the same time there will be an output where all the even numbers are summed within the inputted range of the user . I am just a beginner at coding and I hope some people can help me ."
Is there any built-in Java6 method ( perhaps in lang or reflection ? ) for performing : Which takes an Object array and returns an array containing the type of each element ?
I found a mysterious problem with a Java code for homework . A friend program an application which this at the beginning : The boolean 'end ' is false while all the execution and when the user quits the application this happens : The println shows like the value of 'end ' changes to true and logically in my friend 's computer ( MacOS ) the while finish and the application too.The problem is that in my computer ( Ubuntu Linux ) the println also shows like the value changes but the while does n't ends ( the `` Finish '' println is never reached ) . The funny thing about it is if we put prints into the while ... then works !
"The following program on IntelliJ warns me `` Condition ' i < = 2 ' is always 'true ' '' . If I replace the condition with i > 2 , I get `` Condition ' i > 2 ' is always 'false ' '' . Same with i == 2.But if I replace it with i > = 2 I do n't have any warnings.Why in the last case IntelliJ does not warn me that this condition is always false ? I 'm using IntelliJ 14.1.5 and the compiler used is javac in its 1.8.0_51 version ."
"I Have an ArrayList < String > that I use to store PackageInfo ( an example of an element in the arraylist is `` com.skype.raider '' ) .The arralist is initialized as follows : And In The Class ConsturctorWhen i invoke pkgs.remove ( String ) , it does n't work , but when i repeatedly try and remove , it eventually works.Heres how i test if removal worked ( i edited the code so it reads more easily ) Here is the unedited onclick eventAs an example i have included the arraylists contents that i got by iterating over the list.as well as the log output of my testsList contents : Logcat output from unedited code when i try to deselect `` com.sbg.mobile.phone '' PS . This is my first question , so be gentle . I would also appreciate any advice on how to improve on asking questions , I tried to include all of the required info , but if you need anything else , please let me know ."
"Two Main Problems to solve:1 ) Type check is lostUsing the array argument Single.zip ( ) version I lose the strongly typed arguments.2 ) Source argument Can not be NullableI can not send nullable source values as argument of Single.zip ( ) function3 ) I want an alternative to the method taking an Object [ ] not typed : In haskell , there is a question related How can I implement generalized `` zipn '' and `` unzipn '' in Haskell ? : And in haskell I can achieve this with applicative functors : being f : : Int - > Int - > Int - > Int - > Int - > Int - > Int - > String - > String - > String - > Intand a1 .. a11 values corresponding each typeThere is a list of similar functions in the library : With two arguments : with three : And so on ... In all those cases , is just fine , because each argument is typed . But there is a limitation until 9 Single sourcesIn our project , we needed more sources , because we have a lot of services that we want to reach async ( in our case was 11 arguments ) .But the issue is the arguments lose their strong types , and worse , some of them could be NullableFor example we wanted to solve this use case : As you can see , problems may occur if I do for example : Fails because:1 ) None of the Single.zip ( ) functions can take a nullable value as argument.2 ) You can change in the array the order of the values and it can fail because of type-check casting"
"I want to use Java 's stream API to do some calculations on a list of objects : List < Item > .stream ( ) ... The Item class contains many attributes . For some of those I need to take the average value across all items in the collection , for other attributes I need to do other forms of calculations . I have been doing separate stream/collector calls to achieve this and although I 'm not running into any performance issues ( because the list size is usually about 100 ) I want to learn how to be more concise , aka loop once . I read about creating a custom collector , but it seems a bit weird to have my `` calculation '' class be just one line ( stream- > customCollector ) and then have a very bloated collector class that does the actual logic . Especially because different attributes are collected in a different way I would need many different intermediate count and other variables . Any thoughts ?"
"I have written a basic code in Thread and the output which i got is pretty surprising.The output here i am expecting is that it will be printCurrent Thread : Thread [ main,5 , main ] Current Thread : Thread [ Fred,5 , main ] Current Thread : Thread [ main,5 , main ] This result i can understand , that there is only one thread which i am creating i.e Thread Fred . Other two calls to run method is just like calling a normal method.But what i ca n't understand is sometimes when i execute the same program i am getting the following output . So can anyone explain it to me why is it behaving like this.Current Thread : Thread [ main,5 , main ] Current Thread : Thread [ Fred,5 , main ]"
i 've got this question on interview : Can you explain : why ? I have no suggestions .
"The problem is related to integration between Java and Scala . I have simplified it a little bit to make things clearer . I have two classes written in Java : In Java I have a method that uses the classes in the following way : I would like to do the same thing in scala . But the code below does n't compile.The message says : `` type mismatch ; found : org.rarry.sample.AT required : org.rarry.sample.A [ Boolean ] '' Can anybody explain why it is so , and how to go about that ?"
"Ending a turn-based game that allows one action per turn is fairly trivial - you can just have a boolean value update when various win or loss conditions are met , and check the boolean 's value every time you loop through a turn to figure out when the game ends.The game I 'm writing , however , involves more complex turns , with a player taking several actions per character with multiple characters that may result in victory or loss , and several computer-run updates that occur between character turns that may result in loss . Obviously it 's necessary to interrupt the turn when a win condition is reached.The options I thought of : Just continue checking for completion once per loop . This option does n't really work - you 'd have to finish out all the actions for a turn even if you 've won ( which may not even be possible ) , and you 'd have to include special handlers to make sure one finish condition is n't overwritten by another in the same turn.Throw an exception through the stack until you 're back in the main method , then catch the exception , parse it , and provide win/loss messages . Incredibly crass implementation , and not really what exceptions are for.Using observer/listener models or event handlers to just throw another method call onto the stack , instead of the program gracefully extracting itself from the game loop . Seems to be more for inserting a few quick lines of code or shooting messages off to other threads , not ending the current game loop.Putting the game loop in its own thread , terminating whenever a win condition has been reached . Main method is waiting in a separate loop for a change in the game state , and handles as necessary . The problem with this approach is that it seems ( in Java , anyway ) that implementing Runnable does n't actually allow for stopping the running thread from elsewhere ( you 'd have to return from the run ( ) method ) , and even extending Thread ( which should n't be done anyway ) and calling this.interrupt ( ) when a condition is met does n't actually stop the game code from continuing to run . While you could poll the thread 's interrupt flag to drive the logic , that just gives us the same problem all over again of not really working as an interrupt.Some code : I 'm sure there 's a well-known industry standard for doing this sort of thing , but I did n't find it spelled out anywhere , and I 'm at a loss for what it might be.Solution : The State model referenced by Balder appears to be just the ticket . The major gist of this is to track the state of a given turn , and have the game loop perform one action that can alter the game that dynamically changes depending on what state the game is currently in . There are lots of ways to do this - following the links in his answer demonstrates a few of them . Here 's the implementation I ended up using : With this setup , I can extend TurnState to produce any state I wish , with whatever needs to happen during a single action of that state . For example , consider a state for flooding one or more regions on the board . Remember that we need each change to the game to occur by itself so we can check for win conditions in between - so this particular state tracks how many regions we have left to flood , and moves on to the next state once the last necessary region is flooded ."
"I am sure this must have been asked before but I can not seem to find a similar example . I understand well polymorphism and method overloading , but here is a seemingly simple scenario with a solution that escapes me : let 's say I have a base class with several derived classes . I will use shapes for this exampleetc.Now , shape has a method called intersect ( other ) that tests against another shape to see if they intersect . With polymorphism it is easy to see how Circle , LineSeg , etc. , can implement their own `` intersect '' methods , and , with method overloading , I can easily implement all needed combinations . e.g. , etc.so far so good.the problem is , if I keep a central list of shapes , I want to do this : Currently , I am not sure how this is possible , since the method overloading selects the `` intersect '' method to match the base type Shape , and not the appropriate parameter type . How can I make this without an if-else chain checking the types and down-casting ? BTW , I am using Java , but I am not sure that the language is entirely relevant since it seems to be a basic design question . Seems so simple , what am I missing ? Thanks ! Solved below ( Thanks ! ) , see details there . Basically , by having a callback in the derived classes that then calls the appropriate method ( a visitor pattern ? ) , you can use the `` this '' keyword to invoke the proper intersect method , as it has the proper type needed ."
Can you please explain what 's going in the last 2 print statements ? That 's where I get lost .
"i know why a can not be cast to B , because of B is not inherit from A.my question is about , why B b1 = ( B ) i ; is allowed since B is not implements from I ? and why B b1 = ( B ) i ; this line will not force a runtime exception since i is null ?"
"Since private methods are implicitly final.private or static or final methods are early bind means they ca n't be overridden.But in my code it is actually running properly.Also I want to make sure what the benefit is of making a private member static , besides the fact that you can use class-name.member , over a non-static member within a class.They are private so ca n't be used outside the class . For example the hugeCapacity ( ) method in the ArrayList class ."
"I come from the Java world , so to me it 's all object.foo ( ) , but in Objective C , is object messaging the only way to invoke a method ?"
"I am using the Google Natural Language API to analyze entities from different texts . Is there a way to change the language of the input text to , for example english , as it is the case with the AlchemyAPI withthanks"
"I 'm running a spark job on Dataproc which reads lots of files from a bucket and consolidates them to one big file . I 'm using google-api-services-storage 1.29.0 by shading it . Until now it worked fine , consolidating ~20-30K files . Today I tried it with about 5 times as many files and suddenly I 'm getting a deadlock ( at east I think I am , because it seems that all my executors are waiting indefinitely ) . This is the thread dump : Eventually I have to kill the job because nothing happens.Any idea what is causing it ? I tried using both a ThreadLocal < Storage > and a single Storage instance in my code , it does n't seem to make a difference ."
"I am struggling with the following riddle of my coworker : This outputs true . I am little bit surprised because it looks like s1 is interned . But this is no constant expression , is n't it ? But then I am even more surprised why the following prints false.Why does the introduction of s3 change the output ?"
"There are a bunch of questions where people have realized that creating a method reference with an expression that evaluates to a null value will result in a NullPointerException . As an example : This is due to the following paragraph in the java specification : First , if the method reference expression begins with an ExpressionName or a Primary , this subexpression is evaluated . If the subexpression evaluates to null , a NullPointerException is raised , and the method reference expression completes abruptly . If the subexpression completes abruptly , the method reference expression completes abruptly for the same reason.Now my question is , does anyone happen to know what the reason behind this ( based on the many confused questions ) counterintuitive specification was/is ? The only thing that comes to my mind is that in the following case it is hard to accurately report the error of the NullPointerException if it happens during the evaluation of the Supplier :"
Eclipse 4 gives a warning which says the stmt may potentially not be closed and cause a resource leak : Under which circumstance would that happen ?
"I have two snippets , one in Java and one in c # .the Java snippet returns 7101.674and in c # produces a result of 7103.674.why am I off by 2 and what is correct ?"
"DescribtionIm working on a little java game server ... in order to update and save the game in another thread , im forced to deep clone some of my entities . Otherwhise a internal hibernate exception occurs : `` ConcurrentModificationException '' when updating my entities So my flow currently looks like this : Mark game entities to updatePass those entities into another threadClone those entitiesCall `` session.update '' on the cloned entitiesRepeat in one minuteIt works fine with simple classes , but theres a huge problem with relations.The problemWhen i deep clone my `` chunk '' entity ( see below ) , its collection ( inChunk ) also gets deep cloned.I use that deep cloned entity and pass it to `` session.update '' .During the update , the chunk ALWAYS inserts its collection childs . It never updates them.Because i repeat this update process every minute ( see above ) , it results in a `` Duplicate Entry '' exception at the second update cycle.QuestionWhy the hell does hibernate always inserts my childs without any checking if those had already been inserted ? And what can i do to prevent/fix this ? Things i have triedRemoving `` @ SelectBeforeUpdate '' annotationsAdding cascading to the `` Chunk.InChunk '' relation with `` All '' or `` Merge '' Run a `` session.merge '' instead of `` session.update '' which results in the same duplicate entry exception , simply ignoring the fact that its children are already inserted.None of them workedDisclaimerI need to clone the entities , otherwhise it results in an internal hibernate exception , see the link above.Im using a library called `` DeppClone '' https : //github.com/kostaskougios/cloning for cloning my entities in an other thread.If more informations are required , please write a comment . Its a complex issue and hard to generalize , but i hope that i have described it properly ."
toArray method hides < E > passed to Collection < E > interface . Below is the method signature.Because of which below is possible . And results into ArrayStoreExceptionI wanted to know why was such decision taken ? Why was such a case allowed while designing the API ? As anyway this code results in to RuntimeException ?
I 'm trying to write a regex that matches either \ or /.No matter in what order I write it : or It is somehow escaping either my square bracket or my forward slash . What 's the correct way of showing this particular case ?
"So , basically i have two Arrays : and I want to fill in a new array ( listD ) all elements of listA that are missing from listB.The output should be like this : Output : 2 , -5 , -121 , 102 , -35 , 0 , -125 , 802 , -10My code is the following : I then use the following for loop to run trough both arrays and check if there are repeated elements : I know what 's wrong with the loop , using Debugger it 's quite easy to see where it goes wrong , but at this point i 'm just running in circles and coding the same mistakes ... After the loop finds the repeated element i ca n't find a way to normalize the condition ( listD [ i ] = listA [ i ] ) since it has skipped a postion . Maybe I need another loop just to iterate trough listD but I 've never nested three loops before ... Bare in mind this is really basic java programming , these are just exercises from my class to get the basics of java programming . I have no knowledge of any POO , classes , methods etc etc and ca n't apply them of course ."
"Problem : Given two Collection < ? > s , check if both contain the same elements.Assuming that the actual implementation of the collection is unknownAssuming that the elements do not occur in the same orderAssuming that no element does occur twice in the same collectionSolution 1 : Solution 2 : I would assume Solution 2 to be more efficient ( O ( n ) ) than Solution 1 ( O ( n^2 ) ) .Am I correct or did I miss something ?"
"Consider the following situation : This is a situation where three resources have been created inside try resources : a Connection , a Statement , and a ResultSet.What will happen to these three resources after the try block ends ? Will they all be closed , even if they have n't any reference to them , or will only the resultSet be closed ? Is this safe to declare AutoCloseable resources without any reference to them in try with resource blocks ?"
"So , I am trying to store 3 longs to a file , but it will a lot of data so I convert them to byte arrays and save them . My current method for saving them : longToBytes method : The byte array gets saved to the file , but the first byte gets truncated . the print statement in longToByes prints 8 three times.The original longs are : -9089798603852198353 , -5339652910133477779 , 5992If I print the byte array I get : -127 , -38 , -116 , 84 , 97 , -116 , 78 , 47 , -75 , -27 , -67 , -8 , 11 , -100 , -2 , 109 , 0 , 0 , 0 , 0 , 0 , 0 , 23 , 104 ( 24 bytes ) But in the file I see : ÚŒTaŒN/µå½ø ( VT symbol ) œþm ( nul ) ( nul ) ( nul ) ( nul ) ( nul ) ( nul ) ( etb ) hwhich is 23 bytes ( the first box does n't show in notepad++ ) but if I read it usingI see:64 , -38 , -116 , 84 , 97 , -116 , 78 , 47 , -75 , -27 , -67 , -8 , 11 , -100 , -2 , 109 , 0 , 0 , 0 , 0 , 0 , 0 , 23 , 104 ( 24 bytes ) -127 is replaced with 64 somehow.I concat the byte with `` '' to print it btw ."
"A simple swing application draws two independent JDialogs , that contains different JEditorPanes with different html content . In one JEditorPane we use css rules to set borders of table visible . But another JEditorPane uses the same css rules and draws 3px table border as well , but it should n't ( we do not set it explicitly ) . Why do they use the same css rules and how we can fix it ? UPD : As Freek de Bruijn said , it is not a bug and it is documented . So when we set or get StyleSheet in HTMLEditorKit , it uses StyleSheet from AppContext and therefore it shares StyleSheet between all instances of HTMLEditorKit , so the only way to solve this problem is to override HTMLEditorKit 's methods . I did it in this way : And setCSS method now looks like :"
The standard Collector summingInt internally creates an array of length one : I was wondering if it is n't possible to just define : This however does n't work since the accumulator just seems to be ignored . Can anyone explain this behaviour ?
I 've following code ( simplified to focus on issue ) . That prints the timezone information using SimpleDateFormat pattern.Do you know why z is treated differently on different machines ? And if there is a way to tell Java to treat it uniformly across all the machines ? This class is being used in JavaMail and that is causing our email headers to include time which is not comply with RFC 2822.Output : Windows / MacOutput : Linux ( CentOS Linux release 7.5.1804 ( Core ) ) / Ubuntu 14 / 18
"I recently use this code , and realize that in anonymous class , I ca n't access the instance by .this , like this : I know how to solve it ( just declare a `` me '' variable ) , but I need to know why I ca n't use < Class > .this ?"
"I have the following program that fails to compile : Just block 1 compiles fine and works as expected - I can conditionally select an object and call a method on it inline.Just block 2 also compiles fine and works as expected - I can conditionally assign a method reference to a Supplier < String > variable and call .get ( ) on that variable.However block 3 fails to compile : I would think combining the ideas in block 1 and 2 I would be able to perform block 3 as the type of ( ( Supplier < String > ) ( args.length > 0 ? Lambda : :foo : Lambda : :bar ) ) is Supplier < String > . To be clear : I 'm not looking for a workaround here , this would n't be good quality code in the first place . I 'm just curious why the last block fails to compile ."
"Is it possible for Java application to know the its own current directory . I am referring to result of pwd.For instance , when executed"
"Consider the following returnsNull function and a call to it with a generic type : The Eclipse compiler , when set to Java 8 , accepts it , but javac in Java 8 rejects it with : The underlying difference seems to be that given a two parameterized types P1 < T > and P2 < T > , Eclipse allows conversion from the outer type parameterized with the raw inner type : P1 < P2 > to the outer type parameterized with a lower bound of the of the inner-type with an unbounded wildcard like P1 < ? extends P2 < ? > > . javac doesn't.This is n't just a theoretical musing : if this code was accepted it would solve my generics filtering problem . Who is right ?"
"In Java 8 time API , you can create a LocalDateTime which falls in the overlap of time during the DST time change in autumn ( Central European Time ) .You can convert this to a ZonedDateTime which represents a precise moment in time using a ZoneId . Doing this does not actually resolve the ambiguity - there could still be two moments in time which correspond to this LocalDateTime and this Zone ( but at different offsets ) .How and why ( reference welcome ) does the time API choose the summer offset ?"
"In my project recently I 've encountered code that compiles perfectly fine , however is very surprising to any reader and should not pass static analysis.We use Checkstyle , PMD , ErrorProne and SonarLint but none of these tools complains on such construct . Is there any rule that could be enabled or tool that can be used to prevent such code ? Apparently Checkstyle 's ArrayTypeStyle does n't include such case.EDITI was running static analysis on a file with .groovy extension and SonarLint said that this code is fine . After changing extension to .java it detected the issue . And indeed after update to 8.18 Checkstyle also spots it correctly ."
"I have 8 files . Each one of them is about 1.7 GB . I 'm reading those files into a byte array and that operation is fast enough.Each file is then read as follow : When processed using a single core in a sequential sense it takes abour 60 seconds to complete . However , when distributing the computation over 8 separate cores it takes far longer than 60 seconds per file.Since the data are all in memory and no IO operations is performed , I would have presumed that it should take no longer than 60 seconds to process a single file per core . So , the total 8 files should complete in just over 60 seconds but this is not the case.Am I missing something about BufferedReader behaviour ? or any of the readers used in the above code.It might worth mentioning that I 'm using this code to upload files first : The code over all looks like this :"
I have two constructors that compile just fine but I 'd expect Java to complain about the possibility of ambiguity.What gives ?
"I have written a piece of framework that adds the possibility for type-safe invocations of its interface . Now , when writing the JUnit tests , I want to show that specific expressions that earlier led to runtime errors are checked by the compiler now.Probably it 'd be best to simply comment that code out and leave it like that . I was just wondering whether it 'd be possible with some testing framework to write something likeI explicitly do not want to fiddle around with invocations of javac with a custom classpath myself . If there is the possibility for a general solution that could be extracted to framework code ( and donated to JUnit or TestNG ) such a solution would be welcome as well ."
"I am looking for a way to search for a subsequence in a given sequence that sums up to a given number ( sum , here 4 ) with a lexicographical priority.Take for instance the following example : Different subsequences can sum up to 4 . For instance 1,2,1 , 2,2 2,1,1 . In case multiple of such sequences exists , the lexicographical first of the corresponding index-array should be returned : so if it is possible to find such sequence with the first element , one has to returned that one , if not , aim for the second and so one ( both iterative ( take the next one ) , and recursively ( after selecting the first , the next but first should be closest to the head of the sequence as well ) .So for this example , we select 1,2,1 . Now 2,4,1 is left . If we repeat this problem we can not make a match with 2 : 2,4 is greater than 4 and 2,1 is less than 4 . Thus we select 4 . Finally we have to select 2 and 1.A practical application of this concept is a queue of a roller coaster . You need 4 people for a ride , but some people are in groups with their friends and would like to all get on the same ride together.In this example 1 is a single person at the front of the line , 2 is a group of 2 friends behind him . Now we need a total of 4 people for this ride and we already have 3 , so we cut the line ( 2 and 4 ) and take the first single person , which gives us 4 people total ."
"Currently I try to store some news from a web api with the help of JPA.I have 3 entities i need to store : Webpage , NewsPost and the Query that returned the news post . I have one table for each of the three . My simpliefied JPA entities looking like the following ones : Currently I 'm doing the following : I create the query and retrieve the of the query . Then i start crawling : I get the objects from the web api back in paginated fashion with pagesize of 100 newsPosts i use an object mapper to map the json response to my entity classes.Afterwards i tried two different thins : I added the query ID as Set to the NewsPost and wrote it back to DB with the EntityManager 's merge option . This works quite well until i came to the point , where I got a NewsPost again for another query , then the new query is overwritten by the old one . To solve this it tried 2.I check if the NewsPost already exists if it does i retrieved the post added the new query to the existing one and merged it back to the database as i did before . When doing this i works quite well and i get the expected result for the first batches but then suddenly the application start to consume more and more memory for the thrid batch . I attachted a screenshot from JavaVisualVM . Has somebody an idea why this happens ? Edit : As some Questions were raised in the comments i would like to provide the answers to the questions here.I think with the crawling everything works fine . The return of the Webapi comes as json . I 'm using jackson mapper to map this to a POJO and afterwards I 'm using the Dozer mapper to convert to POJO to the Entity . ( Yes i need the step to POJO first for other purposes in the application this is workin fine ) .Regarding the writing with the EntityManager I 'm not sure if I 'm doing that correctly.At first i created a JPA repo for checking if the post already exists ( to get the old query ids and avoid the issue with the overwriting in the queryid , postid table ) . My JPA repo looks as follows.To update the posts I 'm doing this as follows : I 'm currently writing my entities as follows i have a list of entities the contains also the updated posts and i have an autowired EntityManagerFactory in my class that handles the writing.I 'm pretty sure that it is the writing process . If i keep the logic of my software the same but only skip the merge or just printing or dumping the entities to a file everything works and fast and no error appears so it seems to be an issue with the merge comment ? Regarding the question if my program dies because of the memory consumption it depends . If I run it on my mac is consumes up to 8+ gigabytes of ram but MAC OS is handling this and swaps the ram to disk . If I run it as a docker container von CentOS the process is killed due to to less memory.Do n't now if this is relevant , but I 'm using OpenJDK 11 , Springboot 2.2.6 , and a MYSQL 8 Database.I configured jpa as follows in my application.yml :"
"So here is the situation : I need to register people 's vote for certain dates . In short , a date is proposed and people vote for the date they want.The data structure is the following : A vote is : Where VoteType is just an enum : Now I already made a stream that returns the amount of votes for the availability ( VoteType ) : So my question is : How can I get , using Java Streams , the date that got the most 'YES'.Thank you for the help !"
"I 'm looking to create a test application which can check various flight information from an airline providerI 'm struggling with the concept of classes and methods and which ones to create.My current thought process is as follows : The data is downloaded from a website , due to the size of data , I only want to download the data once.My current thinking is : ClassConstructorMethodsHopefully , you get the general idea of what I 'm trying to implement , but I 'm just not sure if its the right way . I 'd basically create an object from the Class , the constructor would then auto download the data and store in a suitable object array of some kind.A main program would be created to allow a user to query flight info etc.It would effectively query this object from the main program to find specific information about flights , dates etc.Would this be the best way to implement this type of functionality bearing in mind I do n't want to access the data directly and I have a restricted bandwidth so need to implement some kind of local cached version ? I 'm concerned more with the actual makeup of the class/constructor/methods as opposed to the actual functionality of each method and calling parameters.Hope this makes sense , any pointers would be much appreciated and also any reference sites with lots of real world examples like this which could improve my initial analysis of problems , Thanks ,"
I use this technique frequently but I 'm not sure what to call it . I call it associative enums . Is that correct ? Example :
"I have the following method with generics that executes the getter of each item in the list it receives : It works perfectly fine if I call it as this : But , it gives me a compile error if I do it in a single line : The error says : The method setListIds ( List-Integer- ) in the type MyDTO is not applicable for the arguments ( List-Object- ) So , when I try to directly set the list , it is casting the generic to Object instead of Integer . Why is that ?"
"I have solved a Y-combinator problem . Just now I found that I can not reference a generic parameter recursively.for example : Q : How can I use generic parameter on the method g to avoid introducing an additional interface G , and the generic parameter should avoiding the UNCHECKED warnings ? Thanks in advance ."
"Let 's say I have the following two tables : And I want to write a JPQL query that changes some Bar.flag values based on a collection of Foo ids.If this were plain SQL I 'd write something like this : You ca n't translate this to JPQL however , because the bar_id column is n't mapped to a property of the entity.As bar_id is n't directly mapped on the Foo Entity , how can I achieve this kind of query in JPQL ?"
"When I read Effective Java item 27 , the type casting between UnaryFunction < Object > and UnaryFunction < T > confused me.Why UnaryFunction < Object > can be casted to UnaryFunction < T > ? I know the generic type will be erased after complier . So ( UnaryFunction < T > ) IDENTITY will eventually be ( UnaryFunction < Object > ) IDENTITY , this will be working in Runtime.But directly casting UnaryFunction < Object > to UnaryFunction < A > is not allowed by compiler.And there is no inheritance relationship between UnaryFunction < Object > and UnaryFunction < T > . So why UnaryFunction < Object > can be casted to UnaryFunction < T > ?"
"There is a simple proxy : Pre filter : and properties : In general , everything works well.But the web pages that the proxy sends have links likeA must be of the form like : How to configure a server to send the correct links ? Cases:1.When accessing the myserver directly from the Internet like : server sends the page with the links like:2.When accessing the proxy from the Internet like : proxy-server sends the page with the links like :"
"so I just saw this code at work , and the author told me it 's for inline optimization.then he calls it in main like thisInstead of having a default constructor with the code from init ( ) in it . He told me it 's for inline optimization . Is this correct ? How is it faster ? where do I read up about this ?"
"I have the following code that is functionally working I have tried this : But this throws to add a return statement . Also , the classBooked variable needs to be declared final , but that can not be done . What is the mistake being done ? Also , once true , I need to break from it . that is why I thought of adding findFirst ( ) .ifPresent ( )"
"I am using Hibernate for a few years but am not sure about the usage of Query and Criteria.I understood , that one of Hibernate strengths are to control the field name in one place.If I have the following code : What if I change `` name '' of the Cat in the java object ? Even when using refactor replace ( like in Elipse ) it will not detect the element as something that needs to be changed ! If so , how do you maintain the field names in Java ?"
"Ok I know i asked before but i got a little further than what i had . So here is my problem.I have to write a program that will read in two numbers from the user ( double type ) . The program should then display a menu of options to the user allowing them to add , multiply or divide the first number by the second . My program should catch division by zero and report the error to the user.Here is what i have so far I am just kind of lost on where to put the Math part in the switch statments Ive looked for other tuts but i dont know if i was looking in the right place . Any help would be nice and thank you ."
"Imagine you want to count how many non-ASCII chars a given char [ ] contains . Imagine , the performance really matters , so we can skip our favorite slogan.The simplest way is obviouslyThen you think that many inputs are pure ASCII and that it could be a good idea to deal with them separately . For simplicity assume you write just thisSuch a trivial method could be useful for more complicated processing and here it ca n't do no harm , right ? So let 's continue withIt 's the same as simpleCount . I 'm calling it `` smart '' as the actual work to be done is more complicated , so skipping over ASCII quickly makes sense . If there 's no or a very short ASCII prefix , it can costs a few cycles more , but that 's all , right ? Maybe you want to rewrite it like this , it 's the same , just possibly more reusable , right ? And then you ran a benchmark on some very long random string and get thisThe parameters determine the ASCII to non-ASCII ratio and the average length of a non-ASCII sequence , but as you can see they do n't matter . Trying different seeds and whatever does n't matter . The benchmark uses caliper , so the usual gotchas do n't apply . The results are fairly repeatable , the tiny black bars at the end denote the minimum and maximum times.Does anybody have an idea what 's going on here ? Can anybody reproduce it ?"
"I am trying to use java 8 features . While reading official tutorial I came across this code and there was a question : Which method will be invoked in the following statement ? '' String s = invoke ( ( ) - > `` done '' ) ; and answer to it was The method invoke ( Callable < T > ) will be invoked because that method returns a value ; the method invoke ( Runnable ) does not . In this case , the type of the lambda expression ( ) - > `` done '' is Callable < T > .As I understand since invoke is expected to return a String , it calls Callable 's invoke . But , not sure how exactly it works ."
"I am observing some peculiar behavior with Java8 and the new Stream-API.I would expect the performance of the following two statements to be identical , but it 's not.versusBoth statements should return true , and I would n't expect any performance difference given that they can both short circuit on the first match found . The only difference in the statements is that one is bounded in an upper limit on the range of numbers to iterate , while the other is not.Can someone explain to me why one would run faster and use less memory than the other ?"
I have this line of codeI have a bytearray ( content [ ] ) in little endian and need to recreate a 2 byte value . This code does the job just fine but prior to testing i had it written like thisand the result was not right . My question is why is 0xff necessary in this scenario ?
I 'm trying to define a custom ClassLoader . And of course my code to test it : The problem is that my lines never get printed . Clearly I 'm missing something .
"I have a const experience value , person object , list of skill and method ( can not modify it ) hasSkill ( skill , person , experience ) which returns boolean.I want to check that person has every skill from the list.My code is : I am pretty sure that there is better solution but can not find it ; what should I do to fix my code ?"
"I 'm no native English speaker , so please excuses any translation errors.I 'm not really having a coding problem . It 's more of a conceptual question.I wrote two times the same piece of code translating an image into a list of RGB values . ( 1 combination of 3 values for each pixel ) .I wrote the code first in VB.net using : Afterwards I wrote the following in Java : My expectation would be to get the same values from both pieces of code , since they use the same image . I tried it on an image ( 270x320 ) which was a photograph ( so a full spectrum of colors ) . To my surprise I saw there where small differences in the RGB values between the VB.net and Java codes.If I compare the java ( red ) 's versus the VB.net ( red ) 's , the java ( green ) 's versus the VB.net ( green ) 's and the java ( blue ) 's versus the VB.net ( blue ) 's I compare 270x320x3 = 259.2k combinations . The differences between the integers gotten from the VB.net and from the Java code are as followed : No difference : 250178 ( 96.5 % ) One difference : 7426 ( 2.9 % ) Two difference : 1582 ( 0.6 % ) Three difference : 14 ( 0.0 % ) Four or more diff . : 0 ( 0.0 % ) Can anybody explain to me where this difference comes from ? Has it to do with the way of reading the colors , the way of buffering the image , or with something like anti-aliasing ? Really curious what the reason is , thx in advance"
Given this little pice of code : i do n't understand the output that is shown : what is the second listed constructor in here with the second parameter to the Builder . I thought that the output will only show the private constructor of Hello but not the second one .
The following little Java example wo n't compile for unclear reasoning : The line with ctx.put produces following error : If working without wildcards the attribute pattern works fine.Is there any explanation why the compiler does not accept the value with wildcard typing ?
"On page 65 and 66 of Java Concurrency in Practice Brian Goetz lists the following code : About this class Goetz writes : `` ... the delegating version [ the code above ] returns an unmodifiable but 'live ' view of the vehicle locations . This means that if thread A calls getLocations ( ) and thread B later modifies the location of some of the points , those changes are reflected in the map returned to thread A . '' In what sense would Thread A 's unmodifiableMap be `` live '' ? I do not see how changes made by Thread B via calls to setLocation ( ) would be reflected in Thread A 's unmodifiableMap . This would seem the case only if Thread A constructed a new instance of DelegatingVehicleTracker . But were Thread A to hold a reference to this class , I do not see how this is possible . Goetz goes on to say that getLocationsAsStatic ( ) could be called were an `` unchanging view of the fleet required . '' I am confused . It seems to me that precisely the opposite is the case , that a call to getLocationsAsStatic ( ) would indeed return the `` live '' view , and a call to getLocations ( ) , were the class not constructed anew , would return the static , unchanging view of the fleet of cars.What am I missing here in this example ? Any thoughts or perspectives are appreciated !"
I have a question regarding this . statement.Let 's say I have this code right here ( very stupid and useless but gets the message across ) : So do I have this code right ? When I am using this.SumAddG ( ) - Am I referring to the result of the method SumAddG ( ) using the instance variables of this class instance ?
"Consider the following sql query : Markus Winand in his book `` SQL Performance explained '' names this approach as one of the worst performance anti-patterns of all , and explains why ( the database has to prepare plan for the worst case when all filters are disabled ) .But later he also writes that for the PostgreSQL this problem occurs only when re-using a statement ( PreparedStatement ) handle.Assume also now that query above is wrapped into the function , something like : So far I have misunderstanding of few points : Will this problem still occur in case of function wrapping ? ( I 've tried to see the execution plan for the function call , but Postgres does n't show me the details for the internal function calls even with SET auto_explain.log_nested_statements = ON ) .Let 's say I 'm working with legacy project and can not change the function itself , only java execution code . Will it be better to avoid prepared statement here and use dynamic query each time ? ( Assuming that execution time is quite long , up to several seconds ) . Say this , probably , ugly approach :"
"We have a map of Student to record Map < Student , StudentRecord > .Student class is as follows : Additionally , we have a list of Student Id ( List < String > ) provided.Using Java streams , what would be the most efficient way to filter out records of students whose Id exists in the provided list ? The expected outcome is the filtered list mapped against the Id ( String ) - < Map < Id , StudentRecord > >"
"I have a set of Java annotation that I quite frequently use , like this : As I use all these annotations together quite often , and I may have to add to them in everywhere they are used once in a while , I would like to create a new annotation that I can use instead . This annotation should then `` resolve '' to all the annotations that I define somewhere.How do I declare @ MySuperAnnotation such that it `` resolves '' to all the other annotations ?"
"After asking [ How to parse Japanese Era Date string values into LocalDate & LocalDateTime ] , I was curious about the following case ; Is there a way to parse Japanese numbers on top of Japanese Calendar characters , essentially a pure Japanese date , into LocalDate ? Using only Java DateTime API . I do n't want to modify the input String values , but want just API to handle the recognition ."
"Inside a bat file I have the following : java -Ddatabase.host=127.0.0.1 -Xms128M -Xmx1024M com.temp.util.manual.serial.Assignment -folder C : \temp\ -destination C : \temp\out.csvThe -folder and -destination params are supposed to be passed to the main method of the Assignment class being called , but instead they are being interpreted as VM Args.I tried putting quotes around the params to no avail , and searching does not reveal an answer.I get the following error :"
"I was reading Java SCJP book by Khalid A. Mughal ( for JE6 ) , and in topic 7.6 Interfaces and Page number 313 , it is given that A subinterface can override abstract method declarations from its superinterfaces . Overridden methods are not inherited.I could not quite understand what `` Overridden methods are not inherited . '' means . I tried to do this : And I did not get any error . What am I not understanding ?"
"I need some clarification about how minor gc collections behave . calling a ( ) or calling b ( ) in a long-lived application , if they could behave worstly when old space gets bigger Where does my doubt comes from ? I found out that in an app in which the used tenured space gets bigger , there is an increase of minor gc pauses.Making some tests I found out that if I force the jvm to use option a ( ) and another jvm to use option b ( ) , then the jvm with option b ( ) has shorter pause duration time when the old space gets bigger but i ca n't figured out why.I solved that issue in the app , using this property XX : ParGCCardsPerStrideChunk in 4096 , but i want to know if situation which i described above can lead in increasing gctimes cause scanning in gccard tables is slower or something that i do n't know or is not related at all ."
"I 'm trying to understand the benefit of a programming language being statically typed , and through that , I 'm wondering why we need to include type in declaration ? Does it serve any purpose rather than to make type explicit ? If this is the case , I do n't see the point . I understand that static typing allows for type checking at compile-time , but if we leave out the explicit type declaration , ca n't Java still infer type during compile-time ? For example , let 's say we have in Java : Is n't the type declaration unnecessary here ? If I 'm not mistaken , this is static binding , and Java should know test is of type myClass without explicit declaration of type even at compile-time.Response to possible duplicate : this is not a question regarding static vs. dynamic type , but rather about type inference in statically typed languages , as explained in the accepted answer ."
"having since can not do so there is a the aList is built by other routing at runtime , and that part of code has a function to take a List < IData > from the the aListthe question is if the List < ? extends IData > aList is point to ArrayList < ChildClassA > ( ) or ArrayList < ChildClassB > ( ) , can it do ListData < IData > outputList = ( List < IData > ) aList ? something like below : ( seems it is working , but not sure if there is better way to assign the generics array other than casting . ) Edit : the output of the List < IData > outputList is for read only use ( immutable ) , no insert/delete on it , it will only iterate the IData to react on what the IData really is ."
Looking for modern way to realise String translation to replace bad looking if-else or switch constructions : or
"For a given type of Map , are there any guarantees that iterating over the Collection views returned by the keySet , values and entries methods are iterated in the same order ? Background : I 'm wondering whether transforming tois guaranteed to keep iteration order unchanged ."
"I 'm using the Mockito mock framework to mock a generic class in Java . The usage of the framework seems to be pretty clear from the documentation , I did n't find an example for mocking generic classes . The mock framework contains the following method : I have a generic type IState < StateId , Event > and I want to instantiate it using the above method . I tried the following : I get the following warning for this code : I think I know what the problem is . The mock method returns a type of IState , but the variable I 'm assigning to is a specialized type IState < StateId , Event > , so I somehow need to tell it that the class I am creating is specifically IState < StateId , Event > , but I do n't know what the syntax for this is . I tried the following ones , but they all gave syntax errors ."
"So I 'm writing some code that involves extending a class I have previously written in which files are created and named using a constructor that takes in a name and a size of type long . In that original class , I verified within the constructor that the entered file name contained one `` . '' character but did not require a specific extension on the file . For this new class that I am writing , I am requiring the name 's extension be `` .mp3 '' .However , my compiler does not like verification before the super constructor . This is my current code : Is there any way to verify that `` aName '' contains `` .mp3 '' before I create that constructor ?"
"I 'm trying to make sure I understand the performance implications of synchronized in java . I have a couple of simple classes : So , as you can see in the previous example , I 'm synchronizing on ClassOne.setClassTwo and ClassTwo.setVal and ClassTwo.setVal2 . What I 'm wondering is if the performance is exactly the same if I remove the synchronization on ClassTwo.setVal and ClassTwo.setVal2 , like so : They are functionally equivalent in this scenario ( assuming no other classes are using these classes ) , but wondering how much overhead ( if any ) there is in having more synchronization ."
"My question is the following : Its usual for Java code to have generic collections implemented like : And used like this for example : Since the generic type of genericCollection is erased , the JVM does n't seems to have a way to know that really inside 'data ' array of genericCollection there are only MyObject instances , since the actual type of the array is Object , there could be a String in it , and calling 'myObjectMethod ' on it would raise an exception.So I 'm assuming the JVM has to do some runtime checking gymnastics to know what really is inside that GenericCollection instance.Now look at this implementation : In this case we create a type specific array through reflection , so the JVM could infer there could be only be T objects inside that array in a given context , making the unsafe casts and possible expensive type checks redundant.My question would be , given the things HotSpot can do , would it help in any way , performance-wise , to implement generic collections with a `` proper '' type specific backing array ? For example , does it helps HotSpot in removing unnecessary type checks or casts ? Maybe possibly enabling it to more easily inline methods given it knows the backing array is of a specific type ?"
"I often have to compare to instances of a certain type for equality , but I do not need to compare everything , but only certain fields . I usually do it like this : As I have to to this really often , I am wondering if there is a generic way to do this . All the objects I have to compare extend a certain base class . Is there a way to write a static method which can do all these comparisons for me ? I was thinking of a static method which would have to parameters for the objects to compare and a vararg parameter for all the method references : But I do not know how to pass the method references and how to use them in a comparator within the method . Can this be done in some way or is there a different approach I should try ?"
"Well , I am attempting to read a text file that looks like this : FTFFFTTFFTFT3054 FTFFFTTFFTFT4674 FTFTFFTTTFTF ... etcAnd when I am reading it , everything compiles and works wonderfully , putting everything into arrays like this : studentID [ 0 ] = 3054studentID [ 1 ] = 4674 ... etc studentAnswers [ 0 ] = FTFFFTTFFTFTstudentAnswers [ 1 ] = FTFTFFTTTFTFHowever , if the studentID has a leading or trailing zero , when I print it with System.out.println ( ) ; , it deletes the leading and trailing zeroes ! I have a feeling this is something simple , and I need to like copy the array or something . Thank you : ) Below is my code :"
"The following is a constructor of String class But , I wonder how couldhappen ? The comment says 'trim the baggage ' , what does baggage refer to ?"
"To my understand correctly anonymous classes are always final : This has been mentioned specifically in JLS 15.9.5 However , when i run the following code to check that it is showing that Inner class is not final.Output of above program is : Please clear my doubt as i am not able to understand this behavior ."
"I came across this question while I was doing some interview prep . The choices given were : O ( n ) O ( n^2 ) From what I understand the answer should have been O ( n ) as on every iteration a new instance of the array is being created and the previous reference is being lost . However , the book mentions the answer to be O ( n^2 ) . What could be a possible explanation ?"
Below is some code snippet from the netty 4.0.24 framework . It 's kind of confusing to interpret the B type parameter .
"I have two string variables ticker and detail . I 'm trying to print out the two strings in one line . It just would n't work . I 've tried so many different ways of doing this . To exclude the possibility of an uninitialized string I tried printing them out in different lines ... this works.This example works ... except that the output needs to be in one line.And the output is : When I try to put the output into one line in any of many ways , I get only the ticker ... the detail string is just not printed ... not to console or to file . Here are some example code snippets that produce the same result : Attempt 1 : Attempt 2 : Attempt 3 : Attempt 4 : In all the above attempts , I get the following output ... as if the detail part is ignored : What could be causing these symptoms ? Is there a way to get the two strings printed in one line ?"
"I have used log4j 's rolling policy for compressing files that reach to certain amount in size . Below log4j properties are working properly.But problem here is after it generates a compressed file , it also renames the file which is present in the compressed gz file with the name of gz file.For my scenario , I do n't want log4j to rename file that is present in the compressed gz archive . Is there any way by which we can restrict log4j to not to change file names which it is compressing ."
"I have an interfaceLets say that there are two implementations , one that uses Database to get the data and another one that uses a Webservice.As you can already see , the problem is the super generic exception launched . As both implementations need to raise the same kind of exception . The Jdbc implementation really only raises lets say SQLException while the Webservice implementation only rises the IOException . Question is , how can I make the interface more elegant , so I capture a proper exception ? The first thing that I though was creating my own exception , and declare it on the interface levelAnd then , of course implement accordinly . Question is , does this make sense ? I have never created my own exceptions , so I am not really sure if this makes much sense or not . Also , what should I take into account when creating MyCoolException ?"
"I am currently preparing for an exam and am working on the following task : Generate an infinite Stream containing the integers ( 0 , 1 , -1 , 2 , -2 , 3 , -3 , ... ) .Following stream generate a normal infinite stream : Is there a method or lambda expression that produces both positive and negative numbers ?"
"This program supposed to avoid null when calling toFloat with null . but I 'm still getting NPE .. any helpSystem.out.println ( toFloat ( null , null ) ) ;"
I wrote this class : javac ListArg.java // compiled classI compiled above class and run like : java ListArg *But ListArg is displaying current directory contents on console and not `` * '' .
"I was learning to write some lambda representation as FunctionalInterface.So , to add two integers I used : Gives me the output 70 . But if I write it as this I get an error saying Wrong number of type arguments : 3 ; required : 1Is n't BinaryOperator a child of BinaryFunction ? How do I improve it ?"
"I 've tried searching for it , but I do n't really now how to formulate the question correctly ... I have an if-statement with many logical operators . How do I do this easier ? I 'm thinking in pseudo-code I want something like this : As you understand , I 'm a beginner and I have problems formulating what I need ."
"I decided to an solid rpg-like game structure with Java to practice design patterns.Basically there are different types of characters in my game , which are all considered to be `` game objects '' , having some common features : Status here is an enumeration : I would like to make my code flexible , easy-to-modify , and I would like to follow the SOLID principles using the necessary design patterns effectively.Let 's suppose I would like to customize my characters , allowing to create custom Character extensions allowing to have only certain status changes . For example I would create a Monster called , which is unable to get damaged by heat ( hence is unable to get burnt ) .I have 2 ideas to do this : 1 ) create a Set for the class Character , in which I would specify what kind of status changes can a Character have2 ) create different interfaces ( Burnable , Freezable , ... ) and implement them when necessary.What do you think ? Which is better and why ? Is there any better and cleaner option at all ? Thank you in advance ."
I have added this gradle task and then I get this error : what is wrong with my syntax ? I saw this tutorial :
"I am designing an application that has two widgets : -A list that contains arbitrary objects-A table that displays specific properties of the currently selected objectThe goal is to be able to pick an object from the list , look at the properties , and modify them as necessary . The list can hold objects of various types.So say the list contains Vehicle objects and Person objectsIf I click on a Person object , the table will display the name and age , and I can assign new values to them . Similarly , if I click on a Vehicle object , it will display the make and model in the table and allow me to modify them.I have considered writing a method likeWhich returns a list of strings that represent the instance variables I want to look at , and use some reflection methods to get/set them . I can define this getFields method in all of the classes so that I can use the table to handle arbitrary objects that might be thrown into the list.But is there a way to design this so that I do n't resort to reflection ? The current approach seems like bad design.On the other hand , I could create multiple TableModel objects , one for every possible class . The table would know what rows to display and how to access the object 's instance variables . But then everytime a new class is added I would have to define a new table model , which also sounds like a weak design ."
I have the pattern `` ddMMyy '' in my code I have specified it using the appendValue methods : However this produces `` 0099 '' for year : 0099-01-10If I change that to using the appendPattern like that : I have the correct result for year `` 2099 '' with century in it . 2099-01-10The code seems equivalent for me why is n't it producing the same result ? Why is the century missing in the first case ?
"I have a WebDriver based Java testsuite , which I try to execute with Jenkins.Project is imported and build was successful.During execution of test I get following : Running TestRunner Configuring TestNG with : org.apache.maven.surefire.testng.conf.TestNG652Configurator @ 2437c6dc org.openqa.selenium.firefox.NotConnectedException : Unable to connect to host 127.0.0.1 on port 7055 after 45000 ms. Firefox console outputIt seems does n't found binary , but it is located in the given path . Failed tests : runBeforeTest ( TestRunner ) : Failed to connect to binary FirefoxBinary ( /home/user1/Desktop/firefox/firefox-bin ) on port 7055 ; process output follows : ( .. ) Before execution I started a X server.Versions :"
"Given a function Function < T , T > f and a Stream < T > ts what is a good ( nice readability , good performance ) way of creating a new Stream < T > which first contains the original elements and then the elements converted by f.One might think this would work : But this does n't work and results in an exception instead : Note : that the order does matter : original elements have to come first in correct order , then the transformed elements in matching order ."
I found this on github occasionally.Could this happen in common use ?
"Some byte arrays using new String ( byte [ ] , '' UTF-8 '' ) return different results in jdk 1.7 and 1.8bytes2 use new String ( byte [ ] , '' UTF-8 '' ) , the result ( str2 ) is not the same in jdk7 and jdk8 , but byte1 is same . What is special about bytes2 ? Test the `` ISO-8859-1 '' code , the result of bytes2 is the same in jdk1.8 ! jdk1.7.0_80 : jdk1.8.0_201"
"I 'm working on code that calculates entries in the StackFrameMap ( SFM ) . The goal is to be able to generate ( SFM ) entries that make the Java 7 bytecode verifier happy . Following a TDD methodology , I started by creating bogus SMF entries for the verifier to complain about ; I would the replace these with my properly-calculated entries to see that I was doing it correctly.The problem is : I ca n't get the bytecode verifier to complain . Here is an example , starting with the original Java code ( this code is not supposed to do anything useful ) : This generates the following bytecode ( with SFM ) : Now , I change the SFM to contain this : As you can see , that is completely bogus , but it loads without error . I read the JVM spec , and I could n't see any reason why this would work . I 'm not using the SplitBytecodeVerifier option.EDIT : Per the accepted answer below , Eclipse had been set to emit Java 6 class files ( version 50.0 ) . Classfiles of this this version will quietly ignore issues with the StackFrameMap . After changing the setting to use the default Java 7 classfile format ( 51.0 ) , it worked as expected ."
"I know there are many topics and resources about this , but I 'm wondering about a very specific question ( and it might take a very long time to check all sources for a definite answer ) . I know that JVM/Dalvik guarantees that by the time you access a static field of a class ( except for final static primitive values ) , the static fields of the class are already initialized . Is the opposite true as well ? If I never access a class at all ( e.g . because the switch-case code in another static method never reaches a certain branch ) , is it guaranteed that the VM does not initialize statics of this class ? Assume I have a class such as this : My application is a very special one ( not typical in some aspects ) , and it may hold hundreds of classes such as Boo ( generated by a code generator ) , where something may be an array of varying element count ( so it may contain very many elements as well sometimes ) .Depending on application input , many of these pregenerated classes might never get accessed . I do not want that a lot of int [ ] objects get initialized unnecessarily , eating up much memory ."
"This creates literal `` abc '' in string pool . No new literal is created . b is pointed to the existing `` abc '' .Now the object is created in heap and c is pointed to the heap . The literal is also created in the string pool.But , what happens if the pool already has the literal `` abc '' ? Will there be duplicate literals in the pool ?"
"I have a command line program to validate an XML against an XSD file . One of the command line options for this program is the namespace to use , which is stored in String namespace . I get a different validation result depending on whether I pass the parsed option as namespace or pass the call to namespace.intern ( ) . The different results mean that somewhere in the XML validator the String comparisons performed on namespace have different results , even though they should have the same set of ASCII values.Is there a fundamental reason why these might produce different comparison results ? The NamespaceFilter class , see below , is where the namespace value is used . This class compares namespace to the value found on the current element inside startElement and then assigns it . startElement is called by the XML reader.These are the line variations inside validateAgainstXSD : String.intern ( ) NamespaceFilter nsf = new NamespaceFilter ( XMLReaderFactory.createXMLReader ( ) , namespace.intern ( ) ) ; Result : Validating uart.xml.String object as isNamespaceFilter nsf = new NamespaceFilter ( XMLReaderFactory.createXMLReader ( ) , namespace ) ; Result : Error at 4 : cvc-complex-type.2.4.a : Invalid content was found starting with element 'fileVersion ' . One of ' { `` myNamespace '' : fileVersion } ' is expected.Source in context"
"I 've a question on how to apply Java 8 group by . The group by solution in books and other questions / forums illustrates applying on a object property , like a getter method , but my case is bit different . I 've a DB query result set which is a List inside List . The inner list is sometimes a List < Long > or List < String > , and I 'm trying to convert to a Map ( using group by ) .Since , there is no interface / class property attached , so I 'm not sure what lambda expression / method reference to use in the Collectors.groupingBy ( ) . I tried Function.identity ( ) , but that does n't seem to work.E.g . here 's a dummy result set : Say , the db result set has this value from above : [ [ 1 , 20 ] , [ 1 , 30 ] , [ 2 , 10 ] ] then expected output is : { 1= [ 20,30 ] , 2= [ 10 ] } Similarly for [ [ 1 , abc ] , [ 1 , xyz ] , [ 2 , pqr ] ] considering List < List < String > > it should result : { 1= [ abc , xyz ] , 2= [ pqr ] } I came up with the following intermediate code , which is n't even close : List < Object > onlyKeys = resultSet.stream ( ) .map ( a - > a.get ( 0 ) ) .distinct ( ) .collect ( Collectors.toList ( ) ) ; Output : [ 1,2 ] Map grouup1 = resultSet.stream ( ) .collect ( Collectors.groupingBy ( o - > o.get ( 0 ) ) ) ; Output : { 1= [ [ 1 , 20 ] , [ 1 , 30 ] ] , 2= [ [ 2 , 10 ] ] } I 've a solution in the imperative style using for loop , nested if conditions , which I totally wanted to avoid ."
"I 've been trying to switch from the Oracle OCI driver to the thin driver , I got the thin driver to pickup my tnsnames.ora by adding -Doracle.net.tns_admin=/path to the command line.However , our tnsnames.ora contains lines where multiple services are defined at once . They look like this : The OCI driver seems happy with this format , but the thin driver does n't understand that those are 3 separate services NEWS2 , NEWS and NEWSFX . Some painful debugging sessions have revealed that it thinks this is a single service named NEWS2 , NEWS , NEWSFX.Our DBA 's are understandably not very keen on copy-pasting service descriptors left and right , and insist that we find a way to be able to declare different names for the same service descriptor without copy paste before switching from OCI to thin.Is there a properly supported way to achieve this with the oracle thin driver ? PS : here 's a post from a guy who is using that same feature , and also mentions that it is apparently undocumented : https : //dbamarco.wordpress.com/2015/12/02/tnsnames-ora-secrets/"
"I 'm new to programming , I 'm sorry if this is a silly mistake , but I keep getting this error `` CompanyAddress.java:11 : error : can not find symbol System.out.println ( testObject.getName ( CompanyName ) ) ; '' I do n't know what I 'm doing wrong.The main.my test.java"
I have a class representing DB-Entries with a unique Id attribute.Is is OK to implement the equals ( ) and hashcode ( ) methods only based on this attribute
"Probably I am missing something and maybe my assumptions were wrong , but I thought that when I declare parametrized method with type T then no matter how much variables there are with that type it is still the same type . But I see that this compiles and it oposses my view.So if my method is parametrized with one type and I am using that one type in two paramteres why does it allow me to send two objects with two totally different types ? I guess it comes down to treating T as Object ?"
"I need to check if a returned list was created once or if it 's a copy of an object . Is it possible to find out it 's address ? How could getAddress ( list ) look like ? The problem is that hashCode ( ) which normally returns an address is overridden in AbstractList , so it would return a valid hash code instead of an address ."
"While solving a challenge online , I observed the following behavior of java which I found a little weird . I started off by compiling a program along the following outline : Notice that in the above program , there are two errors : I have not handled exceptions which might be thrown by BufferedReader.I have not imported standard util library which contains HashMap.Now , when I try to compile the above program , the java compiler gives the error that it can not find symbol HashMap . Note that the declaration involving HashMap comes after BufferedReader . Next , I add the following import statement to the program : When I compile the program again , this time the compiler shows error unreported exception IOException ; must be caught or declared to be thrownMy questions : Why is this error not thrown in the previous compilation attempt ? The order in which compilation error comes does not seem natural . What are the compiler design principles which come into play during this routine ?"
"I have a generic interface interface ListList < E > extends List < List < E > > . For some reasons , I ca n't cast ListList < ? super T > to List < List < ? super T > > . Is there any way of doing it and why it does n't work ? By this moment I 've already tried the following : Simple assignment , this way I 've managed to assign ListList < ? super T > to List < ? extends List < ? super T > > ( 1 ) , but when I try to assign ListList < ? super T > to List < List < ? super T > > I get Incompatible types compile-time error ( 1.1 ) .Explicit type conversion , it does n't work because of the same Incompatible types compile-time error ( 2 ) .Casting to raw type ListList , it works ( 3 ) , but I do n't like raw types.Adding all elements from ListList < ? super T > to List < ? extends List < ? super T > > , it works ( 4 ) , but I need a more general solution which works not only with ListList < E > , but with any generic type.Here is my code : I 've expected ListList < ? super T > to be List < List < ? super T > > , but it appeared to be List < ? extends List < ? super T > > . I need to know why it is and how I can cast it to List < List < ? super T > > without raw types and copying of elements ."
"I have built a User management service in which I 'm using MongoDb ( spring data ) . I have two models User and Role.Role model -and Role enumerator-In User there is a role attribute which I have @ Dbref to role collection . My problem is that I want to have a option of using PostgreSql and MongoDb in the same application for these Models . I have implemented this for MongoDb but I 'm not sure how to go about doing this for postgreSql in the same application as an option . One way I think is to have a interface User and role and build two different classes for User_mongo model and User_postgre entity ( same way for role ) . I 'm stuck here , and I tried to do certain research but most of the time I find tutorials that have separate databases of same type ( Both PostgreSql databases ) . Any direction is highly appreciated . PS I 'm new to spring boot and Java.My AddUser Controller that Uses Mongorepository as of now"
"Why does the below snippet compile ? OtherInterface does not extends Concrete so I would have bet a kidney that this would n't compile . But it does.On the other hand , the next snippet does not compile , which is what I expect ."
"I am trying to improve the performance of some code . It looks something like this : What I noticed is that many of the Patterns seem to be simple string literals with no regular expression constructs . So I want to simply store these in a separate list ( importantList ) and do an equality test instead of performing a more expensive pattern match , such as follows : How do I programmatically determine if a particular string contains no regular expression constructs ? Edit : I should add that the answer does n't need to be performance-sensitive . ( i.e . regular expressions can be used ) I 'm mainly concerned with the performance of isImportant ( ) because it 's called millions of times , while the initialzation of the patterns is only done once ."
"Looking java 's hashmap implementation , not able to understand the reason behind some lines . In below code copied from here , in line 365-367 , I am not able to understand why have they done the assignment of e.key to k first and then compared == with key [ ( k = e.key ) == key ] . Why not directly do ( e.key == key ) . This pattern appears several times in code ."
"I have a Many-to-Many relationship between the class Foo and Bar . Because I want to have additional information on the helper table , I had to make a helper class FooBar as explained here : The best way to map a many-to-many association with extra columns when using JPA and HibernateI created a Foo , and created some bars ( saved to DB ) . When I then add one of the bars to the foo using then the DB-entry for FooBar is created - as expected.But when I want to remove that same bar again from the foo , using then the earlier created FooBar-entry is NOT deleted from the DB.With debugging I saw that the foo.removeBar ( bar ) ; did indeed remove bidirectionally . No Exceptions are thrown.Am I doing something wrong ? I am quite sure it has to do with Cascading options , since I only save the bar.What I have tried : adding orphanRemoval = true on both @ OneToMany - annotations , which did not work . And I think that 's correct , because I do n't delete neither Foo nor Bar , just their relation.excluding CascadeType.REMOVE from the @ OneToMany annotations , but same as orphanRemoval I think this is not for this case . Edit : I suspect there has to be something in my code or model that messes with my orphanRemoval , since there are now already 2 answers who say that it works ( with orphanRemoval=true ) . The original question has been answered , but if anybody knows what could cause my orphanRemoval not to work I would really appreciate your input . ThanksCode : Foo , Bar , FooBar"
"As discussed in this question , the equals method of java.awt.geom.Area is defined as public boolean equals ( Area other ) instead of overriding the equals method from Object . That question covers the `` why '' , and I 'm interested in `` how can I force Java to use the most appropriate equals method '' .Consider this example : My question is : given o1 , o2 , and cls , where o1 and o2 are guaranteed to be instances of cls ( or a subclass ) , how can I call the most appropriate equals method ? Assuming cls is X.class , I would like the following behavior : If X defines X.equals ( X ) , this is the `` most appropriate '' choice . ( Example : X is Area ) Otherwise , if X defines X.equals ( Object ) , this is the second-most-appropriate choice . ( Example : X is Rectangle2D ) If neither of the above are true , I want to call Object.equals ( Object ) as a fallback . ( Example : X is Path2D ) In principle , I could use reflection to check for each of the above method signatures , but that seems pretty heavy-handed . Is there a simpler way ? Edit for clarity : o1 , o2 , and cls all vary at runtime so I can not statically cast like ( ( Area ) o1 ) .equals ( ( Area ) o2 ) , since cls might not be Area.class at all times . However it is guaranteed that cls.isAssignableFrom ( o1.getClass ( ) ) and cls.isAssignableFrom ( o2.getClass ( ) ) are both true ."
"If a class A makes public Object 's clone ( ) method : What will be the instanceof ( or getClass ( ) ) of an instance of A created using clone ( ) ? What about instances of class B extends A created using the clone ( ) method ? EDITClarification : I ask this because even before compiling , Eclipse java editor requires to cast the returned clone ( ) instance to the assigned object . Which suggest that the returned class is Object ( which technically it is , but all the answers so far say the class should be A )"
Why does this code totally destroy the output ? Sample output I get : Boo.Boo.Boo.Boo.Boo.Boo.Boo.Boo.Boo .
I 've typed up a bunch of String [ ] arrays in an interface . I want IntelliJ-IDEA to order the elements alphabetically . I 'm not talking about ordering during run-time or compile-time . I want the actual java/text-file to be modified.How can I get IntelliJ-IDEA to sort String [ ] array elements alphabetically and in the `` .java '' files themselves ? Current Status : Desired Status :
"BackgroundI would like to understand why a snippet of code does not throw a NullPointerException.Source CodeConsider the following code : The deliver method is called repeatedly , whilst the following code runs in a separate thread : There is only a single agent instance.ProblemA NullPointerException is never thrown.However , when the deliver method pauses , even for 0 milliseconds , a NullPointerException is thrown as expected : My understanding was that there is , in theory , a race condition between checking for files == null and calling files.iterator ( ) .hasNext ( ) . In practice , I can not trigger the race condition without introducing the pause ( i.e. , splitting the null check from the subsequent method call ) .QuestionWhy does the first deliver method not throw an exception when the null check and usage are combined in the same statement ?"
"According to Android documentation , in above code , zero is slower . But I do n't understand why ? well I have n't learn that much deep but as I know length is a field not method . So when loop retrieves its value , how its different from retrieving from local variable ? and array length is always fixed once initialized . What am I missing ?"
"I have the following Java class with multiple level of inheritance with certain type parameters . I want to use the type parameter T in class B . However , he following does n't compile : Although I can define the variable t in class C , but it is not a good coding practice . How can I define the following ( This does n't compile as well ) ? Thanks !"
"Following is the simplest example of static inner class in Java . Let 's look at it.Within the Outer class , there is a static class named Inner and a static object with the same name Inner of type Extra . The program displays Whilte on the console , a string in the Extra class through Outer.Inner.s in main ( ) which is intended to display the string contained in the Inner class within the Outer classWhy is there no name collision between a static inner class and a static object of type Extra ? How does the Extra class enjoys the higher priority than the Inner class and displays the string contained in the Extra class ?"
"There is a method in hamcrest library : In my code , I call this method with first being Matcher < Object > and second being Matcher < SomeException > .And now : When I compile it with Eclipse with 1.6 target , it makes < T > Matcher < SomeException > .When I compile it with javac 1.7 with 1.6 target , it makes < T > Matcher < SomeException > .When I compile it with javac 1.6 with 1.6 target , it makes < T > Matcher < Object > The question is , what < T > should be in such case ? My understanding is , that there is a bug in javac 1.6 and it should be Matcher < SomeException > , as this is a common type for input arguments ( SomeException is a subtype of Object ) and then , it is 100 % sure , that returned Matcher will be Matcher < SomeException > .Am I right ? And is there any way to force javac 1.6 to behave properly ?"
"The title may be misleading but as a non-native i could n't figure out a better one.Say i have two classes , Dog and Fox : And i create some instances as well call some methodsFor the 1 . Ouput I expected `` RingdingRingding '' because hybrid actually is a reference to an instance of the Dog , even if the reference has a type of Dogit still refers to an Fox object , but still i got this output : WuffRingdingThe second one i got the same problem , since foxi is an instance of Fox and hybrid is actually an instance of Fox ( no matter what reference , right ? ) , the ouput should be `` RingdingRingding '' but then again , i got : WuffRingdingCan someone explain why ?"
"When redeclaring Integer ' a ' in line 33 , why does jshell show the reference variable as an instance of Integer ( refer to lines 38 & 39 ) ? After the redeclaration , line 34 shows that ' a ' is set to null . When ' a ' is declared in line 6 but not given a value , or reset to null in line 22 , ' a ' is not considered an instance of Integer . I would expect that when the reference variable is redeclared , since its value is null , that it would not be an instance of a type ; however , that is not the case ."
I try to use Mockito to mock the getDeclaredMethod ( ) of java.but the parameter of this method is un-certain . how to mock such method ?
"I started learning Java and I could n't understand one of examples in `` Thinking in Java '' book.In this example author represent , as he state `` simple use of 'this ' keyword '' : And when above code is working as indeed , I cant understand what increment ( ) method is returning . It 's not variable i , it 's not object x ? I just do n't get it . I tried to modify program to understand it ( like replace return this with return i or print x instead of i ) , but compiler shows me errors ."
What is happening : :At the startdate=2014-12-17T21:37:00+00:00At the endneedbydate= Dec/18/201417 is changed to 18 ... . What wrong am i doing in conversionEDIT :
"I have a question about best design practices . I have been attempting to build more immutable components into my project because I read they were easier to maintain in the long run and wanted to test this . When you have a class with immutable data members , say Should the int still be declared as private and given an accessor method , or because its finals , what is the hard in allowing direct access and making it public ? I do n't see any issues with it being made public because you are unable to change it.In my case , the immutable object is created with values that are passed into it and then will self populate the others from a database , with everything being final.Or is this merely a question of preference and will spark a religious war ? As there are lots of questions about accessing the data member from inside the class , I want to make it clear that I am asking from another external class attempting to get the value ."
"I have following code : mQuestions is empty ArrayList , and I see that count equals 0 on Log always . Also I see 1/111 record on my Log always too . But my activity does n't do a finish method ! makeQuestion is method that need n't work with empty mQuestion ( it throw Exception ) . But If I make a comment for makeQuestion then finish method works well ! Method for this code works on main thread ( it is executed from onCreate ( ) method ) . Please , suggest where I am going wrong.Thanks in advance ."
"I have two similar pieces of Code : I would like to avoid code duplication and I thought this could be done by using a functional approach.I want to put the loop and the init/shutdown call in seperate functions and then chain their calls ( not the Java 8 Function interface , more pseudocode ) : Then I want to chain these like this : I thought of compose/andThen in Java 's Function interface but they are not suitable because they only hand on the return value of one function to the next one . Does anyone have an idea how to do this with Java 8 or with a different approach ?"
"I want to write a regular expression in java which will accept the String having alphabets , numbers , - and space any number of times any where.The string should only contain above mentioned and no other special characters . How to code the regular expression in java ? I tried the following , It works when I run it as a java application.But the same code when I run in web application and accept the values through XML , It accepts '/'.Can anyone help me on this please ?"
"In my spring-boot 2.3 application , I have a simple data method using DatabaseClient : With spring-boot 2.4 ( and spring 5.3 and spring-data-r2dbc 1.2 ) , org.springframework.data.r2dbc.core.DatabaseClient from spring-data-r2dbc is deprecated in favor of org.springframework.r2dbc.core.DatabaseClient of spring-r2dbc - which has a different API.Adapting that is pretty much straightforward - with the exception of the kotlin extension asType , which is not a part of the new DatabaseClientExtensions.Are those extensions somewhere else or how can I convert using a reified type parameter ?"
"This code causes a compile error with javac ( but , notably , not with Eclipse 4.2.2 ! ) : The error from javac is this : Changing the cast to ( Bar ) foo ( i.e . using the raw type ) allows the code to compile , as does changing the type of foo to simply Foo < ? extends Iterable < ? > > .EDIT : Hilariously , this simple change causes Eclipse to reject , but javac to accept : And , both Eclipse and javac reject this one :"
"I need to obtain the underlying OS PID for a Process I start . The solution I 'm using now involves access to a private field through reflection using code like this : It works but there are several problems with this approach , one being that you need to do extra work on Windows because the Windows-specific Process subclass does n't store a `` pid '' field but a `` handle '' field ( so you need to do a bit of JNA to get the actual pid ) , and another being that starting with Java 9 it triggers a bunch of scary warnings like `` WARNING : An illegal reflective access operation has occurred '' .So the question : is there a better way ( clean , OS independent , garanteed not to break in a future release of Java ) to obtain the pid ? Should n't this be exposed by Java in the first place ?"
"First variant gives more flexibility , but is that all ? Are there any other reasons to prefer it ? What about performance ?"
"I 'm trying to apply my knowledge of streams to some leetcode algorithm questions . Here is a general summary of the question : Given a string which contains only lowercase letters , remove duplicateletters so that every letter appears once and only once . You must makesure your result is the smallest in lexicographical order among allpossible results.Example : Another example : This seemed like a simple problem , just stream the values into a new list from the string , sort the values , find the distinct values , and then throw it back into a list , and append the list 's value to a string . Here is what I came up with : The first example is working perfectly , but instead of `` acdb '' for the second output , I 'm getting `` abcd '' . Why would abcd not be the least lexicographical order ? Thanks !"
"Are there any conventions as to whether a method called by another method should generally be above or below it ? E.g . say caller ( ) was refactored into two methods - where would be the more standard place out of aboveCaller ( ) or belowCaller ( ) ? Although this is in Java , it is a general programming question and not really aimed at a specific language . ( Apologies if it has been asked before - tried searching on here but did n't come up with anything ) ."
"I am trying read the Oracle table information from my application . To get the table description , I execute this query on my application : Here is the code block that executes query : When I run the sql directly on the database I get this result : When I run my application , it returns the result like this : The result that my application returns has fewer information . I need to know if table is parallel or not but , my application can not give me that information.I am trying to figure out why the results of the query differs and How can I retrieve parallel information ."
"I have two factory-methods which produce `` consumers '' use different approaches lambda and method references : I found that in first case ( lambdaPrintStringConsumer ( ) ) , method return reference to the same objectbut in the second ( methodRefPrintStringConsumer ( ) ) , objects is differentdirect approach return the same result as shouldNotSameFromFactoryMethod_methodRef ( ) : , next I tested factory-method with method reference to other static methodand get the same result as in the first test ( lambdaPrintStringConsumer ) : What is the trick ? In Tests jdk-11.0.1 and jdk-13.0.1 ."
When I run the following code on Intellij with input 1000000000000 the process holds a moment every 8 million loops.Why is it like this ? Why does n't run in one smoothly flow until the end ?
"I have a JSON value as follows in String format . Now if I try to map this as follows , it works and maps fine . But I want to map it to a custom Data class as follows . When I do this , the result of vo is null . Refer to following on how the Data class is structured . Please advice what I am doing wrong . Thanks ."
"I have a small implementation detail question that I fail to understand in ArrayList : :removeIf . I do n't think I can simply put it the way it is without some preconditions first.As such : the implementation is basically a bulk remove , unlike ArrayList : :remove . An example should make things a lot easier to understand . Let 's say I have this list : And I would like to remove every element that is even . I could do : Or : The result will be the same , but the implementation is very different . Since the iterator is a view of the ArrayList , every time I call remove , the underlying ArrayList has to be brought to a `` good '' state , meaning that the inner array will actually change . Again , on every single call of remove , there will be calls System : :arrayCopy internally.On the contrast removeIf is smarter . Since it does the iteration internally , it can make things more optimized . The way it does this is interesting.It first computes the indexes where the elements are supposed to be removed from . This is done by first computing a tiny BitSet , an array of long values where at each index , resides a 64 bit value ( a long ) . Multiple 64 bit values make this a BitSet . To set a value at a particular offset , you first need to find out the index in the array and then set the corresponding bit . This is not very complicated . Let 's say you want to set bit 65 and 3 . First we need a long [ ] l = new long [ 2 ] ( because we went beyond 64 bits , but not more than 128 ) : You first find the index : 65 / 64 ( they actually do 65 > > 6 ) and then in that index ( 1 ) put the needed bit : Same thing for 3 . As such that long array will become : In source code they call this BitSet - deathRow ( nice name ! ) .Let 's take that even example here , where list = 2 , 4 , 6 , 5 , 5they iterate the array and compute this deathRow ( where Predicate : :test is true ) .deathRow = 7 ( 000 ... 111 ) meaning indexes = [ 0 , 1 , 2 ] are to be removedthey now replace elements in the underlying array based on that deathRow ( not going into the details how this is done ) inner array becomes : [ 5 , 5 , 6 , 5 , 5 ] . Basically they move the elements that are supposed to remain in front of the array.I can finally bring in the question.At this point in time , they know : To me , there is a single step to do here : Instead , this happens : I 've renamed the variables on purpose here.What is the point in calling : Especially size - end , since end is size all the time - it is never changed ( so this is always zero ) . This is basically a NO-OP here . What corner case am I missing here ?"
"I want to create a function which returns two counted values . The values are counted by iterating over a for-loop.For example , I have an array of persons ( male , female , adults , children ) and I only want to find the amount of boys ( child + male ) and the amount of women ( adult + female ) .In the last few years I 've been writing in javascript and this is how I would have done it in javascript.Now my problem is , how do I return such an object in java ? Do I need to create a new class ? What would you call that class ? Is n't that extremely inefficient , having a complete class only for this one small purpose ? What if I wanted to count a different pair of values ? Would I have to create another entirely new class ? Is this below actually the best way of creating such a function ? Of course , another option would be to seperate the function into the functions `` countBoys ( ) '' and `` countWomen ( ) '' but then I 'd have to iterate over the array twice and that would n't be optimal right ?"
I am using the below code for epoch to time conversion by using java.util.Date class in Java.Below are the outputs while running the same code on two different timezone server : On EDT server-On IST server -Why does this happen ? I am only passing milliseconds . This data is supposed to be treated as 21:15 on all servers . Why does Date class change the data ? Please share a sample piece of code for getting the same time data regardless of the timezone of the server .
"I have 2 questions about Arrays in Java , hope you can spare your time to help me.Question 1 : But it returns false ? Question 2 : I run this code : and it returns -2 . BUT when I remove duplication : now it returns 2 , which is the right one . I do n't know how binary Search in Array deals with duplication which lead to -2 ?"
"I know that you can only have an array of a certain type ( e.g . String , int , Student , etc. ) . I was wondering if this held true in the case of inheritance - i.e . whether or not a Bicycle object that extends Vehicle could be placed in a Vehicle array along with something else , like a Bus object.Here 's my code : Note that this is in the Java language"
"Consider the following two classes and interface : Why does the second call to mandatory invoke the overloaded method with Class2 , if getInterface1 and Interface1 have no relationship with Class2 ? I understand that Java 8 broke compatibility with Java 7 : And with Java 8 ( also tested with 11 and 13 ) :"
"I have an XML schema , where element Calling1 is defined like this : I have generated Jaxb bindings : I am using JAXB to unmarshal XML documents to Java representation . If my XML cantains element Calling1 , which value is not a correct dateTime , for exampleJAXB does not throw any error , but returns me an java object , which property calling1 is null.Why i get null , and not an Error ? How can i change that Jaxb behaviour ?"
"As you all know it is possible to fetch a method with Reflection and invoke it through the returned Method instance.My question is however ; once it is fetched by Reflection and I invoke the Method over and over again will the performance of the method be slower than the normal way of calling a method ? For example : I am asking this because I am making an event system that , upon registering the listener it scans for annotations . The methods are put into a map and then they are executed each time an event occurs of their required parameter type . I do n't know if this is performant enough for , for example a game ."
"Let us say I have the following classes : AnimalCatDogCowAnimal is the base class , cat , dog , and cow each subclass it.I now have a Set < Cat > , Set < Dog > and Set < Cow > each of these are used in the same way , so it makes sense to make a generic function to operate on them : This works great , I can freely pass in my Sets with no problem . The problem appears : I ca n't attempt to add the Animal toAdd to parameter vals . Googling reveals that if I change the method to read : I will be able to add the Animal to parameter vals . This works , except now , I ca n't pass in my subclassed my Sets of Cats , Dogs , and Cows . Further research tells me that the following works , with no warnings to boot : The problem being , I need to be able to perform method calls that Animal 's all have . This is easily gotten around using a simple cast : Is there any way around this problem so I can keep the generic functionality , and not require casting ? Aside from making my Sets all Sets of the Base Type , Animal in the case of this example ?"
"I am bit surprised that the default ( native ) implementation of the hashCode ( ) method appears ~50x slower than a simple override of the method for the following benchmark.Consider a basic Book class that does not override hashCode ( ) : Consider , alternatively , an otherwise identical Book class , BookWithHash , that overrides the hashCode ( ) method using the default implementation from Intellij : Then , the results of the following JMH benchmark suggests to me that the default hashCode ( ) method from the Object class is almost 50x slower than the ( seemingly more complex ) implementation of hashCode ( ) in the BookWithHash class : Indeed , the summarized results suggest that calling hashCode ( ) on the BookWithHash class is an order of magnitude faster than calling hashCode ( ) on the Book class ( see below for full JMH output ) : The reason I am surprised by this is that I understand the default Object.hashCode ( ) implementation to ( usually ) be a hash of the initial memory address for the object , which ( for the memory lookup at least ) I would expect to be exceedingly fast at the microarchitecure level . These results seem to suggest to me that the hashing of the memory location is the bottleneck in Object.hashCode ( ) , when compared to the simple override as given above . I would appreciate others ' insights into my understanding and what could be causing this surprising behavior.Full JMH output :"
"I have this : I want to merge the boolean expressions into one . So I use this : However , I am worry if this is correct . Is this correct ? Could this be simplified/shorten ? With the help of the answer the shorten solution is :"
"Lately , I 'm having a heated discussion regarding this issue . Lets say I created this method in Java : Whenever I see that in a pull request , I shout and try to explain why it is wrong . By doing that , I 'm misguiding the consumers of my method by the promise that they will get a Set . This means they can remove or add elements . javac will happily compile that but RuntimeException will be thrown . Add to that , it is violating `` Liskov Substitution Principle '' .Personally , I always do : This way , no one is going to shot himself in the foot.One suggested approach is return Iterable . I think this is bad , because the consumer of that method will lose the potential power of HashSet , HashMap or whatever ( by not be able to call set.get ( hash ) ) .Another approach is - as a consumer - to create a copy of the output of getRich ( ) method . But how are you going to be sure that the consumers will do that ? And of course , you have the folks who will stick to OOP design principles and say : `` Always program to interfaces '' . To me - in this particular case - this is the worst option ever.How would you deal with this case ? ( Off topic : This case is a perfect example how static typing might ensure correctness but it will never ensure rightfulness ) ."
"I have a function : So , if I were to do something like : this is all good.However , in another function : Gives me an error , because base.getClass ( ) returns ? extends R.Now from what I understand , the function get ( Class < T > x ) returns T , so when called with ? extends R , which let 's say is CAP # 1 , but since get now returns CAP # 1 , assigning it to type R should not be a problem . To test this , I tried : This seems to work without any issues . What 's going wrong ? EDIT : Is this because of type-erasure , that at runtime no information about R is available , but CharSequence is ? Which still does n't make sense because is n't this purely checked during the compile phase alone ? So , it turns out thatObject.getClass ( ) returns Class < ? extends |X| > and not Class < ? extends X > , where |X| is the erasure of X which is why it works for concrete types ( like ? extends CharSequence , but not for a generic type ) . IntelliJ probably does not report it accurately , which caused the confusion : ( I tried taking a screenshot , but the pop-up kept on going away ) ."
"I have a arrayList with values { a , b , a , c , d , b , a } I want to make a comparison of each element in the list and insert the pair of common indexes into a List of array or something using javaexample output : [ [ 0,2,6 ] , [ 1,4 ] ] explanation : a is at indexes 0,2,6 and b is at indexes 1,4So far I have this : UPDATE : the idea was to get [ [ 0,4 ] , [ 1,3 ] , [ 3,1 ] ] as elements in myList but I am not able to get that . Any help is much appreciated ! Thanks ! Based on the above array of indexes , I want to compare the elements in a different List B and C at those indexes - meaning compare elements at indexes 0,2,6 in List B and C and check if all three elements are equal . Same for elements at index 1,4"
"When I generate a stub ( using Eclipse Oxygen , top-down , Axis1 ) , the function are generated like these : Why is TokenRequest class kept intact , while BatchCommand and HttpHeaders are dismantled ? I tried adding more sub-elements under HttpHeaders and BatchCommand , but they just get split up as additional parameters . I ca n't spot any difference between their declarations and getToken 's ."
"I wrote a piece of code and wonder how I can write it more elegant , using streamshere it is : Here - some boolean is returned from a method . If specified date already exists in some task it returns false , otherwise true ( so the return type answers the question raised in method 's name : ) ) I was trying with filters on streams , but It worked just for a while , and then unit tests gave me some unexpected results so I deleted it and wrote it like Its upper . Now I want to beautify itpreviously it was like this : thanks in advance : )"
"Every now and then I find myself with indexed loops , for which I want to permutate the order to some random order.I usually transition from something liketo This is neither efficient nor elegant . Is it possible to create a Stream ( ideally an IntStream ) in a certain range , but have it return its elements shuffled ? I am thinking of something along the lines of : The resulting IntStream should still include all elements in the range [ 0 , max ) exactly once.This is not a duplicate of this question , because I do n't want to create a List and shuffle it . This solution has a massive overhead since it is working with Integers , while also redundantly creating and shuffling a List . I have provided that solution in my own example , so I am fully aware of that approach ."
"I 'm working with Android Studio and I keep getting a problem I do n't know how to solve . I do n't know whether it 's a problem with Android Studio , with Java or a mistake a make.I have a class whose constructor is the following : I try to create an object of that class with the following lines : ( Of course , class B extends A . Double checked ) But when I call the constructor the IDE tells me that it expects another type of argument.What mistake am I making ? Thanks for all the help ! : )"
"I have a use case where I need to read a file and get the grouping of a sequence and a list of values associated with the sequence . The format of these records in the file are like sequence - val , example I want the output to be a map ( Map < String , List < String > > ) with the sequence as the key and list of values associated with it as value , like belowIs there a way I can do this without creating a POJO for these records ? I have been trying to explore the usage of Collectors.groupingBy and most of the examples I see are based on creating a POJO.I have been trying to write something like thisor I am unable to provide any key on which the groupingBy can happen for the groupingBy function , is there a way to do this or do I have to create a POJO to use groupingBy ?"
"Looking at the java.util.Collections.unmodifiableMap implementation ( OpenJDK 11 ) : My question is why does the implementation not do a check that the map passed might already be an UnmodifiableMap , something like this : Rather this question can be extended to all other un-modifiable collections , a simple check helps to avoid unwanted stackoverflow errors as well as unnecessary wrapping . I wanted to know if there was a reason why this is not being done ? Also it is sort of impossible ( without using Reflection/Classloader magic ) to do the check by the user as UnmodifiableMap is private ."
I need to get only the procedures using java DatabaseMetaData but this method returns also the functions ' names .
"I have two threads both of which accesses an Vector . t1 adds a random number , while t2 removes and prints the first number . Below is the code and the output . t2 seems to execute only once ( before t1 starts ) and terminates forever . Am I missing something here ? ( PS : Tested with ArrayList as well ) } Output : Main started ! reader started ! writer started ! writer : 40 writer : 9 writer : 23 writer : 5 writer : 41 writer : 29 writer : 72 writer : 73 writer : 95 writer : 46"
"I 'm doing a project for a class which focuses on storing a huge matrix with mostly 0 values in memory and performing some matrix math on it . My first thought was to use a HashMap to store the matrix elements , and only store the elements which are non-zero , in order to avoid using huge quantities of memory.I wanted to make a key for the HashMap which would represent both the row and column number of the element in a way that , when I accessed that entry in the map , I could re-extract both values . I do n't know Java as well as C # - in C # I would make a struct with Row and Column members , but in Java I quickly realized there are no User Value Types . With a deadline looming I went with a safe bet and made the Key a long . I stored the row data ( 32-bit int ) in the first 32 bits and the column data in the last 32 using some very simple bit shifting . [ EDIT : I 'd also like to note that my HashMap is initialized with a specific initial size which exactly represents the number of values I store in it , which is never exceeded . ] [ Side note : the reason I want to be able to extract the row/column data again is to greatly increase the efficiency of matrix multiplication , from O ( n^2 ) to O ( n ) , and a smaller n to boot ] What I noticed after implementing this structure is that it takes a whopping 7 seconds to read a 23426 x 23426 matrix from a text file in which only non-zero elements are given , but it only takes 2 seconds to calculate the eigen values we are required to give ! After selective commenting-out of methods , I have concluded that the bulk of this 7 second timespan is spent storing my values in the HashMap.That is the code for setting a value . If I use this method instead : The reading only takes 2 seconds . Both of these versions of the key are distinct for every element , both are long type , and the actual code to create either of them is minimal in complexity . It 's the elements.put ( key , value ) which makes the difference between 7 seconds and 2.My question is , why ? The difference I see between these key versions is that the first one has bits set to 1 throughout and more frequently , while the second has all of its highest 32 bits set to 0 . Am I chasing a red herring , or is this fairly dramatic difference in performance the result of something internal in the HashMap.put method ?"
"I would like to cater for devices running on jelly bean version and below as well as versions above Jelly Bean.My method is supposed to get app usage/traffic for all applications based on the application ID . Please take noteof this line rx = Long.parseLong ( String.valueOf ( id ) ) ; on the first if clause which caters for devices running versions less than or equal to Jelly Bean . The data usage of an installed application based on its ID is obtained using using TrafficStats.getUidTxBytes ( uid ) but that only returns a value of 0 in 4.3 however , the else clause using TrafficStats.getUidTxBytes ( uid ) retrieves app usage per app accurately in versions above 5 . I am particularly concerned about the if clause which caters for device running android version lower than 5 for example in this case 4.3 ( Jelly Bean ) Entire Method"
"I have two situations drawn up , and the strange differences between them are causing me a bit of grief . I will attempt to detail them below in code.Situation 1 : Situation 2 : Why , in situation one , is the runtime type of the parameter not used , but in situation two it is ? I understand that the examples are actually different things , but I am more curious about what is going on 'under the covers ' here ."
Can somebody tell me what does this mean ? I 'm going trough Java book and I 've encontered this example : What does Message ( ) { } Mean ?
"I encountered this code wherein a method call , for example ClassA.search ( a , b , flag ) is being used by 3 Controllers . This is a simplified version of the method : Is this a good idea because code is reused ? Or is there a better way to still be able to make code reuse but not introduce this flag for method caller ( client ) code customization ( like maybe split it to 3 different methods but still be able to declare a common code refactored method ) ?"
"Is this a bug or a feature ? The DateTimeFormatter JavaDoc explicitly states that when I use the OOOO pattern in my formatter , the full form of localized timezone should be used ( emphasis mine ) : Four letters outputs the full form , which is localized offset text , such as 'GMT , with 2-digit hour and minute field , optional second field if non-zero , and colon , for example 'GMT+08:00'.But in case the time is in GMT+0 : This is the output : Expected :"
"Basically question says it all.When I declare a function signature in gen-class , what type do I put for a 2D array of strings ? what do I put for XXXX ? Update : following @ Mark Topolnik 's suggestion , I 'm tryingin my declaration , and I 'm getting back a runtime exception when I try to compile it.Update 2 : Fixed by removing the ^ from the above line . ( This is in the context of declaring function signatures in a gen-class so that ^ is presumably unnecessary . )"
"For the algorithm below : So for this algorithm , my thought process goes like this : The inner-loop performs n iterations for j when i=0 . However , for every value of i=0,1..n-1 , j will only perform one iteration because the if-statement will evaluate to true and end the inner-loop . Here is my source of confusion : Since the outer-loop will perform n iterations no matter what , and since the inner loop performs n iterations when i=0 ( very first iteration ) , how come the big-Oh time complexity is n't O ( n² ) and is instead , O ( n ) if the loops are nested and both perform n iterations in the very first iteration ?"
"I have a list of pencils and a list of erasers . The goal it to check whether or not all the erasers can be put on pencils . An eraser may fit on multiple different pencils . Pencils can have at most 1 eraser . If I just loop through all the erasers and put them on pencils , I end up with erasers that fit no unoccupied pencils even though there is a solution that has all the erasers on pencils.What algorithm could I use to figure out a combination that fits all the erasers on pencils ? My attempt"
Why do I get an error when But not in this case
"In Eclipse Neon , if I write this Java code : I get no leak warnings , but if I implement Stream , such asand I write similar codeI get a Resource leak : 'stream ' is never closed warning . This happens only in Eclipse , while compiling with javac does not issue any warning.Note I 'm not looking for an answer on how to close the stream and such , but for an answer which explains the reason of this different behavior for the same interface ."
"I 'm integrating with a payments processor and am trying to deal with the scenario where : user clicks pay and a request is made to our serverour server makes a request to the payment processorthere is a significant delay on the payment processor sideafter a certain threshold e.g . 60 seconds , we alert the user that their payment was unsuccessfulafter 70 seconds the payment processor returns a successful response . So I need to start an API call to the payment processor from within the HTTP call from the UI , then if it takes more than 60 seconds , end the HTTP call and return an error to the user , then if the API call to the payment processor eventually succeeds ( say after 70 seconds ) , send an email to the admin team.I 'm thinking of something like this : There are a few problems , e.g . the run ( ) method has void return value , error with overThreshold as being accessed from a inner class . Is there a more elegant way of doing this ?"
"The requirement is to automate the java webstart process . After clicking the JNLP file , its loading and displaying the below imageThere is no option for trust always here . I am aware of in Java 7 Update 51 , java tighten the security . So I have signed jars with public code signing certificate provided by symantec , so there is no need of adding this site in java control pannel exception list or reduce the security level ( both are not allowed in the customer environment ) . Is there any possibility to make this security question to disappear and run the jars automatically ? SOLUTIONAdded the below two attributes in MANIFEST.MF , and it worked ."
Recently I got a code review comment to use getter method for accessing private instance variable inside methods of same class . Is it really a good practice ? I feel that it is adding unnecessary complication in code . What is the recommended way ?
I need to print the number of times the chain method reoccurs .
"I 'll try to illustrate my problem in the following simplified example : Here I want to write generic method firstNotNull that returns DataHolder parametrized by common supertype of type parameter T of the this and other argument , so later I could write e.g . or The problem is that this definition of firstNotNull is rejected by compiler with message that super T part of type constraint is illegal ( syntactically ) .However without this constraint definition is also wrong ( obviously ) , because in this case T and R are unrelated to each other.Interestingly , definition of similar static method selectFirstNotNull is correct and the latter works as expected . Is it possible to achieve the same flexibility with non-static methods in Java type system at all ?"
"I 'm working on a new project , where I want to display some data on the screen . I set myself to using TDD which is new for me , but I love the idea and get along quite OK so far.I set up a JFrame , add a Textarea and put text there , but how can I properly test this ? Or is this wrong thinking in the TDD context on my side ? I want to be sure ( in the TDD way ) , that the data gets displayed correctly ! The creation of the text that gets displayed is properly covered with tests , but the displaying is not.Here is a completely simplified example :"
"If i autowire my generic class with different types in different controllers , does spring container create new instance for each ? Assume i have a generic class.In a controller i use and in another controller i use"
"So as it goes in the current scenario , we have a set of APIs as listed below : Over these , one of our schedulers performs the tasks e.g.While reviewing this , I thought of moving to a more flexible implementation 1 of performing tasks which would look like : The point that strikes my mind now is that the Javadoc clearly states that accumulator - an associative , non-interfering , stateless function for combining two valuesNext up I was thinking How to ensure order of processing in java8 streams ? to be ordered ( processing order to be same as encounter order ) ! Okay , the stream generated out of a List would be ordered and unless the stream is made parallel before reduce the following implementation shall work . 2Q . Does this assumption 2 hold true ? Would it be guaranteed to always execute the consumers in the order that the original code had them ? Q . Is there a possibility somehow to expose 1 as well to the callees to perform tasks ?"
"I have created one service and broadcast receiver to get telephony state . Below is my code : I am facing below two issues1 ) i have printed log in code for different states , but all states are printing multiple times and audio file is also created multiple times for same call.2 ) if once i kill the app and start again , many times it wont record any calls . i have to add new build only ."
"The question is : Why in this case i get compilation error in Java ? But this is legal : I use eclipse , jdk 7.Thank You"
"I 've recently started benchmarking some Java code in order to get the best performance results for my program and noticed some strange thing . Namely , I 've benchmarked the following methods : and got those results : After searching over SO ( i.e . Is Math.max ( a , b ) or ( a > b ) ? a : b faster in Java ? ) it was certain for me that test1 should n't be so much slower.These methods were tested randomly on 8 threads in 30 seconds and every benchmark I run seems similar.I use jdk1.8.0_45.So , why is test1 over 200 times slower than test0 ?"
"While doing a project I wrote this line , basically it decided whether or not to merge the current node based on how many children there are . The problem is that succNodes will often be significantly larger than bucketingParam . And there 's no point to continue counting if I have already found a large enough sum . What would be the best way to enable the stream to stop early , if I knew I was going to fail the check succNodes < = bucketingParam ? Note : In this case children is always of size 4.Note 2 : PRQuadNode : :count is a recursive method , it is not tail recursive ."
"I have IconText that has image and text views inside it , both class and xml.I then populate the Spinner inside of the MainActivity with these IconTexts , using extended BaseAdapter ( IconTextAdapter ) as adapter.Now , IconText works fine ( shows as it should ) .Spinner however doesn't.When I start the app , it shows the first IconText as it should.When I open the choose dialog , everything is showing as it should.When I select another item , the choose dialog collapses and spinner displays no IconText ( ie . only `` arrow down '' for opening choose dialog ) .I can still open the choose dialog and choose another.I 've noticed that if I exit from app ( return button , not really quiting the app ) and enter again that the proper IconText is shown.I guess that the fault lies with the adapter ? I will try avoiding posting a lot of code [ : IconText.xmlIconText.javaIconTextAdapter.javaMainActivity , relevant codeETypes names [ string ] and icons [ id ] are static.Inflator is initialized succesfully.I have n't worked much in Android . If it were Java/Swing , I guess I would just call a redraw or something.I know there are some bad practices here ( all public variables , and so on ) . This code is still in early prototype stage , it will be fixed soon . I 'm not looking for optimization , just for the solution to my problem.Update 1 : So I saw I did n't implement getDropDownView so I did , the same code as getView ( no need to post it ? ) .Also I made an experiment : At the end of IconText contrusctor I added And it works just fine ( showing only text ) .I guess this pinpoints that the problem originates from custom view ? Update 2 : Did another experiment with IconText , setting view = icon ; and it does n't behave as it should , ie . it behaves like it 's a custom view ."
I 'd like to use an infinite loop in Java : for ( ; ; ) and I think it would look amusing if I could replace that ' ; ; ' with the variable 'ever'like this : Is such a thing possible in Java ?
"In C # , I can create an instance of every custom class that I write , and pass values for its members , like this : This way of creating objects is called object creation expressions . Is there a way I can do the same in Java ? I want to pass values for arbitrary public members of a class ."
"Consider a method such as ConcurrentHashMap 's compute method : I would like to annotate this for nullability checking with checker framework : but this is n't quite right : I would like to be able to infer that it returns ? extends @ NonNull V in order to avoid a null check in the case where I know the remappingFunction never returns null , e.g . : Is it possible to express that ?"
In Java8 I have a stream and I want to apply a stream of mappers.For example : I want to write : But my current best way of solving my task is : How can I solve this problemwithout collecting the mappers into a listwithout using a for loopwithout breaking my fluent code
How to convert java int [ ] [ ] to Integer [ ] [ ] ? .It seems easy to convert single dimensional primitive array to Object type single dimensional array using java stream.For exampleIs there any way for two dimensional array like above ?
"I wrote a minimal somewhat-lazy ( int ) sequence class , GarbageTest.java , as an experiment , to see if I could process very long , lazy sequences in Java , the way I can in Clojure.Given a naturals ( ) method that returns the lazy , infinite , sequence of natural numbers ; a drop ( n , sequence ) method that drops the first n elements of sequence and returns the rest of the sequence ; and an nth ( n , sequence ) method that returns simply : drop ( n , lazySeq ) .head ( ) , I wrote two tests : Note that the body of dropTest ( ) was generated by copying the body of nthTest ( ) and then invoking IntelliJ 's `` inline '' refactoring on the nth ( N , naturals ( ) ) call . So it seems to me that the behavior of dropTest ( ) should be identical to the behavior of nthTest ( ) .But it is n't identical ! dropTest ( ) runs to completion with N up to 1e8 whereas nthTest ( ) fails with OutOfMemoryError for N as small as 1e6.I 've avoided inner classes . And I 've experimented with a variant of my code , ClearingArgsGarbageTest.java , that nulls method parameters before calling other methods . I 've applied the YourKit profiler . I 've looked at the byte code . I just can not find the leak that causes nthTest ( ) to fail.Where 's the `` leak '' ? And why does nthTest ( ) have the leak while dropTest ( ) does not ? Here 's the rest of the code from GarbageTest.java in case you do n't want to click through to the Github project :"
Lets say I have the following code : and Node.getIterable ( ) returns an iterable . Does the getIterable ( ) function get called every time or only when the for loop is started ? Should I change it to :
"From the Kotlin documentation page : In the code snippet above , I understand everything except that Class < T > thing . I assume it is the C # equivalent of the following : And the client code would say something like : But I ca n't be sure because that whole System.Type parameter seems redundant in the face of the generic type parameter T in the method definition.Also , at the same location on that page , what 's that class.java in the following snippet ? I assume that the class Class in Java is similar to System.Type so if you wanted to say , typeof ( Customer ) , you 'd say Customer.class ? Is that correct ? What 's class.java ?"
"Suppose I have an outer class with an inner class inside . The inner class has four fields with all possible access modifiers . The inner class is private , so I ca n't create instances of it outside the Outer class . Inside the Outer class , if I create an instance of the inner class and try to change the value for each of the fields I will succeed to do that . So I see that there is no sense in access modifiers for the above fields . Is there ? Edited : The main question is : Which access modifiers should I choose for members of the private inner class ? Inner class can not only implement interface . I can put some difficult structure with logic into it ."
"I have two classes : AbstractMailingDirections and DirectionLoad . Both have a copy constructor as follows : and Now when I call the MailingDirections copy constructor ( which is just super ( toCopy ) ) I sometimes do n't get fields of the defaultDirection copied . Or not all of them . And using a Eclipse debugger is even stranger : here I have clicked on the AbstractMailingDirections to be copied . See how defaultDirection.acceptanceTime is 17:00 in the toString print but shows up null in the field listing . If I click the defaultDirection , it 's toString print will show the acceptanceTime field as null.This is driving me nuts . Any ideas what could be causing this ?"
I have a PersonFactory interface as follows : The Person class : I want to be able to instantiate my Persons like this : Is there a way I could make the Java compiler automatically choose the right constructor by matching the signature of PersonFactory.create ( ) ?
"TL ; DR : After much trial and error , it appears as though the issue is Tomcat related , maybe in regards to the configured java versions , rather than the java language itself . See 'Edit 3 ' below for more details.I have been using Java 8 streams and Comparators for awhile now and have never seen this type of behavior before , so I 'm asking out of curiosity to see if anyone can find what 's wrong with my stream . I 'm working on `` Java-8-ifying '' a legacy project by replacing our antiquated collection processing with streams ( I was asked why I 'm doing this , and the short answer is that we 're essentially re-writing the project , but only have the time budget to do it incrementally . I 'm doing the first step - updating the java version . There is a lot of messy code around collection logic , so `` Java-8-ifying '' is serving to clean up a lot of code and making things easier to read and maintain ) . For now , we 're still using the old data types , so any 'date 's mentioned are dealing with java.util.Date instances instead of the new Java 8 types.This is my Comparator in ServiceRequest.java ( which is a POJO ) : When unit tested , this Comparator works as expected . ServiceRequests with a later activityDate are first in the resulting list , ones with an earlier activityDate are further down the list , and ones with a null activityDate are at the bottom . For reference , here is a complete copy of the unit test : Note : DateUtil is a legacy utility that creates java.util.Date instances for our testing purposes.This test always passes with flying colors , as I would expect . However , I have a controller that assembles a list of open service requests and groups them by requester identifier and selects only the most recent request for that user into a map . I attempted to convert this logic into the given stream : My logic was that after the requests were sorted by most recent requests first , whenever multiple requests made by the same user were processed , only the most recent one would be put into the map.However the observed behavior was that the OLDEST request was being put in the map instead . Note : I 've since verified that when the controller code is invoked via a jUnit test , the behavior is as expected ; the erroneous behavior only exhibits when the endpoint on the controller is called while running on tomcat . See 'Edit 3 ' for more detailsI added some peeks to view the ServiceRequest IDs ( not the requester IDs , which in this case would be the same when the merge function is encountered ) before sorting , after sorting , and in the merge function for the map collecting . For simplicity , I limited the data to a single requester 's 4 requests.The expected order of ServiceRequest IDs : Output of my peeks : I thought the interspersion of the map merge output with the after-sort peek was interesting , but I guess since there were no more stateful-intermediate operations , it just decided to add things to the map as it was peeking at them.Since the peek output was the same before and after sorting , I concluded that either the sorting had no effect on the encounter-order , or that the comparator was sorting in ascending order for some reason ( contrary to intended design ) , and either the input from the database just happened to be in this order , or the stream resolved the sorting before either of the peeks ( though I 'm not sure that 's possible ... ) . Out of curiosity , I put a sort on the database call to see if it would change the outcome of this stream . I told the database call to sort by activity date descending so that the order of the input going into the stream would be guaranteed . If the comparator was somehow inverted , it should flip the order of the items back to ascending order.However the output of the DB-ordered stream was much like the first , only the order held true to the original order produced by the database sort ... which leads me to believe that my comparator is having absolutely NO effect on this stream.My question is WHY is this ? Does the toMap collector ignore encounter order ? If so , why does this cause the sorted call to be ineffective ? I thought that sorted , as a stateful intermediate step , forced subsequent steps to observe encounter order ( with the exception of forEach , as there is a forEachOrdered ) .When I looked up the javadoc for toMap , it had a note about concurrency : The returned Collector is not concurrent . For parallel stream pipelines , the combiner function operates by merging the keys from one map into another , which can be an expensive operation . If it is not required that results are merged into the Map in encounter order , using toConcurrentMap ( Function , Function , BinaryOperator ) may offer better parallel performance.This leads me to believe that encounter order SHOULD be preserved by the toMap collector . I 'm very lost and confused as to why I 'm observing this particular behavior . I know I can solve this issue by doing a date comparison in my merge function , but I seek to understand WHY my comparator seems to work when used with a toList collector , but not with a toMap collector.Thank you in advance for your insight ! Edit 1 : Many have suggested using a LinkedHashMap to solve the problem , so I implemented that solution like so : But when tested , it 's actually resolving to an older one instead of the desired newest one that the comparator should be enforcing . I 'm still confused.Note : I 've since verified that the erroneous behavior only exhibits when run as a webapp on Tomcat . When this code is called via a jUnit test , it functions as one would expect it to . See 'Edit 3 ' for more detailsEdit 2 : Interestingly enough , when I implemented the solution I -thought- would work ( sorting in the merge function ) is also not working : Which produces the following output : Note : I 've since verified that this erroneous output is only produced when running as a web app on Tomcat . When the code is invoked via jUnit test , it functions correctly as one would expect . See 'Edit 3 ' for more detailsThis seems to indicate that my comparator really is doing nothing , or is aggressively sorting in the opposite order that it does in the unit test , or perhaps findFirst is doing the same thing as toMap was doing . However the javadoc for findFirst would suggest that findFirst respects encounter order when an intermediate step such as sorted is used.Edit 3 : I was asked to make a minimum , complete , and verifiable sample project , so I did : https : //github.com/zepuka/ecounter-order-map-collectI tried a couple different tactics to try and reproduce the issue ( each tagged in the repo ) , but was unable to reproduce the erroneous behavior I 've been getting in my controller . My first solution , and all suggestions I 've since tried , have all produced the desired , correct behavior ! So why then when the application is run do I get different behavior ? For kicks and giggles , I exposed the method on my controller as public so I could unit test it and used the exact same data that 's been giving me trouble during the run in the unit test - it functions normally in the jUnit test . There must be something different that allows this code to run correctly in unit tests and in a normal Java main method , but incorrectly when run on my tomcat server.The Java version I 'm compiling with and running my server on are the same , though : 1.8.0_171-b11 ( Oracle ) . At first I was building and running from within Netbeans , but I did a command line build and tomcat startup just to be sure there was n't some weird Netbeans setting interfering . When I look at the run properties in netbeans though , it does saying it 's using a 'Java EE 7 Web ' as the Java EE version alongside the server setting ( which is Apache Tomcat 8.5.29 , running java 8 ) , and I 'll admit I have no idea what the 'Java EE version ' is all about.So I 've added the Tomcat tag to this post as my problem seems to be Tomcat-related rather than Java language-related . At this point , the only way to solve my problem seems to be using a non-stream approach to building the map , but I would still love to know what people 's thoughts are on what configuration I could look into to fix the issue.Edit 4 : I tried to get around the problem by using the old ways of doing things , and when I avoid using a Comparator in a Stream , things are fine , but as soon as I introduce a Comparator to a Stream anywhere in the process , the web app fails to behave correctly . I tried processing the list without a stream , and only using a stream on the two requests to use the comparator when merging into the map , but that does n't work . I tried just making the Comparator old fashioned with an inline class definition , using plain old java instead of Comparator.comparing , but using that in a stream fails . Only when I 'm avoiding the streams and comparator entirely does it seem to work ."
"I have a .jrxml file and I would like to pass some params from the code to it . I have an Order class that has fields like double price , int quantity and Product product . The situation is simple , when i need to pass price or quantity , I just do something like this : The problem appears when I try to pass product.getName ( ) . I tried something like : and many others but I keep getting error : net.sf.jasperreports.engine.design.JRValidationException : Report design not valid : 1 . Field not found : productDo you have any idea how to solve this problem ?"
"My task is to filter an array , change the remaining elements and return the array with both the changed and unchanged values . My code : How can I return an array of the changed and unchanged values ?"
"Is there a library ( e.g . Apache , Guava ) that provides a List < T > with a method that adds the element if it is present , ( and is a no-op if ! element.isPresent ( ) ) ? Obviously easy to implement , but it seems like such an obvious thing it seems someone might have done it already ."
"I see that java-10 adds a constructor for IntSummaryStatistics ( LongSummaryStatistics and DoubleSummaryStatistics ) that takes 4 parameters that are count , min , max and sum.I understand why the no-args constructor exists , so that it would be used in reduction , like : That makes sense , but why is there a need to add the constructor with 4 parameters ? ( I made an assumption in my own answer , but if that is not the case I would gladly retract it . )"
"I am a Java programmer taking baby steps into Scala programming.I have defined a function similar to ( which may be idiomatically wrong , I would n't know ... ) : So the function receives 3 parameters , processes the first two in sequence , takes the results of the processing and passes it along to the someToBeReplacedAccordingToSpecificLogicFunction along side the third parameter.Now I wish to write a similar function in that the first two function calls are present , the error logic is the same , and the only difference is that the someToBeReplacedAccordingToSpecificLogicFunction is now aReplacementLogicFunction instead.Had the two functions had the same signature , I guess that would not have been a problem , but , they do not , the aReplacementLogicFunction has different parameters , more specifically , two more parameters . You may say then , that I could just pass in Option parameters where these two Options are Nones in the first case and in that way I would have aligned my two functions to be of the same signature , thus : But , a third flow exists where the nonexistent arguments of the first function are of a different kind , say MyClass , e.g . : The question is , then , how would I generify these functions to be passed along to some refactored generic algorithm function that would receive a function as a parameter . Is there a way to define something like : To answer my own question in Java : The way in which I would have solved this in Java is to have defined a class hierarchy akin to : Finally the factored out core logic method would be something like : Will the Scala solution , be no more of a syntactically different clone of the Java solution presented above ? It seems as if there should be a more elegant solution ."
"I am preparing myself for Java certification test and I have found an interesting question related to the execution of Java static blocks . I have spent a lot of time reading about this topic , but I did n't find the answer I was looking for.I know that static blocks are executed when the class is loaded into JVM or when the main method is invoked , but ... The output is : If I include verbose output with -verbose : class , then the output is : We can see here that Child class is loaded into JVM.Can someone explain why the static block from Child class is not executed ?"
"I have created a List of Contacts that 's working but when I click on any contact I only get contact Number of 1st Item on the android screen from the ListView.I want to get Phone Number of clicked contact of that position.I have searched on web everywhere but did n't get any solution , i am trying to solve this issue for last 13 days but still i am unable to solve this , If anyone can resolve this issue please answer.Thanks for your help brother/sister !"
I have two interfaces which is responsible for holding a closureHere is the first one for holding the closure when it comes to a map operation.And the second one for filtering operationsI have a class named CList which is capable of working with closures.Here is my public interface implementing CList with closures.And a simple tester : I am trying to convert the map function which is implemented in a recursive way to a while loop . I named it maploop . It hurts my brain for two days.Any hint will make me very happy.I am asking this question here since there is probability that someone may take Dan Grossman course and see the example and try to implement that function . I prefer a hint than an actual answer . Thanks .
"I 'm new to Spring . Currently starting with xml configuration , so please do n't say to use Annotations.I was reading about autowiring 'byName ' , and i 'm confused on how it works.My Config file -StudentServiceQuery class- } Name of the class for bean name `` StudentRepositor '' is `` StudentRepository '' Autowiring works correctly when the bean name is spelled correctly ( StudentRepository ) . The setter method is setStudentRepository , so it calls that for setter injection.When i spell the bean name incorrectly ( StudentRepositor ) , then if i use property to refer the class , it works . But it fails when i do 'autowiring byName ' . The setter method is setStudentRepositorbyType autowiring works everytime.So why autowiring byName fails as mentioned in point 2 ."
"No `` if '' statements , please , unless you 're explaining why it 's impossible to do without one.I 'm seeing how far I can go operating on streams only . I have this nuisance : My best idea for how to do this without an `` if '' isIs there a way to do this in one chain only ? A branch basically has to happen in the stream if so . A method like forSome ( predicate , lambda ) would work.Do not want to `` roll my own '' anything . I can use an `` if '' but I 'm trying to learn how expressive functional style can be ."
"If the method call takes more than 10 seconds I want to kill it and move on.Is multi-threading my only option to solve this problem ? If I go with multi-threading which I 'm very new at , my run method would only contain the one method as follows . If myMethod ( ) gets stuck in an infinite loop is there a way to interrupt this thread ? Let 's assume myMethod ( ) is the following and changing it is not an option.I was going for Mik378 's solution , but I do n't think this will work as myMethod does n't throw the InterruptedException exception ."
"I 've tried the above for rounding my number to 1 decimal place but in cases where there are no decimal numbers , it seems to round to an integer value ( for example 2.0 would be displayed as 2 ) . I want 2.0 , as well as any other input number to display in 1 decimal place . Also , when DecimalFormat rounds a negative number to 0 , it turns it to -0 . How can I solve these issues ?"
"When I first started learning java GUI ( swing ) programming the way I was shown was more of an MVC model which involved using interfaces to call things and pass variables across classes . I recently started programming in a more static way , having a Jframe call its static Jpanel 's and using static methods to change components . Bascially i program everything statically so I can call them from the different classes with ease . Heres an example : My main JFrame class called `` Home '' , I initialise the Toolbar class statically : Now whenever I want to do something e.g . change the colour I just call from another class : Is this an ok way of programming ? So far i 've not run into any troubles but I was caught out by the fact that the people I learnt from did n't do this when it seems so much easier to do.Are there any big down sides to this way of programming ? What are the alternatives ?"
"I am working on Project Euler problem 14 in Clojure . I have what I feel is a good general algorithm , and I am getting the correct result , but I am struggling to understand why my function is so slow compared to ( what I believe to be ) an equivalent function in Java . Here 's my Clojure function to get the length of the Collatz chain from a given starting number : And here 's my Java function to do the same thing : To time the performance of these functions , I used the following Clojure code : And the following Java code : The Java code runs in 304 ms on my machine , but the Clojure code takes 4220 ms. What is causing this bottleneck and how can I improve the performance of my Clojure code ?"
"While moving from CMS to G1 for some of our applications , I noticed that one of them suffered from a startup time extended by factor 4 . Application stop time due to GC cycles is not the cause . On comparing application behaviour , I disovered that this one carries a whopping 250 million of live objects after startup ( in a heap of 12G ) . Further investigation showed that the application had normal speed during the first 5 million allocations , but performance degraded more and more as the pool of live objects grew larger.Further experiments indicated that once a certain threshold of live objects is reached , allocation of new objects will indeed slow down when using G1 . I found that doubling the number of live objects seems to put a factor of around 2.5 on the time needed for that allocation . With other GC engines , the factor is only 2 . This would indeed explain the slowdown.There are two issues which make me doubt that conclusion , though : The threshold of roughly around 5 million live instances seems to be related to the heap as a whole . With G1 , I would have expected any such degrading threshold being related to a region , not to the heap as a whole.I looked around for documents in the web explaining ( or at least stating ) this behaviour , but I found none . I did not even find recommendations of the sort 'Having more than xxx live objects is evil'.So : it would be great if someone could either tell me that my observations are correct , and perhaps point me to some explaining document , or to some recommendatons regarding this area . Or , alternatively , that someone tells me what I 'm doing wrong . : ) Here is a short test case ( run multiple times , take mean values , deduct the displayed garbage collection times ) :"
"I have text I 'm trying to extract from LogicalID and SupplyChain fromAt first I used the following regex : This matched as follows : In a fit of desperation , I tried using the asterisk instead of the plus : This matched perfectly . The documentation says * matches zero or more times and + matches one or more times . Why is * greedier than + ? EDIT : It 's been pointed out to me that this is n't the case below . The order of operations explains why the first match group is actually null ."
"The task is to find lost element in the array . I understand the logic of the solution but I do n't understand how does this formula works ? Here is the solutionBut why we add 1 to total size and multiply it to total size + 2 /2 ? ? In all resources , people just use that formula but nobody explains how that formula works"
I have the following method which is working fine . I am trying to accomplish everything and get the value inside that Optional stream without having to do the additional if check . Is it possible to map and get the Result object at index 0 ? Please advice thanks .
I am trying to build a Java Spring Boot application that would post & get the messages from Confluent Cloud Kafka.I followed the article for publishing a Kafka message into Confluent Cloud and it works.Below is the implementationKafkaController.javaProduct.javaProducer.javaConfluentBootApplication.javaapplication.propertiesIt worksand I could verifyI want to build a Spring Boot Consumer REST Endpoint ? How do I do it ? Update : ConfluentConsumer.javaConsumer.java
"FindBugs complains about Possible null pointer dereference of str1 on branch that might be infeasible in Comparator.compareStrings ( String , String ) in this method : In Eclipse , I also see a warning on the last line ( str1 may be null ) .Under what circumstances can str1 be null in return str1.equals ( str2 ) ? COMPARE_EQUALS : COMPARE_DIFFERS ; ( given that the first two if blocks cover the situations , when str1 is null ) ?"
"I was referring to the java language specification to understand the use of super . While I understand the first use case i.e . The form super.Identifier refers to the field named Identifier of the current object , but with the current object viewed as an instance of the superclass of the current class.I ca n't seem to understand the following use case : The form T.super.Identifier refers to the field named Identifier of the lexically enclosing instance corresponding to T , but with that instance viewed as an instance of the superclass of T.Could someone please explain this with the help of code ? I suppose the following could be illustrative of the second case : output : 210"
I have a collection like : List < List < Object > > firstListI want to group together a similar list of pattern : List < List < Object > > secondList but grouped by indexes.say I want to group this collection as What I have tried so far is But I am not getting what is expected.I am using java 8.EDIT : ALL THE LIST ARE OF SAME SIZES
"A Stream is an AutoCloseable and if I/O-based , should be used in a try-with-resource block . What about intermediate I/O-based streams which are inserted via flatMap ( ) ? Example : vs.The flatMap ( ) documentation says : Each mapped stream is closed after its contents have been placed into this stream.Well , that 's the happy path . What if there happened an exception in between ? Would that stream then stay unclosed and potentially leaking resources ? Should I then always use a try-with-resource also for intermediate streams ?"
"I do n't understand why this confuses the compiler . I 'm using the generic type T to hold an object that 's not related to the put and get methods . I always thought GenericClass and GenericClass < Object > were functionally identical , but I must be mistaken . When compiling the DoesntWork class I get incompatible types - required : String - found : Object . The Works class does what I expect . What 's going on here ?"
"I got the following exception while executing my software : It surprises me that there is a sleeping time limit and that the standard library exception message has bad grammar/a typo ( to 0 to ? ) . After checking the source code of the delay ( ) method , I noticed that it restricts the waiting time as the exception stated : Why is this being done ? It seems like poor API design . Which purpose does it have besides catching the redundant InterruptedException checked exception for you and synchronizes the call ?"
"I have a collection which has a field of type Set with some values . I need to create a new set collecting all these values.I am wondering if this is possible using lambda expressions.Below is the code line : The problem is post map operation , it contains a collection of set of strings . So collect operation returns a Set < Set < String > > but i am looking to aggregate all the values to a single set ."
"New to java 8 , I would like to optimise my code bellow : I have a lot of methods using this same way to catch exceptions and do the same finally , is that possible to replace the bellow common code by a method in java 8 ? So that I could optimise all my methods who use this common code ."
"I 'm a web dev ( game dev as a hobby ) , and I 've seen myself use the following paradigm several times . ( Both in developing server architecture and with video game dev work . ) It seems really ugly , but I do n't know a work around . I 'll give an example in game dev , because it 's where I recently noticed it . This is an RPG that I 've been working on . Every time a battle is launched , the CombatEngine creates two parties of Combatants . Every Combatant sets up an ArtificialIntelligence object that 's associated with the given Combatant , which is in charge of dictating moves for players which do n't receive an explicit command : Here 's what I do n't like : the inner field ( ArtificialIntelligence ) takes a Combatant during construction , because it needs some of the Combatant fields in order to dictate appropriate actions . So , for convenience , I keep a reference to the combatant passed in as an arg to the ArtificialIntelligence object , but that object contains a reference to the ai object itself ! It creates this weird recursion , but I do n't know how to work around it . The AI object needs a good deal of the fields that are specific to combatant , so that 's why I passed in the entire object , but I do n't like how the object then contains the reference to the ai field which is contained in the overlying combatant field , which is contained in the overlying ai class . Is this bad practice , or am I simply over thinking it ?"
"I wrote a simple class that uses AbstractQueuedSynchronizer . I wrote a class that represents a `` Gate '' , that can be passed if open , or is blocking if closed . Here is the code : Unfortunately , if a thread blocks on pass method because gate is closed and some other thread opens the gate in meantime , the blocked one does n't get interrupted - It blocks infinitely.Here is a test that shows it : Please help , what should I change to make the gate passing thread acquire the lock successfully ."
I am trying to recursively find all inner exceptions ( getCause 's ) from a top level exception ... of a specific instance type.Here is what I 've tried : and my early `` find '' method : It is not working . : ( I 've tried several other things ( not shown yet ) ... I 'll post them as `` appends '' to this question if I get anything that does n't throw an exception.Not working ... . I 'm getting NullPointers exceptions . and ( depending on my tweaks ) java.lang.reflect.InvocationTargetException exception.Here is some examples that would find 1 : N `` matches '' .
While investigating Why ThreadPoolExecutor behaves differently when running Java program in Eclipse and from command line ? I wrote a test that throws a very strange OutOfMemoryError ( max mem = 256 Mb ) comment out int i = 1 and the test works . As far as I understand when finalize is empty HotSpot simply ignores it . But how can just one practically empty finalize invocation break GC / JVM ?
"Let 's say we have a few test interfaces/classes like this : You can see Animal.eat is a generic method with constraints . Now I have my Human class like this : which compiles fine . You can see Human.eat is less constrained than Animal.eat because the Eatable interface is lost.Q1 : Why does n't the compiler complain about this inconsistency ? Q2 : If Plant & Eatable downgrades to Plant is acceptable for the compiler , why it complains on eat ( Object plant ) ?"
"I am fully aware this question was asked many times , but I can not find an answer to it . : /I have one parametrized class : And several static objects of this class : The problem is that I have to omit diamond operator and stick to unchecked cast of MessageType to MessageType < List < String > > in the last line.I would like to write something like but List < String > .class can not be computed in runtime as , you know , type erasure . : D➥ Is there any way to comply with the compiler , and avoid unchecked casts ? ( It has already costed me an hour due to my negligence and lack of attention )"
I have a simple problem : I iterate a large and deeply nested directory structure using Files.walkFileTree like this : My goal is to add all files under a specific directory target that I know is at most CUTOFF levels under codeRoot.I 'm looking for a more efficient way to do this in terms of necessary stat ( ) calls or someone saying `` ca n't be done '' .Language level is Java8 .
"Usually we implement Comparable with a type-parameter of B . But java allows using a super class , as well . Is there a scenario where I really need to do something like this ?"
I 'm working on a problem that I 'm a little confused on . The question says imagine you 're a general of the British Air Force during WW2 . You have 100 planes left to defend the United Kingdom . With each mission you fly each plane has a 50 % chance of getting shot down by the German anti aircraft guns so every mission you 'll lose about half of your planes . You have to write a program that will approximate how many planes will survive after each mission and how many missions you can run until all your planes get shot down . My program does not work and I do n't know what wrong with it so I guess England is in trouble . I 'm trying to solve this problem with two while loops . The outer while loop says as long as you have planes left send them on another mission . The inner while loop simulates the actual mission . After the while loop exists the total number of planes is now the surviving planes .
"Suppose I have a blocking method called check as follows : which will do some check against the input and return the decision.Now I want to run this check against a list of inputs asynchronously , and I want to return to the main thread right after one of the inputs passing the check , so I do n't have to wait for all asynchronous call to be completed . The only one scenario for waiting all threads to complete is that there are no inputs passing the check . Running the method asynchronously with list of inputs is straightforward but I 'm not sure how to return to the main thread after getting the target output for the input passing the check ."
"I have been working on requirement and I need to create a regex on following string : There can be many variations of this string as follows : startDate in above expression is a key name which can be anything like endDate , updateDate etc . which means we cant hardcode that in a expression . The key name can be accepted as any word though [ a-zA-Z_0-9 ] *I am using the following compiled patternThe pattern matches but the groups created are not what I expect . I want the group surrounded by parenthesis below : Could you please help me with correct expression in Java and groups ?"
"I have a Validator interface which provides a isValid ( Thing ) method , returning a ValidationResult which contains a boolean and a reason message.I want to create a ValidatorAggregator implementation of this interface which performs an OR across multiple Validators ( if any Validator returns a positive result , then the result is positive ) . If any validator succeeds , I 'd like to short-circuit and just return its result . If no validator succeeds , I want to return all of the failure messages.I can do this succinctly using a stream and findFirst ( ) .orElse ( ... ) but using this pattern I lose all the intermediate results if findFirst returns empty : Is there any way to capture the failed results using a stream , or indeed just more succinctly than the below ? Edit : based on comments , I agree what I 'm trying to do is premature optimisation ( particularly as these validators are very lightweight ) . I 'll probably go with something similar to Holger 's solution of computing all validations and partitioning into successful/unsuccessful results . This was marked as a dupe of Can you split a stream into two streams ? and the partitioningBy answer sort-of is , but I think this question is asking , and the discussion answering , a different problem ."
"Okay , I was trying to do some conditional checks and noticed this returned false ... . Something I 'm missing ?"
"I made this snippet to show my problem : date1 and date2 are expressed in seconds , so I 'm expecting two different dates in output , but the dates are printed the same . I checked inside this online tool , and as you can see the dates are related to two different days.How can I solve this ?"
"I am using wikidata api to fetch a entity using its english title , Earlier , with an older version of wikidata-api , I was able to run it smoothly.After updating to version 5.0.0 , I always get the following error , How to fix this ?"
"In the new date package in Java 8 , we changed from using `` new Date ( ) '' to `` LocalDate.of ( ) '' .When you want a new object you usually use the new keyword . This is an intuitive way to create a new object.Sometimes , when you need a singleton with delayed initialization you can use a static method to get the instance . In this case you must call it getInstance ( ) so developers know what to expect . This new syntax makes the code less intuitive . It forces you to learn how to deal with specific objects instead of simply using them.Are there any good reasons under the hood for this change ?"
I 'm making a text editor which finds a string in the first line of a text and highlights it and its occurrences throughout the text . The problem is that it also highlights the occurrences located in the comment lines ( started with `` # '' ) . This is my code so far : How can I edit this code to avoid highlighting of occurrences situated after a `` # '' symbol in a line ? Thanks for your help !
"Answering a question here at SO , I came up to a solution which would be nice if it would be possible extend the Class class : This solution consisted on trying to decorate the Class class in order to allow only certain values to be contained , in this case , classes extending a concrete class C. I know this code does not work as Class is final and I wonder why Class is final . I understand it must have to do with security but I ca n't imagine a situation where extending Class is dangerous . Can you give some examples ? By the way , the closer solution for the desired behavior I can reach is : But it lacks the beauty of transparent decoration ."
"I am having one of those weird moments . Output : Every time I run this , the new object always gives the same Hex String ( Java doc Integer.toHexString ( hashCode ( ) ) ) , why is this ? Why does n't this produce a different String each time ? Or is it reusing the same object because it can ? EDIT : I tried executing the Java application several times ."
"The api for Stream.max requires an argument of type Comparator < ? super T > , and for Comparator , the only abstract method is but Double : :compareTo , the compareTo api iswhy just provide one argument , so why can Double : :compareTo use as argument of Stream"
"I 'm studying generics in this period and today I 've found this mystery for me.Let 's consider the following dummy class : Because of erasure , at runtime , the T [ ] return type of the getArray ( ) method is turned into a Object [ ] , which is completely reasonable to me.If we access that method as it is ( c.getArray ( ) ) no Exceptions are thrown , but if we try to call some methods on the returned array , for example c.Array ( ) .getClass ( ) , or if we try to access to a field , for example c.getArray ( ) .length , then the following exception is thrown : Exception in thread `` main '' java.lang.ClassCastException : [ Ljava.lang.Object ; can not be cast to [ Ljava.lang.Integer ; Why is this Exception thrown ? Why is it not thrown also for the simple c.getArray ( ) call ? Why is it trying to cast to Integer [ ] if we are simply calling getClass ( ) or accessing length ? Are getClass ( ) and length not available also for Object [ ] ? Thanks in advance for your many ( I hope ) and explanatory ( I hope this too ) answers ."
Ran into an interesting issue ; the following class compiles : but this one fails : with this error : I 'd have thought that due to type erasure that these would be essentially identical . Any one know what 's going on here ?
"Imagine you have a list of people , Roberts , Pauls , Richards , etc , these are people grouped by name into Map < String , List < Person > > . You want to find the oldest Paul , Robert , etc ... You can do it like so : Say , I want to get a mapping in the form of Map < String , Integer > instead of Map < String , Person > , I can do it like so : The steps above are : Group by name into Map < String/*Name*/ , List < Person > > Map that List < Person > into List < Integer > Find maximum Integer in those lists.I was wondering how to do : Group by name into Map < String , List < Person > > Find the oldest person in each group name , getting Map < String , Person > Convert Map < String , Person > into Map < String , Integer > . And I want to do all that inside that chain of groupingBy 's , reducing 's and mapping's.This is the `` pseudocode '' : How can I achieve this ?"
"Scenario : I 'm receiving a huge xml file via extreme slow network so I want so start the excessive processing as early as possible . Because of that I decided to use SAXParser.I expected that after a tag is finished I will get an event.The following test shows what I mean : I wrapped the input stream to see what is read and when the events occur.What I expected was something like this : Sadly the result was following : Where is my mistake and how can I get the expected result ? Edit : First thing is that he 's trying to detect the doc version , which causes to scan everything . With doc version he breaks in between ( but not where I expect ) It is not ok that he `` wants to '' read for example 1000 bytes and blocks for so long because its possible that stream does n't contain so much at this point of time.I found the buffer sizes in XMLEntityManager : public static final int DEFAULT_BUFFER_SIZE = 8192 ; public static final int DEFAULT_XMLDECL_BUFFER_SIZE = 64 ; public static final int DEFAULT_INTERNAL_BUFFER_SIZE = 1024 ;"
"I have interface : and class that implement this : everything works fine . so far . Now I want to create GenericDAO , why I can not create this ? : I can only declare my GenericDAO as this : And complete class : But i think it 's useless , because I repeat information . I already declared , that Cat implements Identifable < Long > , so why do I must declare GenericDAO < Cat , Long > , not just GenericDAO < Cat > ?"
"I was exploring the Streamable Interface and the first method that I came across was the empty ( ) method that has the following definition.Collections : :emptyIterator returns the Iterator < T > but the return type of this method is Streamable < T > . Streamble extends Iterable and Supplier and not Iterator interface.I did n't understand how is that working fine.Can someone please help me in understanding this ? I 'm just failing in understanding the concept here . I wanted to know how is this working as I 'm aware of how Inheritance works , but I 'm unable to figure it out . I think I 'm missing something here ."
The following program : prints the incremented value of counter every time I access the url of this servlet . I read that the server creates an instance of this servlet and whenever there is a request for this servlet a new thread maps this request to the special instance created by the server . When does the instance created by the server ( to which thread maps the request ) die ? When do the threads created by a new request die ?
I am solving a problem in java in which i have to find the maximum pair-wise product of the 2 integer arrays.Example : My currrent code also produces this output.My Solutionsort both arrays and then multiply numbers at same indexes from both arrays and sum the product of each pair . ProblemMy solution is tested using test cases that i do n't know about . My solution is not able to pass all the test cases . I am not sure if there 's any input against which my solution will fail.QuestionIs there something wrong with my solution of the given problem which prevents my code from passing all the test cases ? CodeProblem Description
I 'm trying to serialize some objects of custom classes and I got the following exception : I have an ArrayList : The storage is serializable and all contents in it are as well.But I still got this error and I do n't know why.There is only one key and value in the property map.The key is a string and the value is a long string ( a hash of the whole object ) .
"I have this : It gives : Question : I understand why I am getting this exception . It is because the ArrayList class from inside Arrays.java is being used which does not have a remove ( ) method . My question is how can someone ( any user , like me ) know before using that the List they received that it does not contain a remove method ?"
"Edited : My purpose is to check whether someTime is in the same day or in the previous day without doing too much heavyweight stuff . Does this account for day light savings and why ? If not , what 's the simplest logic ?"
"I recently argued with a friend on a code like this : I argued that it 's possible that value can be seen as 0 in Y , because there 's no guarantee that the assignment value = initializeValue ( ) is visible in the executor 's threads . I said he would need to make value a volatile field . He contradicted me , and said that because it 's a private instance field with the value assigned before the thread creation , then the value is visible . I looked into https : //docs.oracle.com/javase/specs/jls/se7/html/jls-17.html # jls-17.4 but I could n't put my finger on what exactly I can use as backing for my statement . Can anyone help me ? Thanks !"
"I 'm not quite sure I understand g.drawString . I have a program that writes to a preprinted form . The users claim that the printing is irregular ... ie , text on the form is higher/lower than the previous print . Personally , I think they 're misloading the form , but since they pay me to write code , I 'm measuring the form and converting dimensions to pixels and rewriting the portion that deals with printing.To print the form correctly , c.getCostAmount ( ) has to be printed one pixel ABOVE c.getAppraisersAmount ( ) for it to appear one line below it . Yet , each succeeding line is 4mm ( or roughly 15 pixels ) below that . My problem is that I do n't understand the vertical distances and why the 3rd line has to be placed a pixel above the previous line for it to be underneath.Anybody have a quick-n-easy explanation or a link to a tutorial/explanation ? Much thanks ! The code ( h/t Alex , Java : Printing program output to a physical printer ) :"
"I 'm trying to make a UI tool to start/stop a webapp ( war ) on a Jboss EAP 5.1 via JMX , but I have a issue with securityArgs : localhost:1099 , jboss.web.deployment : war=/QueueManager , start , admin , adminand that 's the exception : Can you help me toubleshooting this issue ?"
I followed this answer https : //stackoverflow.com/a/19418847/1665592 but it does n't help me to compile single java files using Gradle . It says Task : compileMessageKeys NO-SOURCE Why ? I just have only one Java File CreateMessageKeysTask.java which is dependent on `` apache-ant-1.7.0/ant.jar '' jarMy ant script is as belowBelow are the class import statements used in my Java File.EDITI tried something below as well but it still not help me
In Android I subclassed ParseObject with two local variables that are not in Parse class . I just needed to set those variables locally and had no need to save them on server . They are String 's named helper1 and helper2 with getters and setters as well.It works all fine on Android - I can use setHelper1 ( `` whatever '' ) ; as well as getHelper ( ) methods on my ParseObject 's . What I want to do is to do the same in JavaScript since I want to make same operation in ParseCloud and make it return results with that additional Strings without creating additional columns in database class.I read https : //parse.com/docs/js/guide # objects-parse-object and https : //parse.com/docs/js/guide # queries-basic-queries but it 's not helping very much and I ca n't get it . How that could be achieved ? edit :
"I have some complex Observable structures , which may or may not be bad ideas , but which are not the focus of this question.The problem with those structures is that they generate a lot of invalidations of Observable objects being displayed by the UI . As near as I can tell , when the JavaFX UI is displaying something , it registers a ChangeListener on it , so any attempts to use lazy evaluation go out the window . That is , invalidating the observable seems to tell the UI that it has potentially changed , which causes the UI to immediately request it 's value , forcing it to evaluate immediately.So , I had the idea of deferring the invalidations via Platform.runLater ( ) . I created a class called DeferredBinding that delegates everything to a wrapped Binding , except the invalidate ( ) method , which it defers to the JavaFX UI thread to be processed later . It seems to work ... I can invalidate a hundred times and it only seems to actually process the invalidation once.But , I 've not seen this pattern before and I am afraid it might fall into the category of `` nice try but bad idea '' .So , question : is this a bad idea ? I am particularly concerned of errors introduced into other Observable objects that depend on the DeferredBinding . Will they be fine once the Platform.runLater ( ) happens ?"
"This is the method i am going to call/invoke.This is the method where i am testing invoking the previous method ( Both are located in the same class named MyClass ) Why does this particular case ( second invoke test ) < Integer , String > doGenericStatic2 ( 100 , `` Text '' ) ; generate a compile time error ?"
"I am trying to use PageDown on the client side as an editor , and on the server side to then parse that Markdown to HTML.It seems to work fine on the client side , but on the server side , tickmarks are only `` codifying '' the character that follows , not the word that it wraps . So if I do this : test ` test ` testI expect this , and this is indeed what I get on the client side : test < code > test < /code > testBut on the server side , I end up getting this instead : test < code > t < /code > est < code > < /code > testI 've created a file called pageDown.js , which is simply Markdown.Converter.js and Markdown.Sanitizer.js combined into a single file , with this function added : On the client side , I can use this file like so : That correctly displays : < p > test < code > test < /code > test < /p > On the ( Java ) server side , I use this same exact file , through Java 's ScriptEngineManager and Invocable : That program prints out this : < p > test < code > t < /code > est < code > < /code > test < /p > I see similar problems with other markdown : test **test** test simply ignores the ** part . However , # # test correctly returns as < h2 > test < /h2 > .This all works fine if I go to the JavaScript directly through HTML , but not when I go through Java . What 's going on here ? Should I be handling Markdown on the server differently ?"
"This piece of codewill print because the inner append is executed first and modifies the object b1 ; then the outer b1 is evaluated ( it is equal to hello ! now ) and the same string is appended to it . Soinner expression is executedoriginal object gets modifiedouter expression is executed on modified objectBut now , why does this code throw a NullPointerException ? and prints I was expecting the reference s1 to be pointing at the object referenced by s2 before the outer append gets executed.In some way , assigning b1.append ( `` ! `` ) ; affects the `` outer '' b1 , but s1=s2.append ( `` ! '' ) does n't . I know it 's due to the fact that in the first case I 'm modifing the object , while in the second I 'm modifing the reference but ... what 's the order in which values/references/methods are evaluated and executed ? EditSame thing happens with arrays : printswhile prints"
"I 've got a java.util.stream.Stream containing key value pairs like : Now I would like to merge all entries , which have got the same key : The data is already sorted , so only consecutive datasets have to be merged.Now I 'm searching for a way to transform the the content of the stream like above , without loading all datasets into memory.I 'd prefer to get a java.util.stream.Stream as result with a different object type containing a list of values instead of a single value.My only approach is a custom iterator , which performs the merge , but it seems to be pretty ugly to convert to an iterator and back to stream.What is the best approach for it ?"
What is the effect of not catching the value of the method that returns a value ? Does it develop complications like memory issues if the return value was not caught.Example code snippets :
"I have a function that filtering list of some values and it use instanseof construction : I want to make it more general and set Button as function parameter : But i do n't know how to pass myClass to the function.Please , tell me how i can generalize this function ?"
I was practicing my Java 8 skills . I came across a strange ( for me ) code . I have my bean class Person with overridden equals method . Then I tried to implement BiPredicate with equals method . It ran successfully . Can anyone explains how 's that possible..because in my opinion equals method takes 1 argument and BiPridicate 's test method takes two arguments . How is it satisfying this condition ? My code -- Method_Ref1Person
"Let 's say that I have 2 microservices : Service1 and Service2 . Each one of them has its own database . Service1 has EntityA and Service2 has EntityB I 'm using Spring 's RestTemplate for retrieving and saving data . The problem is : when retrieving EntityA from Service1 's database I do n't have data of EntityB as they are held in Service2 's db , I understand that I should make a rest call via RestTemplate to retrieve EntityB from Service2 's db , but what about relationship between the entities - should EntityA still have the whole EntityB object inside even though its fields are null most of the time except id ? What am I missing ? Thank you in advance ."
"I have a utility method ( used for unit testing , it so happens ) that executes a Runnable in another thread . It starts the thread running , but does not wait for the Thread to finish , instead relying on a Future . A caller of the method is expected to get ( ) that Future . But is that enough to ensure safe publication of the computation done by the Runnable ? Here is the method : After calling Future.get ( ) on the returned Future , can the caller of the method safely assume that the Runnable has finished execution , and its results have been safely published ?"
"I 'm writing a shared library to be loaded into the JVM and the behavior below got me stuck . Here are my Java classes : And the library to be loaded looks like : test_jni.htest_jni.cfs.hfs.cWhen compiling and running this Main class the JVM does not crash . It simply does not enter the function fs.h : :close ( int ) . Instead , stdlib 's close is called as can be seen in GDB : Running objdump -dS libmyfancylibrary.so shows that QUESTION : Why is stdlib : :close called in Java_com_test_UnixUtil_closeFd instead of fs.c : :close ( int ) ? The only thing I can imagine is the JVM has its own dynamic linker which does the job ..."
"I have a RecyclerView and an adapter which has an ArrayList of Person model.When the app starts I type the names in the EditText and press the button:1 ) 2 ) 3 ) 4 ) But when I log personList data in the activity , the result is : First item is removed and last item is repeated in the first one . ( My adapter is more complex , but I have reduced the code and views to focus on the main problem ) Adapter Layout : Adapter Class : Related Part of Activity : What 's the problem ? And how can I achieve correct and real ArrayList Data ?"
"Since Java 11 , a PREVIEW-MODE on the Java Compiler and Runtime can be enabled . It allows to preview new features . ( JEP 12 ) How can I detect from within Java whether the JVM has been started with preview-mode enabled ? The intention is to describe the running container on an in-application status page/json - for devops overview.So far I looked into system-properties and flags , neither contained a hint ."
"I am trying to learn Java Generics , and found the following code.Which works with no problem.However when I change print method to the following , it gives me compiling errors.Error : Can anyone help me understand the errors ?"
"Arrays are Objects and all the objects come from a class . If I execute the following code : The output is class java.lang.String.But if I execute the following : The output is class [ I.My questions are : What is the class of the arrays ? Why is it the result ? If I would like to use the instanceof operator how should I use it ? If I execute System.out.println ( arr instanceof Object ) ; , it works perfectly ."
"Sometimes , I came across some class design as follow.I was wondering , what is the purpose of having an abstract_dog class ? Why we `` transform '' the non-abstract speak method into abstract speak again ?"
I want to extract the second matcher in a regex pattern between - and _ in this string : I tried this : But I get 123456-124 for the above regex in Java.I need only 124.How can I achieve this ?
"When I try to close Ad by clicking the close button in the interstitial ad , that particular ad is closed . But then another one ad is loaded . And the application continues in this way forever . How to avoid another ad to load after manually closing it ? This is my code : and displayInterstitial ( ) method is"
"I have List of TrainingRequest where each and every element has List of Feedback.I need to get all given result of Q1 , Q2 and calculate percentage of each value . To flat all the feedbackTo calculate each value of Q1 and Q2 , I 'm grouping it and getting the count . I need to get the percentage of each Q1 , Q2 value insted of count.When I use Collectors.counting ( ) , Its giving the following output.But I need it to give percentage as I expectedHow to do it in a efficient way ? Please let me know if I need to optimize the above code . Thanks in advance"
"This is regarding the difference in the result returned by '+ ' operator . Result varies for String literal and String Object.With the result we can deduce that with literal , already available object from the string pool is returned as in case of line 3 and with string object new object is returned , as in line 5 . Why is it so ?"
"I found that if I use an annotation , the program will not throw a ClassNotFoundException.Tomcat starts successefully without the javaee-api-7.0.jar which contains the class javax.transaction.TransactionalIt makes me very confused , should n't the JVM throw aClassNotFoundException when it loads the class A ?"
"i use apache-mime4j-0.6.jar and httpmime-4.0.1.jar , in my Logcat Everything is Good except this Log out_write ( ) limiting sleep time 31178 to 23219 with tag audio_hw_primary but I 'm not sure it 's From my App.Problem : in my php File , I can Receive Everything except My posted file ! this is my Code , base on this Question"
I have I want to print I am trying Than want to print arrayBut my gg is always 0.am I missing anything.All I need is to remove the number and . and white spacesThe number can be 1 ( or ) 5 digit number
"Can someone explain the behavior of o2 ? Is it due to compiler optimization ? Is it documented somewhere in the JLS ? The output produced is true [ UPDATE ] After some productive and useful discussion I think I can understand the behavior ( please post comments if my assumption is wrong ) .First off , thanks to @ user207421 who explained that the Java compiler treats the type of o2 the same as the RHS , which : extends Object has the getSomething method Then thanks to @ Joachim Sauer who pointed to the proper place in the JLS.Some more related JLS quotes : The type of the local variable is the upward projection of T with respect to all synthetic type variables mentioned by T ( §4.10.5 ) . Upward projection is applied to the type of the initializer when determining the type of the variable . If the type of the initializer contains capture variables , this projection maps the type of the initializer to a supertype that does not contain capture variables . While it would be possible to allow the type of the variable to mention capture variables , by projecting them away we enforce an attractive invariant that the scope of a capture variable is never larger than the statement containing the expression whose type is captured . Informally , capture variables can not `` leak '' into subsequent statements.Question : can we say that `` capture variables '' refers to getSomething ( ) too in the context of the question ? And finally , thanks to @ Slaw for pointing out that getSomething was declared package private so was not returned by getMethods.Any comments/corrections appreciated ."
"Let 's say I have the following code : How can I reference getIterable of the outer class from the inner class with the same name ? MyStream.this should point to the inner class here , right ? How to show an outer class with the same name ?"
"I am having an issue initializing a class with type parameter . It seems to be a shortcoming of Java 's type inference and I would like to know if there 's a way around this or a better way of achieving this.Compile-time error is in BusinessLogic : :someLogic ( ) : The constructor Service < ChildModel , ArrayList < ChildModel > > ( Class < ChildModel > , Class < ArrayList > ) is undefinedCompiled to Java 7 ."
"I have a program that runs simultaneously and I have this problem where I want to stop the thread but the for loop/while loop does n't get cancelled once I once I click enterIf I take the for loop out of the while loop , the program actually responds to the enter and shuts down.Why does the for loop cause the program to not shutdown ?"
"Is it possible to write a regex pattern in Java that will match , for example , 2 out of 3 ( or 3 out of 4 etc ) groups ? For example , I have the following regex : which will only allow patterns that match all three groups - i.e . it must contain a number AND a lowercase character AND an uppercase character . I 'd like to make it so that it will validate a pattern that contains at least two out of the three groups ( e.g . a number and an Uppercase character OR a lower and uppercase characters ) .Is it doable in a single statement or am I going to have to write separate regexes and loop through them ?"
"I was under the assumption that when eclipse suggests methods , it 's in the formAnd it seems to be true for all the methods ( but clone ( ) ) in the posted picture also.But for clone ( ) , eclipse says the method comes from the type of the array ( byte in this case ) .It 's the same for all arrays of primitive types and arrays of reference types as well.Eg : For String [ ] it gives clone ( ) : String [ ] - StringWhat does that mean ? Is my understanding wrong ? Or is there something else in the clone ( ) method ? Just to make things clear , my question is Why does eclipse say `` clone ( ) '' is from byte when it should be from byte [ ] just like `` length '' ."
Deadlock with 2 Threads ? Thanks for the answers !
"I was wondering if there is any clojure code or macros that does not work when embedded within a clojure proxy for java code , eg : Or , can I only embed calls to Java functions within the proxy ?"
"Heavy CPU bound task could block the thread and delay other tasks waiting execution . That 's because JVM ca n't interrupt running thread and require help from programmer and manual interruption.So writing CPU bound tasks in Java/Kotlin requires manual intervention to make things run smoothly , like using Sequence in Kotlin in code below.As far as I understood the reason is that having preemptive scheduler with the ability to interrupt running threads have performance overhead.But would n't it be better to have a switch , so you can choose ? If you would like to run JVM with faster non-preemptive scheduler . Or with slower pre-emtpive ( interrupting and switching the tread after N instructions ) one but able to run things smoothly and do n't require manual labor to do that ? I wonder why Java/Kotlin does n't have such JVM switch that would allow to choose what mode you would like ."
"If I create a static block and create an Object there , say of some other class , will the object be created on the heap or on the stack ?"
"I have a modified version of ItemRequestForm.java that previously worked in version 5x . In item-view.xsl , I created a link that when clicked , will redirect the user to this modified form . The URL pattern of this link is http : //example.com/documentdelivery/123456789/1234 . When I upgrade my DSpace version to 6x , I have difficulty in making it work . Due to major code refactoring between versions 5 and 6 , I find it hard to migrate my code to the latest version.Below is part of the code that worked in version 5x ( DocumentDeliveryForm.java ) The code is mostly based on this answer : How can I get the title of the referring page ( item ) from a modified version of feedback page in DSpace ? When I upgrade to version 6 , I found out that DSpaceObject dso = HandleManager.resolveToObject ( context , handle ) no longer worked , so I replaced it with DSpaceObject dso = handleService.resolveToObject ( context , handle ) .Below is my attempt to migrate my 5x code to 6x ( Result : java.lang.NullPointerException ) Below is another attempt that resulted in Handle is nullLooking at the java stacktrace , it is pointing to this line of code : DSpaceObject dso = handleService.resolveToObject ( context , handle ) . It seems that the value for handle is not being loaded.What part of my code should I modify so that I can successfully redirect users to http : //example.com/documentdelivery/123456789/1234 from http : //example.com/handle/123456789/1234 ? Which construction of item viewer division is correct ? ORThanks in advance ."
I 'd like to know what the first < T > represents in the following line of Java code . I 've read several tutorials on generics but none of the examples have 2 generics before the method name . Thanks .
I am using Java to insert data into mongodb cluster.Can I have more than 1 mongos instance so that I have a backup when 1 of my mongos is down ? Here is my java code to connect to mongos.How can I specify my second mongos instance in my Java code ? ( If possible ) .Thanks in advance .
"This question has bogged me quite a while . During programming there is regularly the question whether there is something in an object or not . For this reason was the isEmpty method invented . Great , but in practice we use it like ! isEmpty almost all the time.As a consequence , notEmpty would be a much more appreciated addition to a language like Java . The question is : why do n't language designers think of this before defining the API ? At least give a counterpart for isEmptyEDIT : I meant there should be a notEmpty as well as isEmpty . Depending on the domain , both of them may be used but in most cases when a UI is not involved , I think notEmpty applies better.EDIT2 : To close the discussion , here is an example : I 'd prefer we had the right side of the equation as well ."
"Create a third array list by summing up data related to same element if present in both lists , else insert the new dataI created two maps from the two array lists with Id as key and then created a set by combining keys from both maps . Making use of the values in set , i queried both the lists and arrived at the sum . I am seeing the expected output if i follow this method , but wanted to know if there is any other efficient way of achieving this in Java 1.6 -- -- -- -- -- -- -- -- Java -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -Output -- -- -- -- -- -- -- -"
"The following code is from the book `` Cracking the coding interview '' . The code prints all permutations of a string.Question : What is the time complexity of the code below.My Understanding : I am able to derive the time complexity to : n * n ! .I am sure I am missing the time complexity of the blue , green and yellow nodes . But despite repeated attempts have not been clearly able to figure out the way out.Can someone share some inputs , preferably with examples ?"
"My colleague just asked me a really interesting question and I can not give him an answer.Let 's assume that we have got the following class : Now , we are creating the objects : The question was : Do we keep information about the available methods in each single object ? If we create a new object p9 , will the JVM create the object with information about only fields or will it also add to this object information about methods ? Another question : What happens if I invoke p1.print ( ) ? Does p1 have to ask the Person class to provide this method , or is it already saved in p1 object ?"
"In Java , how expensive is to do a cast : versus : assuming `` int i = N '' preceding it.EDIT : Disregard my direct comparison with ( i++ ) for a second , if you would please . Let me rephrase this in more general terms : how expensive is casting in general ? Choose your reference operation better than my naive `` i++ '' example , take a simple variable declaration and assignment for instance , how does performing a cast compare to that in terms of VM bytecode/operations ? I used i++ as a measuring stick . That was a very bad idea . When they chose `` meter '' as a baseline they did much better . Is there a base measuring unit for operation cost in Java ? A JVM op ? I suppose this will depend to the native code the Java op compiles down to ... anwyay , how expensive is casting ? ( you pick the measuring stick for me , I am bad at that )"
"So I 've some sample code I 'm playing with to try and figure out this logic below . It 's just one large main method and two POJOs , but it 'll run . I 'm debugging to get values at the point of termination.POJO1 : POJO2 : As you can see , I 'm streaming and filtering out any objs that do n't match on carId . My next goal is to then set id ( not carId ) on the matched object . Basically , if obj1.carId == obj2.carId THEN set obj1.id = obj2.id.My problem is I do n't know how to do this in the same stream . Is it possible ? I ca n't help but think there is a need for an iterator at this point ?"
"I just updated to IntelliJ 2020.2 and while some things are good some thing are bad..When using the Java var feature IntelliJ now shows the type of it right next to the variable name which is completely useless to me and the only reason one uses var at all , because the type is already obvious.Displays in IntelliJ 2020.2 as ( the type in parentheses being a balloon which you ca n't right-click or highlight ) How can I disable this useless feature ?"
"Currently , I am struggling with the problem of catching numbers with REGEX by using Java The string which I am trying to catch the numbers in this string value using REGEX is this..My wish is to catch the numbers which are located in [ ] . Would this be possible with Java ? I could easily take the number by splitting the string , but the company wants me to use the regex since it is more safer and faster . please help me ."
I 've taken this code from the book `` Introduction to Programming with Java '' by Sedgewick on their online website . I just have a question as to whether a or b could possibly be above 6 if by chance Math.random ( ) is 1.0 ? Or am I wrong on this ? 1.0 * 6 + 1 = 7 ?
"I am trying to understand the string constant pool , how string literal objects are managed in constant pool , i am not able to understand why I am getting false from below code where s2 == s4"
"In my program , I want the user to : pick/open a database ( like Access ) on their ownpick a table from the databaseselect column ( s ) from the tableIn my code , I have a class that does something like this : And this results to a very big block of code . Is there a cleaner , simpler way to do this ?"
"I am new to Java and am currently writing a program that takes use-entered arguments for delimiters of a text file containing sentences , and then determines the number of sentences within that text file based on the provided delimiters . When running my Main.java I want the user to be able to do the following ( where -d is the flag for delimiter and the characters following are the delimiters ) : java Main -d ! ? . or java Main -d . ? Or any other combination . My questions are : Is the best way to store the delimiters as a string or array ? How do I cleanly tell my program to use the delimiters being passed ? Currently my program does the following : Checks to see if a word ends with any of the delimiters specified . Like : But instead I would want it to be something like : I hope this makes sense and I can provide any further clarification if necessary . I tried searching but did not find my specific question . Thanks !"
"I 've tried the following source code on my laptop ( Oracle HotSpot JVM , JDK 1.8 , 64 bits ) : Then I decompiled the source code in IntelliJ IDEA Community 2019.1 to get following content : And I 've got answers : I already know that integer assignment from a primitive number to the corresponding reference number will be automatically boxed . And the cache will be used if the number is in [ -128,127 ] , which means the results of lines 4 , 5 , 6 , 7 , 9 are reasonable.However , I 'm very curious about how Java handles the comparison between a reference number and a primitive number on line 8 ? In other words , how are primitive numbers actually stored in memory in Oracle HotSpot JVM ? I have n't found any help so far . Any suggestion will be appreciated.Updated 2019-04-02 19:25:24 : I 've tried to show the addresses of Long.valueOf ( 129L ) and 129L as follows : I got the following information : They are obviously different objects , even if it seems like they are the same primitive number , 129L ."
I have two interfaces in Java ( version 8 ) which are very similar.I can not change the interfaces and can not change the classes which implement them.Now I have a function that its implementation fits both interfaces ( almost ) .I want it to do something like that : I do n't want to use inspection because this function is on the main pipeline of my program.I want it to have good performance.Is it possible to do this in Java ? Edit : A simple solution will be to copy/paste foo ( ) and implement it differently for each interface.But in reality foo ( ) and the interfaces are much longer than that and I 'm trying to avoid code duplication .
Can someone explain why setting x to 150_000 or 4_000_000 or even 2_000_000_000 does n't change execution time of this loop ?
I understand that the main purpose of labels is to use them with break and continue to alter the usual behaviour of the loop . But it 's possible to label every statement that is not a declaration.Is there any purpose to labels like LABEL1 since it 's not allowed to break LABEL1 ?
"I am looking for simple way to connect information about requirement/release and source code.The case is that developer should be able to find any artifacts created given release or CR in easy way.The idea I have is to introduce some new annotation to mark any new class ( I am not sure if it is good for any new method ) for example : Do you have any other ideas ? Maybe you use already something similar ? Take care , Marcin"
"Benchmarks are run under intel core i5 , UbuntuI 'm comparing performance of Collectors.counting and Collectors.summingLong ( x - > 1L ) . Here is the benchmark : I got the result that Collectors.counting 3 times slower Collectors.summingLong.So I ran it with -prof perfnorm with 25 forks . Here is the result : What I noticed is this : branches , instructions , cycles differs almost 3 times . Also cache operations . Branches seems well predicted , also not too much cache misses ( only my opinion ) .So the issue might be with the compiled code . Ran it with -prof perfasm ( too long to put it here ) .In compiled code I noticed the following : I. Collectors.summingLong assemblyWe have 3 loops iterating through the array and counting . First counts just one elementSecond counts 4 elements for 1 iteration ( Is that loop unrolling ? ) and also exit after the first one . And the third counts the rest of elements.II . Collectors.counting assemblyWe have only one loop counting all elements one-by-one ( not unrolled ) . Also we have inlined boxing conversion inside the loop of the result of counting . Also we seem to have not inlined boxing conversion inside the loopwhich seems performs boxing of the 1L provided in lambda e - > 1L . But this is not clear why . When performing the actual addition we have this code : Also , we store the result of counting inside the stack mov % r10d,0x10 ( % rsp ) instead of the heap like in the first case.If my undersatnding of what 's going on is correct I haveQUESTION : Is that loop unrolling with boxing conversions caused 3 times slowdown ? If so , why did n't runtime unroll the loop in the counting case ? Notice that Collectors.summingLong has 2.5 more GC pressure than Collectors.counting . This is not quite clear ( I could only guess that we store intermidiate values in the stack in Collectors.counting ) ."
"I have a network associated storage where around 5 million txt files are there related to around 3 million transactions . Size of the total data is around 3.5 TB . I have to search in that location to find if the transaction related file is available or not and have to make two separate reports as CSV file of `` available files '' and `` not available files '' . We are still in JAVA 6 . The challenge that I am facing since I have to search in the location recursively , it takes me around average 2 mins to search in that location because of huge size . I am using Java I/O API to search recursively like below . Is there any way I can improve the performance ?"
"The question pretty much states what i 'm asking for.I have an algorithm and I was wandering what is the better approach to achieve ah 'Big-Oh ' running time - through a graph and plotting the number of input against the running time , or through asymptotic analysis ? For my graph I 'm currently using : What 's the difference between both methods of 'measuring ' the running time of an alogrithm ?"
"I have the following classThat way I can detect any attempt to modify myAttr . Well , almost any . It does not work when someone modifies myAttr using Field.set ( ) method . How can I trap Java reflection usage ?"
"I have been making a hangman game to teach myself Java . I 've got in the main body of the frame.I 've got : And I 'm using : ... throughout the project each time the frame is updated , new letter guessed , incorrect guess , new game.When the application first runs JOptionPane.showMessageDialog ( null , `` Repainting '' ) ; pops up , so I know it 's been called then . Following that , the `` Repainting '' pop up does n't appear any more , so I know that the repaint ( ) ; calls are doing nothing . I know the code is getting to the repaint ( ) ; calls , as I put a JOptionPane.showMessageDialog before and after them.I 've tried with no luck : removeAll ( ) ; revalidate ( ) ; getContentPane ( ) .repaint ( ) ; Any hints and tips for this would be much appreciated.Edit : I 've tried it as you recommend , putting the code in `` paint '' , think this is how I had it before , and it 's still not working . Thanks though ."
"In Java this is the case : What I 'm wondering is this : Is the fact that x is limited to the scope of the if-statement just a feature of the Java compiler , or is x actually removed from the stack after the if-statement ?"
"The question is easy but I 'm not sure it 's possible to do it ... if we have a class like we can see that it 's just simply a class with a private member and a setter/getter.The interesting thing is , to allow method chaining , the setter is returning this.So we can do things like this : The problem here is when I try to extend that class add some functionality implementing an interface like thisIt seems ok , until I start using it like thisBecause setFoo is actually returning an instance of A , not an instance of B , and in A methodI does n't exist ... Any workaround ? Thanks.By the way , I just wrote a basic code simply to understand , but if you want to know more , I 'm just trying to extend the some of the basic classes of libgdx ( like Math.Vector2 , Math.Vector3 ) to implement Poolable ."
"I just stumbled over a phenomenon in my code which comes down to this : I have an OSGi Declarative Service providing two service interfaces configured as follows : In my code , I have two different threads which both open a ServiceTracker to get the service instance , but via different interfaces : So one thread uses IRedactedStore as service class and the other uses IRedactedStoreControl as service interface.So what seems to happen is that when both threads run in parallel at the right time , the Equinox SCR will instantiate not one ( as I would expect ) but two instances of the component implementation class.Is this behavior correct ? Or is this a bug in the Equinox implementation of OSGi ? If the behavior is correct , can I do something in my code to prevent that by configuring the service another way ? ( of course I could restructure the service so it only provides one interface , or I could synchronize the service trackers ... )"
"The below Java code prints two arguments when I pass ! clear as input as shown below.Output : UPDATEUsing any linux command in place of clear produces the same result . I am aware that this has got something to do with history expansion in bash and I can escape the ! character to solve this issue . However , I am curious to know the exact reason why this code prints the above two lines as output . Could somebody please explain ?"
"I have this piece of code : So basically , this is a time-out function and the time-out is refreshed by another condition . My issue is that the x > = RaftNode.limit condition keeps triggering even though it is false ( through the print statements ) .My console outputs : So x is indeed the current time , but even though it is less than the limit , the condition is being triggered.I have no idea why ! The limit var isso nothing fancy here"
If a class has two synchronized methods : Will invoking these two methods in one line cause a deadlock ?
"I have the following model:1 RepositoryDTO can have many ResourceDTOs , and in each ResourceDTO is exacly one TeamDTO.So to get the TeamDTOs from the RepositoryDTO , I am doing the following : I 'm just wondering is there a better idiom for doing this , maybe using Google Guava ?"
"In my program I need to track list of opened connections to some HTTP server - in order to disconnect them at once if needed.I faced the following problem . If I connect to HTTP server everything works perfect , but if to HTTPS , then connections are not removed from the list . It leads to memory leak.Example : If URL points to `` http : //www.example.com '' then `` Result of removing = true '' .But if URL points to `` https : //www.example.com '' then `` Result of removing = false '' .I do n't understand such a behavior . I have some assumptions , but not not sure ... Can anybody help ?"
I was just exploring java reflection API and i encountered following code snippetOutput : I read the documentation of the set method which states that it sets value of the field for the given object . But i am not able to understand the output of the code because it should print 42 in all the cases.Can anyone please give insight into what is happening in the code ?
"User Detail model : I 've a ArrayList of user informationI 'm trying to iterate through the array and find out if there are any duplicate entries based on userName , from the above list I 've two records with same user name `` Robert '' , in this case I want to add up the userSalary and remove one record from the List.Expected new ArrayList : Is this possible ? ?"
"I have a library which parse URLs and extract some data . There is one class per URL . To know which class should handle the URL provided by the user , I have the code below . } The problem is users are requesting more URL to be parsed , which means my switch statement is growing . Every time someone comes up with a parser , I have to modify my code to include it . To end this , I 've decided to create a map and expose it to them , so that when their class is written , they can register themselves to the factory , by providing the host name , and the extractor to the factory . Below is the factory with this idea implemented . } And the user would use it that way : } I was patting my own back when I realized this will never work : the user classes are not loaded when I receive the URL , only the factory , which means their constructor never runs , and the map is always empty . So I am back to the drawing board , but would like some ideas around getting this to work or another approach to get rid of this pesky switch statement.S"
"I have the following code , it is a toy code but makes possible to reproduce the problem : When I run this code over and over again , it will usually run without any exceptions and will print some number.. However from time time ( 1 out of 10 tries approximately ) I will get an exception akin to : I am pretty certain it has something to do withIf I change this part as follows , I never get an exception : I am thinking computeIfAbsent is still modifying the valueKeyMap even after all threads are finished . Could someone explain how come this code is failing randomly , what the reason is ? Or is there a totally different reason I am unable to see perhaps and I am wrong in my assumption that computeIfAbsent is to blame ?"
"I have a JPanel which includes a JComboBox . I am trying to take a screenshot of this panel when JComboBox is open . But I could n't do it . Any idea ? If you run this code then press Alt-P when combo is open , you will see the problem ."
"When following code is run it prints `` X.Q '' instead of `` A < T > .X.Q '' as required by the language specification . Can some one help me understand what will be the output of this program , as per my understanding it should be `` A < T > .X.Q '' instead of `` X.Q '' , Please correct me if i am mistaken some where"
"In java , I can initialize an array with predefined content either by : Or by : Essentially , is there any difference between these two ways ? Are they completely identical in Java ? Which way is better and why ?"
I know this is n't a good question to ask and I might get cursed to ask it but I can not find any place to get help on this questionBelow is a Generic class that appeared in my interview question ( which I have already failed ) . The question was to tell what this Class declaration is doing and in what circumstances this could be used for ? I have very limited understanding of Generic programming but I understand that 'T ' is Type and 'extends ' here means that the Type should have inherited 'SimpleGenericClass ' but I do not understand the ' ? ' at the end and in what circumstances this Class could be potentially used for
"I was messing around with stuff in my eclipse when , to my surprise , I found that this piece of code when run gets terminated without any error / exceptionwhile his piece of code keeps on executingEven though both ought to be infinite loops running for ever . Is there something I 'm missing as to why the first code snippet is terminated ?"
"Today I was making a Tetris clone in Java , and when time came to implement the block spawning mechanism , I wrote this switch statement that takes an enum . I 've been told to avoid switch statements when possible , but I 'm not sure if avoiding one here is possible unless I completely overhaul my original inheritance based design choice.To implement the different type of blocks , I decided to make an abstract super class called Block and make a child class for every specific type . I also made an enum that marks a block 's type . For instance , a ZBlock extends Block object would have Type.ZBlock enum assigned to its Type field variable.When I starting thinking about ways to not use a switch statement here , I could n't think of anything other than getting rid of all of my child classes and programming the behaviors of the different blocks in a single non-abstract Block class . But it might become a mess since the different blocks have different shapes and wall kick data . So is the switch statement an ok choice here ? If not , how can I improve my code and why ?"
"I try to save an entity with spring data mongodb repository . I have an EventListener that cascades saves.The problem is , that I need to save an entity to get its internal id and perform further state mutations and saving the entity afterwards.I have an index on a child collection of foo . It will not update children but will try to insert them twice which leads to org.springframework.dao.DuplicateKeyException.Why does it not save but tries to insert it again ? Related : Spring Data MongoRepository save causing Duplicate Key errorEdit : versions : mongodb 4 , spring boot 2.3.3.RELEASEEdit more details : Repository : Entity : CascadeMongoEventListener : Edit : expected behaviourFrom the docs in org.springframework.data.mongodb.core.MongoOperations # save ( T ) : Save the object to the collection for the entity type of the object tosave . This will perform an insert if the object is not alreadypresent , that is an 'upsert'.Edit - new insights : it might be related to the index on the Bar child collection . ( DbRef and Cascade lead to mongoOperations : :save being called from the EventListener ) I created another similar test with another entity and it worked.The index on the child `` Bar '' entity ( which is held as collection in parent `` Foo '' entity ) : update : I think I found the problem . Since I am using a custom serialization/deserialization in my Converter ( Document.parse ( ) ) the id field is not mapped properly . This results in id being null and therefore this leads to an insert instead of an update.I will write an answer if I resolved this properly ."
"Using python 's ctypes , it 's possible to specify a pointer that takes a type : With JNR , it looks like this : However , is it possible to type the names field as a Pointer to a String ?"
"If I add my lib to the project , and run command : why does com.github.kolyall : utils:1.0.4 lib get the com.android.support : appcompat-v7 lib ( and others ) with runtime scope in CompileClasspath ? If their scope is supposed to be runtime , why are they added to CompileClasspath ? Output is : Full output is : app.gradleHere is *.pom file from my lib :"
"I have seen this cod , why it works please ? It is compile in java , I think new is a reserved word"
I have this piece of code that I wanted to refactor to Java 8After refactoring this simple loop it seems like too much code ... am I using CompletableFutures correctly ?
"I am trying to write a program which should consume memory of a specific size . An issue I am wondering of is that I am getting outOfMemory exception when there is actually a free space in the heap.Here is the code : The command to start it : And the output : Well the difference between max memory and total memory is 774mb , which should be enough to consume 100mb more , but still there is the error , and even the machine resources are sufficient enough : Why can that be ?"
"I found the following code , which adds an item under certain circumstances ( if its not OLD ) to a list . This list get 's packed in a common controls list afterwards.I tried the following refactoring using java8 streams : The problem is the map method ... What can I do in the continue cases ? return null ? I could then filter null Values from the stream viaIs the use of Optionals an option here ?"
I am interested why boolean logical | is used here . Why not to use conditional short circuited || ?
I need a Java stream operation to test if two sets have at least 3 common elements.Here is my Java 7 code that works fine : How can we do that with Java stream operations ?
"I use a Neo4J database with nearly 500k nodes . When I startup my Spring application and do the first query , it takes about 4-5 seconds . This happens just for the first query , so I thought I could do a warmup after spring is initialized to make all subsequent queries faster.This is my applicationContext.xml : I saw that one way to wait for Spring beans initialization was to implement an ApplicationListener , and the regular way to warmup the database with Neo was to call the apoc.runtime.warmup ( ) function , so I did as follows : This one did n't work , everything gets correctly logged but the first neo4j query is still slow.Since this approach did n't work , I edited the executeTestSelect method to run a real query and process the results like this : This time the startup takes 4-5 seconds just to execute the query , but then it prints Neo4j cache done . Processed 0 nodes.This is weird , because the exact same query run when the app is fully initialized returns 450k nodes.What am I missing ? Is it possible that when reaching onApplicationEvent the Neo4j DB has n't been initialized yet and ca n't execute queries ? How do I correctly warmup a neo4j database right after the complete spring app initialization ?"
"I know it has to be a lot of effort to go through people 's code , especially mine since it 's so long and amateurish , so I did my best to comment out all my code to try to explain what I 'm thinking . The hangman game is pretty much refined , and I am just trying to have it print the blanks but with guessed letters filled in.So for example , the secret word is javaI guess joutput : j___my code actually gets that far , but for any more guesses the output is just : ______My question would be essentially , how do I get that for replacing loop to actually keep working after the first time ? Again , I want to thank everyone that answers in advance and again when I read them tomorrow morning ."
"I know arrays are faster at getting and setting , while LinkedLists are better at adding and removing elements , but what about when iterating ? A more `` traditional '' for ( i=0 ; i < intList.size ( ) ; i++ ) would definitely make LinkedLists slower since you 'd have to get the element at index i every time . But what if I use for ( int i : intList ) ? How does it work under the hood for this instance ? For example : I imagine that there 's no need to get an specific element when going through the whole List , so it should be possible to have some sort of loop implementation where performance is about the same . Though I do n't know how exactly how for is implemented for this example so I ca n't be sure if this is it ."
"I was wondering if it is possible to have something like this : so you can call the class likeWith Object 0 , 1 and 2 different types , like Integer , Float , String and so on . Is this possible , or would I have to write a class for each lenght of generic types ? If this would be possible , how would I handle the different types ?"
"I have a String which can either be of Double or Integer type or some other type . I first need to create a Double or Integer object and then send it over to a overloaded method . Here 's my code so far ; I 'd like to do this without if/else , with something like this ; The problem is 'theClass ' still ca n't be cast to either double or int . I would be gratefull for any ideas.Thanks.Found a related thread ; Overloading in Java and multiple dispatch"
"I have a pretty basic PushNotification code that should open an activity when no URL is present , and open an URL when there is one . But it does n't open the URLs when the notification is received . Code belowAnd I am sending the notification like this : Inspired by other threads , I have : Tried to set Uri.parse ( `` http : //www.google.com '' ) , to check if it would open www.google.com in any conditions , but it does n't work.Added sendNotification ( title , message , click_action , uri ) ; . Did n't workRemoved the if conditions and set only intent = new intent ( Intent.ACTION_VIEW ) ; intent.setData ( uri ) ) ; . Did n't workReplace the ACTIVITY from click_action with an URL . Did n't workAdded an extra line with startActivity ( intent ) In my Manifest , I have : What it does right now is to open this MAIN_PAGE . Is there something else I need to add in the Manifest for opening a link ? EDIT : I have just discovered that I needed `` link '' instead of `` uri '' in Postman . Still , this did n't solve the problem . By looking at Logcat with the app running in the background , I have this when I click on the notification : When the app is opened , when I send the notification , it shows this :"
"I am using a Map < String , Optional < List < String > > > . I am getting an obvious NullPointerException because the result is null for that key.Is there any way to handle the null situation ? I am trying to avoid a if-else check for null by using Optional ."
"This is the implementation of map ( ) method : When I call map ( ) like this , what is the type of T and U ? What is the type of wildcard ( ? ) ? It is very confusing.Javadoc statement says : @ param < U > is the type of the value returned from the mapping function . Does `` mapping function '' mean map ( ) method or argument of the map ( ) ?"
"The following code prints `` String '' Why does that code compile ? Is n't null ambiguous ? For example , the following code will NOT compile because of an ambiguous signature.Can someone please explain why the first example can compile without having ambiguous errors ?"
"I 'm experimenting with parallel streams in Java and for that I 've the following code for calculating number of primes before n.Basically I 'm having 2 methodscalNumberOfPrimes ( long n ) - 4 different variantsisPrime ( long n ) - 2 different variantsActually I 'm having 2 different variants of each of the above method , one variant that uses parallel streams and other variant that do n't use parallel streams.I 'm trying to reason out which amongst calNumberOfPrimesPP , calNumberOfPrimesPNP , calNumberOfPrimesNPP and calNumberOfPrimesNPNP is the best in terms of proper usage of parallel streams with efficiency and why it is the best.I tried to time all these 4 methods in 50 times and took the average using the following code : TimeIt.timeIt simply returns the execution time in milli-seconds . I got the following output : Now I 'm trying to reason about the above execution times : The PP variant is not as fast as PNP variant because all parallel streams use common fork-join thread pool and if we submit a long-running task , we are effectively blocking all threads in the pool . But the above argument should also work for NPP variant and so the NPP variant should also be approximately as fast as the PNP variant . ( But this is not the case , NPP variant is the worst in terms of time taken ) . Can someone please explain the reason behind this ? My questions : Is my reasoning correct for the small running time of PNP variant ? Am I missing something ? Why NPP variant is the worst ( in terms of running time ) ? How TimeIt is measuring time : PS : I understand that this is not the best method to count the number of primes . Sieve of Eratosthenes and other more sophisticated methods exists to do that . But by this example I just want to understand the behaviour of parallel streams and when to use them ."
The pattern works fine but how can I catch/get my groups ? At the moment I get only Strings .
"I 'm working on a project that has hosts and clients , and where hosts can send commands to clients ( via sockets ) .I 'm determined that using JSON to communicate works the best.For example : In this example , when this JSON string is sent to the client , it will be processed and a suitable method within the client will be run as such : And using the ClientProcessor : The JSON is sent by the server to the client , but the server could be modified to send different JSONs.My questions are : Is this a safe way of running methods by processing JSON ? Is there a better way to do this ? I 'm thinking that using reflection is terribly slow ."
"It 's hard to explain in words , but Java Generics are given me an unexpected result . I expected that if I say a list is of type ? extends Object , I could store anything in there . Therefore , if the list of of type Wrapper < ? extends Object > , I could store any kind of Wrapper in there . And so on . That makes sense to me . But let 's assume we have : And I want something like : Note that this gives me an error : But if I wrap the Wrapper in a secondary Wrapper ( rs ) , then : Note that it is the same thing ; this make no sense to me.PS . In my case , I 'm not making a wrapper wrapper , but a ThreadLocal of a generic class ."
"I came across a code snippet inside the androidx.lifecycle package and I was wondering what does this means.Where mActiveCount is an int , and mActive is a boolean.But , as I was writting this question , I think I came with the answer , so if I 'm not mistaken the `` += '' operator , is used as we normally use the `` = '' operator.This means that the order in which the code executes is the following : the mActive ? 1 : -1 ; portion executes first.Once this is resolved , the LiveData.this.mActiveCount += mActive executes . So my real question is : Is this the correct equivalence of this code ? :"
"The following code : produces the output : 8In the javadocs , it is written that we can not put underscoresat the beginning of a number as in the example int x5 = 0x_52 ; , which produces the error illegal underscore.However , in this code , 0 is the prefix for octal numbers , as we can see that the output is 8 . But the error is not produced.The value of i is 8 , which means that 0_10 is an octal number , and 0 is the prefix.But 0_10 does not produce the illegal underscore error , which implies that 0 is not the prefix , but a part of the number.Why does it not produce the error ? Does java treat it partially as octal , and partially not ?"
"To speed up my debugging , I color certain messages for instant spotting , like this : It works , but viewing this source code over and over again , where the only justification for occupying 4 precious lines is one different character only ( Log.i vs. Log.v ) is an eyesore for me.Any suggestions for avoiding this eyesore without resorting to the following ?"
I was wondering why this piece of JAVA code produces a different output than the same code in C++.This produces the output : The JAVA code is : This code produces only Why is this output different in this case ?
"I 'm trying to refactor the following code : Naturally , I want to remove the repetition in this code to save myself from typing even more of the same lines when new properties are added , but I can not quite figure out how to do that.My first instinct was that it looks a lot like this code ( which , unfortunately , does not compile ) : I ca n't obviously `` fix '' the above code by calling accessor.apply ( this ) instead of accessor.apply ( super ) , because that would cause a Stack Overflow error.Closest I managed to come up with so far is using bound suppliers , like this : However , that is two times as many references to same method than I 'd like to have in ideal world . So , I would like to know if I 'm missing something , and I can still somehow fix the version which uses Function < Base , T >"
"I have a regular expression to extract two tokens , delimiters [ ' ] and words between apostrophes like 'Stack Overflow ' . The question is , why this regular expression does n't work ? Regex : Here is a link to explain it : Regular ExpressionOnly works extracting apostrophes but , words between apostrophes no.NOTE : I need to extract apostrophe and any word between apostrophe by separately like 'Stack Overflow'.The result would be like : 'Stack Overflow'Greetings ."
"I need a per-key locking mechanism for protecting key-bound critical sections.Although a ConcurrentMap < K , Semaphore > would suffice for concurrency , I also do n't want the map to accumulate old keys and grow indefinitely.Ideally , the data structure will eventually ( or straight after ) release the memory used for keys to which the locks are unused.I 'm kind of thinking Guava 's Cache built with weakValues ( ) would do the trick : Are there any reasons why this might not provide sufficient concurrency control ? Or reasons why this might not result in unused pairs being garbage collected ?"
"I need to get all possible combinations of 5 objects from set of 7 objects . Combinations without repetition ( the order of selection does not matter , that 's the same objects selected in different orders are regarded as the same combination ) .I have implementation , it works properly and produces the correct result : Output is correct : 21 right combinations has been found.But it uses a bitwise operators and in my assessment it 's not very readable , maintainable and extensible . I 'd like to refactor or completely rewrite it to a more flexible and understandable object oriented approach . I 'm very interested in how this could be done using OOP and recursion.I do not use in my project Google Guava , Apache Commons or CombinatoricsLib . And I 'd not want to include the whole third-party library for only one method . I was searching on the site for similar issues , but have found only good clear permutation implementation : https : //stackoverflow.com/a/14486955These cases have a somewhat similar meaning , but order of objects does not matter for me , in my case they 're considered the same combinations and should not be calculated ."
"I haveAndOutput : [ C @ c17164MustangOutput : Shelby'sI 'm not understanding why I get the weird output when I concatenate the char array with a string . What is the `` [ C @ c17164 '' ? The location in memory ? And why do I get that when I concatenate with a string , but I get what I would expect when I print it alone ?"
"I assumed that separating objects that implement different interfaces into several lists and iterating those lists afterwards would be faster than dumping all objects into a single list and then switching via instanceof . E.g . this : should be faster thanHowever it does n't seem to be the case : I added full source for the benchmark below.What could be the cause of instanceof version being faster ? Even if we assume that isntanceof instruction is free , then both versions should at least be equal in performance ( because they still add elements to list and iterate them ) .Benchmark output : UPDATE : Below is the benchmark code and results with array setup code extracted into separate methods and removed from the measurement . instanceof is slower for that case , as expected - above differences are probably related to branch prediction issues in the list setup . ( while those are interesting too , they probably should go into separate question ) And the results :"
"I come here with a problem I would like to share , I hope anyone can help me to solve this . I 'll try to describe the problem as clear as possible . The problem is as follows.I have a program in java , with a method that receives a set of dates ( java.util.Date ) .In the example above , we have three dates , where the first two intersect , but start-date3 is after end-date2 . For my business rule , here 's an space of time.Now consider the next scenario.In this case , even when there 's an space of time between end-date2 and start-date3 , it 's considered that it does n't exist a space of time , because the time between start-date4 and end-date4 covers such space.I would like to retrieve true , if there 's one or more spaces of time , otherwise I will return false.The only way I 've tried is loop every start/end relationship , comparing end-date1 vs start-date2 vs start-date3 and so on ... that 's not what I would like to apply.If there 's some other ideas , they are all welcome . If you need more information , I 'll add it . Thank you ."
I 'm quite inexperienced in making GUI 's with Swing and now I 'm wondering if its possible to use `` { `` and `` } '' just to subdivide my code a little bit e.g.I tested it and I do n't think it made any difference ... Am I wrong ? Thanks in advance
"BackgroundI have a large data map ( HashMap ) , kept in memory , which is updated incrementally ( based on incoming messages ) , by the background thread : End users will then query it via the REST API : Updates are not applied immediately , but in batches , once a special control message is received , i.e.The architecture I devised , is as follows : The questionTaking that write- > read to the volatile field makes a happens-before edge : A write to a volatile field ( §8.3.1.4 ) happens-before every subsequent read of that field.https : //docs.oracle.com/javase/specs/jls/se7/html/jls-17.html # jls-17.4.5and the grace period is chosen correctly , I expect that any updates applied to the passiveCopy ( via putAll ( ) ) , will become visible to the end-user requests ( all at once ) , after the swap.It is really a case , or there are any corner-case which will make this approach fail ? NOTEI know that creating a copy of the Map ( so that a new Map instance is assigned to activeCopy an each time ) , would be safe to do , but I do n't want to do this ( as it is really large ) ."
"I am planning to get list of methods defined in one package ( CommonPackage ) called by a class defined in another package ( ServicePackage ) . For that , I need a to crawl a given method code and get the methods called outside of this class . I have researched the Java reflections and was not able to find any solution for this . I also went through How to get the list of methods called from a method using reflection in C # and was not able to find any conclusive solution for JAVA specifically.Expected : For ClassA.MethodA1 , we get the list of methods called inside it . Output : ClassB.MethodB1"
"I am trying to make a system for responding to events that happen in my application , similar to the Observer pattern . In my system , EventProducers trigger events and EventConsumers respond to those events , and the two are connected through a central hub : For the moment , I 'm going to ignore EventProducer and focus on EventHub and EventConsumer : The problem lies in the declaration of the HashMap : I want to be able to do something likeSo that the EventConsumer is parameterized by the same type the Class is , but the closest I can get isBut then this would allow things like a HashSet < EventConsumer < MouseClickEvent > > being assigned to Class < KeyPressEvent > , assuming both KeyPressEvent and MouseClickEvent subclass Event.A second problem is in subscribeToEvent : I need to be able to store the consumer in the correct set corresponding to its event , like inbut I can not get the class of E at run-time.How can I solve these problems ? Am I going about this the wrong way ?"
"My question is : Given a list of persons , return all students.Here are my classes : Person classStudent classMethodI 'm getting a compile error : incompatible types : inference variable T has incompatible boundsHow do I return all the students from the list using stream without getting this error ."
"Lets say I have And I have a list of AnimalsUsing Guava FluentIterable I can filter and convert in one stepUsing Java8 I need to doThere is no way I can make the filter & map in one step , right ?"
given this code snippetWhy is that num.add ( doub ) will not be allowed ? is n't List < List < Number > > a super type of List < List < Double > > ?
"I 'm writing code to use Win32 API to detect a java 's version . E.g.Basically , I 'm following MSDN Creating a Child Process with Redirected Input and Outputhttps : //msdn.microsoft.com/en-us/library/ms682499 % 28VS.85 % 29.aspxThis is the pseudo client code : I can get the result as : However , the result is sent back from stdErr , while I though it should return from stdOut.Does it make sense to receive the string from stdErr ?"
Given is the following Java code example : Is it guaranteed by the Java Language Specification that getSomething ( ) is invoked after the somethingElse ( ) method or is a Java implementation allowed to reorder the execution ?
"I 'm looking at some notify/wait examples and came across this one . I understand a synchronized block essentially defines a critical section , but does n't this present a race condition ? Nothing specifies which synchronized block is entered first.Output per website : Waiting for b to complete ... Total is : 4950"
First of all Sorry For this question . this is very old topic.Yes i did lots of search that java is pass by value.But by my program show that out put . i ca n't understand why ? My program is Output isOldDogNewDogNewDogbut i am expectingOldDogNewDogOldDogPlease anybody tell me where i am thinking wrong .
"I would like to flatten a HashMap instance like in this example . Note that the data is not in JSON format , this is just a pseudo code : Unfortunately , I could n't find any reference implementation for that so I came up with my recursive solution shown below . Is there a better way ( in terms of not using recursion or performance or safety or cleanliness : ) ) to achieve this ? The output should be another HashMap in flattened form.I will use the result for this kind of purpose https : //redislabs.com/redis-best-practices/data-storage-patterns/object-hash-storage/"
"I have a problem while creating a with a default value contained in my current object.The value is correctly set in the field , but when I submit the form , the default value is still there , even if the user chose another value in the list ... Here is my controller : And here is my JSP : For instance , if i choose `` Admin '' in the select list , i 'll get `` HelpDesk , Admin '' in the property `` group '' of my user after submitting the form ... What am i doing wrong ? Thanks for your help !"
"I have a couple of questions about instances of the class Class1 ) Do I understand correctly that say for the class Dog there is only one instance of the class Class . In other words , given the following linesthere is only one instance of the class Class - Class < Dog > .If you compare these references with == , you get that they are the same object.The question exactly is , will getClass and static .class always return the same instance during one execution of a main method ? 2 ) When exactly are these instances created ?"
"I have a Reactive Springboot application using Spring WebFlux . I 'm trying to connect to my /var/run/docker.sock Unix Domain Socket to query some information.From my terminal , I am able to fetch all running containers using the following command.I am following the Project Reactor guide , found here to create an HttpClient for Unix Domain SocketsMy test code is as follows.The HttpClient is created like this.When making a request , I get the following error.Digging into the error a bit , the error is coming from the following line within io.netty.channel.unix.Socket.java ( line 230 ) res is getting a value back of -22 , which translates to the `` Invalid Argument '' in the stacktrace . I have verified that my user is correct , and has the proper 'rw ' permissions to /var/run/docker.sock ( my user is in the docker group ) .What am I doing wrong ? I tried changing the paths around . I tried a socket address of unix : ///var/run/docker.sock , which results in Address family not supported by protocol.I also tried changing the DomainSocket URI to something that does n't exist such as /var/run/test.sock which also results in -22 Invalid Argument.I added the jvm argument -Djava.net.preferIPv4Stack=true . It still does n't work but it seems like the original -22 error has gone away . I am now facing -97 Address family not supported by protocol : /var/run/docker.sock"
"Why is in the first case SomeClass only instantiated once , but in the second case n-times , where n is the number of elements in the stream ? The method `` method '' in this case return the object itself ( = return this ) .So in the first case the list contains only one object , but n-times . In the second case the list contains n-different objects.For reproducing the issue : main : and SomeClass.java :"
I 'm attempting a simple regex execution . Essentially I want to determine if I 've got special characters in my string and if so check each character of the string for two specific characters i.e . hypen and dot.I seem to be having a problem in the first bit which involves determining if I 've got special characters in my string.Below is my method which I attempt to do this followed by the strings I 'm having issues with : Below are strings I passed to the method which I expected to be considered as strings with special characters but the test failed : Below are strings I passed to the method which I expected NOT to be considered as strings with special characters but the test failed : Any suggestions are appreciated .
"I have the following function that itterates over an array , calls a method on each 'Refund ' object that returns a BigDecimal that contains some value e.g . 20.45 : The problem is that it always returns ' 0.00 ' . I know for a fact that the array that I 'm passing is not null , and the values that their 'getAmountPayable ( ) ' function retuns are also not null or equal to 0 . I do n't know if I 've been staring at this for too long and I 'm missing the obvious , some help would greatly be appreciated . PS - 'getAmountPayble ( ) ' return a value of type BigDecimal"
"I 've been struggling reading the javadocs to determine how to use lambdas to elegantly combine a list of rows of one type into a grouped-up list of another type.I 've figured out how to use the Collectors.groupingBy syntax to get the data into a Map < String , List < String > > but since the results will be used in a variety of later function calls ... I 'd ideally like to have these reduced to a list of objects which contain the new mapping.Here are my data types , RowData is the source ... I want to get the data combined into a list of CodesToBrands : Here 's the test I 'm writing to try and figure it out ... Can anyone provide any help in trying to get this same overall result in a easier-to-use datatype ? Thanks in advance"
"One can load a class dynamically using this method of java.lang.Class : According to the JavaDoc , the second parameter is used to control the timing of class initialization ( execution of static initialization code ) . If true , the class is initialized after loading and during the execution of this method ; if false , initialization is delayed until the first time the class is used.Now , I understand all that , but the docs do n't say how to decide which strategy to use . Is it better to always do initialization immediately ? Is it better to always delay it to first use ? Does it depend on the circumstances ?"
"I 'm trying to understand this regex , can you help me out ? I do n't really understand the meaning of DOTALL : ( ? s ) why the double \\ before } ? what does this exactly mean : ( .+ ? ) ( should we read this like : the . , then + acting on the . , then ? responding to the result of .+ ?"
"I am counting votes for electronic election and I have only one party in my initial version . There will be different threads per voter and the threads will update the votes count of a given party.I decided to use ConcurrentHashMap , but the results are not what I expected ... The result is different every time - it ranges from 114 to 116.Is n't ConcurrentHashMap supposed to be synchronised ?"
"The answer to this question explains the cause for the ambiguous constructor problem , but if I actually want to construct a third-party object which contains such constructors , and I want to pass the argument to be null , can I construct the object anyways by somehow telling java which constructor I mean ? In particular , in this example : Suppose I want to actually construct a new Example ( null ) using the first constructor . Is there some syntax that will allow me to do this ?"
"Consider the following : Notice that java.lang.Class does not implement the hashCode ( ) method itself , but inherits it from java.lang.Object implicitly . I verified this in JDK 1.8.Is java.lang.Class safe to use as a key for a java.util.HashMap ? Will myMap.get ( Foo.class ) always return the values which I put like myMap.put ( fooObject.getClass ( ) , fooObject ) ? Consider the software to have various classloaders and serialization mechanisms . Will it still be the same result ? If not ... What would be an alternative ?"
"Why does the following code compile cleanly without any warnings , even with xlint : all ? running : results in a clean compile without any warnings ( unchecked , etc. ) . What is the type parametrization of the instance of the generic class A that gets 's created on the first line and what on the second ? And how does the compiler determine the type ? By looking at the type of the r-values ?"
"I have two models , a List < ModelA > and I want to convert it to a List < ModelB > . Here are my models : Actual solution : But I think there is a simpler solution , do you have any idea how can I do it in a single stream , or simplify it somehow ? EDIT : I want to clarify that I can not use java9 and I need to group them by Id-s then by Name . If in ModelB I have 4 elements with the same id I do n't want new instances of ModelA ."
"Example : I have some source code , FooBar.javathat gives me FooBar.class.Why does the JVM command line API take FooBar instead of FooBar.class ( working on UNIX FYI ) ?"
"One of my ES nodes has failed because of java.lang.OutOfMemoryError : Java heap space error . Here is the full stack trace from the logs : Because of the exception above , I am getting master_not_discovered_exception when I am hitting any of ES APIs.Question : Can anyone tell me the next steps that I should perform to put Elasticsearch back to normal state ? Is there a way to restart disconnected node ?"
"Please compare two ways of setting/returning an array : Both generate distinct bytecodes and both can be decompiled to their former state . After checking the execution times via profiler ( 100M iterations , unbiased , different environs ) , the time of _1 method is approx . 4/3 the time of _2 , even though both create a new array and both set every field to a given value . The times are negligible most of the time , but this still bugs me - why is _1 visibly slower ? Can anybody check/confirm/explain it to me in a reasonable , JVM-supported way ?"
"I was experimenting with a Java port of some C # code and I was surprised to see that javac 1.8.0_60 was emitting a getfield opcode each time that an object field was accessed.Here is the Java code : As reported by javap , javac 1.8.0_60 produces the following bytecode : Note that a getfield opcode was emitted by the compiler each time that the sign and bits fields were accessed.Reading §17.4.5 , Happens-before Order , of JLS8 , I am not seeing why it would be required to emit a getfield opcode each time the sign and bits fields are accessed ( other than the first time ) .Would it be legal for a Java compiler to emit only two getfield opcodes and save the then-visible values of the fields in frame local variables ?"
"I am relatively new to Android/Java . Thanks to Stack Overflow , I was able to learn a lot from the questions asked here . However , I am now stuck on this problem.I have a password input AlertDialog that pops up when we start the app . It reads the password from the EditText and compare this with the one stored in a file . I needed an extra AlertDialog which show up when an invalid/wrong password is provided . This also I implemented.Now , this second dialog has two buttons - Reset and Retry . I want the activity to show the first dialog again when we click Retry . This is where I am clueless . If anyone can provide a working solution and a little explanation , I will be very obliged.Here is my code :"
"I 've been doing some code archeology in some odd code and I came across something similar to this : The thing that struck me was that there was n't an unbounded wildcard type on Inner 's usage of the Outer type ( the < U extends Outer > bit ) .What is the implication of using Inner < U extends Outer < ? > > vs. Inner < U extends Outer > ? I can compile and run tests successfully with both type versions , but am stumped on what is going on under the hood ."
I am trying to move an object to the end of the list if it has a boolean flag set to true . The following works where I am taking the route of deleting it and adding it back . Is there a better more elegant way to do this in Java 8 ? I have to work with that boolean flag to identify if object needs to go to end of list . Please advice .
"I need to convert following : to where keys of outer map ( mapOfMaps ) are redundant ( for this operation ) . So basically , I can just use mapOfMaps.values ( ) .stream ( ) to start with.And for each map object e.g . : { `` apple '' : '' 1 '' , '' orange '' : '' 2 '' } I need to convert it to a list : { `` apple '' , '' 1 '' , '' orange '' , '' 2 '' } What is the most efficient way to do this ? Complete example : { `` 1L '' : { `` key1 '' : `` value1 '' , `` key2 '' : `` value2 '' } , `` 2L '' : { `` key3 '' : `` value3 '' , `` key4 '' : `` value4 '' } } Expected : [ [ key1 , value1 , key2 , value2 ] , [ key3 , value3 , key4 , value4 ] ]"
"Here I have two arrays of integer ( primitve , Wrapper ) type but I have got different result forinstanceof operator see the line number 2 and 4 line no 4 will compile successfully and give result true but in case of line 2 , why does it result in a compilation error ? From line 1 and 3 it is clear that the two arrays are instanceof object but in case of Object [ ] , why do the results differ ?"
"I am using QAF for my automation project . I have project specific meta-data which has group SMOKE , regression , P1 and author with x , y , z name.I want to run only `` smoke '' group and author with `` x '' or `` y '' . Is there any solution for these ?"
"My whole rest service stops working when I 'm adding this code : It does n't really say why either , all I 'm getting is : And a bunch of errors saying `` caused by previous errors `` I must have done something really wrong here , are there any proffessional JPA enthusiasts that can help me out a little bit here ? Edit : I 'm using annotations instead of web.xml , is it possible to do this without a web.xml ?"
"File name : B.javajava B.java runs without errorjavac B.java gives a compile error : class A needs to be declared in a file A.javaI understand that a java file can not have more than one public class , but why can a java file run without error using the java command when you get compile errors for the code using javac ?"
"If there are two methods like add ( int , long ) and add ( long , int ) , such call add ( 10,10 ) would be considered as ambiguity.But what if we have such example , why is it still considered as ambiguity ? ? I want to know how the compiler decided that it is ambiguity ? while ( in my mind ) it should n't because add ( short , short ) needs two steps of type promotion , and add ( byte , long ) needs three steps of type promotion .. or do I have a misconception ? ?"
"I 'm a bit confused . On the first iterations of fill loops I see some regression in filling time when using initial capacity for ArrayList vs without using initial capacity.According to the common sense and this question : Why start an ArrayList with an initial capacity ? it must be absolutely inversely.It is not well-written benchmark test , and I wonder : why on the first iteration it always consumes much more time and CPU when using initial capacity for ArrayList ? This is the test : Output:1 ) 2 ) I 've tested it on : JDK 1.7.0.40 , JDK 1.8.0.31"
"I realized today that this compiles and runs fine : The two handle methods has the same name , and same number and type ( ? ) of parameters . The only difference is that the second handle method has a stricter generic bound . IDE does not complain at all , and the code compiles fine . At run time method is selected as expected - e.g . Test.handle ( `` this is a string '' ) will call into the second method and Test.handle ( 10 ) will invoke the first one.Is generics bound considered part of the method signature ? or is it a method overload resolution magic ?"
"Out of curiosity I wrote Hello World and set a break point on my print statement.When the break point was hit , I pulled up Task Manager in windows to see how many threads were allocated by that JVM process . I was shocked to see 22 . Why are there so many threads spawned for this simple program ?"
"I have created a method to create a 128 bit UUID string , I now want to check if this is a prime number or not . I cant put the string into an int because it is too big . Can anyone suggest how I would go about checking ? This is the code I have used for creating the UUID"
"I am trying to sort an array in ascending order and I came across a problem . The code sorts the array but it takes the last number and places it in the first position of the array . So for example when ordering 2,3,4,1 the output is 4 , 1 , 2 , 3 . How do I take the number 4 and move it behind the number 3 ? Output :"
"My goal is to generate a pseudorandom String consisting of 500000 characters out of a small selection of characters . This is my loop for adding characters to the String : Unsurprisingly this is very slow , so I am looking for ways to get this to perform the > least slow < possible ."
"I have the following entity : I want to get some entities with additional column from the database.To do this I created a simple Pair class.Then I prepared a query in JPQL that creates the expected result.The query returns correct results , but there is a problem with additional queries.Therefore , I have some questions : Why does JPA work this way ? Is there any way to get this data in one query in JPQL ? How should I get the entities along with some additional data ( I 've seen the solution with returning Object [ ] but it does n't look nice ) ?"
Is this code bad practice as the method show ( ) is deprecated ? Is it okay to override here ?
"Let us have a stream of objects , resulting from a sequence of operations ( e.g . mapping , filtering , flatmapping , etc. ) . Now I want to do a certain operation on them , but only if a given predicate is true . Otherwise I want to immediately return something else.A simple example . I have a stream of different food objects . If all of them are edible I want to perform a cook operation on them and return the list of cooked food . But if any of them turns out to not be edible I want to immediately return an empty list.Few solutions come to my mind , but I am not satisfied with any of them.I could first perform an allMatch operation with isEdible predicate on the stream , but it will result in terminating it and I would need to repeat preliminary operations once more.I could persist the collection that is the result of preliminary operations before checking the edibility , but therefore I need to perform them for all elements . Which is suboptimal , because it may turn out , that the first of them is not edible and allMatch would return much , much earlier.Or I could design a hacky reduce routine , but it would also be unable to stop processing elements when predicate fails.What I hope for is something like the code below . Is it possible with current API ?"
"I remember a couple years ago I was using static initializers to call class-level setup operations . I remember it having very bizarre behaviors and I just decided to steer clear from them . Maybe it was because I was messing up the top-bottom order or being a newbie . But I am encountering a need to revisit them and I want to make sure there is not a better way that is just as concise . I know it is not fashionable , but I often have data-driven classes that maintain a static list of instances imported from a database . When I have dozens of table-driven classes like this one , this pattern is very concise ( yes I know it tightly couples the class with one source of data/instances ) . However , when I discovered the goodness of Google Guava I want to use the EventBus to update the static list when a certain event posted . I would create a static final boolean variable just to call a static method that initialized the registration . This got annoying very quickly , because the compiler would throw warnings over the subscribed variable never being used . Also , it just added clutter . So I 'm wondering if it is kosher to use the static initializer , and there really is no better way if I do not decouple this into two or more classes . Thoughts ?"
"In Java8 , what is the type of the following lambda ? ? ? That is a function that takes no arguments and returns nothing.Stated differently : What should I replace the question marks with ? In Scala , this would be a Function0 [ Unit ] I think , but I do n't find anything alike in Java ."
"I 've encountered an `` unrecoverable stack overflow error '' that I ca n't figure out . From the docs : you need to create an interface object ( of any class ) and make it known to JavaScript by calling JSObject.setMember ( ) .Here 's the Java code sharing and using the interface object : And here 's the JavaScript code using that object : It occurs if I trigger it manually like show above , or if I trigger it through some JavaScript event ."
"I have three Integer variables , where I am not allowed to change to primitive int and I need to check if at least one of them have a value greater than 0 . Is there a shorter / cleaner way to rewrite my code below :"
"I have a list of roles in a database . They are of the formSo each role has an entry based on read/write permission.I want to convert the roles into a POJO which I can then send as JSON to a UI . Each POJO would have the role name , and a boolean for read or write permission.Here is the RolePermission class : I am doing the transformation like so : Is there a way to do the foreach loop above using Java 8 streams ? This is a mock Backend instance that just returns a list of roles :"
"I have come across below strange syntax , I have never seen such snippet , it is not necessity but curious to understand itAbove code gives output as strangethanks"
"I wrote my own Stack class ( for the relevant code , see below ) . In the next ( ) -method I am forced to cast current.item to Item , but I do not know why . The type of current.item should already be Item and thus casting should not be necessary - but if I do not cast it , I get an error ."
"In this code , T can be A , B , C , or D , but Eclipse shows that it is D.Is there any rule for how type inference is done and why it selects D ?"
"I 'm trying to add specific values to a map in Java , where the key is quite complex , but the value is a simple Double.Currently I 'm using , where foos is an instance of java.util.TreeMap < Foo , Double > , and amount is a Double , code like : but this looks quite dirty in that I have to reinsert the element , and I 'm worried about invalidating the iterator.Is there a better way of doing this ? I 'm using the latest version of Java ."
Can anyone explain why there is an untyped conversion warning on y assignment line ? Note that there is no warning on either x or z assignments .
"The specific use where I thought of this problem is as follows , but it 's much more generalized.I have a custom JFrame class which also serves as an ActionListener for its components . So my constructor looks something like the following : My question is , how does this actually work behind the scenes ? If the constructor is what `` creates '' the object which is referenced by this , how can I use this before the constructor has returned ? The code compiles and works perfectly fine ( as far as I can tell ) , so the object must already `` exist '' in some sense , but I 'm concerned that this may cause unforeseen issues . Is there any danger in passing a `` partially constructed '' reference to addActionListener ( ) ( or just performing any logic with it in general ) ? Or is there some behind-the-curtain magic happening that keeps me safe ? For example , what about things which do n't have default values and must be supplied by the constructor ? If I have private final String SOME_VALUE ; declared , I understand that this should default to null , but the object is n't supposed to be fully formed until the constant is supplied a value within the constructor . So would the reference , despite being final , possibly have changing values ?"
So I have a javadoc that looks like this ( censored for the public of course ) : So the reason for this is that doing */ in my example will end the javadoc . Having the braces confuses the @ code tag.The problem is that the generated javadoc shows the HTML entities codes instead of the actual character that I want to display to the consumers of my javadoc . Any ideas on how I can get around this ?
Sir i am trying to print array 's 0th element but i can't.Here is my code when i am trying to print arr [ 0 ] its return blank but when i print arr [ 1 ] it returns the 0th element value . would you please help me to find my error .
Hello I am trying to understand the code I have written and why does it print the output belowprints meASSUME THAT the given matrix is not symmetric here . How can I modify this code to give me back saying if the matrix is symmetric or not only once .
"I 've got a problem , I 'm getting a `` Dead Code '' warning in Eclipse and I really do n't know why . The code is from my Connect Four project , to be more precise it 's from the Class that checks if somebody has won . This method checks all the horizontal winning possibilities for red . The code is the following : The game is even caused to be immediately won because of this method . What 's strange about this is that all the other methods in the class that look almost the same do n't cause any problems . Here 's the method that checks the vertical winning possibilities for yellow , to have a comparison : This one does not cause any problems . Can somebody tell me where the warning comes from ? If you need additional information please tell me ."
"I 'm writing a test class for my GiftSelector class using JUnit in BlueJ . When I run the testGetCountForAllPresents ( ) method , I get a NullPointerException on the line : The strange thing about this NPE , is that it rarely appears when I run the test once , but often appears the second time I run the test . It sometimes does n't appear until I 've ran the test 7-8 times consecutively.The error message I 'm getting is : no exception message . NPE at line 215 in GiftSelectortest.testGetCountForAllPresentsThe code for my test class is : I 've included only the test methods that reference the getCountsForAllPresents ( ) method . You 'll notice that I 've added print statements before each call to an assertEquals ( ) method containing the getCountForAllPresents ( ) method . What 's interesting is that before the line where I get the NPE , the print statement prints out the correct value for the HashMap returned by getCountForAllPresents ( ) .The only other strange thing that I 've noticed , is that when I go through the testGetCountForAllPresents ( ) method using BlueJ 's built in debugger , I notice that giftList3 does n't appear in the santaMap HashMap in santasSelector , yet the print statement still prints the correct counting , implying it must know about giftList3.The code for getCountForAllPresents ( ) is : I should explain that santaMap is a HashMap , with a Child object as key and a GiftList object as the value . It basically maps a child to their christmas wishlist . A santaMap can contain only one wishlist by the same child.I 've no idea why I 'm getting the NPE , is it something to do with how I 've written the getCountForAllPresents ( ) method ? How I 've implemented the test method/class ?"
"I 'm a newbie to Android and Java so please be nice : ) I have an EditText in my application which is used to search for a particular string in a String [ ] My code works well , but not as I want : This code produces these results : if I search for `` table is '' = > allProd_sort will be [ the table is brown ] but if I search for `` table brown '' = > allProd_sort will be empty but I want [ the table is brown ] how can I improve this ? thanks everybody"
I tried this : But I get an `` incompatible types '' error : As far as I know all enums inherit from Enum . Why is my enum incompatible to Enum ?
"Suppose you have a class that is frequently ( or even exclusively ) used as part of a linked list . Is it an anti-pattern to place the linkage information within the object ? For example : An often-cited recommendation is to simply use a generic container class ( such as java.util.LinkedList in Java ) , but this creates the overhead of having a separate node object ( and the linked object can not readily refer to its siblings ) .Thoughts ?"
"I 've come across an interesting bit of Java code that IntelliJ flags as an error , but which javac accepts as legal . Either IntelliJ is wrong , and the code is legal , or the compiler is `` wrong '' , whether due to a bug or an intentional relaxation of rules.I like to think I understand the Java type system pretty well , and my own reasoning leads me to suspect that IntelliJ is wrong and javac is right . However , I have a heck of a time grokking the JLS , and I 'd like to know for sure.Before we get into the problematic code , let 's look at some similar code that is definitely illegal : As I would expect , both IntelliJ and javac correctly flag this as an error : ' A ' can not be inherited with different type arguments : 'java.lang.String ' and 'java.lang.Object'.No problem there . But what if we make X and Y generic , with Z extending their raw form ? Here , IntelliJ eagerly reports the same error it did for the first snippet , but javac happily accepts the code as written.My understanding is that raw types are recursively erased , meaning all superclasses and superinterfaces of the original type are replaced with their recursively erased forms , and so on . Thus , in the problematic code , Z ends up extending ( raw ) A via both X and Y , as opposed to first example , in which Z extends A < String > via X and A < Object > via Y.If that is indeed the case , then I would conclude that IntelliJ is wrong , and javac is correct : the second code snippet is legal.What say you , experts of Stack Overflow ?"
"I 'm wondering whether it 's a good practice to produce the code which being used like this : Here , TemplateProcessor contains only one public method . It seems the code above can be expressed with a static method , but I would like to avoid that . The reason is simple : object may contain encapsulated state , ( maybe now , maybe in the future ) . Dear experts what would You prefer in this case ?"
"I am working on a business logic where I need to divide and multiply BigDecimal variable to produce business result but I am facing the problem to maintain the accuracy . Actual business I ca n't put here so I created a sample program and included here . I need to use only BigDecimal so I am strict to it but I am open to use any scale , mode or any thing which help me to get the maximum accuracy . Suggestions are always welcome . Sample Code"
According to information from official site I added latest depedency and started to develop.First I created model with data I 'm interested : second step was to add service : Third one was to add implementation : But there is an error : Here is full error log trace
"I need to inherit android.support.v4.view.ViewPager and two constructors . In Java , it is done by : I have searched on Google and here for a while , and some people suggested to implement this in Scala like this : The above Scala code compiles , but it it seems that the apply method is not invoked correctly when Android tries to build the view . I think that 's because when the Android framework parses the XML file and tries to create the view object , it uses reflection to find the constructor , thus it is not using the apply methods"
I am trying to save the groups in a string to an array so that I can use them in individual variables if I need to . For this I use split but for some reason I only get the full string in the first position in the array : ultimate_array [ 0 ] . If I want to use ultimate_array [ 1 ] I get an exception like `` out of bounds '' .Do you have any idea what am I doing wrong ?
"I have some code as follows : Specifically I want to take the values from the list and put them into the map . That all works perfectly . My concern though is with ordering.For example if the list has : How do I ensure that the final map contains : Instead ofThe incoming list is ordered , stream ( ) .filter ( ) should have maintained the order but I ca n't see anything in the documentation of Collectors.toMap about ordering of the inputs.Is this safe in the general case or have I just been lucky on my test cases so far ? Am I going to be JVM dependent and at risk of this changing in the future ? This is very simple to guarantee if I just write a for loop but the `` fuzzyness '' of potential stream behavior is making me concerned.I 'm not planning to use parallel for this , I 'm purely seeking to understand the behavior in the case of a sequential non-parallel stream that reaches to toMap ."
"I have code in my project that looks like this : Eclipse gives a warning for the cast in addBar that the cast is unsafe . However , am I correct in assuming that the cast will not throw given the restrictions that I have put on the type parameters , and therefore the cast is indeed safe ?"
Are the two statements equal in Java ?
"I have a Set of some objects . I need to get the two min objects from the Set.My example is as follows : In my example I can get the min object from this Set based on the value attribute.So , I need to get the two min values using Java stream operations.The answers should be fast because in my real program I call this method many times and my sets are very large ."
"Here 's my sample class , that compiles ( and runs ) with version 1.6.0_14 of Java : I know that you 're supposed to only have one public class per file in Java , but is this more of a convention than a rule ?"
"please , I want to know the difference between writingandand how would that affect the code"
"I managed to use a spinner in my code and wanted to change the textColor of a certain text in the MainActivity file trough that spinner , but he is located in another class file - Einstellungen.Is it possible to change the textColor in the current activity from another activity ? This is the main_activity.xml where I want to change text color : This is the Einstellungen activity : MainActivity :"
"User sends me byte / short / int / long value . I have to send it as the part of POST HTTP request and I have to send number as String.So right now I do the next : I 'm looking for faster alternative for Because this flow creates char [ ] , String and byte [ ] objects . While I need only byte [ ] . I wonder if there is any faster/better alternative to this ."
"In Java , we use Interface to hide the implementations from users . Interface contains only abstract methods and as abstract methods do not have a body we can not create an object without constructor . Something like thisMy question is why Java allows creating an array of object Interface and where someone might use it ? Is is a good coding practice to use it or it is better to create a concrete class that implements the interface and then create an array of that class ."
I have a created a simple Login Webservice in Java and I am calling it from the Android code . I am passing two String Parameters to the Webservice . But they become null in the Webservice.The Web service is hosted on Localhost Tomcat serverThe WSDL file is : I am new to both Android and Creating Web Service . I tried many other solution . But it does not seems to work .
I have a list of objects of class A defined as below : Now I would like to create a stream which contains elements of both sOne and stwo . Is there a way to do it in Java 8 ?
I had recently a discussion about the use of non-counter related conditions in for-loops in Java : Does anyone know if there are any `` official '' conventions for for-conditions like this ? In my opinion it 's easier to read compared to an equivalent while-loop because all loop-parameters are together in the first line : Or even worse :
"I get a ClassCastException error when I run this because of the implicit cast of d to a double when I run the code . However , if I change reference to d in to Object [ ] then it ca n't be a parameter to the set function . If I change the set function to accept an Object [ ] then everything works fine , but then the class will fail at runtime if anyone calls set on an object that is n't of type N.I need a solution that can get ( ) the old array ( or a clone thereof ) and that can set ( ) data to a new array ."
"I have came across the piece of code : and we can use this to create an instance of HashMap , like this : Now the question is the method newHashMap is called without passing the required type ( in this case its ( String , List < String > ) , but still java is creating the correct type . How ? I 'm confused here , how K , V is getting bounded to the type that is mentioned left side of the code : without even passing on :"
"QuestionWhy does Spring 's RestTemplate use an excessive amount of heap ( particularly the G1 Old Generation ) when sending a file.ContextWe observed the RestTemplate to consume excessive amounts of memory when sending files via POST requests . We used Spring 's WebClient as comparison and it behaves completely sane.We created a demo project on github which contains the full code . The important parts are the following snippets : andWe observed the memory usage with jconsole when sending a 550MB file with both the implementations ( left is WebClient , right is RestTemplate . The WebClient cosumes a couple of MegaBytes while the RestTemplate requires 2.7 GigaByte : An initial manual GC to clean the old generationThe requestA manual GC ( only for the RestTemplate )"
"How the JVM chooses which method to execute ? Is it true that the choosing process is divided into 2 parts . First while compiling the JVM looks for a candidate method to execute . It selects the required signature into the declared object class ( not the effective one ) . Once it selected the candidate signature , it starts looking for it in the hierarchy starting from the effective class of the object.Is this correct ? One more questions : Here is a classes hierarchy and related methods : So : A is superclass for B and CB is subclass of AC is subclass of AC is superclass for D and ED and E are C subclassesAll of these classes have only one method called `` f '' with mentioned signatures.I now declare following objects:1 . Why the method call a.f ( 3 ) ca n't be handled and returns an error ? If what i mentioned before is correct this is what should happen : The JVM looks into Class A for a method with signature f ( int x ) or any compatible signature ( with casting ) . It finds method f ( short x ) which should be compatible , right ? Then it looks for this very exact signature into Class D , and it finds it executing the D : f ( short x ) . According to my book this is n't correct , why ? It can be because short is n't actually a promotion for int and therefore the JVM does n't consider f ( short x ) suitable for the call ? And therefore wo n't find any f method compatible and will return an error.I checked on Google and on any other resource i could find ( also on Stackoverflow ) but all were very obvious and not enough detailed answers , therefore i thought could be a good thing to ask , i hope it will turn our that the answer will be useful for future students fighting with overloading and overridding : ) Thanks in advance ."
I am new using GlassFish Server and WS . I just deployed a Web app . generated with maven having this web.xmlI click on the Web Application LinksI have this class in the application : It seems that the WS is deployed since I saw it in EnginesI can access the spp . http : //localhost:8080/iberiafleet/ But I do n't now how to access the WSLD of the deployed WSI got a HTTP Status 404 on this URL http : //localhost:8080/iberiafleet/IberiaWSPort ? WSDL and alsohttp : //localhost:8080/iberiafleet/IberiaWS ? wsdlBut according to this tutorial I should see a the link View Endpointhttps : //blog.idrsolutions.com/2013/08/creating-and-deploying-a-java-web-service/but I do n't see it.I can see this message in the console :
"My application structure is likeI created an annotation as below : -Then created a Sample Interceptor : Then I created a GuiceModule as below : - } Class in which I am using the above annotation is I have a RestModule using which I am binding SampleClassForInterceptor as followsNow I have a bootsrap class in which I am binding RestModuleUsage : -My interceptor functionality is started executing before executing sampleMethod ( ) of SampleClassForInterceptor class , then after executing the sampleMethod ( ) again coming back to Interceptor , now here I have a code snippet which will insert the result ( which we got from sampleMethod ( ) ) . This is where I am getting NullPointerException , I checked code and found that SampleService object not getting injected and its value is nullNote : I am using Microservices with RESTFUL services concept"
"Im trying to do - What I expect to happen is to now have 2 separate readers on the file pointing at different places . However , the buffReader returns null on the readLine , while the scanner seems to work fine . Is it possible for me to have 2 readers like I want ?"
"I 'm trying to hide an implementation of a class I do not own . I 'm wanting to do this my extending the class and implementing an interface of my own . Here is how an instance of the class I need is created : QueueInfo is the class I do not own . To get an instance of this object , I have to use an admin object to get it . I am wanting to hide this implementation by working through an interface called IQueueInfo . IQueueInfo will just give access to what consumers need from QueueInfo . So to get at this QueueInfo , I would like work through my own object called EMSQueueInfo . Here is how I envision setting this up : This allows my consumer to work though the interface IQueueInfo and it allows the underlying EMSQueueInfo to have access to everything QueueInfo has . My problem lies with getting a `` live '' instance of QueueInfo . To get a regular instance of QueueInfo , I could just say : This instance is not `` live '' as in it was not created by the admin object . So , doing this : does not give me a `` live '' object . What I would love to be able to do is something like this : But that is impossible.The only solution I 'm seeing is removing the extends from my EMSQueueInfo class and just wrapping the object up myself , getting access to all of the methods via a private varialbe : That solution does work , but I kind of hate it . Can anyone think of a better way ? Am I just trying to break OO and misuse it ? Again , I 'm only doing all of this because I want consumers to be able to work with IQueueInfo , in the future , IQueueInfo could be used to access a JMS implementation of QueueInfo or an MSMQ implementation of QueueInfo . Any help would be amazing !"
"I am using the below code . The first line is giving java.lang.NumberFormatException , and the second is giving java.lang.NullPointerException . I 'm unable to figure out why ."
"I 'm attempting to count the number of times an Int is seen in a field within a List of Objects.This is the code I haveyet it is n't ideal , if more ratings are added ( say 20+ ) then you 'd have a bunch of doubles being created , and it 's not maintainable.I know I could do something with a Stream if I had a list of ints , sayyet this is a list of objects , which contain an int and I need to calculate the number of ratings == X in that list of objects.so pseudocode for what I need : establishemnts.getAllRatings ( ) .stream ( ) .filter ( ratings - > ratings == 3 ) .count ( ) ** Repeating for each of the rating types 1 - 5** There is no getAllRatings - I guess that 's the issue I 'm trying to solve )"
"Reading the JAVA 13 SE specification , I found in chapter 5 , section 5.1.7 . Boxing Conversion the following guarantee : If the value p being boxed is the result of evaluating a constant expression ( §15.28 ) of type boolean , char , short , int , or long , and the result is true , false , a character in the range '\u0000 ' to '\u007f ' inclusive , or an integer in the range -128 to 127 inclusive , then let a and b be the results of any two boxing conversions of p. It is always the case that a == bI find it odd that values of type byte are left out from that wording.For example , in a code such as : We have a constant expression of type byte , and after the boxing , the values of b1 and b2 may or may not be the same object.It works actually the same way without the cast : Here , we have a constant expression of type int in an assignment context . So , according to the spec A narrowing primitive conversion followed by a boxing conversion may be used if the variable is of type Byte , Short , or Character , and the value of the constant expression is representable in the type byte , short , or char respectively.So the expression will be converted to byte , and that byte type value will be boxed , so there is no guarantee that the value is interned.My question is am I right in interpreting the spec , or am I missing something ? I have looked if the spec requires using of method Byte.valueOf ( ) for the boxing ( for which it would be guaranteed ) , but it does not ."
"I tried something in my code and it didn´t work ( the error when compiling was `` The local variable fundo is never read '' ) . I´ve made some changes and it worked , but I would like to know why it didn´t work in the first place.I have a class called Setor , in my code I´m trying to create an object from that class in the class VendedorHere is my first code : If I create the objects outside the method it works as you can see below : Here is the Setor class : I would like to know what´s wrong with my first try . Also , I might be using some terminology wrong . I´m sorry for that , edits are very welcome !"
"( I 'm using Eclipse Luna 4.4.0 , JDK 1.8.0_05 ) I 'm making a game , and the topology of the game world can be roughly broken down into World - > Level - > Tile , where a Tile is a a small unit of terrain . I have three projects set up , one which holds some base classes for those structures , and the other two are server and client which extend the structures in the base project for the additional things that each of those projects need . Like so : Base project : In both server and client projects : Now in many parts of the base project , there are methods which return the base classes , but in the server and client projects this typically means I have to override the methods and cast to the sub-type , because the sub projects exclusively using the sub types . Like so : And that 's sort of a pain to maintain . I discovered that I can use generics to solve some of this , with the following pattern : Well I had this crazy idea to bend the above pattern to breaking point and be able to use all the subclasses everywhere in the all the superclasses . Now I must say that I in no way endorse the following code as good programming , I just had the idea and took it as far as I could just to see how it would work out . Anyway , I came up with the following monstrosity.Now , whenever I need to return any of the classes from any other , I can without having to use any casting whatsoever in the sub-projects ! Well unfortunately not , because when Eclipse rebuilds the workspace : I guess as the generics of one class are being resolved , it has to go and resolve the generics of the other class and then gets caught in a recursive loop.Question time : Is this error Eclipse editor having a stroke , or the java compiler ? The above does n't highlight in the editor as a compiler warning/error - should it , even though it seems technically valid ? Is it likely that this recursion is infinitely deep , or just very deep ? Is it possible to achieve what I 'm trying to here while avoiding this error ? ( I once again want to emphasize that its definitely not a good pattern , I just want to know if it can work )"
"When I use this code at my home PC , it gives the output as `` output1 '' , Butwhen i use the same code at my office PC gives a different output as `` output2 '' .code : Output 1 : C : \Users\admin\AppData\Local\Temp\Output 2 : C : \Users\admin\AppData\Local\TempWhy there is a difference in output ?"
"This is my second programming class and I am new to Java . I have been working on my first assignment and it involves classes and methods . I know very little about these topics and find myself lost . My assignment asks me to create a RPN calculator that asks the user for two numbers and an operator . The calculator performs the operation on those two numbers and asks for one more number and one more operator . The calculator then uses the result from the first set and performs another operation with the new number just entered . The program ends when the user enters a letter . I am attaching my code ( crude ) . I need as much help understanding methods as I do with coding . Please help asap , I want to learn this . Any help is appreciated ."
"I am new in Java8 , and I created this piece of code that is working finebut under my understandings this piece of code should also work fine , but is not the case and I am wondering why"
"I am facing some problems with garbage collection while generating an application in java , where I use Stream.map to trim all the elements in the list . The instances of anonymous lambda class exist in the heap dump even though the instance of the enclosing class is 0 as shown in the snap of visual VM.The LambdaTesting class : The method which creates the instance of LambdaTesting and invokes these methods : The thread dump was taken after putting a debug point at the next line after testMethods is invoked.Why are the references to Lambda still present in the heap dump ?"
"I 'm working through myself Oracle 's JavaFX tutorials . After doing Swing for many years ( a long time ago ) I 'm fascinated by the new smart features , incl . properties . I was surprised to see that these examples ( e.g : https : //docs.oracle.com/javafx/2/ui_controls/table-view.htm ) do n't use them in a way what I believe to be `` proper '' .The example creates a Person class with properties as fields : But the getters are not for the properties , but for their valuesso when it binds those to TableCells in columns , it wraps them in a new property : This seems convoluted to me , and misses the real advantage of event propagation , by not simply using this : My question : Is there a reason why this example does n't expose and use the bean 's properties in the control directly ? Am I missing something here ? NB : I did change the code this way , and the example worked much nicer : updates in the Person entity by an other control were propagated immediately , w/o calling table.refresh ( ) e.g ."
"This happens in both C # and Java so I think it 's not a bug , just wonder why.According to this page , the lower case of `` '' is `` '' , they should be the equal when comparing with IgnoreCase option . Why they are not equal ?"
"I have 2 Lists : Does anyone know how can I merge those 2 Lists to one List containing all the employees from both lists grouped by `` PersonalNumber '' and keeping the order of the elemets in newList ? newList comes from the Database with a predefined sorting , and I need to keep it that way , so I ca n't sort it again on the Java sideResult should be : I have the guarantee that both lists have the same size and contain employees with the same personalNumbers . I just want to `` inject '' each old employee under the new employee with the same personalNumber"
The standard method of implementing singleton design pattern is this : I was wondering if you could also implement it like this : and if yes which version is better ?
"I am comfortable with functional languages and closures and was surprised by the following error : `` Can not refer to the non-final local variable invite defined in an enclosing scope '' .Here is my code : As I understand it , referencing invite in the TimeTask instance is an error because that variable is not guaranteed to exist . So my question is , what is the Java way of expressing what I want , namely to load an invite and then set a timer to expire the invite after some amount of time ."
"Please what memory tuning advise would you suggest given the GC log below with a system currently running on these params , taking into consideration the Machine recieves high frequency data that takes a about 6ms to process.Thanks in Advance.GC Logs"
I 'm trying to parse a json file that looks like thisThe code I have is currently this : I am getting an error : Is there something special I need to do in order to read `` < `` as String ? I 'm reading the file into a BufferReader with StandardCharsets.UTF_8 like this : Edit : I actually do need defaultTyping for an ArrayList that has polymorphic types :
"I want to dynamically set an integer variable using a hexadecimal value , but when I use Integer.parse ( hexValue , 16 ) it gets a different value from setting as int a = 0x04A7D488For example : Why do I get different values ? How can I dynamically set variable a with value 0x04A7D3B8 ? Note : I 've discovered that this error is only happening with Java SDK 1.8.0_171 ."
"I have written : And sonar says : New : Squid : S2183 Severity : CRITICAL , Message : Remove this useless shift Could anybody tell me why ? Is that only the fact that there should be no calculations on literals , even if it adds to readability ?"
java.util.concurrent.TimeUnit has this source : Why is n't this an abstract method like
I am a complete newbie at Big O and I am a bit stumped by this . I have : In my mind this would equate to Am I right or can it be simplified to N as you are doubling the inputs with n*n and halving it with i *= 2 ?
"Q : Is it possible to create Stream implementation that counts their elements in a single operation rather than counting each and every element in the stream ? I came to this though when i tried to compare two methods on a list : size ( ) count ( ) Stream : :count terminal operation counts the number of elements in a Stream . The complexity of the operation is often O ( N ) , meaning that the number of sub-operations is proportional to the number of elements in the Stream.List : :size method has a complexity of O ( 1 ) , which means that regardless of the number of elements in the List , the size ( ) method will return in constant time.size ( ) took a relative less time than count ( ) , so is there any possible way to create Stream implementation that counts their elements in a single operation and make a complexity of O ( 1 ) ? ? Edit Article to answer Yes : It is possible to create Stream implementation that counts their elements in a single operation O ( 1 ) rather than counting each and every element in the stream . This can improve performance significantly , especially for streams with many elements ."
"It was my understanding that a child cast to the parent type ( as in Super sc = new Child ( ) ; ) would call the parent class 's static methods , and access the parent class 's non-hidden fields , but would make use of the child class 's instance methods . This does not seem to hold true for the case of private instance methods ( those in which overriding does not actually take place because the parent method is private . ) I understand that the fact that there is no overriding ( private parent methods are not visible to the child , so they can only be hidden . ) would mean that the child would n't look up the heirarchy to see the parent 's version of the method when the instance method is invoked from the child.However , the exact opposite of what I 'd expect ( the version present in the child being called ) is occurring . The parent version of the private method is invoked . Why does this happen if the instance methods of the child are typically invoked , and within the child , there is a method with an identical signature ( a perfect match for the invocation of method2 ( ) in this case ) already present , hiding the same method in the parent class ?"
"Suppose I have a third party class as follows : Now suppose that I have a factory interface like so : The idea is that I wish to have a MyObjectFactory that builds a MyObject for a fixed Foo - that is , essentially adding in the @ Assisted annotation on the Bar constructor parameter from the outside . Of course , manually implementing MyObjectFactory is always possible : But let 's say that there are conditions that require me to have Guice build MyObject instances - for example , method interceptors . This seems like a job for `` injecting the injector '' : This sounds evil and boiler-plate-y , so I 'm wondering if there are any alternate implementations and/or a way to have Guice generate the factory impl ."
"Is it better to use the variable ' i ' or a meaningful name such as 'loopCount ' or 'studentsCount ' etc ? e.g.VSBy better ; the main considerations would be readability / conventions.Related question Loop iterator naming convention EDIT : I have tagged this a java , but answers for other languages are welcome ."
"I am iterating over two collections and check if both collections containthe same elements . I ca n't use Java 8.edit 1 year after : I created the method in the question to check if two Collections contain the same elements , without thinking about the fact that I am passing two Collection implementations into the method . But Collection does not determine how elements are sorted . And I am iterating over the collections . Thus , some implementation of Collection could save elements in random order , while containing the same elements.Both collections contain elements that are comparable and the contentis defined as equal , if all elements return a x.compareTo ( y ) with 0.Two values are defined as different , if one of them is null , but not the other.I want to find an elegant way to compare on nullity and prevent a null check on the final compareTo ( ) .My current implementation : I want to continue the while loop , if both values are null , because that is defined as equal.But I am struggling with this part : Question : Is there a more elegant and readable way to compare on nullity , do a further compare if both are not null , return false if only one is null , and continue the loop , if both values are null ?"
"I was just playing around with JShell , and it seems that defining class Z { } and then definingvar z = new Z ( ) does not work . But using different class names , like class X and class A , does work.Surely I must be missing something obvious ... ?"
"What I would like to do is when a wolf is caught in the constructor the value for foodis changed automatically to something else . I did try using getter-setters , however , I get the error of unreachable code.What do I do ?"
"I have the following code in Eclipse ( Helios ) /STS which runs and prints console output when doing a Run As > Java Application , in spite of obvious compilation issuesCan anyone pinpoint the reasoning behind this Eclipse functioning.Note : Doing a javac externally obviously fails to compile ."
I have a HashMap of Products . Each Product has a Price . I know how to find the Product with the max Price . But using Java 8 Streams is really puzzling me . I tried this but no luck :
"My problem can be summed-up by this snippet : My class A uses an instance of TheClass with its generics type unknown . It features a method with a target passed as Object since the TheClass instance can be parameterized with any class . However , the compiler wo n't allow me to pass the target like this , which is normal.What should I do to circumvent this issue ? A dirty solution is to declare the instance as TheClass < ? super Object > , which works fine but is semantically wrong ... Another solution I used before was to declare the instance as raw type , just TheClass , but it 's bad practice , so I want to correct my mistake.Solution"
"It is detail , but I want to know why this happens.Exemplary code : Output o the program : Why on the output there is no interface word before java.lang.Comparable < E > . It is interface , yes ? In my opinion output should be : Comparable is specially treated ?"
"This is my very first question down here , so i 'll try to make it clear as far as i can . Other error : type mismatch ; questions here are not related to this error.I have this odd problem with scala/java inter-operability : Let 's suppose we have a Java classAnd then i have another Scala class i just wanted to wrap this method in : compiling the Scala class gives me a very odd error : Any idea is appreciated.EDIT 1 : The full error message is"
"I 've tried to migrate a google cloud project using JDO from endpoints v1 to v2 . I 've followed the migration guide and some solutions here to try to make the datanucleous plugin enhance my classes , and upload them to the google cloud , but there is no luck . I 'm gon na post the build.gradle followed by the server error returned when a client tries to connect to an endpoint , which is a NoClassFound error . build.gradle : Taking a look to the server logs after a user request , I can see two errors : first : And this is the second . PMF is just a class used to load and instance of the PersistenceManager.So , seems like the classes needed are not in place , but also the TypeManagerImpl does not find the Collection class ( default java Collection is used in the endpoints ) . I 'm a little lost here , so help is really welcome . Thanks !"
"I want to make a part of a JFrame transparent . It should look similar like OneNote Screen Clipper . I basically have a fullscreen overlay of a partially transparent JFrame and then inside this JFrame I want to make some rectangles by dragging the mouse and make those rectangles fully transparent , like so : How would I do that ? Currently I have this : But this does n't work correctly as it repaints the background many times , and therefore it becomes darker/less transparent and also it is slow as hell ... . the repaints take a lot of time and are very visible ."
"Hi ! I 've created a hash map which contains product informations in a supermarket . However , I ca n't display my key values ( which is an array ) correctly . It shows me irrelevant things except product 's name . How can I correct this ?"
Why prints 5000 msbut prints 44 msSecond solution 115 time faster
Here is some sample code ( assuming Java 8 ) . Is s effectively final inside the loop ?
I have a java code snippet below : Output is : What exactly is happening in line 3 ?
"I have been testing problem with too slow DataInputStream.readByte ( ) method working , and found interesting , but incomprehensible issue . I 'm using jdk1.7.0_40 , Windows 7 64 bit.Consider we have some huge byte-array and reading data from it . And let 's compare 4 methods for reading byte-by-byte from this array : reading via simple loopreading via ByteArrayInputStream - > DataInputStreamreading via ByteArrayInputStream - > our own DataInputStream implementation ( MyDataInputStream ) reading via ByteArrayInputStream and copy of method readByte ( ) from DataInputStream.I have found following results ( after long-time of test-loop iterating ) : Loop took aprox . 312446094 nsDataInputStream took apox . 2555898090 nsMyDataInputStream took aprox . 2630664298 nsVia method readByte ( ) copy took 309265568 nsIn other words , we have strange optimization issue : the same operations via object method invocation take in 10 times longer work , then via `` native '' implementation.The question : why ? .For information : P.S . Update for thoose , who is in doubt about my results , this is printout , using -XX : +PrintCompilation -verbose : gc -XX : CICompilerCount=1UPD-2 : Here is benchmark and results kindly given by @ maaartinus ."
"You can not create arrays of parameterized types , so this code in EclipseCa n't be parameterized , but Eclipse shows a warning Type safety : The expression of type ArrayList [ ] needs unchecked conversion to conform to ArrayList < Integer > [ ] And also shows suggestion Infer Generic Type Arguments which does nothing when submitted . Infer Generic Type Arguments Replaces raw type occurrences of generic types by parameterized types after identifying all places where this replacement is possible . Should this suggestion be removed or am I missing something ?"
"While trying to understand the differences between Phaser and CyclicBarrier I have come across some links Difference between Phaser and CyclicBarrier and https : //www.infoq.com/news/2008/07/phasers/ I read that the Phaser is compatible with Fork/Join interface while CyclicBarrier is not , here is a code to demonstrate this : Phaser CyclicBarrier Explanation : The two codes runs a fork/join thread pool , this mean that the threads are daemon threads and this is why I use CountDownLatch . The method commonPool ( ) will create a thread pool with threads equal to Runtime.getRuntime ( ) .availableProcessors ( ) , mine are 12 , so it will create 12 threads . Both Phaser and CyclicBarrier in the two examples define 16 parties i.e they need 16 calls to await ( ) , in the cyclic barrier , and arriveAndAwaitAdvance ( ) in the Phaser , to move on . In the example with the phaser , when the 12th thread blocks the fork/join will spawn more threads , it will create more threads , hence the phaser will eventually terminate . However , with CyclicBarrier when the 12th threads reach await ( ) the program stops and never advances , it hangs . Obviously , because the barrier needs 16 calls , to make the threads advances , and only 12 are made by the created threads . The thread pool will not create more thread to advance the CyclicBarrier as it does with the Phaser . The question : How does the fork/join manages to create more threads with the Phaser but not with the CyclicBarrier ? Why the methods arriveAndAwaitAdvance ( ) made the thread pool create new threads , and how , but metho await ( ) did not cause the threadpool to create more threads ?"
"I have the following maps : The following code returns these maps : The method getExecutionCount ( ) returns a single map . For the example I have given above , I have four chroms where each chrom will returns a single map.I would like to sum the values of each key seperately so that the final result will be : Is it possible to use stream to do that ? If not , how can I do that ?"
How can i write below code using lambda expression in java8 . I am new to Java 8 . I have tried the below code as yet as per the suggestion . Is there any other thing which we can improve in this code to write it using lambdas more .
"A downloaded dependency , e.g . log4j is cached in the Gradle user home directory like ~/.gradle/caches/modules-2/files-2.1/org.apache.logging.log4j/log4j.But why modules-2 and files-2.1 instead of modules and files ? It does n't look like the version of Gradle . For instance , there is no `` 6 '' or `` 6.0 '' while I 'm using Gradle 6.0 on my PC ."
Actual java code is : But when I look into class file it 's : All || and & & interchanged.Can anyone explain why ?
"I 'm facing the following problem in my project with Java generics type inference . This is a code sample that 's similar to my original one : This code breaks at new Implementer < String > , but works if I use new Builder < String , String > instead of new Builder < > .Why ca n't Java infer that the type of the Builder is Builder < String , String > if the types of R and S are specified in new Implementer < String > ? What are the limits of Java generic types inference ? Does it only resolve types provided in constructors or static methods ? I have n't found any documentation on this.Does this mean in any way that this class might not be type safe if we ca n't use type inference ?"
Let me say there is an abstract class which looks likeWithin following Child classWhich one is preferable ? newInstance1 or newInstancw2 ?
"While playing with jmh I came across a weird thing I can not explain.The results are belowI am running on JDK 1.8.0_101 , VM 25.101-b13 , Intel ( R ) Core ( TM ) i7-4770 CPU @ 3.40GHz ( family : 0x6 , model : 0x3c , stepping : 0x3 ) If I set the const equal to the value or if I set the value to 0xffffffff , nothing changes ."
"I have this non-static inner class that causes memory leaks , because it holds an implicit reference to the enclosing class : In order to stop it from leaking , I need to make it static : It is impossible to make updateCalendar ( ) static because in it I access other non-static variables and it becomes a mess . What do I do ?"
"I am new to multithreading , and I came across this example : This causes the following sample output : i.e , there is a deadlock . However , if we change the order of locks obtained in the second thread so that it looks like this now : It works as expected , and a sample output looks like this : Can someone explain to me what is happening in the first one that is causing the deadlock , and why does the change in second code fix it ?"
"I am working on detecting sentences which start and end with hashtags . As of now , I only have code to find words , which is part of this mechanism . How can I find sentences depending upon case below.Case 1 : In this case , I want to detect how are you . Now if there is only a word , then the above case is to be ignored.Case 2 : In this case , only words # how and # today are found , which I already have working . No sentences here as words do n't end with hashtag . Code : Updated code"
"Why does List [ scala.Int ] type erase to List [ Object ] whilst Integer in List [ java.lang.Integer ] seemsto be preserved ? For example , javap for outputswhere we see Integer was preserved in second case . The docs state Replace all type parameters in generic types with their bounds or Object if the type parameters are unbounded.Is this perhaps due to the `` bounds '' clause ? If so , where is this bound specified ?"
The code belowOutputs below in java 1.7xOutputs below in Java 1.6xIs there a reason for this behavior ? Also if I change It behaves exactly same in 1.6x and 1.7x
"I 've recently been reviewing code an noticed the use of this syntax in a for loopas opposed to : With the reasoning that it is more efficient as you do n't have to keep looking up the myArray.length property with each loop.I created a test to check if this was the case , and in all my tests the first for loop approach was significantly ( around 70 % ) faster than the second.I was curious why this syntax is n't more widely adopted and that i 'm correct in thinking it is a better approach to using a for loop through an array ."
"Overloading overridden method in subclass , am I overloading parent method or sub-classes method ? I understand generally what overloading and overriding is.Overloading - same method different parameters and maybe return type in the same class.Overriding - in subclass same method signature as in parent but different implementation.Is method B.a ( int x ) overloading A.a or B.a ?"
"We have a Map < String , Student > studentMap , where Student is a class as follows : We need to return a list of all Ids eligibleStudents , where the age > 20.Why does the following give a compilation error at the Collectors.toList :"
I have just created a simple java program by using datatype short.The program looks like this : This program throws an error : How compiler founds int ? There is no int variable in this program all variable are declared as short .
This is what I 've written so far . The problem I encounter is that i is 0 at the first iteration making i % 6=0 as well and making it so that row 1 consists of arr [ 0 ] [ 0 ] only and each next row ends with the actual first of the next one.I have a feeling the solution must be easy but I have n't found one for the past hour or so . Any help would be appreciated .
ans is If i am creating object of Child class then why output is of parent class method ? ? even method1 is private in parent.It shakes my all inheritence concept .
"Clojure offers a good Java interop . However , I really want to have this : I guess that is what called a DSL and in Lisp world it is done via Macros . I 'm not sure how/where to start . refiy and extends forms are definitely have important role here but I do n't know how that would fit into Macros . How start doing this DSL ? A snippet , tips and tricks are really appreciated ."
"I am trying to create a property page using plugin.xml . I want this property page to appear only when you right click - > properties of folders only.I used this code : This works when I open the properties from Navigator . But when opening it from Project Explorer , I ca n't see the properties page ! From Navigator : From Project Explorer : How can I make my properties page to be shown using Project explorer too ?"
"I 'm using ColdFusion 11 and Java ( com.lowagie.text.pdf.PdfStamper ) to fill in pdf but when I enter a value with a single apostrophe such as 32 ' it only saves in the pdf as 32 instead of 32 ' . The value is going into a multi-line text area in the PDF . I 've tried with and without rich-text enabled . I 've tried replacing ' with & # 39 & # 59 ; , `` , & apos & # 59 ; , and \u0027 ; but all of them disappear . I 've also tried xmlFormat but it shows up as & apos & # 59 ; . Copying and pasting the ’ from MS Word did n't work either as a replacement value.Here is the code I 'm using"
I have a collection of objects of Class AI have to populate the largestTimestamp field for each object ( the largest `` timestamp '' value in the group of objects with the same code ) . I can do this in two steps as follows - Is there a way to combine these into a single stream chain ?
"I 've run some simple experiments like this : and get output like this : But I wonder if anything is done to an exception when it is thrown . This is a primarily academic question , though it could be relevant under certain circumstances if an exception were part of an API and may or may not have been thrown when provided to an implementation ."
"I have to execute this line of cose several million times , I wonder if there is a way to optimize it ( maybe precomputing something ? ) .a.contains ( b ) || b.contains ( a ) Thank youedit : the code executed by the contains method already checks for a.length < b.length ."
"I get `` Type mismatch : can not convert from List < CherryCoke > to List < Coke < ? > > '' It looks like a 'list of cherry cokes ' is not a 'list of cokes ' . This is counterintuitive.How can I create that 'xs ' anyway , if it has to be a List < Coke < ? > > and I have to have a subclass of Coke < Cherry > ?"
"Let 's say I have a classA , that has its own methods with its own private fields and what have you ( bascically adhere to encapsulation standards ) . Then I have classB , that needs for its execution the final state ( that is obtained through one of the methods of classA , which somewhat breaks the encapsulation ) of the classA . And then we have classC , that again needs final state of classB . And so on and so on , to let 's say to classM . Is that considered too high coupling or not ? Edit : Ok , let 's say I was designing Loot system , that depends whether the drop happens based on enemy defeated ( each enemy has different drop chance ) . If the enemy is defeated , the class handling battle stuff would roll a dice , whether it drops something or not , and then I need to propagate that state to the other class handling the loot distribution . If there is drop , class handling loot executes loot generation and distribution to player , if not , void.The final execution would be something like : And so on ."
"I have a parent class - ProductAnd 3 sub-classes which extends it : public class Vinyl extends Product { } public class Book extends Product { } public class Video extends Product { } All sub-classes override the preview ( ) method with their specific implementation.Now , I have a new design demand : I need to define a combo item of vinyl & book which also has a preview ( ) method ( which is a combination of vinyl & book ) . In the instructions it says I can create Interface\ class field member or any implementation I want to support it , but I 'm not sure how exactly.Is the new design should also be implemented with inheritance or should I change the current design ?"
Recently I am working on a android project . I am parsing data from wordpress api . But detail post content are in html formet . I have to remove html tags . Using Html.fromHtml ( ) .toString ( ) java method I deleted all tags . But there are some image caption which I have to delete . For delete the caption I have to find tag class . So how can I delete this content using Html Class ? EDIT : Using regular Expression I solved My problem.Insert Your specific Html in Regex and you will get your Regular Expression .
"When looking into the source code of IntelliJ IDEA Community Edition project in github , in one of the files I found the following notation : What does this < selection > annotation mean ? By which tool is it being processed ? The complete source of afterEnumConstantWithArgs.java is as follows ."
"Below is the source code snippet of String.hashCode ( ) method from Java 8 ( 1.8.0_131 to be precise ) You can see that , the documentation says , that hashCode ( ) is computed using below formulawhile the actual implementation is differentAm I missing any obvious thing ? Please help me ."
"I have a MyModel class and a List < MyModel > and i want to produce , with a MyModel will map with 1 or 2 Integer value ( left , right or both ) I can do with 1 but do n't know how to do with 2This is how I am currently doing :"
"I am trying to create an application in Java which allows for generation of large Provenance graphs from small seed graphs but I am having a little trouble figuring out the best way to design my classes.To begin with , Provenance essentially has a graph structure , nodes and edges . I have created a Java library which acts as a mapping of the Provenance Data Model to Java Objects . This allows me to abstract my application specific information from Provenance model.My class structure looks a little like this : Graph ( containing Sets of Node and Edge ) abstract Node ( Just a String name for now ) AgentActivityEntity Other subclasses of Nodeabstract EdgeGenerationAssociationOther subclasses of EdgeNow , what I would like to do is provide weighting on the nodes and edges which act as multipliers/saturation levels . There are a couple of ways I could use the library to achieve this aim but I 'm not clear on what is the best from a development and maintainability perspective.Firstly , I defined a Weighable interface with some simple methods such as get and set minimum and maximum weights.Now , I could either extend each subclass Node e.g.But then this requires an extended class for every type of node available , and required me to implement the Weighable interface at every level.Alternatively , I could provide a mixin but it would still rely on me implementing the same functionality across each subclass.Alternatively I could have a class that composes upon Agent , but that still requires me to implement Weighable across every composition class.Alternatively , I could compose solely on the Node class e.g.And this would allow me to only implement Weighable in one place . However , then I lose some important information about the concrete class type from anything using WeighableNode and the only way around this that I see is to provide a method : Which I 'm concerned about due to the Law Of Demeter . Furthermore , this WeighableNode will be composed upon by a PresentationNode , to help with Swing which would mean I would end up chaining calls such as : Which seems very unpleasant.One final solution which I just thought of is to compose upon Node as above and then extend WeighableNode with WeighableAgent , etc etc . This means I do not need to reimplement Weighable each time and if I know I havethen the wrapped node is an Agent.I appreciate this is quite long but I hope that an experienced developer will very quickly see the correct design practice ."
"Trying to get the Big O of this coding . Struggling to understand how the loops interact . When I run it , I get n = 25 count = 898960 . I 've tried O ( n ) ^5+9 all the way to O ( n ) ^5/nAll other examples of this problem do n't deal with I is used in the second loop ( I*I ) and j is used in the third loop"
I am using Java . I have the following text : Why ( hy ) ( ? ! [ a-z ] ) returns two `` hy '' s. The idea is to match any `` hy '' that is not followed by any character between a-z.If I do hy ( ? ! [ a-z ] ) ( hy without parentheses ) it works ( finds only the second `` hy '' ) but I do n't understand why if I use parentheses ( hy ) in the RegEx it matches the first `` hy '' in hyst
"When I write setters for instance methods , I use this to disambiguate between the instance variable and the parameter : So , what do I do when value is a class variable ( static ) instead of a member of an instance ?"
"I have two object . The first one : The second one : I have a Map < Object1 , Object2 > : I want to group this map with the same a in a list of Object2 like : I try something like this :"
I 'm completely new to Java 8 and I 'm trying to wrap my head around why the last test is false.Output : test1 - true : true test1 - false : true test2 - true : true test2 - false : false
"I 'm browsing through the Android source , just kind of reading it , and I 've come across a strange chunk of code in Android.Util.JsonReader . It is as follows : What is this doing exactly ? That is , the scope immediately following the new assignment ? If I understand correctly , whenever this class , JsonReader is instantiated , ( not static , right ? ) , stack will be initialized here , rather than via a this.stack = ... in the constructor , correct ? What then does the scope do ? Is that executed after stack is initialized ? I 'm just a bit confused here , as to the name of this pattern , and its use ."
Suppose I have a long set of of parameters all of the same type for some method . I have a similar operation to do on each parameter ( if they are not null ) . Assume I have no control over the method signature since the class implements an interface . For example.. something simple like this . Set of String params..Is there any way I can iterate through the list of String parameters to check if they are not null and print them without having to reference each variable separately ?
I found a bit of generic code and it has stumped me as to how it actually works.I do n't understand where it gets the generic type that is used for T.This is an oversimplified example but I still do n't understand how this is valid Java code .
"I 'm building a Spring backend . I 've got a controller which gets a `` search object '' - an object with like 10 fields which only one of them should be filled , so the search function ( which I did not write but need to make changes to and refactor ) is written like this : Notice the 2 special cases in the end- one of them checks the availability of 2 parameters instead of one and sends them both to same function ( which can handle null in one of the fields , but not both ) , and the default case which assumes an ID is being passed ( in case its not- it gets handled by the if ( user == null ) check after to throw exception ) .Is there a way to refactor this piece of code to be more readable/good looking ? Is there any design pattern or a known method I can use to do this ? Or is it actually the best way to write this kind of functionality ? I 've done a lot of thinking but could n't find a nicer way to do so . I 've had an idea to somehow send the field name that is filled and its value to another function which will `` switch-case '' on the field name and send the value to the appropriate function , but it does n't really save much code ( as I still need to manually iterate on all fields to find the one which is filled ) and I 'm not so sure it 'll more readable.I 'm also quite new to Java so I do not know all the available APIs and interfaces , maybe there is something you can throw at me for help ."
"I 'm trying to understand the following Java exercise . Even running the debugger I do n't understand the details of the second and third printout:1 , 2 , 3 , 41 , 2 , 4 , 41 , 2 , 4 , 8I understand that the first print is the array as it is , second line prints [ 2 ] element of the array and third line [ 3 ] element . Here is the code :"
"I have created a loop using processing that draws circles , the overall shape should be a circle . However they are mainly drawn close to X and Y axis . I have randomized the angle for the calculus of its location , I can not see where the problem is.Code as follows :"
"Is there any way to figure out how many pixels wide a certain String in a certain Font is ? In my Activity , there are dynamic Strings put on a Button . Sometimes , the String is too long and it 's divided on two lines , what makes the Button look ugly . However , as I do n't use a sort of a console Font , the single char-widths may vary . So it 's not a help writing something likebecause an `` mmmmmmmm '' is wider than `` iiiiiiii '' . Alternatively , is there a way in Android to fit a certain String on a single line , so the system `` scales '' the Font size automatically ? EDIT : since the answer from wsanville was really nice , here 's my code setting the font size dynamically :"
"On line 3 , it 's a compiler error if we do n't typecast the result to a byte -- that may be because the result of addition is always int and int does not fit into a byte . But apparently we do n't have to typecast on line 6 . Are n't both statements , line 3 and line 6 , equivalent ? If not then what else is different ?"
"Simple question : Why would this be preferred : over this : or this : ? To me these all look essentially identical , so I 'm not sure what would be the best way to synchronize access to static fields , or why one would be better than another , but I 've heard the first is often preferred ."
"If you add a Key Binding in java with a mask - let 's just say the ActionEvent.ALT_MASK with KeyEvent.VK_A - and then you perform that key ( ALT + A ) BUT , you release the alt key just before the ' A ' key , you will usually encounter a problem where the actionPerformed ( ) in a class ( implementing ActionListener ) will keep being activated . This probably ( 98 % sure ) means that the Key Binding never registered that the key was released . If you release the ' A ' key before the alt key , you are fine , but - like I said - if you release the alt key perhaps 1/10 of a second before the other key , it keeps repeating . Note : This only happens - apparently - in my program ( here ) Try it for yourself if you do n't believe me . Here is a snippet of my code : It 's a lot of code , but it 's pretty standard for KeyBindings at least . So , I was wondering if there was a way to get around this . Is this the os 's fault or is it Java 's fault and how can I fix it . I would like to avoid having an else in actionPerformed ( ) because I need this to be fast . Also , is there anyway to optimize the actionPerformed ( ) method because it seems like it might be a little bit screwy.I just put this together , but it does n't do it here ! Small executable :"
"Hello I have been trying to add a String to a String [ ] . Here is what I have , But , I keep getting java.lang.ArrayIndexOutOfBoundsException because it wont let me make any new Strings . I ca n't modify my declaration of ipList [ ] without a lot of modifications , what can I do ?"
"One often sees the advice that variables should be declared with some interface , not the implementing class . For example : However , say I am using this list for an algorithm that really depended on the O ( 1 ) random access of an ArrayList ( e.g . Fisher-Yates shuffling ) . In that case , the key abstraction that ArrayList represents for me is its array-like nature , not just its List nature . In other words , if someone came along and changed list to a LinkedList , this would be problematic , even though the code would compile . In such a case , is it considered ok to have the declaration use the implementation type ? , e.g . :"
Please consider the following code sample : Is it possible to call someOtherMethod ( ) ? I tried MyEnum.SECOND.someOtherMethod ( ) but the IDE could not resolve it.Thanks in advance ...
"I 'm currently investigating in some pathTraversal related security mechanisms and came across a weird behavior of java.io.File.getCanonicalPath ( ) . I thought CanonicalPath will always represent the true unique path of the abstract underlying File . However if the file name consists a of two dots followed by a space the CanonicalPath does not seem to represent the correct path anymore.Here is the example : Console Output : As you can see although the canonicalPath of canonFile clearly indicates it 's location in C : \git\ , but .listFiles lists all files in C : . This only happens if I use the new File ( String , String ) constructor . If I change the third line to File concatFile = new File ( root.getCanonicalPath ( ) + relative ) ; then the output is as expected : I do n't know if this behavior is similar on unix-like systems . Can somebody clarify this behavior ? Is this intended ? Thanks upfront !"
"How do I add my tests to my production code at test-runtime so that both are in the same Java 9 module and can access each other using reflections ? I have tried so far : Remove the Java 9 modularity ( actually the module-info.java ) → it worked perfectly , but is not what I 'm looking for.Move my tests to a dedicated module ( and therefore also package ) → it worked perfectly , but is not what I 'm looking for . ( I want my Unit-Tests near my code . ) Use -- patch-module to virtually add another folder ( to the one specified using -- module-path ) → it worked with `` normal '' code but not with reflections , it does n't find the classes specified by -- module-path.Specify both my test and production code using -- patch-module → it only finds classes in the folder I specify first.Explicitly add -- add-opens mymodule/mypackge=mymodule or ... =ALL-UNNAMED to open it for reflection → does n't look to have any effect.So my full test line is : I 'm in a directory containing the following subdirectories and files : ModuleInfoExample/module-info.classModuleInfoExample/com/stackoverflow/examplepackage/Main.classModuleInfoTest/com/stackoverflow/examplepackage/AnyClass.classI 'm using : As I learned from the approved answer , my problem was not really `` access other classes '' , as I phrased it . But more like find them ( by scanning classpath/modulepath ) . However this part is already answered in this other StackOverflow question ."
"I 'm new to java and still learning , so keep that in mind . I 'm trying to write a program where a user can type in a keyword and it 'll convert it to numbers and put it in an array . My problem is the array needs to keep repeating the int's.My code is : Right now if I try to get any key [ i ] higher than the keyword.length it throws an outofbounds error . I need it to to be infinte . So basically , if keyword.length ( ) were 3 I need to be able to see if key [ 2 ] is the same as key [ 5 ] and key [ 8 ] and so on.Thanks for your help !"
"I have a use case where I have all the Employee data in a list ( List < Employee > employeesList ) and I would like to get the required employees by providing another list of employee ID 's ( List < String > employeeIdList ) I need the same order of employeeIdList for the employees after retrieval . I am able to achieve this with the regular nested for loop , but I would like to check what 's the best way to achieve it using Java streams.By using the regular streams , I am not getting the right order , so I tried to check a condition during the iteration and added to a different list , but I still have to collect the objects which I am really not using them anywhere.Is there any other best option to achieve this functionality . Any help is appreciated.Below is the sample code ."
"We are currently using Java Compiler 11 and deploy our main artifacts to Java 11 . No problem here . Unfortunately , a service we use only supports Java 8 so we compile some of them targetting Java 8 . No problem here.Our issue is that developers might reference methods that are not available at runtime in Java 8 . E.g . List.of ( ) , Optional : :stream , etc . javac version 11 will compile it to Java 8 , but an exception will be thrown when executed on JVM version 8.The later is easy enough to identify with a simple grep statement , but the latter is trickier and involves understanding the code/AST.I checked the docs for Checkstyle , Spotbugs and PMD with no success . IntelliJ is actually very good at this , but it can not be integrated into our CI pipeline.And we got this naive/simplistic grep statement : We would like to have an accurate way to identify incompatible API ."
"Inspired by this question , I started to play with ordered vs unordered streams , parallel vs sequential streams and terminal operations that respect encounter order vs terminal operations that do n't respect it.In one answer to the linked question , a code similar to this one is shown : And the lists are indeed different . The unordered list even changes from one run to another , showing that the result is actually non-deterministic.So I created this other example : And I expected to see similar results , as the stream is both parallel and unordered ( maybe unordered ( ) is redundant , since it 's already parallel ) . However , the resulting list is ordered , i.e . it 's equal to the source list.So my question is why the collected list is ordered ? Does collect always respect encounter-order , even for parallel , unordered streams ? Is it the specific Collectors.toCollection ( ... ) collector the one that forces encounter-order ?"
I have the following code : getEntries ( ) returns a List < Entry > . How can I add the return statement into this lambda expression ? Something like .map ( User : :getEntries ) ?
I 'm trying to translate one of my Java projects to Python and I 'm having trouble with one certain line . The Java code is : What I think this is supposed to be in python is ... but I am getting an error SyntaxError : invalid syntax.How can I translate this Java to Python ?
"Imagine finding out if two shapes intersect . An intersection of two shapes may be either another shape , or nothing . If there is no intersects ( Shape ) method in Shape , then , I believe , the proper object-oriented solution would be : In JDK , Optional is a final class , not an interface . To properly solve problems like this one , I 'm going to write my own Maybe interface that will look like this : What caveats may there be if I stick to this solution implementing Maybe whenever I need optional behavior ? Also , this task seems to be quite universal . Am I reinventing the wheel here with introducing my own Maybe interface ? I should add that the whole hassle with a separate class and interface is to omit implementing the behavior using static methods ."
"The code snippet shown below works . However , I 'm not sure why it works . I 'm not quite following the logic of how the lambda function is passing information to the interface . Where is control being passed ? How is the compiler making sense of each n in the loop and each message created ? This code compiles and gives the expected results . I 'm just not sure how ."
I have a class PDF which implements an interface fileReader.I notice that there are scope issues for variables fin . Another implementation I made was : But now I could not access fileContent.How can I combine the try-catches so that I do n't have scope problems ? Can there be a better design approach to this problem ? I have to make functions for reading three different types of file .
"Java 8 here . I need to search two lists of POJOs for a string and want to use the Stream/Optional APIs correctly.If the name appears in the first list ( `` lunches '' ) then I want to return an optional containing it . Else , if the name appears in the second list ( `` dinners '' ) then I want to return an optional containing it . Otherwise I want to return Optional.empty ( ) if the name does n't existing in either list . My best attempt thus far : Can anyone help me cross the finish line here ?"
"I was going through java.net package and read this : URLs are `` write-once '' objects . Once you 've created a URL object , you can not change any of its attributes ( protocol , host name , filename , or port number ) .But , if we look into the java.net.URL we will find this : andSo , I know these are protected methods but these can be accessed via So , my question is , if that statement I quoted on top is vague or I just misunderstood it ?"
"Can someone explain me why this construction wont work : and this one works just fine : As for me they are identical , but 1st one wont write data correctly ( will write half of file lenght / data ) ."
"I 'm currently brushing up my Java and reading up on Generics . Since they were not treated extensively in my Java class , I 'm still having some trouble wrapping my mind about it , so please keep that in mind when answering.First of all , I 'm pretty sure that what I 'm trying to is not possible . However , I 'd like to find out where my thinking is wrong and how I should go about achieving what I want.What I 'm trying to do is manipulating an object that implements a generic interface from another class that has no knowledge about the instantiated type . Thus , I have something like the following classes : Now what I want to do is : What is the fundamental flaw in my thinking , if there is one ? And what approach should I rather be taking ?"
"How do I convert a List < Entry > to Map < Entry : :getKey , List < Entry : :getValue > > using streams in Java 8 ? I could n't come up with a good KeySelector for Collectors.toMap ( ) : What I want to get : { ' 1 ' : [ `` a '' , `` c '' ] , ' 2 ' : [ `` b '' ] } ."
"Is there a more concise , perhaps one liner way , to write the following : Using Java 8 features , and functionally insipred approaches . I 'm not expecting a Haskell solution like : But something more elegant than the traditional imperative style ."
"I have several enums with a name property and a byName method which is roughly like this for all of them : Since the byName method is duplicated across different enums , I 'd like to factor it out in a single place and avoid duplicated code.However : Enums can not extend an abstract classJava8 interfaces with default methods can not access the values ( ) methodI know this could probably be done with AspectJ , but I 'd rather not introduce compile-time weaving for something simple as this , and Spring AOP ( which I have at hand since this is a Spring project ) only allows binding to existing methods and not adding new ones.Any other viable solution to add a common method to enums ?"
"I am taking data structures and analysis . We have gone over how assignment and comparisons of object types is much slower than assignment and comparisons for basic types , such as int.I recall learning C ( all those almost thirty years ago ) and how pointers in C are ( or were ) integer calls . Is Java similar today , is a reference to an instanced object internally an integer address of memory , and as such are comparisons such asan integer operation within the framework ? I hope my question is clear . I 've been researching around and I ca n't find a clear answer of how Java manages its dynamic memory ."
"Is there anywhere in the Java standard libraries that has a static equality function something like this ? I just implemented this in a new project Util class , for the umpteenth time . Seems unbelievable that it would n't ship as a standard library function ..."
"TL ; DR : Half-width : Regular width characters.Eg . ' A ' and ' ﾆ'Full-width : Chars that take two monospaced English chars ' space on the displayEg . ' 中 ' , ' に ' and ' Ａ ' I need an implementation of this function : No this is not about data structures for those chars , it 's only about the displayed width.Long Story : I 'm refactoring HyLogger , a logging library focused on text-coloring with gradients . Here is the problem I ran into : If you look at the first gradient text block printed in the screenshot , the full-width text in the middle messed up the gradient pattern after it , because when calling string.length , they are counted as one character even though they take up twice the size.You might be asking , why on earth would anyone print full-width characters ? This is a real problem because almost all characters in languages like Chinese , Japanese , or Korean are full-width , therefore takes twice the space , similar to the English full-width characters.So I need a way to identify full-width characters so that I can calculate them as two gradient-pixels instead of one to solve the problem in the picture.Known Info : C++ check if unicode character is full width : There is a list of East Asian Width characters on the Unicode website ( and also the report ) , but it 's probably not efficient to traverse this entire list for every single character when rendering a gradient text block.Python has this Unicode database library , one possible solution is to call python API using Jython , which would be heavy and the efficiency is probably not very good.Analyzing full width or half width character in Java : The ICU4J library has Unicode tools to achieve this function , but that library is 12.5 MB large , which is n't optimal for my 50 KB logger library ."
what is the result ? to this question I expected the answer `` compilation fails '' because final method can not be overridden and it does not allow inheritance . but the answer was `` Cliddet '' why is that ? did I misunderstand something in this concept . how can this be the output ? please explain .
what is fundamental difference in these two following approach for converting collection to array objectwhen should use approach-1 and when approach-2 ?
I 'm looking to convert an array of char to a Set of Characters.Logically if I wrote out something like How to convert an Array to a Set in Java instead of using the built in functions it would work . However using built in functions with generics it does not.Why does n't it cast array of char to characters ? As a follow up to an answer . ( Thank you btw ) I think a simple example of what I mean is why does the first line implicitly cast but the second line does not ? My understanding is both of the right hand sides make character [ ] variabless
"I want to parse float values from From above string i need 13.04 and 14.67 . I used following regexBut using this i am getting `` .13 '' , `` .04 '' , `` .14 '' , `` .67 '' Thanks in advance"
"Question : Most efficient way to get the highest number from a collection of integersI was recently discussing this question , I had 2 solutions in mind . 1 ) Iterating over the collection and find the highest number ( code below ) 2 ) Use a sorting algorithm . The first method will have O ( n ) efficiency My question is `` Can any sorting algorithm beat it ( on time scale ) on any given input for eg . if the collection is already sorted or not ? '' Is there any other way better than this ?"
I have a data sample : it 's just a compressed EMF image . I try to decompress it by code : and get a CORRECT answerAfter that i 'm try to compress it back by code : And get a result : the more similar result was achieved when i uncomment deflater initialization and using in DeflateOutputStream constructor.As for me it 's very strange behaviour or i do n't use inflate/deflate mechanism properly.Any idea ?
"Has anybody ever used those machines at a gas station or grocery store where you get money for donating your recyclables ? Well , I wanted to make a virtual one of those and so far everything 's okay until I had to do some math . I 'm only 13 , so this part was pretty tricky even though I thought it was gon na be simple . I need the recyclable type 's value times the amount and then added to the total money . But instead of adding it to the total money it seems to just change the total to the recent value I added . Let 's say I add 2 cans , which is 10 cents , and then I add one more can after that , instead of having 15 cents total , I just have 5 cents . Hopefully you understand . I would also like some constructive criticism about my code . I know it 's not the best , but I just started learning java , so any help would be lovely ."
"Say I have an arrayList containing items of different classes , all of them having the same method : draw ( ) ; I have a third class with a method drawItems ( ) that takes in the arrayList as a parameter . Now , how can I call the draw ( ) method on those objects if they are passed as generic objects ? This below does n't work . I can see why . Java does n't know the item has such a function.How can I get around this ? UPDATEThank you everyone . I did it as follows : 1 ) Create interface named Drawable:2 ) Implement interface into Item class : 3 ) Adjust drawItems :"
"I upgrade my Spring boot version from 2.0.5.RELEASE to 2.1.8.RELEASE ( so Spring Integration from 5.0 to 5.1 ) and the automatic type casting inside integration flow does n't work anymore . I am used to define a set of @ IntegrationConverter components and automatic casting with the operation transform ( Type.class , p - > p ) inside integration flow code but with the new version it seems to be broken.And the Main.java file : Use with a shell : With the previous version ( 2.0.5.RELEASE ) the program work nicely like previously , but with the new version ( 2.1.8.RELEASE ) I get this error ( and no `` OK '' response ) : What I have found is that the ConversionService has been remplaced by MessageConverter and now Jackson is used to transform message from one type to another.Am I wrongly using type casting with integration flow ? Do you have a new solution for casting object with the new version ? Or is this just a regression ? Thanks in advance !"
"Well , I have an interface which is ; And I 'm implementing it . Here is thing , when I defining function like : I 'm getting warning on function initalize which is 'Type safety : The expression of type ... needs unchecked conversion to conform to ... '.I can get rid of this with using suppresswarning but I do not want to use it . What am I missing ? Thanks in advance ..."
"Caller Of the method , MethodProblemIf there are 2 requests that has to be sent , I sometime see only one request being sent . Meaning , even though for loop is executing twice for 2 request ( HTTP ) , I see only one request is being sent to the server.What is that i am doing wrong here ? Rxjava version in use : 2.2.19"
"I have written a piece of software in Java that checks if proxies are working by sending a HTTP request using the proxy . It takes around 30,000 proxies from a database , then attempts to check if they are operational . The proxies received from the database used to be returned as an ArrayList < String > , but have been changed to Deque < String > for reasons stated below.The way the program works is there is a ProxyRequest object that stores the IP & Port as a String and int respectively . The ProxyRequest object has a method isWorkingProxy ( ) which attempts to send a request using a proxy and returns a boolean on whether it was successful.This ProxyRequest object is wrapped around by a RunnableProxyRequest object that calls super.isWorkingProxy ( ) in the overrided run ( ) method . Based on the response from super.isWorkingProxy ( ) , the RunnableProxyRequest object updates a MySQL database.Do note that the updating of the MySQL database is synchronized ( ) . It runs on 750 threads using a FixedThreadPool ( on a VPS ) , but towards the end , it becomes very slow ( stuck on ~50 threads ) , which obviously implies the garbage collector is working . This is the problem.I have attempted the following to improve the lag , it does not seem to work:1 ) Using a Deque < String > proxies and using Deque.pop ( ) to obtain the String in which the proxy is . This ( I believe ) , continuously makes the Deque < String > smaller , which should improve lag caused by the GC.2 ) Set the con.setConnectTimeout ( this.timeout ) ; , where this.timeout = 5000 ; This way , the connection should return a result in 5 seconds . If not , the thread is completed and should no longer be active in the threadpool.Besides this , I do n't know any other way I can improve performance . Can anyone recommend a way for me to improve performance to avoid / stop lagging towards the end of the threads by the GC ? I know there is a Stackoverflow question about this ( Java threads slow down towards the end of processing ) , but I have tried everything in the answer and it has not worked for me.Thank you for your time.Code snippets : Loop adding threads to the FixedThreadPool : ProxyRequest class : RunnableProxyRequest class : DB class :"
"I have the week number , its curresponding year and dayOfWeek number ( i.e . 1 for Monday , 2 for Tuesday and so on ) . Is there a way to find the date with this information in java ? Following is a method I found online . But then realised that wkstart is storing the current date instead of the start of the week.Is there a better way of doing this ?"
"How do I use list.contains to check if the number was found in the list more than once ? I could make a method with for loop , but I want to know if it 's possible to do using .contains . Thanks for help !"
"I think I 've run into an issue with an assumption I made : if a spliterator 's item is n't consumed by a stream , the spliterator will still be able to advance to it . It seems like this is not the case.Here 's some code to demonstrate : This outputs : I understand that spliterators can be split ... but it seems like non-split , sequential access would intuitively preserve non-consumed items.In the test2 , it seems spliterator1 is fully consumed after the stream . But in test1 , it is not fully consumed.Is there anything I can do to get the desired behavior , or am I just doing something I should n't be doing ?"
"Consider this class : And consider this reflection snippet which wants to access the handle ( ) method.Instead of findingpublic void Handler.handle ( Bar ) It findsprivate Foo Handler.lambda $ 3 ( Bar ) Which obviously then throws the Exception : Can someone explain what is going on here , please ? It looks like Java considers the lambda inside the method as a top-level declared method . Is this new ( or even a bug ) in Java 11 ?"
"I am trying to use a pattern to search for a Zip Code within a string . I can not get it to work correctly . A sample of the inputLine is What I am trying to use for a pattern is If I am looking to only get 75002 , what do I need to change ? This only outputs the last digit in the number , 2 . I am terribly confused and I do not completely understand the Javadocs for the Pattern class ."
the java source code like : why the result is : white ?
"I have a big set of strings and I want to create an autosuggest feature for it.Assume the set is [ `` foo '' , `` fighter '' ] Typing `` f '' should return both values , and typing `` fo '' should only return `` foo '' .Currently I am just iterating through the set and filering out results by calling startsWith , however it 's too slow.The standard TreeSet with its subset functions will not help much here as it only implements a RB tree.Is there an efficient solution in the Java API or do I have to build my own Set implementation ? Edit : My implementation looks like this , using Andrey Naumenkos trie datastructures . Notice to increase the array size if you want to use extended ASCII characters . If you use a List instead of the Map you get the results in a sorted order ."
"I have some troubles with a method having a typed List parameter , inherited from another ( typed ) class.Let 's keep it simple : The B class has a useless generic T , and test ( ) want an Integer List.Now if I do : I get a `` The method test ( List ) of type A must override or implement a supertype method '' error , that should not happen.But removing the type of the list works ... although it does n't depend on the class generic.And also defining the useless generic below to use the typed listSo I 'm clueless , the generic of B should have no influence on the type of the test ( ) list . Does anyone have an idea of what 's happening ? Thanks"
"When we move the right hand side to the left of the equation , we need to flip the operator sign from + to - and vice versa.Using java regex replaceAll , we 're able to replace all + 's with - 's . As a result , all the operator signs become - 's , making it impossible for us to recover all the +'s.As a workaround , I 'm iterating through the string and changing + to - when encountering one and vice versa . But I still wonder if there 's a way to flip between boolean value pairs using regex in Java ?"
"If a application run by gradle should be debugged , you add the parameterThe debugger will start a jpda-server ( because server=yes ) and suspend until eclipse ( or whatever ) attach to the socket.How to do the inverse way ? How to tell gradle-bootrun to attach to the eclipse-jpda-server ? I tried to set the options like this : But a exception occour :"
"Learning about Java iterators and general data structures via means of homework.I have built a doubly-linked list ( LinkedList ) which uses Nodes ( LinkedList $ Node ) and has an Iterator ( LinkedList $ LinkedListIterator ) All classes make use of generics.Within LinkedListIterator 's @ Overridden remove ( ) method I am making use of a method of the outer-class , i.e. , the LinkedList class.I get the following compile-time error : My ( primitive ) understanding is that the types do n't match up , however I can not see how that is so.Here is my complete class code : Comp-sci student , first time poster . Thank you to all SO gurus . You 've helped my peers and I many times"
how I can get current Persian Date with time4Jin java ?
"Has anyone had any success using JDK 16 ( https : //jdk.java.net/16/ ) early access build with IntelliJ ? I am able to use JDK 15 early access builds , but when I try JDK 16 I get an error message : All of the research I 've done says JDK stores tools.jar inside of the path/to/jdk-16/lib folder . Thing is , tools.jar is n't there in the JDK 15 package either , yet JDK 15 works fine.If anyone has any clue on how to fix this issue I 'd appreciate it . I 'm still trying , and if I figure it out I 'll update this post.Thanks in advance ."
"this might be a long message but i would like to give a clear question for all of stackoverflow user.What I did is create a static String of array inside a class that is binded on my gridviewAnd manually binding it on public class ImageAdapter extends BaseAdapterAs you see I am calling ParserArrayList 's 'imageCaptionId ' and sends it to another string of array in which i declare 'imagetext 'Everything works fine until I found out that the array 'imageCaptionId ' must be based on local databaseIve tried using this code but I cant finish becauseFirst : I dont know how to bind it to arraySecond : I created it inside ParserArrayList and it gives me an error sayingThe constructor SQLiteAdapter ( ParserArrayList ) is undefined ( This is already done ) Could you help me sirEDITThis is what I am trying to accomplish or my logicon my ParserArrayList class I am trying to add this code ( I dont know if this is correct ) which gives me an error saying Syntax error , insert `` AssignmentOperator Expression '' to complete Expressionnow on my ImageAdapter extends BaseAdapter here is my codesMy logic is that I will bind it on my array of String inside ParserArrayList ( in which it will return imageCaptionIds ) and set it on a textview"
Java does not parse the date as expected and outputs :
"I have gone through the following link Why would a static nested interface be used in Java ? .In my code base I have : And in some other class in a different package : Now , my question is - `` Is it really a good design to put I2 in I1 '' ? EDIT : / And in a different file I have ..."
"Why does TreeMap of type Map not define the methods tailMap or headMap.With explicit cast it works : With NavigableMap everything is fine : If I 'm right that 's because of the interface Map lacking corresponding methods , in spite of the face that the object map is concrete implementation of class TreeMap that certainly does possess the such methods.Just looking for more detailed explanation.Thanks !"
"I have this piece of code , where I want to return an element if present , otherwise nullbut I got an Exception in thread `` main '' java.lang.NullPointerException anyway"
"Trying to run a simple hello world example but getting the following error , which I do not understand : How to solve it ? Do I need some libs , plugins , configs which are not yet included ? Here is my pom : Tried using Java 9,10,11,12 and JavaFX 12 & 13 and get the same error ."
"I recently needed to sort a one line file ( integers separated by `` , '' ) into smaller chunks with memory restriction and efficiency in mind . I 'm currently following this logic : Assuming I 'm restricted to 5MB of memory and have to read a one-line file with 10,000,000 integers separated by `` , '' : If I use a very small buffer size ( ex . 10 ) to read the file then I'llcreate thousands of files.If I use a decent but still small buffer size ( ex . 100KB ) then I willstill get a lot of files.If I use a bigger buffer size ( ex . 4MB ) then I will have heapproblems when sorting and splitting the result in memory due to the restriction.What is the best approach for me to take to get the least amount of sorted files ( or the biggest chunks of data per file possible ) ?"
I have a rest controller contains many methodsHow can I know which method is being accessed without using print in each method ? Are there any ways to do that ?
"I noticed something in static initializers which may be a bug in the javac . I have constructed a scenario where I can assign a variable a value but not read that value back.The two examples are below , the first compiles fine , the second gets an error when trying to read a value from tmp , but for some reason assigning a value to tmp is permitted . I could understand if it could neither read nor write to the variable since tmp is declared after the static initializer , but an error on only one of those does not make sense to me.to emphasize the point further , this does compile successfully ."
"The Java-Spec guarantees that a given lamda-definition , e.g . ( ) - > `` Hello World '' , is compiled/converted to exactly one implementation class ( every definition , not every occurence that `` looks '' the same ) .Is there any way I can force the java-compiler/jvm to generate a new lamda-definition instead of sharing a common one ? I am currently implementing a library that weaves multiple function parts into a BiFunction which suffers from mega-morphic call-sites because of the guarantees given by the java-spec ( EDIT : I stand corrected : the Java-Spec does not guarantee a single shared class - the current reference implementation does this though ) : Every lamda generated through this code shares the same lamda-definition and is thus mostly uninlineable / unoptimizeable ."
"I am confused by the answers and the results i am getting on compiling a 3 line program . Here is the code along with its opcodes : http : //pastebin.com/B1xxAjcp If i am not totally wrong , its evident thatthese lines corresponds to these opcodes : So to my understanding ldc # index means that instead of creating a new object , creates a reference to the constant literal pool , and pushes it to stack.A new object is created , new and dup commands occur before the ldc # index . But in this question How many String object.. ? , the second answer says that ldc # index implies that String object has been created , The explanation goes like this : As you see , there is only one String object , which contains `` ObjectOneObjectTwo '' .I can not understand ( nor are the people helping me ) where did i get the concept wrong ? Does ` ldc # index ` means a object is created and linked with a reference from the pool , but it does-not imply that a `` new '' object has been created ?"
"I have several values , like this : ( Elements in a row are in relationship . ) I should find all the values which are in relationship and put them into a list , like this : [ 26,287 154,303 375,338 260,393 ] I have tried to use this code : It creates only one ArrayList , it gives all elements in a row instead of separately . I have tried debugging , but I can not see what causes this.Example of what I want :"
"When we launch jar file by command line We can pass argument by just adding arguments by space . But sometimes I faced with the arguments those start with dash like -Darg1 , -Darg2.What is the difference between them ?"
"Consider the following code : I 'm trying to understand why it wo n't compile . Meaning , why does n't the compiler let me refer to List < ? extends Animal > as a List < Animal > ? Is that has something to do with the type erasure mechanism ?"
"Reading this article about JSR-133 , it says : all of the writes to final fields ( and to variables reachable indirectly through those final fields ) become `` frozen , '' ... If an object 's reference is not allowed to escape during construction , then once a constructor has completed and a thread publishes a reference to an object , that object 's final fields are guaranteed to be visible ... The one caveat with initialization safety is that the object 's reference must not `` escape '' its constructor -- the constructor should not publish , directly or indirectly , a reference to the object being constructed.My question is about what is considered escaping . More specifically , I want to know if this ( somewhat artificial and strange ) code results in a safely-publishable Child object : Firstly , while Parent is clearly mutable , Child is `` effectively immutable '' , since the parent setter that would allow mutability is not reachable anymore.The reference to `` this '' in the constructor is not visible to anyone ( not getter , and not passed to any other object ) . So , does this count as `` escaping '' ? But the object as a whole is being referenced by a final field ( self ) , and so in theory , it 's whole content should then be `` frozen '' . OTOH , the final field is itself not reachable , so maybe it does n't count ; I could very well imagine the JIT just completely optimizing it away.If `` self '' was made accessible through a getter , but the getter is not called in the constructor , does it then count as escaping ( assuming it did n't before ) ? This would prevent the JIT from optimizing it away , so that it must then `` count '' , maybe ? So , is Child `` safely-publishable '' , and if not , why , and would a getter for `` self '' change the answer ? In case the purpose of the question is n't clear , I think that if this works , it would allow one to easily make a mutable class `` safely-publishable '' , by just extending it as shown above ."
"Upon discussing the multiple-catch / combined catch block here with ambiguity between the terms `` multiple catch block , '' meaning the Java 7 feature : and `` multiple catch blocks , '' meaning literally , multiple catch blocks : I 've researched to see if the Java 7 feature has a specific , official name that can be used to clearly distinguish it from the older style of catching multiple exceptions . However , Oracle sources do n't seem to name this feature anywhere , while some other sources ( like Eclipse and SO ) call it a `` multi-catch '' block.Is there an official , Oracle-given name for this feature anywhere ?"
"As usual , I 'm just another highschooler desperate enough to resort to asking the question after lots of googling.I 'm working on one of them programs that can somewhat be applied in real life ( but never are ) . In this case , a change counter that sums up the number of dimes , nickels , quarters and remaining cents and shows them in one sentence.My problem is , I need to make a proper sentence format that uses commas and an `` and '' in the end , which I ca n't manage with my very limited current knowledge.Anywhere you see a division of currency is a variable that representsit ( cents , dimes etc ) backupInput is the variable that holds theuser 's chosen number of cents ( anything from 1-100 ) The part of my program concerned with what I want to ask is this : The problem is , anything this outputs give the result of something likeWhile it 's supposed to be , according to the example format given : Keep in mind I tried nearly everything I could think of and in all my tries it was too inefficient and did n't even work in all the cases . I 'm not trying to save myself from work here . I just want to learn the concept behind doing it right.That 's about it . The rest of the program works fine and dandy . If any of you could help me , please keep the answer easy to understand for a newbie like me so it 's easier to grasp the concept : ) Thanks !"
"According to Java Concurrency in Practice , it is dangerous to start a thread within a class constructor . The reason is that this exposes the this pointer to another thread before the object is fully constructed.Despite this topic being discussed in many previous StackOverflow questions , I am still having difficulty understanding why this is such a concern . In particular , I hope to seek clarity on whether starting a thread inside a constructor can lead to memory consistency problems from the point of view of the Java memory model.Let me give you a concrete example of the kind of thing I want to do . ( The desired output for this piece of code is for the number 20 to be printed to the console . ) Yes , I know that the thread is started before we return from the constructor . Yes , I know that the this pointer is exposed to the thread . And yet , I am convinced that the code is correct . I believe it will always print the number 20 to the console.The assignment this.value = 10 happens-before thread.start ( ) . ( This is because this.value = 10 precedes thread.start ( ) in program order . ) The call of thread.start ( ) in the main thread happens-before the start of the .run ( ) method in the newly-created thread . ( Because thread.start ( ) is a synchronising action . ) The start of the .run ( ) method happens-before the System.out.println ( valueHolder.getValue ( ) * 2 ) ; print statement . ( Again , by program order . ) Therefore , by the Java Memory Model , the print statement should read the correctly-initialised value of valueHolder.value ( namely , 10 ) . So despite having ignored the advice from Java Concurrency in Practice , I still appear to have written a correct piece of code.Have I made a mistake ? What am I missing ? UPDATE : Based on the answers and comment , I now understand that my code example is functionally correct for the reasons I provided . However , it is bad practice to write code in this way because there is a chance that other developers will in future add further initialisation statements after the starting of the thread . One situation where such errors are likely is when implementing subclasses of this class ."
"I was working on a part of an in-house library today and wanted to improve some things by adding basic generics to our `` Game '' class.Here is the stripped down version of the , now changed , game class : Pretty standard , I know . But when I wanted to use the getPlayers ( ) method in a game module like this : for ( GamePlayer player : game.getPlayers ( ) ) All it gave me was an error that the return type equals `` Collection < Object > '' instead of `` Collection < G > '' .All other functions I have ( like G getPlayer ( String name ) ) return the correct type , but not the getPlayers function.I really want to avoid implementations of this library cast their players to things likeMyGamePlayer player = ( MyGamePlayer ) myGame.getPlayer ( `` dummy '' ) .What did I do wrong with the generics ? Edit : Here is the class that contains the for loop :"
"I 'm a bit lost about this fact : I read some similar question here , but the problems in those cases where not mine , so here I am.I use MySQL and Hibernate . In my webapp there is this static HibernateUtil class to access the database : Then I call the util class like in this example : So basically I close the connection on success ( closeSession ) and on error ( errorSession ) . Now why do I see so many connections in the MySQL console ?"
"I need to retrieve a list of currently open programs using java . The following code gives me a list of all the programs that are active including any background processes however I need only a list of active programs . I am not going to be aware what programs are currently open and so will not be able to find it by searching for a series of names , as I have seen some people recommend this method.By active program I am meaning any program that is available to the user to interact with through a window . The task manager window already splits the programs ( in detailed view ) into apps and background processes and I would like to be able to retrieve any programs that would be sorted under the apps section ."
"I 'm working on a method aimed at sorting an array in ascending order . The array consists of earthquake marker objects , and what I need to do is sorting the array by the `` magnitude '' property of the objects . I tried selection sort but it seems that the elements are n't swapped properly.Here is my code : It turned out that the quakes are n't sorted by their magnitude.From my perspective , there might be something wrong with the swap because Java is passing by value . If so , how can I fix it ? Or does the problem lay somewhere else ?"
What doesdeclared inside a class definition body mean ?
"I have a method that returns Set < Set < String > > . In my test , I am trying to check if the expected Sets are present using contains ( ) method . eg . input = `` cat '' , `` dog '' , `` god '' output = [ [ cat ] , [ dog , god ] ] Now , if I do output.contains ( new HashSet < > ( Arrays.asList ( `` cat '' ) ) ) it returns true . But if I do output.contains ( new HashSet < > ( Arrays.asList ( `` dog '' , `` god '' ) ) ) it returns false.According to my understanding , it should return true in both cases.What am I missing here ?"
"I have this code , a PostFixCalculator but whatever I put in for the while and try , I kept getting an error . The program compiles and runs the way it is posted , but it does not run correctly . I 've hit a wall.."
"I have to calculate total fly time minutes between departure airport and arrival airport . This job is done by this code snippet : Here is the problem : When I want to calculate future flight 's duration with those parameters : as a result of those parameters , flightDuration object is : Seems everything is OK , right ? But it 's not OK actually . Let me explain ; The departure airport code is IST ( Turkey ) and arrival airport code is AMS ( Netherlands ) and here is the key : After 2017-10-29 ( before the time I calculated ) , AMS time will be backed by 1 hour , and its offset will be +01:00 , and the IST offset still remain +03:00 . So the correct duration object have to be : How can I fix this problem ? It 's really annoying.Thanks for your help.Edit after ZonedDateTime comments : Guys , I also tried with ZonedDateTime object , on calculations . Here is the code with ZonedDateTime object used , it makes no difference on the result.After the @ Joe C 's answer , I changed the code again and I believe that this is the way I should go : BUT : Java assumes that Istanbul also change its timezone offset to +02:00 , but IT WILL NOT HAPPEN . I think I also need to get my Java updated . Here is the result after code change : aaand flight duration remains the same : Thanks for the answers guys . Now I have to fix the timezone change of Istanbul ."
"Given an API like : In Java 's Optional type , we can say : But , since Foo is a Bar , I would like to be able to say : As an exercise , I wanted to accomplish this with another type : How would I rewrite this to compile , but also support the ability to widen the type when desired at the same time ?"
I have this string : I tried to split the string using the following code : Result is the following array : But I need to split the string as follows : To make it clearer . First of all I need to ignore - > when it splits the string and then remove those empty strings in the result array .
"Consider this code : I would expect the last statement to require an explicit cast because , b+=l is evaluated as b = b+l and ( b+l ) part gives an integer.Integer can not be assigned to byte without an explicit cast ?"
"I 've read a little about what `` this '' escaping is and realize that the previous code is bad , as I have little idea what the external processes are doing with the this reference , so it should n't be passed outside the constructor until it is constructed.However , due to the final fields in both App and A , I really do n't see how I can initialize this afterwards , or lazily . Is making the fields final less important then the this escaping ? I 'm not sure ."
"I 've been profiling the x64 version of my application as the memory usage has been outrageously high , all of it seems to be coming from the JavaFX MediaPlayer , i 'm correctly releasing listeners and eventhandlers . Here is the stark contrast . The x32 version at start And now the x64 version at startThe x32 version stays below 256mb while the x64 will shoot over a gig ; this is while both are left to play through their playlist.All the code is the same . JDK : jdk1.8.0_20JRE : jre1.8.0_20VM arguments on bothSame issue occurring on another x64 Java application Is this a bug or am I overlooking something ?"
"I want to sort the data according to id and marks pair.ID should be in ascending order and marks should be in descending order , here is my code : output like :"
"I have this class : For this class I have a simple list filled with some data . List < A > listOfA.Now I want to convert this data to a map . Map < String , List < A > > Currently we using a bunch of methods to archive this in a very complicated way . I think , we can solve it with a simple stream ( ) -operation.I tried thisWhat is the right way for this situation ? Edit : To be clear , I want a Map < String , List < A > > ."
I have below code snippet and this works fine . Should n't it throw compile time error because I have defined c as ArrayList which will contain String object but I am adding Integer object . So why it did not throw compile time/Run time error ? I know below will throw compile time error but why not above . Whats the logical difference between both these code snippet ?
Is there a way to let the 'reduction ' of the reduce ( ) method of Stream be optional ? I want to iterate over a list of Periods and join the periods that overlap and maintain both periods if they do n't overlap :
"I want to figure out the time complexity of the while loop , I know the running time of the isThere function is N and So is the main for loop in firstAlgo"
"I want to use a List < E > but the only method I 'm ever going to use isI am interested in the return value of this method ( the E removed ) . I never need the method remove ( E e ) .The only constructor I 'll ever need is one taking a Collection < ? extends E > .If List is an ArrayList , the remove ( int index ) method has time complexity O ( n ) because you have to shuffle the elements after the removed element one place to the left.If List is a LinkedList , the remove ( int index ) method also has time complexity O ( n ) because although it takes O ( 1 ) time to change the links at an element , you have to find the element at index index by transversing the List.If I 'm only interested in using the remove ( int index ) method , is it possible to write an implementation of List < E > that it optimised for this method , so that the remove ( int index ) method has time complexity better than O ( n ) ?"
"Possible Duplicate : Integer wrapper objects share the same instances only within the value 127 ? How ! = and == operators work on Integers in Java ? I tried to compare two ints with the following cases and got unexpected resultswhen I did the following , @ @ @ was printed.when I did the following , @ @ @ was not printed.Can anyone tell me what could be the reason ."
"I have these two interfaces . One is public ( A ) , the other one is package private ( AA ) . A extends AA..I have this code ( in a different package ) : When running the above code the list.stream ( ) .forEach ( A : :defaultM ) ; throws the below exception . Why ? Why ca n't the method reference access the methods defined in the package-private interface while the lambda expression can ? I 'm running this in Eclipse ( Version : 2018-12 ( 4.10.0 ) ) with Java version 1.8.0_191 ."
Reviewing an example use of Optional where the optional is first loaded with a database call and then mapped to a Spring security UserDetails instance . The code looks like this : In the last line would that call equal return new CustomUserDetails ( user.get ( ) ) .Also anyone know if there 's an even shorter more fluid way to write the above example ?
"Code : How can I do this in Java ? If I make it as a class field as inSince it is in a thread , it asks me to make the Process P as final . If I make that final , I cant assign value here . p= Runtime.getRuntime ( ) .exec ( my_CMD ) ; . plz help ."
"Prior to finding the method Long.numberOfLeadingZeros ( long i ) , I was casting longs to doubles and using Math.getExponent ( double d ) . The idea was to find the double representation of the long , use the exponent to get the highest set bit , and subtract it from 64 to get the number of leading zeros.This mostly worked , but was occasionally off by 1 . The following for-loop was used to highlight the problem : with the significant portion of output : The longs with all bits set are off by 1 above 2^52 . As this post explains , a loss of precision occurs due to the storage of 53+ significant bits in the 52-bit mantissa . However , I am struggling to understand why the exponent is affected.While I am no longer using this method , I am still curious : why and under what circumstances does this method of finding the leading zeros in a long fail ?"
"Value-based classes have the property that they are final and immutable ( though may contain references to mutable objects ) .Consequently , if you know that your object only contains immutable instances , you could precompute the hashCode of the instance . This could speed up access when using Map or Set operations.Looking at the implementation of hashCode from Instant , which is a value-based class , why have the developers decided against this pattern ? Would the loss of performance for precomputing the hashCode be more significant than computing it over and over again when required ? So , under what condition is precomputing the hashCode justified ?"
"I know that in Java , everything is passed by value . But for objects , it is the value of the reference to the object that is passed . This means that sometimes an object can get changed through a parameter , which is why , I guess , people say , Never modify parameters.But in the following code , something different happens . s in changeIt ( ) does n't change when you get back to main ( ) : I 'm guessing -- and I 'd like confirmation -- that when you say s = `` something '' it 's the same or equivalent to saying String s = new String ( `` something '' ) . Is this why s does n't change ? Is it assigned a whole new object locally which gets thrown away once you exit changeIt ( ) ?"
"I 've looked at several examples of people creating tile maps , and I am unable to get the tile position where my mouse is pointed at.I am using a spritebatch and GameTile [ ] [ ] to create the map . Keep in mind that the tiles themselves are isometric and not actually a square.The method renderMap ( ) is where the map is actually is being rendered . createMap ( ) just sets the initial GameTiles for an empty map.The map is able to be dragged and zoomed in and out using Ortho camera.Zooming out gives me an issue as well , the tiles seem to be shifted over on clickActual tile before doing anything to it ; Actual : Desired :"
I would like to have a generic and fast parser for dates that comes with random format like:20182018-12-312018/12/312018 dec 31201812311516172018-12-31T15:16:172018-12-31T15:16:17.1234562018-12-31T15:16:17.123456Z2018-12-31T15:16:17.123456 UTC2018-12-31T15:16:17.123456+01:00 ... so many possibilitiesIs there a nice way a or `` magic '' function do that ? Currently I am planning to use something like this : But is there a smarter way than specifying hundreds of formats ? Most of answers I found are outdated ( pre Java8 ) or do not focus on performance and a lot of different formats .
"I was trying some Android stuff and learning Kotlin on the way and I was wondering how to initialize Views and properties in general.As far as I understand , the contracts in Kotlin and Java ( `` I will initialize before use '' ) and both UninitializedPropertyAccessException and NullPointerException are more or less equivalent . You can do a isInitialized check in both cases . I just do n't know why JetBrains would bother with null-safety so much and then introduce the exact same thing in a different shape.So , is there any advantage in lateinit ? Example Code : vs"
"I have a bunch of images from sdcard that are load asynchronously on a gridview . Everything works fine , but when accessing a multi select contextual action menu by long clicking in any image the entire activity reloads and all images are loaded again . How to prevent it ? MyadapterContextual action menu codeI appreciate any help ! ==UPDATE==Here is the MainActivity code :"
"This snippet of Java code does not result in a compile warning . How can I configure Eclipse to warn in this scenario ? If it matters , I 'm compiling with 1.8 compliance level ."
"In Bash , if I wanted to iterate through elements of an array in a given order , I could do so like this : Is it possible to do the same ( or relatively the same ) thing in Java ?"
"I have a method with the following signature : However I can ’ t call it passing in a Map < String , Set < String > > . For instance , the following doesn ’ t compile : The error message being that : However , if I change to the following all is fine : However I ’ m not at all interested in V , as I just want to know the size of each of the sets.For completeness sake , this is the whole method : Which I ’ m aware it can also be accomplished like this , but isn ’ t the point of the question : ) Update : yet another way of achieving the sameFinal update : Thanks to Jorn ’ s answer , this is the final implementation ..."
"So I have came across a weird compiling error when using a generic class that has a List ( or Map or Set , etc ) as an attribute.The compiling error occurs while trying to iterate ( using a foreach ) the List : Just to be clear , I know there 's a simple workaround for this problem , but I want to understand what is wrong with the codeFollowing is the sample I have created :"
"Imagine you have a menu with dishes each dish should be available in multiple languages ( French , English , Arabic , ... ) . The Dish class contains a list with Language type objects . How do I avoid using instance of when wanting a description of a specific language for that dish ? Should I define for each language a get method in the dish class : getFrench ( ) , getArabic ( ) , .. ? Or should I keep it in list and check for instance of French by looping the list and then call getDescription ( ) on this list object < language > ? Or is there a way for a more polymorphic approach ?"
"In this code , why can type not be declared as Class < ? extends B > ?"
"I was with the similiar topic some time ago . I 'm looking at my app and I think it has a lot of unnecessary code . What I mean is I have service that is responsible for scraping data from different categories of books from two bookstores . Right now I have 5 categories so I have 5 methods , but what if I 'm gon na add some new categories ? I will have to add more methods ... and I think it is not a good option . Right now it looks like this : Controllerand here I was thinking about I think this is the best way , but it is harder with service.Service for it looks like this : I have to pass 2 different links depend on which category was called . Is there any way to do this ? EmpikBookService/merlinFetchingBookService are services that use Jsoup to scrap data ."
"I was trying the following code , I am getting the following output , My question is , why I am not able to assign the list as null inside a called function ?"
"I 'm trying to deploy my Quarkus-app on Heroku . It works fine , but I needed to specify the datasource-parameters with fix values . Because Heroku might rotate this parameters , this is not a really good idea.In Quarkus , I need this 3 parameters in application.properties : Heroku only gives me 1 environment variable ( DATABASE_URL ) , which defines a connection-string in the following manner : postgres : //user : pass @ server : port/db-nameI know I can use environment variables like so : quarkus.datasource.jdbc.url = jdbc : $ { DATABASE_URL } But I need to split up the variable to extract user and password and to change prefix ( postgresql instead of postgres ) .Does anyone have an idea how to achieve this ?"
"Why is this legal : But using an iterator or the syntactic sugar of a for each results in a ConcurrentModificationException : Before everyone starts jumping on the bandwagon telling me to use iterator.remove ( ) ; I 'm asking why the different behavior , not how to avoid the conc mod exception . Thanks ."
"I 'm trying to implement this curve as part of the leveling system of a small game I 'm currently working on . The equation is as followsWhich in python can be defined asRunning this function in the Python console returns the values expected . I ported it over to Java , where it takes the form of : However , mysteriously , this always returns NaN . I 've never encountered this problem before , what is going on ?"
"I have this generic function : Recall from the main with this code : I therefore expect ( being listInt an ArrayList of integers ) that the value returned by the function sum is T = Integer and that in this case , give me a conversion error from Double to Integer.The type of the result is instead Double and no error is thrown.The cast ( T ) tot does not have the desired result.I suppose it 's because Java handles generics stance phase , but someone knows better explain why it works this way ?"
"So I went over this block of code several times in a book that I 'm reading : I do n't see any difference between that and the following declaration : Did I miss anything here ? Is there any reason why I should use the long block of code above ? Thanks ,"
"If we look at the Java standard §14.7 , we see that statements may have label prefixes , e.g . : LabeledStatement : Identifier : StatementIn theory , a label should be able to label any succeeding statement . So , for example , the following compiles accordingly : Intuitively , this also compiles : But the following does not compile : Even though this does ( note the scoped brackets ) : So the question hinges on whether or not declarations are statements . According to the standard ( and the online documentation ) : In addition to expression statements , there are two other kinds of statements : declaration statements and control flow statements . A declaration statement declares a variable.I 've noticed this behavior in Java 7 and 8 on both OSX as well as Windows . Is this a bug or am I misunderstanding the standard ?"
"It seems that the actual close ( ) implementation is tucked away somewhere in the hierarchy of base classes and implementations of abstract methods . For example , are you guaranteed that the file descriptor gets released ? Here is the closest thing to what I wanted to know : from DatagramChannelImpl . Can anyone translate into English ?"
"I am working on a program where I take RGB values from a portion of an image . I want to remove the darkness in the color and make it bright . What I do is I use Color.RGBtoHSB I then take the brightness channel and set it to the highest value it can be in range then convert the HSB back to RGB . However , when I do this the color changes completely . Here is an example with dark red and it turning to purple and the code I use to do this.Output :"
"Whilst playing around with solutions for this question , I came up with the following code , which has some compiler warnings . One warning is : Type safety : The expression of type Test.EntityCollection needs unchecked conversion to conform to Test.EntityCollection < Test.Entity > I do n't entirely understand why this warning appears . By passing in a Class < M > type and declaring the method returns EntityCollection < M > , why am I not doing enough to convince the ( Java 7 ) compiler that the correct type is being returned ? Bonus points if anyone can improve the code to avoid warnings entirely . I 've been staring at it for a while and have n't dreamt up any ways to lessen the warnings ."
J. Bloch in his Effective Java suggests we use an enum-based singleton implementation . For instance : This implementation is nice in the case of serialization because enums provide us with the capability of serialization by default ( and we do n't have to be afraid of getting two different instances while deserializing the object ) . My question is how this implementation respects multhreading . How to make it thread-safe ? What would we probably get if we try to access it from different threads ?
"I 've recently started programming in Android and Java in general so please bear with me.I wrote a loop that should , before adding a new name and phone number to a list and hidden array , remove any duplicates it finds right before . Using the current methods I still get constant repeats , and when clicking the button to add all the same contacts again , I get all the contacts again . This makes me think the duplicate check method is n't working correctly at all , but Im not getting any erors to helpI have two list arrays that I created outside : This is the Adding contacts method : This is the duplicate check method : This is the method that gets called after it should check for duplicates and remove , this next method is the one adding the number and name next : Im really lost on what I could be doing wrong . I would attempt to clean up this code but its not even working properly for me to clean it up ."
"Whenever I make a program I tend to divide different sections in different files , I think it looks more neat that way . To make the problem more concrete say I have this dummy code consisting of four classes , The Alpha and Beta classes communicate with the Gamma . The purpose of the integers is to print out their values and compare them with each other after the setters have been called from the different classes . A general problem I have when I split the sections is that when one class change the values in Gamma , the other classes have obsolete values , the x , y , z variables will still have the old values of x in Gamma when a setter method has been called , unless I discover this before spending quite some time finding it.I tend to circumvent this by passing around one reference of the Gamma class , like so , and spend several lines of code to update everything . Where the reference is being created from the `` main '' class , where `` main '' is not necessarily the class with the main method , but the class where the most action is . The question I have is , is there a standard way of dealing with this kind of problem , where multiple classes communicate with one other class , changing values etc . and ending up with obsolete values ? My problems tend to be more subtle than what is shown but essentially this is what I tend to spend some time on trying to fix . I am sorry if the explanation is muddy , I had a hard time to make the problem this clear , if it is too incomprehensible , write in the comments where and I will try to clear it a bit more clearer ."
I am new to Java 8 . I am learning stream API 's reduce method . I am seeing a weird behavior with this code : Output : My question is why combiner function not executing meaning why this line : ... is not executed ?
"Given the variables : When calling the following method : Using : I get the expected output : But when using : I get : Since strings < - ab and not strings [ 0 ] < - ab.How can I force the compiler to take the ab array as the first value of the strings array , and then having the output : ?"
"I have 3 classes , Account , CappedAccount , UserAccount , CappedAccount , and UserAccount both extend Account.Account contains the following : CappedAccount overrides this behavior : UserAccount does n't override any methods from Account , so it does n't need to be stated.My question is , does CappedAccount # add violate LSP , and if it does , how can I design it to comply with LSP.For example , does add ( ) in CappedAccount count as `` strengthening preconditions '' ?"
"Files.walk is one of the streams that I should close , however , how do I close the stream in code like below ? Is the code below valid or do I need to rewrite it so I have access to the stream to close it ?"
"I am currently attempting to solve a ProjectEuler problem and I have got everything down , except the speed . I am almost certain the reason the program executes so slowly is due to the nested loops . I would love some advice on how to speed this up . I am a novice programmer , so I am not familiar with a lot of the more advanced methods/topics.EDIT : Below is the new code that is exponentially faster . Removed the constant line printing as well to speed it up even more ."
"Is there any difference between initialization via : vs initialization via : Is there any reason why one would want to use the former over the latter ? I see a lot of the former ; I 'm not sure if it 's just because that 's what people are used to , or there 's a reason you 'd want to write it that way ."
"I tried to do this code-golf challenge in Java 7 . Just for anyone that does n't know : code-golf is to complete a certain task in as few bytes as possible . Obviously Java is n't a suitable programming language to do this in , especially with languages like Jelly ; 05AB1E ; Pyth ; and alike who complete tasks in 1-15 bytes which will be 75-300 in Java , but I just do it for fun.Here is my current Java 7 answer . Just for reference , I 'll also copy it here : Which outputs all the 1-indexed months of which the last day of the month is a Monday : As you may have note when you compare my results with the results in the linked challenge , the results for year 1 are incorrect.Does anyone know why ? Originally I thought Calendar.getInstance ( ) has the incorrect calendar as default , so I changed it to new GregorianCalendar ( ) as specified in the challenge . But I realized this is the default calendar already.Why are there incorrect results for year 1 ?"
I have an arraylist of multiple arraylists like-the arraylist contains the elements : Now i want to sort the main arraylist . Main arraylist contains 5 inner arraylists.Now the sorting must be like the 7th element of every inner arraylist is compared which is integer and inner arraylists are arranged accorting to the value of their 7th element .
"Well , I 've got such a code : I do n't know how ( fully or partially ) and when classes are loaded . So : Test t ; - it is not an active usage , but the reference t must be a definite type of . Was Test class loaded ( maybe partially , then how many stages - loading\linking\initializing - it passed ) or nothing happened ? Integer i = new Integer ( 1 ) ; - was Integer loaded when JVM starts or on this line ? t = new Test ( ) ; - an active usage . Was it loaded fully from the beginning or from some point ( see 1 ) System.out.println ( Test4.a ) ; - was Test4 loaded or not ? Were Test2 and Test3 loaded or not ? If yes then when ?"
"I wrote a method to calculate how long ago a father was twice as old as his son and in how many years from now this would be true . Unexpectedly , it returns `` -2 years ago '' for an 8-year-old father and a 3-year-old son . Equally unexpectedly , it returns `` -1 years from now '' for a 3-year-old father and a 2-year-old son . I am not concerned about how to improve the code because I already know how to do this . Instead , I am puzzled about why the for loop counter appears to be decrementing when it 's supposed to increment.Here is my code.With twiceAsOld ( 8 , 3 ) , the for loop 's increment appears to have reversed itself to count down from 0 instead of up . With twiceAsOld ( 3 , 2 ) , the -1 might stand for an error indicating that the father has never been twice as old as his son and never will be . What I do n't understand is what would cause a for loop to start decrementing the i value when it 's supposed to increment . I was expecting the counter to increment indefinitely until the program ran out of memory . I already know how to improve this program , but I am curious about how the counter in a for loop can decrease when it 's supposed to increase . Can anybody explain this ? ( UPDATE : Thanks everyone for your answers . I ca n't believe I forgot about integer overflow . I tried making the variables longs instead of integers , but this made the program even slower . Anyway , now I realize that the counter was incrementing all along until it overflew and landed at a negative value . )"
"JDK 8 on mac OS , looking at following code from HashMap.java : Any changes to the returned ks will reflect in keySet as they always point to the same underlying set , if this is true , can it be written as : Are the two code snippets behave equivalent ? If so , why HashMap uses the first variation rather than the second variation ?"
"I was asked the following question on an interview . Given the following code , if methods add and doAction are being invoked by multiple threads , how can we get a NullPointerException when printing toString ? **Cut out all other multithread concerns ."
With the following definitions : Why does BaseServiceImpl.class.getDeclaredMethods ( ) return 2 methods : public java.lang.Object BaseServiceImpl.findOne ( java.io.Serializable ) public java.lang.Object BaseServiceImpl.findOne ( java.lang.Object ) Is there a way to filter these out ?
"I am trying to write a Hadoop mapper class in Scala . As a starting point , I have taken a Java example from the book `` Hadoop : the Definitive Guide '' and tried to port it to Scala.The original Java class extends org.apache.hadoop.mapreduce.Mapper : and overrides the methodThis methods gets called and works properly ( I tested using a unit test and then run it with yarn ) .My attempt at a Scala port is : and then the methodbut the Scala compiler issues an error : So I thought the two methods had the same signature in Scala and Java , but apparently I am missing something . Can you give me some hint ?"
"I am doing a static import of members of class Long and Integer : Now if I am trying to use this variable MAX_VALUE and print it I will get an error : This is fine . To remove the error i will have to remove one static import to resolve this ambiguity . The main issue I am getting is , if I use wildcard * with Integer classstatic import , the class gets compiled with no errors : The ambiguity must still exist . Why does this compile with no issues ?"
Take a look at following code : I am not able to understand this behavior.. ? I was hoping the first eval to be true as well..And that is what I am expecting..
"I have a service that downloads a large file inside an AysncTask 's doInBackground ( ) method : While this is being executed ( the file is downloading ) , scrolling through a ListView can be from a little choppy to very choppy.I 've tried creating a new process for the downloading service , changing the priority of the doInBackground ( ) thread , pausing during the while loop for any number of milliseconds and I 've optimized for memory usage.I 'm stuck and ca n't figure out how I could possibly make the UI not stutter while the download is occurring . The UI responds normally while the download is n't going on ..."
I want to know how I can use my object ObjetTWS with the parameter of my function ObjectTWS ( ) . And how I can put the object in a Arraylist or a List.I already try this but it says ObjetTWS undefined :
"I am writing a simple multithread practice with java . All I need to do is basically make a JFrame with two buttons ( `` start '' and `` end '' ) . If the user clicks the `` start '' button , the console will start printing out `` Printing '' . And if `` end '' is clicked , the console will stop printing . Clicking `` start '' again will resume the printing.Here is my code ( irrelevant parts are not shown ) : However , once the start button is clicked , the console never stops printing . I keep getting IllegalMonitorStateException . What is causing this issue ? I could n't find the mistake , as all parts seem to be logically correct . Any help will be appreciated ."
"Let 's say we have the following block of code : All the typecasting makes the code look ugly , is there a way of declaring 'thing ' as ObjectType inside that block of code ? I know I could do and work with 'differentThing ' from then on , but that brings some confusion to the code . Is there a nicer way of doing this , possibly something likeI am pretty sure this question has been asked in the past , I could n't find it though . Feel free to point me to the possible duplicate ."
"So I am trying to figure out why a program is compiling the way it is , hopefully you guys can explain it for me.So the output for the above program is going to beCar Running Car Running Car Running My question is , why do I have to do a try/catch block to call drive ( ) method for the v and c2 objects but not the c ? They are all instance of Car so what 's happening here ?"
"Reading myself into Lisp , currently on this page ( http : //landoflisp.com ) , I found the following statement on the second last paragraph on the page that shows when clicking the link CLOS GUILD : The important thing to note about the example is that in order to figure out which mix method to call in a given situation , the CLOS needs to take into account both of the objects passed into the method . It is dispatching to a specific implementation of the method based on the types of multiple objects . This is a feature that is not available in traditional object-oriented languages , such as Java or C++.Here is the example Lisp-code : No I think that the last sentence is wrong . I can actually do exactly that with the following Java code : which gives me the same output , when I run it : So my question is : Is this sentence on that page actually wrong and it is possible in Java / C++ ? If so , maybe it was not possible in an older version of Java ? ( Although I highly doubt that , since the book is only 5 years old ) If not so , what did I forget to consider in my example ?"
"I 've found such an example of using String.format ( ) in a book : According to the book the output should be : 1,000,000,000 . But when I run the code I only get 1 000 000 000 without the commas . Why ? how can I get it with commas ?"
Output : By definition on the tutorials point pageA Set is a generic set of values with no duplicate elements . A TreeSet is a set where the elements are sorted.Why is the output for both s and s1 sorted ? I was expecting only s1 's output to be sorted .
"Hello I 'm testing the class that has some validating methods and I 've been wondering if there is a way to reduce the duplicated code.I also have validators for other fields such as username etc . I was thinking about implementing a helper method that would accept : tested credential as String , List but I 've got a problem with last parameter - a validating method , not sure how to pass that.The code i would like to replace with some method is the for loop ."
"If I execute the statementwill I actually get an instance of moo ? This seems at both the same time obvious and non-intuitive . Functionally , this is what should happen , but at the same time this is not-expected if you did n't know the internals.EDIT : I realized this seems unintuitive b.c . in Java constructors can not return anything.This is very similar to the constructor pattern that jquery uses ."
"The factory in this tutorial obviously violates the OCP . Every time a shape is added to the system , we need to add it in the factory to support it.I 'm thinking of another implementation and I 'd like to know if there are any drawbacks.This implementation looks it does n't violate OCP , and is n't complex . Is there any reason that I ca n't find any factory design pattern tutorial that mentions it ?"
I was reading Unsigned arithmetic in Java which nicely explained how to do unsigned longs using the following methodHowever I 'm confused by Guava 's implementation . I 'm hoping someone can shed some light on it .
"I am trying to understand where good contracts end and paranoia starts . Really , I just have no idea what good developer should care about and what shall he leave out : ) Let 's say I have a class that holds value ( s ) , like java.lang.Integer . Its instances are aggregated by other objects ( MappedObjects ) , ( one-to-many or many-to-many ) , and often used inside MappedObjects ' methods . For performance reasons , I also track these relationships in TreeMap ( guava MultiMap , does n't matter ) in addition , to be able to get fast iterations over MappedObjects bound to some range of Integer keys.So , to keep system in consistent state , I should modify MappedObject.bind ( Integer integer ) method to update my Map like : I could just make abstract MappedObject class with this final method , forcing other to inherit from it , but it is rude . If I will define MappedObject as interface with method bind ( ) and provide skeletal implementation -- other developer might later just forget to include it in object and implement method by himself without Map updating ."
"I have classes called say CalculationOutcome and FileHashOutcome . Their constructors have ( ActualResult , Throwable ) arguments , and at the end of a chain of CompletionStages I have handle ( XxxOutcome : :new ) .It might make intentions clearer and save some boilerplate if I could write say PossiblyWithError < FileHash > . Edit : People asking for example code ... To be specific , it 's within an Akka actor , and I 'm asking the infrastructure to pipe the result back into the actor as a message.Edit : suggestions that CompletableFuture might do the job ... Yes , good point , it represents exactly what needs to be represented . And it 's a bit of a code smell to implement your own rough-and-ready future then wrap it in the java8 future . There are some hoops to jump through depending on whether you have access to the `` envelope '' of the future . If you 're inside a thenApply then you 're `` inside '' the envelope and you do n't know it . And the Akka infrastructure `` throws away '' the envelope and only returns the result ( and it returns nothing if there was an exception , which is one of the main reasons why I wanted to catch and wrap that exception at the end of the CompletionStage chain ) . Of course , since I created the CompletionStage , I could hold onto it in a member variable until the infrastructure nudged me that it had completed ."
"Recently , I stumbled upon the following java syntax : At first , I thought that it is a syntax error , but to my surprise , the code gave no compilation or runtime error . I have the following questions : Is there a standard definition and documentation for such declaration in Java ? What happens when this code is compiled ? Please point me towards relevant literature ."
"I have created anonymous class by implementing interface I inside public static void main ( ) method . So , by java 8 for the abstract method test ( ) , the implementation is provided from imple ( ) method of class C.So , inside public static void main ( ) method , printing _interface.getClass ( ) , I gotpackage_path.Main $ $ Lambda $ 1/310656974 which is absolutely fine . Bacause it print 's the anonymous class name.Also , _interface is pointing to an anonymous object in heap and hence I 'm doing _interface.test ( ) ; So , the first statement that test ( ) method has now is to print the class name , But eventually what it print was , package_path.C ( telling me C is the class name ) . How is that possible ? Should n't package_path.Main $ $ Lambda $ 1/310656974 be printed again ? Because 'this ' means anonymous inside the test method right ?"
When fiddling with unit tests for a highly-concurrent singleton class I stumbled upon the following weird behaviour ( tested on JDK 1.8.0_162 ) : The last 2 lines of the main ( ) method disagree on the value of INSTANCE - my guess is that JIT got rid of the method completely since the field is static final . Removing the final keyword makes the code output correct values.Leaving aside your sympathy ( or lack thereof ) for singletons and forgetting for a minute that using reflection like this is asking for trouble - is my assumption correct in that JIT optimisations are to blame ? If so - are those limited to static final fields only ?
"How is this different from synchronizing on the class , i.e . synchronized ( Bob.class ) { ... }"
"Assume I have an object Car , with five parameters , { numwheels , color , mileage , horsepower , maxSpeed } .I have a method that needs 3 of these values.Which of the 2 options is said to be best practice ? Is it better to pass enclosing object and reduce the number of parameters , OR just pass in bare-minimal data to a method ( eg : numwheels and color will not be accessed in method 2 ) ? Option 1 pass whole object : Option 2 : pass in just the method values.Note : assume for some reason , compute can not be a part of Car class . Please answer with that assumption in mind ."
"Suppose I have a string : String s = `` 1,2,3,4,5,6 '' . I would like to create a method combineFunctions ( ) that would take a variable length sequence of Functions as an argument and apply all of the operations in that order . The functions may have different < T , U > types . Example uses of such a function would be the following : What I have tried ( the < U > here is not of much use here ) : But I am stuck at getting type of last one of the Functions . I was also thinking about a recursive approach but the varargs parameter has to be the last one.Would it be possible to implement such method in Java ?"
how do i pull the `` 16 '' out for both Bar Foo Bar : Foo8:16 Foo Bar Bar foo barz 8:16 Foo Bar Bar foo barz Here is what i have triedAnd here is the error i getI tested the regex ( `` ( [ 0-9 ] + : [ 0-9 ] + ) + '' ) at http : //regexr.com/ and it correctly highlight the `` 8:16 ''
I 'm solving a problem with math.pow function when the answer appear on text field with any enter value such as 10.It will be appear in commas.I use a decimal format library but nothing happen.Is there a different way to do that.I want answer like thisCode : Main
"What 's the difference between the following statements : andIn my script it 's noted that the former would be a correct way to create an array of generics ( although it leads to a compiler warning ) . But I ca n't quite figure out what 's the use of the ( List < E > [ ] ) statement . List < E > [ ] is n't even it 's own type , and the compiler will simply replace it with ( List [ ] ) , so you 'd geta conversion from List [ ] to List [ ] , which is useless . So why put in a ( List < E > [ ] ) in the first place ?"
"While Using TDD I found myself needing to test a constant ( final ) hashmap which contains lookup values ( PLEASE SEE REASON WHY THIS WAS THE CASE UNDER UPDATE ) See below With TDD its stressed to test one thing at a time so i started calling my class verifying the validity of each of the elements as below . TEST STYLE 1after writing the third test I thought it was pretty ridiculous and created a temporary lookup with the reverse key value pairs and began calling in a loop to test as below . TEST STYLE 2My Question is this ; is it better to use style 1 for unit testing or is it better to use style 2 . I see pros and cons for both . for example style 1 is very concise , test only one thing and easier to understand . cons for style 1 besides doing a ton of typing the Test suite will blow up with many trivial test . Pros for style 2 is less unit tests . cons for style 2 has a bit of complexity and may be testing more than one thing but I would argue its only testing one thing the validity of the constant hashmap.UPDATEI 've received a decent amount of blowback from this question so let me further explain . Its not the constant I care about per se but validating the different cases of my code . This Was a practice problem ( Practicing TDD Via Katas ) not production code . The problem was converting numbers to words so what I care about in my unit testing is ensuring I could properly handle the different possible numbers . There were other constants that I did n't include for example constant storing teen numbers ( 11 , 12 , 13 ... ) and tensDigits ( 20 , 30 , 40 ... ) . Its fairly easy to make a typo here ."
"language : javaversion : 12.0.2String source code as follows : How to understand this sentence : 'The static initialization block is used to set the value here to communicate that this static final field is not statically foldable , and to avoid any possible circular dependency during vm initialization . '"
"I work on some kind of cache and from time to time , we need to prune the table to 500 records , based on a last_access_date ( only keep the 500 recently accessed rows ) .With `` plain '' SQL , this could be done with : Now as there is no LIMIT or something like ROWNUM in JPQL , the only solution I found was in native SQL , which is suboptimal , because we run on multiple DBMS ( at least Oracle and MSSQL ) .Also , setMaxResults ( ) ( JPQLs version of LIMIT ) does n't seem valid for DELETE statements.Is there really no way to to this with JPQL ?"
"The purpose of a constructor is initializing values for the fields , setting the initial state of the object . So what will happen if some fields or all fields were not initialized in the constructor ? Is it calling a default constructor provided by the JVM before the user defined constructor ? So , in this example , what would be output ?"
"Something peculiar I stumbled upon the other day.Consider the following code ( it collects the distinct word length counts of the given Strings , but that 's not important ) : and its equivalent method reference version : The first ( lambda ) version does not require you to import java.util.Map to compile , the second one does.Why is this exactly ? I can imagine it 's because the second version needs to have access to the Map class at compile time to build the reference ; but how does it know that Map # keySet ( ) even exists if it does n't import Map ?"
"I 'm using spring mvc and i have Hibernate Validator in my domains , and i have some test that pass in eclipse , but does n't in console ( using gradle ) .In eclipse i have installed only java-7-openjdk-i386 , but in the console i use java version `` 1.8.0_25 '' , i do n't know if this has something with.Part of my domain is : For testing , i use junit4 and an embedded database ( HSQL ) , ( for the web application i use MySQL ) . Some of my test , which throw exceptions are : So , for the first test userEmailMustBeValid there is an assertionError because it expects an exception that does n't occur , which means the @ Pattern ( .. ) is not working at all.And for the rest of the tests the error is : And the HSQL DB and Hibernate are configured like this : So , what is wrong here ?"
"I have such scenario ( this is Java pseudo code ) : There is a main thread which:1 ) creates an instance of an array of type C:2 ) creates and submits tasks which populate ( by doing CPU bound operations ) the arr to a pool P1 : Each task populates different range of indexes in arr so at this point synchronization is not needed between threads in pool P1.3 ) the main thread waits until all populate tasks are finished.4 ) once the arr is populated , main thread creates and submits tasks which upload ( IO bound operations ) the content of arr , to a pool P2 : As previously , the ranges are not overlapping , each thread has it 's own range so no internal synchronization between threads in P2 pool is necessary.In the populate and upload tasks the ranges are different as there is a different number of threads to handle each type.Now I am thinking what is the most efficient way to synchronize it.Using CopyOnWriteArrayList is not an option as it can be very large ( millions of elements ) .My initial idea was to synchronize briefly in a populate task after creating an instance of a C class and then to the same in an upload task : but not sure if this is correct , especially if this empty synchronized block wo n't be optimized out by javac or JIT.I can not create the instances of C class before starting the populate tasks as for that I need the computed data.Any ideas , if that 's correct and if not a way to do it better ?"
"I 'm new in Java concurrency , so i ask what is the best way to perform action like this : I have a static method which matches a sub image within an image . It looks like that : The method returns null if nothing was matched , else it returns the Point of the match.Now I have 40 different sub images for one ( big ) image , which I want to match in parallel . Each second I will get a new ( big ) image in which I need to search those 40 smaller images over and over again . I need the return values of each call to to match method at the end of the match task in my main task , so I can analyze it . Furthermore I need to use as many CPU cores as possible for this task . How can I accomplish that ? I have read a lot about ExecutorService , Task , Runnable and so on . Most examples only show how to print something on the console in paralles . I am really confused which way I should go in my scenario : How to pass the values and how to get the results ? How should the layout of the class ( es ) look like ? Also I have no idea what is the way to go if I create 40 tasks a second ( it will take some time to setup the task , right ? ) Code would be great to explain it : )"
"Snippet 1 : Snippet 2 : Snippet 3 : Snippet 1 is compiling fine but Snippet 2 & Snippet 3 compile with type incompatibility errors . While it 's good that Snippet 2 & Snippet 3 fail , I do not understand how they are evaluated . In other words , I think I am missing some basics in terms of how the lambdas themselves are chained/invoked . Would appreciate if someone could help ."
"I have a Runnable object , that runs a ping operation - If I launch this in current thread like this : I get this output : But if I run it in a new thread like this : I get this : Why are the outputs different ?"
"I have a subclass called CDAccount that has its own variables that are n't defined in the super class . The subclass also has a copy constructor that takes in a superclass object.This constructor is called by this line of code that 's in a different class.I 'm looking for a way to set the subclass variables in the copy constructor . I thought I would be able to do it with the object it takes in , because I created the object as a subclass object before setting it into the array of superclass objects ."
How this is possible ? How am I able to change variables marked as final ? I was using AIDE app in Android ... it compiled successfully and printed 33 .
"I 'm Working on an android app that has a requirement to switch theme based on the themeCode given from server . I 'm using sharePref to save the theme code and applying it with setTheme ( R.style.themeName ) ; . Its working fine till the basic theme attributes like For this I has created different styles in styles.xml . But I have a limitation that some fields say EditText has variation as EditText person nameemailphonepassword etc.And similarly TextView has variation as TextView HeadingSingle LineMutilineLink etc.Before multi-theme requirement I had created separate themes for all asApptheme.Edittext.emailApptheme.Edittext.PasswordApptheme.Edittext.PersonName etc.And was applying to specific view in xml like Now I have viewed many tutorials/posts but did not find solution to the variations in attribute . Please help to apply these variation , I 'll be thankful for this . Regards : Inzimam Tariq"
I declared a 2d-array matrix in Java of type byte . When checking the memory used with the dimensions ( 10^6 x 4 ) it was drastically different from the same size matrix but with dimensions ( 4 x 10^6 ) .In the first case I get 6MB so the array takes 4MB as expected . However in the second case the matrix takes 28MB . Why are they not equal ?
"Really simple question but perhaps someone can explain . I have 2 lines of code : I expect the output of 31 536 000 000 but I get 1 471 228 928.If I remove the 1000 from the formula the answer is correct but the 1000 pushes it over the edge.The variables format is Long so it should be 264 in size , plenty big enough . I 'm stumped as to why the values is n't being stored accurately ."
"I 'm working with a Java API used for `` macros '' that automate a piece of software . The API has , among other things , the classes Simulation ( a global state of sorts ) and FunctionManager . There 's nothing I can do to modify these classes . I 'd like to make a BetterFunctionManager class that extends FunctionManager because the latter lacks some useful features . But I do n't know how to do this , because FunctionManager ca n't be instantiated directly . It must be gotten from Simulation , like this : Note that Simulation ca n't be instantiated directly either ; it must be gotten via getCurrentSimulation ( ) ( the current simulation is determined at runtime by the macro interpreter ) . I ca n't downcast ; the following throws a ClassCastException : How can I construct BetterFieldFunctionManager ?"
Curious why declaring an empty array of non-emtpy array ( s ) is legal in Java : P.S . I have read the related question on zero-size arrays : Why does Java allow arrays of size 0 ? Is this for the same reason ?
"I have things ( say , for context , numbers ) that can perform operations on their own type : and actors that act on all subtypes of a certain upper bound : I want to make an actor that acts polymorphically on any numerical type : Now , clearly this does n't work because Number and Number < N > are not the same . In fact , since Number does n't constrain an implementor 's type parameter to be its own type , such an actor could not possibly work . But I do n't care to operate on Numbers in general - I am satisfied for my functionality to work only on Numbers of some type N extends Number < N > As an alternative , I could declare : But this does n't work for me because it forces me to know N when I construct my Sum , which my use case does n't conveniently allow . It also forces an ugly < N extends Number < N > > on every class or method that polymorphically uses a Sum , causing a proliferation of type clutter.Is there any elegant way to do what I want ? Example : Here is some sample code expressing what I would like to do ."
"For example , a class include two methods , When I invoking find ( null ) , why jvm actually execute the last one ? In accepted answer of Calling Java varargs method with single null argument ? we can read that Java does n't know what type it is supposed to be . It could be a null Object , or it could be a null Object array . For a single argument it assumes the latter . '' but that still does n't explain it . Can anyone provide some more information like from language specification ?"
The following two lines of code : each produce the same output : I expected the bottom line to produce since it should be willing to split after the ^ and before the t. Can someone point out where my thinking is wrong ?
"I 'm writing a class in Java which is a subclass of another class I wrote , and its constructor explicitly calls the superclass 's constructor . The constructor of the superclass may throw several types of exceptions when initialized directly , however when I initialize an instance of my subclass there are several exceptions that will never by thrown ( by design ) .I tried catching these exceptions in the subclass 's constructor but I received an error stating that `` Constructor call must be the first statement in a constructor '' . Why ca n't I catch these exceptions ? For example , the code below : marks the statement super ( file ) ; as the error.How can I implement the subclass constructor so that it will know these exceptions are irrelevant ? I need this because I do n't wish to wrap this constructor in try { } ... catch { } for every exception in my code later ."
"Does the @ Embeddable for @ ManyToMany relations and additional columns , works with String ? I do not use @ Generated Value for @ IdBecause my Entity ApplikationUserby business logic has always an IdHere my code : EDIT - 23.11.2020Regards the lack of interest , its seems to be possible to us @ Embeddable with String ?"
"I am confused about a subject and can not find it on the web . As I understand it , when the program starts the class loader loads the .class files and store them in the memory as objects with the type Class.My question is when we use : Is the new object created using .class file , or using the Class object already in the memory ?"
"Cloud Foundry is it possible to copy missing routes from one app to another while doing blue green deployment ? I have an app with few manually added routes , while doing blue green deployment ( automated through script ) I want to copy missing/manually added routes into new app . Is it possible ? Script : Eg : appblue has 5 roues After blue green deployment through script app contains only 4 routes How to copy missing 5th route ? I do n't want to pass host manual-add from script since it 's added manually.In general , is it possible to copy routes from one app to another if not mapped ?"
"I 'm looking for the best way ( readability and efficiency ) of providing a default value for a HashMap get operation but to also have the underlying map updated with that default value if a value is not already present.I understand there are 3rd party libraries out there , but I 'd prefer to stick with standard Java . Here are some different ways I 've thought of : Old schoolJava 8 Map methodsUsing Java 8 OptionalsNot a fan of this approach from a readability point of view.Using an 'or else ' supplier : Right now I 'm leaning towards the above solution being the best option . Are there other ( better ) solutions out there for this that I have n't thought of or come across ?"
"Here 's a brief example from the JLS section 8.4.8.2.According to the discussion of the example , the output of running main ( ) will be `` Goodnight , Dick '' . This is because static methods are called based on the static type of the variable/expression they are called on . Here 's my question : Any even moderately flow-sensitive compiler could figure out that the type of any object stored in s at the time of the call must always be Sub , so if the compiler were allowed to use that information , even calling static methods could have some of the feel of dynamic binding . Why is this not allowed ? Does Java have the express goal that every compiler produces bytecode that behaves exactly the same or is there some other reason ?"
Above code builds and runs perfectly but it should n't . Comparator.comparing takes a function reference and only those methods which takes one argument and returns one argument can be mapped on this . But in above code getValue is mapped and works fine but it does n't take any parameter . Code should give build issue but does n't . Is there any issue with my concept ?
I have an groove code ( with some java style elements ) Is it possible to do it simpler ? I would like to have something likeor
"I would like to do this : But it fails to compile unless I insert a cast within a : Interestingly , if I remove the generic from a it works : And if I port the original code to Kotlin , it also works ( this makes me think it 's a limitation of Java , and not something that is fundamentally unknowable ) : My question is : what is special about Java 's type system that prevents this from compiling ? It feels to me like the Java compiler could just insert the cast behind the scenes ( it is my understanding that that is how generics are implemented in other cases ) ."
"Consider this case : As I understand type bounds , in this case effective upper bounds of both T and E is class A . So the question : why javac does n't accept class A as argument in declaration of field b , but accepts wildcard ? extends A in declaration of field b2 ?"
Is it good to have a class with short methods used to catch Exceptions ?
"I wrote this example following a test ConcurrentModificationException concept : When I executed the above main method , ConcurrentModificationException does n't get thrown and the output console prints the following result : By with my knowledge of this issue , when in a loop for list , when modifying the list , a ConcurrentModificationException exception should be thrown . But why in my sample does this not occur ?"
"How to break stream computation based on previous results ? If it 's obvious that stream.filter ( ... ) .count ( ) would be less than some number - how to stop stream computation ? I have the following code which checks if some sampleData passes the predicate test : I could have thousands of sampleData . The problem is that this code is ineffective . For example , if coefficient equals 0.5 , sampleData.size ( ) = 10_000_000 , and first 5_000_000 elements fails the predicate : :test - there is no reason to validate last 5_000_000 elements ( count ( ) will never be greater than 5_000_000 ) ."
"I wrote a code for processing and had formerly sorted pixels with selection sort . I have to hand it in and the teacher said it is taking to long like this , so I decided to divide the pixels brightness into parts of 50 and just sort it very roughly . The image that comes out is n't completely sorted though and I really do n't know where it went wrong.I does n't have to be sorted perfectly - it 's really just about having a cool-looking image as a result.I hope some can help me and it is understandable what I mean ! Thanks in advanceI want the whole image to be sorted , but it gives me back the normal image with about 1/4 sorted from the top.This is the current result : https : //imgur.com/kHffIpmFull code including irrelevant parts : https : //docs.google.com/document/d/1YC97YMq9fKcbCAn3_RvLIm1bNo72FrNnHT3obc9pp7U/edit ? usp=sharing"
"Let 's say I have an Interface 'Inter ' , and Inter has a methodHow can I specify that the type of the return object has to be the same as the object upon which the method is called ? So if I have two classes 'C1 ' and 'C2 ' that implement Inter , if an instance of C1 calls someMethod ( c1.someMethod ( ) ) the result will be an instance of C1 , whereas if an instance of C2 calls someMethod the result will be an instance of C2.How about parameters ? If Inter has a second methodHow can I specify that the parameter has to be an instance of the same class as the object calling the method ?"
"I 'm trying to get an authorization token from Google+ using their sdk on Android , but it always raises an 'GoogleAuthException Unknown'Here is the code I use : I doubled checked the client_id I got from the google console.What is really troubling is that this code works for my staging flavor , with a staging client_id , but for my production client_id which I just created this morning , I ca n't make it work.Any idea ?"
"I am wondering if there is already an implemented feature in streams ( or Collectors ) which first groups a stream by an attribute and then returns the first element in the list sorted by another attribute . E.g . the following code tries to group a stream of objects using the first attribute and then wants to collect that object which has the highest value of the second attribute . Now , I want to achieve something like this with Stream myClassStream -My code using simple for loop is : Any help will be much appreciated ."
"I have a Java puzzle I 'm having trouble solving . Given the following three classes : I need to complete the class B1 , however I want , without change the classes A1 and C1 or adding new files , such that for at least one argument , C1 will always print the string `` success ! `` .I think that I need to override the method foo ( ) of the class A1 , and rewrite it by getting the number of arguments from the main function on C1 , to get the right return value.My problem is that I do n't know how to do that . ( Remember that I 'm not allowed to solve this problem by writing A1 a = new B1 ( args.length ) instead of A1 a = new B1 ( ) . That 'd be too easy . ) Any suggestions on how to do it , or even totally different solutions , would be appreciated !"
"For Android development in general , is it more expensive to do the following : ( Example 1 ) Over this implementation ( Example 2 ) I could n't find any break down of performance implications when using .get ( ) multiple times instead of creating a new instance of that object each iteration.I 'm thinking that .get ( ) does n't use much in terms of resources since the position of the element is already known , but when dealing with many properties is it best to just fetch that object once as shown in example two ?"
This is the userService class that requires a bean of type com.example.repository.userRepository that could not be foundThe error message reads : Consider defining a bean of type 'com.example.repository.userRepository ' in your configuration.This is the repository : this is the application class }
I 'm checking out the heterogeneous container pattern from Bloch 's Effective Java and I 'm trying to determine why the class reference is needed when inserting objects into the heterogeneous container . Ca n't I use instance.getClass ( ) to get this reference ? Is n't JPA 's entity manager an example of this ?
What is the difference between : And : In both case i end up with an initilized static variable
"I have two different process ( A and B ) , and A has to start after B , B must not join the A 's transaction , B has to wait until A finish its commit.what propagation should i use ? Now it is like : andNow i use it defult @ Transactional , and its not work properly . I think i should use PROPAGATION.I hope the question is clear . Thanks in advance ."
"The result is : but if i delete the finalize method in class A , the result is：so , the result shows that when I override the finalize method , the weak object is n't put into the reference queue , is that because the aObject resurrected ? But I do n't do anything in the finalize method"
"As I can do to get to see the result of two or more identical numbers contained in a list . Everything has to be based on lists , the code itself is simple but I have no idea how to achieve the same values print screen.All this is done under 5 numbers entered in a list.example : Introduce 1 - 2 - 3 - 3 - 4And the output would be the number 3 is repeated.This is my code : thank you very much !"
"I would like to concatenate a stream of arrays via a mutable accumulator.Currently I am doing the following for Stream < Foo [ ] > : However , for something that feels quite generically useful , it 's disappointing that the standard library does n't provide something more immediate.Have I overlooked something , or is there A Better Way ?"
"I am a little bit confused about when the class actually is loaded by the JVM . I noticed that the class loader will load the class when the class is referenced.I am using java6 environment and run with -verbose : class for tracking class loading.For example : However , in this casewhen my test program initialize ClassA , it will load all ClassA , ClassB , and ClassC even though I have n't invoked test ( ) console : [ Loaded TestClassLoad from file : / ... /bin/ ] start load ClassA [ Loaded ClassA from file : /C : / ... /bin/ ] [ Loaded ClassC from file : /C : / ... /bin/ ] [ Loaded ClassB from file : /C : / ... /bin/ ] But if I change the test ( ) method 's return type like this : ClassLoader will only load ClassA into perm space unless I invoke the test ( ) method . console : [ Loaded TestClassLoad from file : / ... /bin/ ] start load ClassA [ Loaded ClassA from file : /C : / ... /bin/ ] Why does the ClassLoader load all three class before I explicitly call the method ?"
I 'm a little curious about some of the code that I saw at school and whether or not this is common practice in the field or just bad design.Consider the following interface and the two classes that implement it ... Notice in the Cycle class the arguments in x ( ) and y ( ) are actually used ... But here in the Center class the arguments in x ( ) and y ( ) exist solely to fulfill the contact with the Anchor interface and are n't actually used in the method ... Is this something that you 'll see commonly in production java code ? Is it an accepted practice or a bad work around ?
"I am following an example of strategy pattern from hereEverything in the tutorial is clear but this : So the Context class expects a Strategy argument in its constructor . The definition of Strategy is : The above being an interface , the Context Class expects an object of type Strategy . In the StrategyPatternDemo class we do : I am utterly confused as we cant init an interface according to the definition : An interface is different from a class in several ways , including : You can not instantiate an interface . How exactly is this Context context = new Context ( new OperationAdd ( ) ) ; sent as an argument to public Context ( Strategy strategy ) { this.strategy = strategy ; }"
"I have a task about building a pyramid using list of numbers , but there is one problem with one test . In my task I need to sort a list . I use Collections.sort ( ) : But this test fails with OutOfMemoryError instead of my own CannotBuildPyramidException ( it will be thrown in another method after sorting ) . I understand that it is because of TimSort in Collections.sort ( ) method . I tried to use HeapSort , but I couldn ` t even swap elements because my input list was initialized as Arrays.asList ( ) and when I use set ( ) method I get UnsupportedOperationException . Then I tried to convert my list to common ArrayList but I got OutOfMemoryError again . It ` s not allowed to edit tests . I dont know what to do with this problem . Im using Java8 and IntelliJIdea SDK"
"I 'm using the code included here to determine whether given values are valid dates . Under one specific case , it 's evaluating the following street address : 100 112TH AVE NEObviously not a date , but Java interprets it as : Sun Jan 12 00:00:00 EST 100The code in question : The console returns : 11:41:40.063 DEBUG TestValues | formattedDate = Sun Jan 12 00:00:00 EST 100Any idea what 's going on here ?"
I 've got an implementation of the k-means algorithm and I would like to make my process faster by using Java 8 streams and multicore processing.I 've got this code in Java 7 : And I would like to use Java 8 with parallel streams to speed up the process.I have tried a bit and came up with this solution : This solution with streams is considerably faster than the one without . And I was wondering if this already uses multicore processing ? Why else would it suddenly be almost twice as fast ? without streams : Elapsed time : 202 msec & with streams : Elapsed time : 116 msecAlso would it be usefull to use parallelStream in any of these methods to speed them up even more ? All it does right now is lead into ArrayOutOfBounce and NullPointer exceptions when I change the stream to stream ( ) .parallel ( ) .forEach ( CODE ) -- -- EDIT ( Added the source code as requested so you try this on your own ) -- -- -- - Clustering.java -- -- -- Point.java -- -- -- Cluster.java -- -- -- SimpleColorFun.java -- -- -- Main.java -- - ( REPLACE THE Stopwatch with some time logging mechanismus - I get this from our working environment )
"I have a webservice call to get an authorization token and use it for subsequent webservice calls . Now what we had done earlier was whenever we make any web service call , we first make the token web service and then make the call for actual web service . Method to get the token is as shown below . Basically what this code does is call the webservice to get the token and using GSON parse the response and get the token.This has obviously led to performance issue . Hence the party who is providing the webservice to get the token has made the token valid for 30 minutes . So in the above method what we are thinking is to put the token in cache along with the time and check if the current time - cache time is less than 30 . If time is greater than 30 we will make service call to get token and update the token with timestamp in cache.The only thing is I am fearing is about synchronization , so that I dont get corrupt authtoken due to race condition . I am thinking to make this static method as synchronized . Do you think is there any other better way ."
"I 'm playing with Java 15 's new records feature , and how it interacts with reflection . I 've run into some strange behaviour , where I can sometimes access a record 's constructor via reflection , and sometimes not . For example , given the following Java file : Recording.java : This behaves as follows : In other words , the call to getConstructors ( ) does not find any constructors ( while the call to ` getDeclaredMethods ( ) does find methods ) . I do n't understand why not , because the constructor does exist : ( Putting the record in a separate Java file gives the same results . ) However , if I do the same from JShell : So , now it does find the constructor.Here 's the Java version I 'm using : Compiling and running the same program from Java 14 does work : I know that in Java 15 , compared to Java 14 , a number of restrictions have been put in place regarding reflection on records , but if I read the JEP correctly , those only apply to modification . Finding ( and perhaps invoking ) a constructor does not seem to apply.Can anyone tell my what 's going on here ? What do I need to do to see a record 's constructor in Java 15 through reflection ?"
"I was digging in sources of Android by looking for an answer of how system recognizes @ null keyword that mentioned in a layout . For instance , So far I followed this route : TypedArray # getDrawable ( int index ) ResourcesImpl # getValue ( @ AnyRes int id , TypedValue outValue , boolean resolveRefs ) AssetManager # getResourceValue ( @ AnyRes int resId , int densityDpi , @ NonNull TypedValue outValue , boolean resolveRefs ) AssetManager # loadResourceValue ( int ident , short density , TypedValue outValue , boolean resolve ) I tried to find in source code of JNI implementation of AssetManager loadResourceValue method , but I have not succeeded.I would appreciate if anyone can point out how Android resolves @ null tag.Thanks in advance !"
"I am trying to get the group by , count and sum from list of the object using java stream and collection . I am not sure how do I achieve the desired result . InputModelInputModel [ ( May,100 , IT,10 ) , ( June,300 , IT,7 ) , ( July,300 , IT,7 ) , ( May,1000 , HR,5 ) , ( June,300 , HR,7 ) , ( July,600 , HR,5 ) ] OutputModelExpected OutputOutputModel [ ( May,1100,15 ) , ( June,600,14 ) , ( July,900,12 ) ] I tried below code but it returned group by and Count.Thanks in Advance ! ! !"
"Someone asked this question yesterday . I understand that java interprets 3.0 to be a double , and 3f to be a float , and the doubles have 64-bit precision and floats have 32-bit precision . If someone asked me , I would have given an answer similar to the ones given ; however , I wanted to provide empirical evidence that made it very clear that java stores 3.0 and 3f differently.Here 's what I attempted , but to little avail : These are different , but that 's because floats use single-format ( an 8-bit biased exponent ) , and doubles use double-format ( an 11-bit biased exponent ) . For more information , see IEEE Arithmetic . I converted both to their binary representations , but again did n't get anywhere : While there are more 0 's in the Long.toBinaryString ( l ) , multiplying by addition 0 's will not change the result ( the differing position of the 1 in the beginning is due to the 8-bit vs 11-bit biased exponent issue ) . So , I still do n't have empirical evidence as to why the multiplication from the question below yields two different answers.however3f and 3.0 must be different for the results to be different , but I can not come up with anything showing that they actually are . Again , I understand that 3f is interpreted as a float and 3.0 as a double , please do not respond with answers merely stating this . EDIT : To clarify , I am trying to isolate 3.0 and 3f and show that they are indeed different ."
"I have the following List : I need to order it with this condition : In the first place , the ones that contains the char `` o '' or `` O '' Then , the rest of them.The result should be : How can I do it in Java 8 ?"
"Is it important to save all class code as individual .java files like following way ? Or can I make a single java file as Test.java . Please explain anonymous class , how can we create anonymous class in java , and what is the advantage/disadvantage over normal class ?"
I have a spring restful web service and am trying to save to a database named little-data but my app keeps saving to the test database instead . Below is my application.yml file : I have also tried this for my application yaml file : And here is my model for posts : All of the requests work fine but they save to the wrong database . Any help would be appreciated . Thanks
"I 'm using the Java Scanner.I have a .txt file with this text saved in it . All I am trying to do is open this file with a scanner and extract the `` CurrentValue '' of 70,197 from the file and save it as an int . However , every time the file is opened it will not read a line and throws a NoSuchElementException with `` No line found '' as the message . After fiddling around with the file and removing some of the Chinese characters one by one I narrowed it down to this little guy 口 . For some reason , scanner does not like that character . I was just wondering if there 's some encoding setting that I need to change or if I 'm going to have use BufferedReader or what ... I 'm honestly not really sure what 's going on except I guess there 's an encoding error . So what 's happening here ? Edit : Here 's the initialization of my scanner.I just copied it as is . region == `` China ''"
Output :
"I have the following code on my main method , and when I iterate through the Set and print the values , the values are already sorted . What 's the reason ? Output :"
"My code as followsI run the program and I found its output is 5 15.It made me confused , I ca n't understand what differences between using for statements and using foreach statements.Thanks for giving me a hand ."
"I just wrote some code with the following structure : I was rather surprised that this compiled , and that if I invokedthen it would pick the first one . Obviously this is in some sense the natural one to pick , but if the first method did n't exist , this would be a reasonable way of invoking the second ( with an empty varargs array ) . So surely it should be considered ambiguous and produce a compile-time error ? Or is this treated as a special case ? It seems wrong to treat it as such , because it means that adding a new method could break existing code , and that is not a very happy state of affairs . ( Goodness only knows which one you 'd end up invoking if the first one were added as a new method of a subclass containing the second one ... )"
"I have a HashMap < Integer , Integer > and i 'm willing to get the key of a specific value.for example my HashMap : I 'm looking for a java stream operation to get the key that has the maximum value . In our example the key 2 has the maximum value.So 2 should be the result.with a for loop it can be possible but i 'm looking for a java stream way ."
"In an Android example class theres this method : When I reference the class , the items are indeed added . I never saw a method like this , a. how is this called and b. I suppose this method is called whenever the class is referenced ( or the first time it is referenced ) ?"
"In Java , I see a lot of codes like below.What I am wondering is , is it enough just to show error message ? I am new to Java . What I want to learn is how to handle error efficiently , and know best practices for error-handling . In general , what should I do in catch block ? Example 1 : printStackTrace ( ) Example 2 : getMessageExample 3 : show custom error message"
"I have tried with data and data1 variables . It 's always calling to String ... data.So , what is the difference between String [ ] data and String ... data in java ."
Why this is happening . If I pass anonymous generic class to type determination method - all is good . But if I pass object in this method - console output is E. Console : Please explain to me .
"I faced an interesting problem today : Lets suppose the following conditions1 . There are n number of users2 . The system collects GPS coordinates of each driver as they move3 . We have to query last 10 GPS Coordinate records per user sorted by LAST_UPDATE_DATE in descending order4 . There are over 1982008 records in the tableI solved this by querying the last { ( 10 + [ threshold value ] ) * n } records , and arranged them in java using a HashMap where the user is Key and List of respective coordinates are valuesThis does n't seem to be a best possible solution as it may choose random records and may not cover up 10 records per user , Querying it per user in a for loop is also not a best solution as it would need multiple database callsCan anybody suggest what would be a best possible solution for this using Spring data JPA , I am also open to use Normal JDBC in case Spring data JPA is unable to solve thisI am using Spring data JPA , Mysql , Java 8 for thisHere is the create table command for this @ RaymondNijland Ok sure , here is the create table command"
I am new to Java . While learning the printf method I came across the below question : What would be the output of following program ? The answer is : Can someone help me to understand how true is getting printed without me passing it ?
"I want to implement a simple Cache interface : I realized it 's part of interface java.util.Map . So objects like HashMap should be able to be be passed to functions needing a Cache object.But on the other hand I do n't want to make my own Cache class implement the whole Map interface because I do n't really need other methods other than these three.Java is not a duck-typed language , so what 's the best practice in this situation ?"
"Above line 's output is , While below line 's , output is , Why does 2e-5 is not solved down with -10^5 giving the output ,"
The following code will set str to `` testss '' Where as the following code will set it to `` tests '' I would have expected both operations to produce the same result . Can someone explain why replaceAll adds an extra s to the end of the string ?
"As a result of me trying to extract some common wrapping lambda routines that I use in most of my projects , I 've been able to create CheckedFunction , subclassed by PermeableFunction FunctionalInterface that bypasses the need of try/catch blocks . I 've tested that on Oracle jdks for windows ( v1.8.0_251 ) /linux ( v1.8.0_261 ) and several other online compilers ( not sure which implementation is used there ) .Was n't sure if this actually violates the specification or is something allowed by the standard ... According to my interpretaion of the docs this should not be possible : More precisely , suppose that B is a class or interface , and A is a superclass or superinterface of B , and a method declaration n in B overrides or hides a method declaration m in A . Then : If n has a throws clause that mentions any checked exception types , then m must have a throws clause , or a compile-time error occurs.For every checked exception type listed in the throws clause of n , that same exception class or one of its supertypes must occur in the erasure ( §4.6 ) of the throws clause of m ; otherwise , a compile-time error occurs.If the unerased throws clause of m does not contain a supertype of each exception type in the throws clause of n , a compile-time unchecked warning occurs.Here is the sample code that I 've used : CheckedFunction also allows shadowing of the throwable like so : So here is my question : Is this something that should be reported to the implementer ( s ) or it 's a general issue imposed by the standard ?"
"I noticed that if else / ternary ( condition ? a : b ) assigment is faster than conditional assigment in if only statement . I performed JMH benchmarks on different JDKs but i will focus on JDK 12 . ( ops / sec , higher is better ) Source code : findMax_if_else perfasm output ( ternary is almost the same ) : findMax_if perfasm output : Observations : there is only one significant difference between findMax_if and findMax_if_else:0x00007f34cc66e85e : jg 0x00007f34cc66e821 vs 0x00007fc7a8671ade : jle 0x00007fc7a8671ab0findMax_intrinsicMax which laverage intrinsic Math.max has worst performance , which is counterintuitive to me.Questions : Is normal to add else statement containing code which does n't change anything ( like x = x ; ) ? Especially in code which is executed on one thread.Where is the real source of thourghput difference ? I see the jg ( jump if greater ) is not the jle ( jump if less or equal ) . Effectively the first condition is the inverted second condition.What is the point of using Math.max if simple if else statement has higher throughput ? Source code on GitHubrun_tests.sh runs benchmark and generate plot ."
How to split this String in java such that I 'll get the text occurring between the braces in a String array ? Output must be :
"I have a simple code as below to test the deadlock And Also I have another class called ClassA : So , now I have another code that calls these classes and causes a deadlock as below : As you can see the first thread locks fooB using ca.fooA ( cb ) and the second thread locks fooA using cb.fooB ( ca ) and Nobody has any lock over lastA and lastB methods . It means these methods are supposed to be available but they are not available . Why ? The threads have just lock over fooA and fooB . So , why for example the first thread ca n't use lastB ( ) and the second one has not access to lastA ( ) while there is no lock on these two methods ?"
I have a simple User class with a String and an int property . I would like to add two Lists of users this way : if the String equals then the numbers should be added and that would be its new value.The new list should include all users with proper values.Like this : User definition : My method : But it adds a whole lot of things to the list .
"I have a source-code generator that risks generating the following type of code ( just an example ) : In the above example , Inner is ambiguously defined inside of Outer . Outer.Inner can be both a nested class , and a static member . It seems as though both javac and Eclipse compilers can not dereference Outer.Inner.Help . How can I access Help ? Remember , the above code is generated , so renaming things is not a ( simple ) option ."
Having this classi can create a Instance of Embryo only if i have a instance of Mother : Question : How to define Mother as an interface ?
"This code print -46 when we cast a float to int , This is because the information was lost during the conversion from type int to type float . How can one know about loss of precision while using float and double ? How can we know the result when we analyze the code before testing it ?"
"I am not able to understand the difference in the way obj and obj2 objects are created in the following code . In particular , I am not sure how a primitive is cast to an object . Looking at some of the other questions here , I thought this was not possible . But the following program compiles and runs fine . In the first case , the output is false and in the second case it is true ."
"Here 's an example that demonstrates the problem I am facing : I 'm aware that objects that were instantiated in another context , are considered `` foreign '' and end up being wrapped by a ScriptObjectMirror instance . I am assuming this is why I 'm running into a problem here . I believe whenever x is dereferenced , a new ScriptObjectMirror instance is created ; that 's the only thing that can explain the following bit of code also returning false : Is there a way around this ? I 'm looking for something I can do from Java to maybe set up up contexts/bindings a certain way instead of having to write code in JavaScript to get around this ."
"For Example , Here which is the functional interface , ( sum , price ) - > sum+price is referring to ?"
for now i have got my project to run on mvn javafx : run . but a module descriptor is required to execute mvn javaFx : jlink . there are some firebase related errors after creating the module info file . some of the imports imports : requires in the module info file : errors : how can i fix this error ?
"Suppose we have the following generic classNow inside main method we have the following code snippetAs a result of executing someType.test ( list ) we will get `` 2nd method '' in our console as well as java.lang.ClassCastException . As I understand , the reason of why second test method being executed is that we do n't use generics for SomeType . So , compiler instantly removes all generics information from the class ( i.e . both < T > and < E > ) . After doing that second test method will have List integerList as a parameter and of course List matches better to List than to Collection.Now consider that inside main method we have the following code snippetIn this case we will get `` 1st method '' in the console . It means that first test method being executed . The question is why ? From my understanding on runtime we never have any generics information because of type erasure . So , why then second test method can not be executed . For me second test method should be ( on runtime ) in the following form public void test ( List < Integer > integerList ) { ... } Is n't it ?"
"I 'm trying to convert a List to Map without duplicates using a stream but I ca n't achieve it.I can do it using a simple loop like this : but when I try to use a stream , my mind crash.I have to say the PropertyOwnerCommunityAddress contains two object more : Community and Address and the goal of all of this is for each community save the addresses in a key : value pair without duplicate the Community object.Anyone can help me ? Thank you !"
"I 'm not entirely sure if this is the right place to ask this . Well , it is a programming problem I suppose.I am trying to create a simple PID Controller simulation in Java.In short , there is a target value and a current value . The current value is modified by a number . You provide the PID Controller the current value and it will try to return a number in the hopes that such number will cause the current value to approximate the target value . Overtime , the more you use the PID controller , it will `` learn '' ( using integrals and derivatives ) , and will eventually return more and more accurate values . This is useful for , say , maintaining the equilibrium of a boat by controlling the wheel movement.The formula used by a PID controller is pretty general and quite straightforward - or so I thought . In the below example , the value that is returned by the PID Controller is simply added to the current value . I assume it would work with more complex applications ( that involve multiplication or division , etc ) . This is my program : If you run this , you will see that the PID controller eventually manages to cause the current value to be very very close to the target value.It 's pretty cool . Now , I wanted to see my results a bit faster ( because I plan to make some sort of interactive graph ) , so I decided to change the delta dt to 0.1.Alas , the resulting value is no longer close to 100 ! Now it appears to reach 105 and then , very slowly , decrease to 100 . That 's not good ! Now imagine having dt at 0.01 ! Now it is extremely slow to reach 102 , and now it does n't even go back to 100 , now it just keeps increasing ! So my question is : why does a lower delta cause this ? My code is based on this PDF document and they use 0.01 just fine ."
"Is it reasonable to maintain a reference to an exception for later use , or are there pitfalls involved with keeping a reference to an exception for significantly longer than the throw/catch interaction ? For example , given the code : Assuming that my program creates a Thing with a lifespan as long as the JVM , are there any correctness issues involved with Thing maintaining a lingering reference to lastException ? And has this changed at all in JDK7 ? ( Looking at the source code to Throwable in OpenJDK7 , it seems like there 's a new four-argument public constructor that was n't in JDK6 that can create a Throwable without invoking fillInStackTrace ( ) at construction time . ) If any of the chained exceptions under MyException had references to objects , yes , this would prevent those objects from getting garbage collected , but assuming I 'm ok with that , are there any traps to beware ?"
"I thought the result could be '43 ' because the type of q was 'poly 1 ' . However , the result was '44 ' . I could n't understand that . please give me the answer ."
"I 've tried looking but I ca n't seem to find a solution to my justification problem . I want all the transaction amounts , which turn up with 2 decimals digits , to be all justified to the right , however , nothing I try seems to work . This is the result :"
"In the source code of java.util.Scanner I 've found these static utility methods : Why it was done in such a complex way and not just , say , What was the point of using a local variable ( lp ) here ? Is this some kind of optimization technique ? Or maybe precaution against a concurrent modification ? But linePattern can not be set to null again as this method is the only place where it is modified ."
"I am submitting a change to JNA which has in previous releases defined a set of constants as int type , specifically : ( Since they are defined in an interface they are automatically static and final . ) These constants are used as the Condition argument in the VerSetConditionMask function , which requires a BYTE argument , mapped in JNA to Java 's byte.To use the existing int constants in that function would require me ( and other users ) to explicitly typecast them , so I want to change these constant values in the library to be byte , e.g. , I do not think this change breaks backwards compatibility , because any code using these constants must currently expect at least an int , and will happily widen the byte without complaint . I 've written plenty of test code to convince myself of this . I 'm aware that changing Object types ( like Integer to Byte ) would not work , but I believe this is fine for primitives . However , despite an hour searching the web for confirmation , I remain the tiniest bit unconvinced.Is this change backwards compatible ? Or am I wrong and is there a case where this could break existing code relying on the int primitive ?"
"JLS 8.1.3 gives us the rule about variables which are not declared in an inner class but used in the class . Any local variable , formal parameter , or exception parameter used but not declared in an inner class must either be declared final or be effectively final ( §4.12.4 ) , or a compile-time error occurs where the use is attempted.An example : DEMOWhy was the code compiled ? We used the non-final local variable in the inner class which was no declared in there ."
"I have a Dataset < Row > in java . I need to read value of 1 column which is a JSON string , parse it , and set the value of a few other columns based on the parsed JSON value . My dataset looks like this : And I need to make it like this : I am unable to figure out a way to do it . Please help with the code ."
"I 've run into a case where I thought the JIT should have an easy time optimising , but it does not seem to.I 've reduced the problem to a minimal example : Consider a class IntArrayWrapper : The only difference between the two methods is that x is an Integer ( boxed ) or an int ( primitive ) .I 've written some JMH benchmarks to measure the performance of these two methods : Expected ResultsWhat I expected to see was : setIntegerConst equal to setIntConst . THIS IS TRUE.setIntegerStair equal to setIntStair . THIS IS NOT TRUE.The reason I thought was that I think that the JIT should inline the setInteger call , and realise that there is an auto-boxing operation ( from the call ) directly followed by an unboxing operation ( from the array assignment ) and therefore be able to remove the boxing/unboxing.This does not seem to be the case.Some observationsThe const operations perform equally well , I think this is due to the fact that the hard-coded integer is cached.It 's strange that setIntStair and setIntConst have different performance , I have a feeling that the JIT might produce SIMD code here , but I 'd be grateful for any insights.ResultsThese are the results , the whole code is here : https : //gist.github.com/kaeluka/fe1210074038424c30db7a52ac5c2d7bQuestionsWhy is the JIT not able to elide boxing ? Is there a way to fix this without changing the interface of setInteger to take an int ? ( My original code uses generics , so int is not an option unless I want to duplicate a lot of code ) .EditsAdded results for bmarkSetIntegerSawtooth and bmarkSetIntSawtooth that set the value to i % 128 to measure the impact of object pooling for Integers ."
"I have just moved my application from Java8 to Java10 , as part of that I now need to add -- add-modules java.xml.bindto avoid java.lang.NoClassDefFoundError : javax/xml/bind/JAXBExceptionexception.And this works fine in my batch filebut I can not get my equivalent winrun4j .ini file to work I have tried addingand then tried but neither had any effect , I still get the NoClassDefFoundError when run from winrun4j"
"I 'm looking for a non-blocking way to sum a Stream of CompleteableFuture < BigDecimal > .I already found topics closely related to this problem , like this.But unfortunately in my case I do have the BigDecimal packed into a CompleteableFuture and therefore I need to wait for completion first.In the end I would like to get another CompleteableFuture which contains the sum of all Futures within the Stream , once it 's completed.EDIT : Actually I did manage to find the following solution : But since this is not using any of the CompletionStage methods , I 'm pretty sure there is an even better way to do this job ."
"I am trying to search for a String inside a file content which I got into a String.I 've tried to use Pattern and Matcher , which worked for this case : Then , I tried to use the same code to find how many tags I have : which in this case , the return value was always 0 ."
"Please consider the following example : In order to make this class immutable , I must defensively copy any mutable parameter passed to the constructor and create copies of internal mutable objects returned by public methods . Is this possible ? If not , is there any workaround ?"
What actually means using brackets in brackets while initializing e.g . new List ? Does it mean that after creating new reference method is invoking ?
"I am doing an exercise from an introduction to Object Oriented Programming with Java C. Thomas Wu.Page 73 provides the code to request the full name , tokenize it using delimiter and print it back.Problem is , mine doesnt seem to want to print it back , and it freezes the program , forcing the use of task manager to close it.It compiles and presents no errors . I 've been over it a few times to check for spelling errors etc.If I remove the delimiter section ( last pic ) it works one first token up to first space . So the error lies somewhere around the delimiter code ."
"say I have 2 instances of the same class , but they behave differently ( follow different code paths ) based on a final boolean field set at construction time . so something like:2 instances of Foo with different values for flag could in theory be backed by 2 different assemblies , thereby eliminating the cost of the if ( sorry for the contrived example , its the simplest one I could come up with ) .so my question is - do any JVMs actually do this ? or is a single class always backed by a single assembly ?"
"I 'm playing around with predefined Identity filters for use with the stream api . Unfortunately I 'm unable to properly return a generic predicate that is compliant with the stream api documentation.According to the de-compiler here is the Stream : :filter definition : I 'm facing the issue with any Java version that has Streams support ( 8~15 ) . The issue has nothing to do with my implementation . This code actually is enough in order to reproduce it : Here , two predicates are applied where both of them are n't < ? super String > compliant ... According to this answer this behavior seems to be strange ... How should I prevent users of my library from filtering on ServerState by random Object equality check , etc ... ? Ideally I would like to always return proper Predicate < ? super T > unfortunately that is not backed up by any compile time error ... Using a linter is not a solution in that case.Even though I know how lower bounded wildcards work what I 've been missing is that a Predicate < ? super Integer > could be successfully casted to Predicate < ? super String > .Where : results in [ ] empty resultset.Here is what I have so far , but not happy with any of it : Methods with names of the type is_* did not exist before posting the sample in here and therefor will be removed ... EDITEven though I know how lower bounded wildcards work what I 've been missing is that a Predicate < ? super Integer > could be successfully casted to Predicate < ? super String > .Where : results in [ ] empty resultset ."
"A little know feature of the Eclipse 's Java compiler is that you can run it from the command line.This works well ( after patching plexus-compiler to use the latest release ) .My problem : The stack traces are different when I compile the code from the command line . For example , when I run the compiler in the IDE , I get this output : but when I compile the code from the command line , I get this : What 's going here ? ? ? Analyzing the class files with javap gives : andAny ideas what might cause this ?"
"I see the following code in a Java/Swing GUI project : In the code above , MyDialog extends JDialog . So clearly , a child dialog is being constructed ( and somehow shown to the end user ) , and then when the user exits the dialog ( by clicking OK or some other button ) , a results bean is used to fire a new event on the event bus.But I 'm struggling with two things : How/where is Java being told to actually draw/show the dialog to the user ? ; andHow/where is Java being told to hang/wait for the user to exit the dialog , before firing the event to the bus ? Is it that a JDialog child will always show the dialog when the JDialog is created , and not return from the constructor until the dialog is exited ? Here 's the synopsis of hte MyDialog constructor from above : Thanks in advance for any help/insight with understanding how the dialog opens , `` hangs '' ( although I know its not actually hung/frozen ) , closes , and then fires the event ."
"I have a list of Items where each Item can belong to one or more category . For a limited set of categories ( string ) I want to create a map with category as key and list of Items as value . Assume my Item class is defined as shown below : and a list of Items : How can i fill myMap from myList ? I thought Stream API could help , but I do n't know which classifier to put in the groupingBy method when an Item can belong to one or more categories Thisproducesexpected is tough something like :"
"I want to generate a random number to apply to some arrays in order to get different elements in each execution.The arrays contain names of sport products ( product , size , price , etc ) . By doing this , I want to make random products that would go into a String , but in each execution of the program , I get the same product.Where is the problem ? Here is the code in the class generaProductos : And here is where I call generaProductos ( ) method in main : When I execute my code , I always receive this : Botas Futbol Hombre Marron S 16.99 Botas Futbol Hombre Marron S 16.99 Botas Futbol Hombre Marron S 16.99 ( In English it would be Football boots men brown size S 16.99 )"
"The below code is in Class String in java . I do n't understand why the characters from two different strings are compared twice.at first by doing upper case and if that fails by doing lower case.My Question here is , is it required ? If yes , why ?"
"Reading the Java language specs , I found this excerpt about final fields : The usage model for final fields is a simple one : Set the final fields for an object in that object 's constructor ; and do not write a reference to the object being constructed in a place where another thread can see it before the object 's constructor is finished . If this is followed , then when the object is seen by another thread , that thread will always see the correctly constructed version of that object 's final fields . It will also see versions of any object or array referenced by those final fields that are at least as up-to-date as the final fields are.Link : https : //docs.oracle.com/javase/specs/jls/se8/html/jls-17.html # jls-17.5My question is , does `` versions '' mean updates ? This means that the non-final/non-volatile fields of an object referenced by a final field will also be read from main memory ( not the local cache ) after construction ? ExampleSo let 's say thread # 1 creates an objectB and sets one of its non-final/non-volatile fields . Then thread # 2 sets that same field to something different , creates some other objectA with a final field set as objectB , then puts that objectA somewhere where thread # 1 can get it.thread # 1 then gets the objectA , and sees its final field as objectB . Is it possible for thread # 1 to not see the changes to objectB made by thread # 2 ? Or here is some code showing what I mean : The code seems to read the updated values , but I 'm not sure if that 's just out of random luck ."
"I have created a MWE where changing a single line by adding < ? > solves a compiler error.The following code does not compile : The compiler error is : Changing the definition in the offending line from MyEntity myEntity to MyEntity < ? > myEntity solves the issue . I wonder why is the return type of this for-each treated as an Object and not as a String , unless I add the wildcard to the parent class ? Note that getLabels ( ) itself does not contain generics.According to Chapter 14.14.2. of the Java Language Specification , a for-each is compiled to a loop using an iterator . Interestingly , expanding the for-each to such an iterator manually works : Can anyone explain why ?"
We 've started getting compile errors on code that used generics and that compiled successfully under Java 6 . Here 's a simple class to reproduce : The resulting error is : Does anybody have any ideas ?
"I am pretty new to Java , and I am trying to write the below logic in functional way.I have a list of Objects , which have many fields . List < someObject > The fields of interest for now are long timestamp and String bookTypeThe problem statement is - I want to find the count of number of Objects in given list which have the same bookType as the one with lowest timestamp.For example , if we sort the given list of objects based on timestamp in ascending order , and the first object in the sorted list has bookType field as SOMETYPE ; then I want to find out how many Objects are there in the list with the bookType SOMETYPEI have written this logic using the plain old non functional way , by maintaing 2 temp variables and then iterating over the list once to find the lowest timestamp and the corresponding bookType amd a count of each bookTypeBut this is not acceptable to be run in a lambda , as it requires variables to be final I could only write the part where I could sort the given list based on timestampI am stuck how to proceed with finding the count of the lowest timestamp bookType"
I have such hashmapThen I add new pair into it.How can I retrieve this pair from this map ? I tried to do : But as a result I have null while I expected 5 .
"I have the following : This is what it looks like : The ParametricEQView is the component with the white background filling most of the window . In this image its coordinates are ( 0,0 ) in the containing frame and everything is great . However , if I resize the window so that the ParametricEQView moves over a bit ( it has a fixed size and is set to be centered in its available space ) , the rotated text stays relative to the ( 0,0 ) of the frame instead of the component : Everything else draws relative to the panel , it 's just the rotated text that does n't . What am I doing wrong ?"
"why I can not check the same radiobutton after I uncheck it programmatically , when I click next button , unless I check another radiobutton.This is the code that unchecks radiobuttons : And this is where I try to check it :"
"When I right-klick on a package - > new - > package , check the `` create package-info.java '' , Eclipse 4.4.2 puts a template for a package-info.java into that directory . That 's good . It looks like this : As you can see , there are two blocks of comments . My question is : what is the purpose of the upper block ? I ca n't see that this shows up anywhere in the generated JavaDoc HTML . Only content in the lower comment block and above the author becomes visible in the output . The two lines that just have a star in their line are inviting but wo n't be visible in the output . I never saw two comment blocks in any blog or documentation about package-info.java so far ."
"With this code : new Test ( ) will print `` Test '' twice . As a beginner I was expecting the output to be `` SuperTest / Test '' . I understand now why this is not possible , and why the implicit this will refer to child type only.However I ca n't find what whoAmI ( ) should be to actually print the output SuperTest / Test.Said otherwise : how can whoAmI ( ) access the name of the type it is `` called from '' ? EDIT : I 'm changing the title of the question for a new one which describes the problem better . ( old was : Inheritance : Is there a `` this-equivalent '' construct to refer to super type from derived type ) ."
"When I try to push an element into a Java array where I take the array size from a constructor argument , it throws an ArrayIndexOutOfBoundsException exception . However , when I set the size while declaring the array adding an element works . Here is my code : The following throws the exception :"
"I 'm trying to collapse several streams backed by huge amounts of data into one , then buffer them . I 'm able to collapse these streams into one stream of items with no problem . When I attempt to buffer/chunk the streams , though , it attempts to fully buffer the first stream , which instantly fills up my memory . It took me a while to narrow down the issue to a minimum test case , but there 's some code below . I can refactor things such that I do n't run into this issue , but without understanding why exactly this blows up , I feel like using streams is just a ticking time bomb.I took inspiration from Buffer Operator on Java 8 Streams for the buffering ."
Sometime output is `` Result 1 '' and sometime output is `` Result 2 '' . Can you explain why ? I am using JDK 1.6_33 .
"I am trying to create a LinkedList of LinkedLists in Java . The following code segment is giving an error . I am using java 11 and util.ListNo idea why I am getting this error..It gives the following errors : How should I go on resolving this ? Okay , so just to test I created a dummy class just to create LinkedList of LinkedLists . Here is the full program : Again , these errors : Edit : Okay , works fine when I use import java.util.List and import java.util.linkedList instead of import java.util . *As pointed out in the comments there is probably some issue with my build path"
"I 'm having trouble understanding why I 'm getting a compilation error here . Let me share some simple code . The following block of code works fine : The problem arises when I add a new generic List parameter to MethodB , calling it from MethodA : Which gives me the following error : Exception in thread `` main '' java.lang.Error : Unresolved compilation problem : The method MethodB ( E [ ] , E [ ] , List ) in the type Test is not applicable for the arguments ( E [ ] , Integer [ ] , List ) It seems to be telling me to change the parameter from E [ ] to Integer [ ] , which is weird because it did not complain about such a thing until after I introduced the List parameter . Again , I feel like I must be making a silly mistake somewhere , but I ca n't figure it out . Any help would be appreciated ! Thanks !"
"I want to know how to extract a List < D > from a HashMap < E , R > considering these constraints : E is a custom class ; R is a custom class containing a Set < D > of custom objects ; What I have tried : I tried addressing the issue in this question.In that previous case , I had a simple Map < E , List < R > > , but in this case I have to access the R class which has the targeted Set < D > .What I want to do in the following portion of the code is to get the Elements of the Set < D > whose country names are equal to the given parameter.I have tried using the same solution :"
"Comming from a Java background , when developing services connected by JMS I used to process messages and distinguish them by checking their type , e.g ( simplified ) : So now I am building a messaging front-end for some Python modules in RabbitMQ ( topic communication ) . I am planing on using one queue for each consumer-module to which different messages will arrive.I have almost everything but I am still struggling with the processing ( consuming ) of messages . How would you distinguish between message type ? I thought of having custom JSON headers , but I do n't know if this is correct ."
"I have connected the oracle to my Java program , and it is working fine but it gives a problem on a primary key field , when I try to access it it throws an java.sql.SQLException : The query works , when ran in the sqlDeveloper.Here is the code : It give exception and does n't identify the field USER_ID.USERS table and sequence : ErrorStack :"
"In Java , I am generating a string with letters A and B with a COMBINING OVERLINE U+0305 character in between.I get this in IDEA : But if I copy to here , it will become A̅B.This one is from the Chrome console : I was confused by the combining character 's combining order . Which one is correct ? I was writing this in Kotlin and compiling to JavaScript to run in the browser . Debugging in IDEA is correct , but the browser shows a different answer ."
"I am confused about how are the methods and constructors called at runtime , since the derived constructor is printed 3 times and the height is printed 0I have tried printing some messages inside methods and constructors as to know what exactly is happeningI expected the output to be instead I am getting"
"Say I have the following code : My question is , do the following versions of the add method need to have number as volatile in the below cases : I understand that these are both atomic operations , but my question is , is the value of number guarennteed to be pushed out to global memory and visible to all threads without using volatile ?"
"Say I have two arrays of DoubleUsing Java streams , how do I create a map ( Map < Double , Double > myCombinedMap ; ) that combines the two arrays for example in the following way : I guess am looking for something similar to Python zip with Java streams , or an elegant workaround . I think this question differs from this one ( pointed out as possible duplicate ) because is centered on Java8 streams , which were not yet available at the time the possible duplicate question was asked ."
"I faced with code , which compilation result was surprised for me.Always I supposed that if I pass value to method it means that method argument assigns to passed value.Is it wrong ratification ?"
"I have this class : I 'm instantiating it like this and somehow it 's working , even though I 'm inserting an ArrayList < String > into a constructor that accepts List < Integer > : This is what I see after instantiation : How can this be possible ? Also , how can I make sure from the instantiation code that the correct type of list is being used ?"
"Ca n't figure out how to read out average weight of animals in a list for a specific building . I 've written another method that gets the names of the animals per kind of animal , so I know my persistency is working.Zoo : Animal : Building : I want to get the average weight of the animals per building , so the idea is I pass a building 's name . Every Building object stores a list of animals , and I need the building object because it stores the name of the building , but I ca n't figure out how to access it using streams . I know that in the code I posted , I 'm not actually using buildingName yet , but that 's because I ca n't even get the average weight of the animals normally . weight is stored as a double in Animal and my persistency is working , as I 've tested this in other ways . Anyone experienced with streams explaining how to filter by building and get this average weight out would be much appreciated ."
"Lets suppose we have the following code : The question is about public static < T > T testMe ( List < ? super T > list1 , List < ? extends T > list2 ) . How does the compiler determine the T type if if have three classes : A , B , C , ? This question arose when I analysed Collections.copy ."
"I 'm analyzing the LongAdder algorithm in detail . LongAdder extends the class Striped64 and in that class the essential method is retryUpdate . The following piece of code is taken from this method ; in the linked source code it occupies lines 212–222 : Question : How can this try block fail ? Note that the array access should n't throw an IndexOutOfBoundsException because the result of a bitwise-and operation is always less than or equal than the minimum of its integer arguments , hence 0 < = j < = m-1 is within the bounds of the array ."
"Please correct me if I am wrong somewhere.I have been taught , that Every time a class is loaded , a class object is created in heap memory , and its reference by the name of Class is kept in class areaEach and every field , like string , int whatsoever is the is also stored in as objects and its reference is given in class object createdSame goes for method , constructor 's etcnow there is a question also , whether all these thing is stored for every object or just one object is created to know about the informationAlso do tell me What does this Field class in actual have ? like for egand there are two objects of b class , b1 and b2 , what does Field class object have ?"
Why am I getting this compiler error on FuzzyWuzzyContainer ? Bound mismatch : The type FuzzyWuzzy is not a valid substitute for the bounded parameter < T extends Fuzzy & Comparable < T > > of the type FuzzyContainerFuzzyWuzzy does in fact implement both interfaces that are defined in the bounded generic .
"I 'm testing with this code : I compiled it with javac 1.8.0_05 , and then inspected the bytecode : Apparently , leftComparison is compiled to push and pop 1 variable on the stack while rightComparison pushes and pops 2 . I speculate that leftComparison is therefore slightly more efficient than rightComparison ? I 'm wondering why the compiler does n't rewrite the code of rightComparison ? In my opinion , the two comparisons should be semantically equivalent , right ?"
"In a Java source , I do n't want use some package . For instance , I do n't want any reference to swing , or io , or other.Is there a system to check that , at compile time , or at test time ? For instance , with supposed annotationWhy I need this ? Because I have an application with swing , and I want refactor it with a part which uses swing , and other which does n't , because I want to port it to other ui stuff ( web , pda , etc ) ."
"I know that run method should not be called to start a new thread execution , but i was referring this article where they have called runnable.run ( ) ; inside another run method and it seems to be implying that it starts a new thread or its not at all creating threads , it just creates a new thread and runs all runnable in the same thread i.e task by task ? here is the code that article refers about.and questions : Why thread.start ( ) ; is called inside constructor ? How do i enque my task if thread.start ( ) ; is called even beforecalling this.taskQueue.enqueue ( task ) ; To understand all these please post a driver class for this examplewith maxNoOfTasks=10 and noOfThreads=3.and output for the same would be much appreciated.Does Runnable.run ( ) inside run method start a new thread ? thanks"
In a java library I came across a method which uses a generic return type that is not used in any way in the parameters : ( ResponseCallBack is an interface here ) What is the difference with this signature :
"I need to build a regular expression that finds the word `` int '' only if it 's not part of some string.I want to find whether int is used in the code . ( not in some string , only in regular code ) Example : thanks !"
"orBoth these perform the same operation.Input : [ [ 7,0 ] , [ 4,4 ] , [ 7,1 ] , [ 5,0 ] , [ 6,1 ] , [ 5,2 ] ] Output : [ [ 7,0 ] , [ 7,1 ] , [ 6,1 ] , [ 5,0 ] , [ 5,2 ] , [ 4,4 ] ] I know the code is sorting it in groups but I do n't understand how . I was similarly confused about PriorityQueue in Java : This one sorts in decreasing order.Can someone explain it ? Where can I study or read more about these `` overrides '' if there is any such material ?"
"I wish to implement something looks like this : Is it possible ? If its impossible by Java itself , can I do it by JNI ?"
"Suppose you have an enum with 3 values : You switch over all values of it in some method , thinking you 've handled all cases : Then later , you add a new value to the enum : And everything still compiles fine , except you 're silently missing a case for YELLOW in the method . Is there a way to raise a compile-time error in such a scenario ? edit : Do not understand why this was marked a dupe of Can I add and remove elements of enumeration at runtime in Java . Since the answer there was `` no '' , that means it should be possible to know at compile-time all values of an enum , and therefore what I 'm asking for should be possible for the compiler/some code analysis tool to implement , right ?"
"I have a List of objects of the following class : This list is fetched from a database with order by date asc , number desc , but the part that need to be retained all the time is the ordering by date asc . Example of the result ( Dateformat = MM/dd/yyyy ) : Now I want to order that list so that it results in : As you can see , it is now sorted by date ascending and the name . The order for the names is stored in another List ( NameSortingList ) : Note that Name4 and Name5 are missing in the NameSortingList , ca n't be added to it and therefore should be added after everything that is ordered . Everything that comes after the ordered list can have any order.If it makes it easier , everything that is not in the lsit can be merged into one Foo per unique date with name = `` Other '' which sums up the Numbers of all the elements in it . An example for a result like that : My Current approach to this sorting is to extract all dates as unqiue values first , then build the NameSortingList and then iterate the data multipel times to add the data in the right ordering . The issue I have is It can miss entries if the name is not existing in the NameSortingListThe performance is really really baddata is a list of Foo as described at the very top : How can I fix the 2 issues I described ? Maybe there is even a stream solution to this which I could n't wrap my head around ? If you have any questions , feel free to ask"
I 'm implementing an app using a webview . For the urls loaded in the webview I 'd need to perform a replacement over the html code loaded in the url.How can I do this in a efficient way ? Explanation : I need to replace an specific script script from the source : In example : I want to I want to display the user this other Thanks
"I do know that when you make a method final in java , it can not be overridden . When a method is private , it can only be accessed by methods and members of that given class in which the method exists . So , does it mean that since the method can not be accessed it is no use trying to check if it can be overridden because I wrote the following declaration and I get the following warning : private method addCode is declared final"
"I was trying my hands on vectors and wrote a simple code to access its elements through enumeration.Working with raw types produces results as expected ( prints the elements ) . But , when I use generic type of enumerator , it gets tricky.With String as type parameter : Output : Some StringException in thread `` main '' java.lang.ClassCastException : java.lang.Integer can not be cast to java.lang.StringWith Integer as type parameter : Output : Some String10What is happening here ? Should n't both the cases produce ClassCast exception ?"
"I have a desktop java application that uses Swing as a GUI library . There is an installer that I have to install inside this application , but it must have administrative privileges.I am usingto install the program . But it has this error when running it without administrator privilege : Is there a way to get Run as administrator in the context menu ( the right click menu ) in the generated jar file when clean and build is used in NetBeans :"
I am setting this variableThen I execute this programBut I have this strange errorI even tried using with the same resultanother test :
"How to best print 2 float numbers in scientific-notation but with same exponent ? eg : I 'd like to print numbers like this : And I would like some function to detect automatically best exponent - that is smaller number always start at first decimal digit and bigger number prints how it must with same exponent.eg : 0.1 and 100 would print But even when I ask explicitly for 2 decimal places String.format ( `` % 2.3e '' ,11.234e-6 ) I got 1.123e-5"
"I have been reading Effective Java , 3/E.While reading the part regarding hashcode , ( page 51 ) I noticed the book sayingA nice property of 31 is that the multiplication can be replaced by a shift and a subtraction for better performance on some architectures : 31 * i == ( i < < 5 ) - i . Modern VMs do this sort of optimization automatically.I thought this makes sense . And I wondered how much faster would the code become when this kind of optimization took place . So I wrote a short code to see the impact of such optimizations.But , it seemed like there were no noticeable differences . So I wrote much simpler code , to check if such optimization even took place.Below is my sample code.And this is the compiled machine code , got from IntelliJ 's Kotlin bytecode feature.Apparently , there are no differences . We push each number and just call IMUL . I thought maybe the optimization takes place when the Java bytecode is compiled into actual machine code , but I have never checked that side , so I do not know how to confirm my theory . I searched , and it seems like the keyword I am looking for is the JIT compiler , which seemingly converts the .class into cpu-specific machine code.I thought , maybe I can try to convert this code to cpu-specific machine code through JIT compiler , but then that means I checked this theory on one specific CPU , not all CPUs . I want to see if it is `` generally true '' , but that will take too much time.So , is there any way to confirm that above code is actually ( generally ) being optimized by the compiler ? If I have similar questions in the future , where should I look for ? I mean , when I 'm curious about java behavior , I go the oracle and check JVM reference or java se reference . But what about the compiler behavior ? Where should I start ? That was a long question . Thank you for spending your precious time on reading this question . ( just an additional note ) I checked C and python on https : //godbolt.org/ , and confirmed that for C , it is actually optimized.However , python , was not ."
"I have the following code where I 'm creating an array and trying to store objects in it . At run time , I get an ArrayStoreException.I somehow understand that this is because of the statementWhy is this wrong ? A.getClass ( ) at runtime returns a String , so temp should be an array of strings . In that case , why is the assignment temp [ i ] = A [ i ] not working ?"
I have a character `` Unicode value is U+1F62D binary equivalent is 11111011000101101 . Now I want to convert this character to byte array . My steps1 ) As binary representation is bigger than 2 bytes I use 4 bytesXXXXXXXX XXXXXXX1 11110110 001011012 ) Now I replace all ' X ' with ' 0'00000000 00000001 11110110 001011013 ) Decimal equivalents00000000 ( 0 ) 00000001 ( 1 ) 11110110 ( -10 ) 00101101 ( 45 ) This is my codeThis is the outputWhat did I miss ?
"Here I want to convert sting array values into integer array , Need to store all string values into integer array , Here is the string array :"
"I have been testing some different ways to multiply array items with a constant.I have produced different results depending on how I loop through the array and I 'm having trouble understanding this ( I 'm fairly new to Java and still getting my head around how things are passed or referenced ) .Test 1Resulting in array items unmodified : It seems like number is not the actual array item , but a new int that is initialised with it 's value . Is that correct ? Test 2I thought that by using an array of Objects might work , assuming number is then a reference to the actual array item . Here is my test of that using Integer instead of int : Again , resulting in array items unmodified : Test 3After some head scratching I tried a different loop method , like this : Resulting in array items multiplied : This final result makes sense to me , but I do n't understand the results from the second test ( or first for that matter ) . Until now , I 've always assumed the loop used in test 1 and 2 was just a shorthand version of the loop used in test 3 , but they are clearly different.Why is n't this working as I expected ? Why are these loops different ?"
"I want to create a regular expression in java using standard libraries that will accommodate the following sentence : Obviously the numbers can be anything though ... From 1 digit to manyAlso , I 'm not sure how to accommodate the word `` of '' but I thought maybe something along the lines of :"
"Consider the following : } The out put is ALF : ARIAN has bowed to me ! ARIAN : ALF has bowed to me ! LOCK situation ... ..When Thread 1 runs , it requires a lock on the object Friend . Immediately after that Thread 2 requires lock on the second object . Now the method bow is lock by thread 1 and thus prints `` ALF : ARIAN has bowed to me ! '' . How comes Thread 2 enters bow and neither can enter * bowBack * ? ? Regards B ."
"I have the following code , which works fine on Java 8 : But when I try to use the Java 7 compiler , I get an error : Why ? Is there some way to use such wildcards in Java 7 ?"
"I have a string like this -And I want the following result -All the content between the word in quotes `` and , should be deleted.How do I achieve this ? Thanks !"
"I 'm reading a lot of articles about javadoc , but still ca n't menage when the `` boilerplate '' begins . In this example : Can I perform them somehow to be less boilerplate or I should just remove them ? Why in 75 % of articles called `` best practices for Javadoc we have repetitions ? For example : Is n't it writing 2 times same thing ?"
I am following the example for the Undertow Client API . How do I add cookies to the request ?
"I have the following piece of code-This compiles fine , implying that the variable definitions are executed before the instance blocks.However , if I use the following code instead , it does not compile ( `` error : illegal forward reference '' ) .So it is not possible to use the value of 's ' on the right-hand side of a statement in an instance block that comes BEFORE the variabledefinition . Is there a sane explanation of what is happening behind the scenes , or is this simply an idiosyncratic feature of Java ? P.S . I have seen a similar question asked before , the only explanation given there is that it is a feature of Java.I am writing this to ask the community if that is indeed the final word on this question ."
"A few days ago , I ran into a fascinating scenario that I could n't find any documentation on how or why Java lets the following happen . ( This snippet is just a simplified form of the bug . ) in the snippet above : if the bool = true , then you get the value ' 5 ' ; but if bool = false , then you get a null pointer exception when trying to evaluate the ternary operation . NOT the print statement.To fix this I just change 'result ' toDoing this , will give the expected behavior I needed : if the bool = true , then you get the value ' 5 ' ; but if bool = false , then you get 'null'now the fun part is that if you split this into a normal if/else statement , then java does NOT let you compile but it doesnt catch that via the ternary operator . So what 's Java doing to make it null point in the original snippet ? ( java 11 )"
"Say you have a class A and a class B extends A and a class C extends B.Is there any IDE or any sort of plug-in for any idea , where in the file C.Java , on line I can see something like ( and Class A ) for example like a tooltip or like a comment under the line ?"
What are the rules for the characters that can be used in Java variable names ? I have this sample code : which will not compile : So why is the Java compiler throwing an error for `` ? ( \uD834\uDD1E ) Same in ideone.com : http : //ideone.com/fnmvpG
"Fast-Fail : meaning that if they detectthat the collection has changed since iteration began , they throw the uncheckedConcurrentModificationException.I have written a test example to demonsterate this : the output is : which is expected . However , when an element is removed , the exception is not thrown : Output : Why is that ? both cases the list is modified ."
"I am trying to write a code that computes the following for a given integer n : This is the code I have written so far : However , it always outputs : What is the problem and how can I fix it ? Thank you"
"Here I 'm working with a Java to C # sample app translation that involves cryptography ( AES and RSA and so on ... ) At some point in Java code ( the one that actually works and being translated to C # ) , I 've found this piece of code : After some googling ( here ) , I 've seen that this is a common behaviour mainly on Java code ... I know that char is a 16-bit type and byte is 8-bit only , but I could n't understand the reason for this bitwise and operation for a char- > byte conversion.Could someone explain ? Thank you in advance ."
"I have two very large ArrayList , each containing millions of data . I want to filter out data from List1 which is not present in List2 and / or vice-versa.I 've tried Apache CollectionUtils , Java 8 stream API without any success . Java 8 parallel streaming is consuming all the CPU and CollectionUtils keeps on comparing data set without any output.POJO SamplehashCode ( ) / equals ( ) can have more fields , for now I 've kept it simple.I also tried spliting List1 into smaller chunks and then tried comparing against List2 without any results . I 've looked at other questions but none of them have consider extremely large volume.Please let me know if you have any pointers ."
I have written a same program in two different way and both are giving me different output . i am not able to understand why.please correct me.In first program i am getting this outputOriginal : UmeshChanged : XmeshAnd in second program i am getting this output.Original : UmeshChanged : UmeshProgram-1 Program-2
"After reading a bunch of questions / articles on this topic there is still one thing unclear to me.From what I understand ( and please correct me if I 'm wrong ) is that the value of a variable can be cached locally to a thread so if one thread updates the value of that variable this change may not be visible to another thread . The use of volatile then is to essentially force all threads to read the value of the variable from the same location . Furthermore , all literature on this topic states that synchronizing on that variable will have the same effect . My problem is that nothing that I 've read ever explicitly states that synchronizing on a different variable will cause this same behavior but frequently provides a code example stating that in the following two cases the value that is read from the variable will be up to date : and The question is then : is it the case that synchronizing on any arbitrary variable will force every variable access within the synchronized block to access the most up to date value of that variable ?"
"For example , if I have a function likeMy classmate told me , we should use List as return type because return type should be as broad as possible . His reason here is we can change to return a LinkedList or another type later if we currently return an ArrayList . It increases the flexibility.But the function parameter we receive should be as narrow as possible . This is because we may need to use some function that only implemented by ArrayList in our sort function.So my question is this : is there any widely accepted guidelines/best practices that recommend that formal parameters of a function should be as narrow as possible typed ? If not , what would be the main arguments against ? =============================================Just to clarify that . This is just an example , the List and ArrayList could be replaced by any other Super Class and SubClass . Let 's assume there are some functions only exist in the SubClass ."
"I have a use case where the input is set of parameters ( say A , B , C , D ) and data ( say XYZ ) . Based on the parameters ( A , B , C , D ) i have to process the data ( XYZ ) and respond back . The processing logic can be unique or common based on parameters ( say do something # 1 only when A , do something # 2 when A and C , do something # 2 when B , C and D and so on ) . I might also need to maintain the order of processing.The current implementation is based on if-else loops . I am looking at chain of responsibility , pipeline design patterns . But is there any other suitable design pattern for the above task ? Example using if-else blocks : I/P : A= { A1 , A2 , A3 } , B= { B1 , B2 , B3 } , C= { C1 , C2 , C3 } , D= { D1 , D2 , D3 } and XYZ= '' foo ''"
Here is from HashMap：I wonder why not use member variable values directly ? Why create the local variable named vs ? How is that better than :
"Please , tell me difference between the next situations : There is no compilation error in this caseANDThere is compilation error"
"I have the below classWill the iterator ( ) call in the printElement method throw ConcurrentModificationException ? The basic question is if the lock on class object is acquired ( as done in printElement method ) , will it lock the class members/ variables too ? please help me with the answer ."
"I have a code like this : Why when creating A with no generic type getFiled returns String but getFileds returns List < Object > ? I have to define A as A < String > a = new A < > ( ) for this to work properly.Thanks ,"
"Currently i have code like below . A list embedded with in another list , and i want to get the total count of the embedded list objects.I want to write a quick oneliner for this . Is there an efficient Lambda or FP trick i can do in Java 8 ?"
"Suppose I have a simple list : The target is `` test '' and I want to add the value before the target into a new list , so the output would be [ result1 , result2 ] .It 's easy enough to add the `` test '' values with something like listTwo = listOne.stream ( ) .filter ( i - > i.equals ( `` test '' ) ) .collect ( Collectors.toList ( ) ) ; but how can I get the values elsewhere based on the location of the target ( in my example it 's just the element before the target ) I tried just changing the i to i - 1 but that did nothing . I am aware I can do it with a simple for loop , but just wondering how to apply the same logic with a stream ."
"I am writing a class to represent time series data , i.e . basically a map of ( Instant , T ) pairs for a generic type TSome of the classes we deal with implement an interfaceand I want to provide a more convenient method in the TimeSeries interface to add such data items without stating the time explicity . Basically , I wantbut this seems not allowed by the language because I can not use type variables in intersection types . Is there a work-around that does not involve giving up static type-safety ? The only things I can come up with areadd ( TimeStamped t , T data ) is type-safe but still inconvenient ."
I have an mysql query : From this query I am getting no . of Full Day present.I have present_status= 'Half Day ' & present_status = 'Full Day ' in my database records . How to count 'Full Day ' + 'Half Day ' ?
"I launch a jetty instance indirectly when creating a JAX-RS endpoint using cxfThis works just fine , but how can i configure the size of the jetty threadpool minThreads and maxThreads programmatically when launching it via CXF ?"
"This question might be considered opinionated but I really ca n't seem to find a straight answer . So either I 'm missing something or I 'm asking the wrong questions.So , I 'm an undergrad student and new in the whole Spring app development and I 'm currently creating an app with React acting as the frontend and building a RESTful API using Spring in order to support it with necessary operations for the backend . Among other services , the backend API I 'm building is used as a middle-man forwarding calls to the Google Geocoding API and other 3rd party APIs . **My biggest question since I started this is , is this a valid strategy ? ** ( at least , something acceptable by industry professionals ) My ResearchThe biggest pro that this method has is that it allows me to effectively hide my API keys from the client rendering any attacks impossible.At the same time , this whole process adds ( I believe ) unnecessary complexity and delay in the overall responses resulting in a possible hindered user experience.Something I 'm not quite sure yet would be that I 'll have to add async capabilities to the services exposed by my own API in order to facilitate multiple users . ( This last part might be entirely wrong but I have n't been able to understand how multiple users are handled when querying the same endpoint concurrently . ) I have used Apache JMeter to test the performance of the app on concurrent POST calls and it seems to be able to handle them on around 170ms . ( I 'll post screenshots of the results below . ) CodeI 'll try to include code demonstrating the controller that 's responsible for the calls to the Geocoding API.The getReverseGeocode ( ) method takes in as an argument the following object : So , the Request Body is mapped onto the above object once the request arrives.Finally the CallbackFuture is just an adapter class based on this answer.JMeter Results"
Why in the below code is assigning a value to the static variable acceptable but using that same variable is not ?
"What are the norms for creating JPackage installer Java application on Linux ? I have created an installer for Windows , and am now creating one on Linux ( using Ubuntu ) So far I have : for creating a debian installer , it works ( installs not yet running properly ) but I am confused about a number of things , I am not so familiar with the linux environment. Can not see the effect of linux-menu-group or linux-shortcutShould I be using linux-menu-group or linux-app-category , and if so is it a predefined list ?"
"Given that 2 strings : I want to find out whether each character in stringB H A T S exists in stringAIn a junior approach , the process can be done within a nested for-loop which its computation complexity is O ( n^2 ) .I am looking for a faster solution to solve this problem ."
"C # 's extension methods are great for adding syntactic sugar . Java extension methods are great for allowing library developers to add methods to their interfaces.I am a non-library Java developer and know I will reap a lot of benefits from getting new functionality from libraries , but I would still like to have the syntactic sugar capabilities of C # extension methods . Is this , or will this be possible in future versions of Java ? eg : I would like to add methods to the String class ... Please do n't focus on this particular example , I am only showing the class of functionality I want to be able to achieve ."
"I am writing my own Array List . Here is the remove method of the same , Now i will perform some remove operationNow this will result in the following output , But when i use the ArrayList from the API , i will get the output asAm i missing something ? Can someone please explain me where i went wrong ."
I need to extend an abstract class which I can not modify : With a generic class like this : My question is obvious : what should be returned by VerticalCheckBoxSelect : :getType to be compilable ( and correct ) ?
"Let 's say I have simple class : I have multiple pojo classes in my project and I want to be able to serialize each object to json . So I created new Serializer class ( gson used to serialize ) : And my example class extends Serializer : And I am able to serialize any object of class extending Serializer by calling toJson method , like this : Now I want construct class object by calling static method fromJson . So my TestClass looks like this : So , I can create new object by calling : Of course , this is not good approach , because I need to include fromJson implementation in my all classes.Question : how to move fromJsonto superclass ( Serializer ) , and provide single , type dependent implementation for fromJson method ?"
Recently I was reading the following piece of code from oracle collection tutorial when i came across this piece of code.I was not able to understand why the returned value is something
"I would like to pass a reference to a primitive type to a method , which may change it.Consider the following sample : The output running the sample is : Which means int_ref was past to the function by value , and not by reference , despite my optimistic name.Obviously there are ways to work around this particular example , but my real application is way more complex , and in general one would imagine that a `` pointer '' or reference to integer would be useful in many scenarios.I 've tried to pass Object to the function ( then casting to int ) , and various other methods , with no luck . One workaround that seems to be working would be to define my own version of Integer class : Doing this , and passing a reference to IntegerWrapper does work as expected , but to my taste it seems very lame . Coming from C # , where boxed variable just remain boxed , I hope I just miss something.EDIT : I would argue my question is n't a duplicate of Is Java `` pass-by-reference '' or `` pass-by-value '' ? , as my question is n't theoretical , as I simply seek a solution . Philosophically , all method calls in all languages are pass-by-value : They either pass the actual value , or a reference to the value - by value.So , I would rephrase my question : What is the common paradigm to workaround the issue that in java I 'm unable to pass a reference to an Integer . Is the IntegerWrapper suggested above a known paradigm ? Does a similar class ( maybe MutableInt ) already exist in the library ? Maybe an array of length 1 a common practice and has some performance advantage ? Am I the only person annoyed by the fact he can store a reference to any kind of object , but the basic types ?"
"I was experimenting on initialization order in Java and I came across something really confusing : As you can see , we can not reference a field that was not declared yet , hence the compile error on System.out.println ( staticField ) ; in the first static block : Can not reference a field before it is defined.However , it is possible to assign such a field , as we can tell from the value in the second static block.Why is this so ?"
I 'm trying to figure out the whole Java generics topic.More specifically this issue : How can I add an `` extends '' wildcard specifying that the set method can receive E or any inheriting class of E ( in which case the Node will hold a upcasted version of the parameter ) .Or will it work even if I leave it the way it is ? ( I might be a bit confused with the invariant aspect of generic types . ) Thanks !
"case 1 : it can work when using for-each loop：orcase 2 : it will catch compile-time errorIn case 2 , I know the variable i is not effectively final because its value changed between loop iterations . But I can not understand why the lambda can work in case 1 ."
"I have to `` translate '' codes with a conversion table like this : My first idea was to use a Map associating each symbol to its translation and to load the table from a database or a text/xml file . Is there a better way ? Does n't have to be lightning fast , just easy to maintain and test.TIA ."
"Java supports pass by value ( always works on a copy ) but when you pass a user defined object then it changes the actual object ( kind of pass by reference but no pointer changes ) , which I understand but why the changeObject2CLEAR method below is actually changing the value of the object ? Instead it has to work on the copy ?"
"In a program I was working on , I ran into a data storage issue , specifically related to ArrayLists . This is not the actual code I was testing , but it provides an example of what I mean.If you run it , you get , true , true , and false . The code recognizes that both are equal to 129 but for some reason returns false when it attempts to see if they are equal to each other . However , if you change the value to 127 , it returns true , true , and true . Testing this multiple times for different values and you will see that the minimum value to receive true , true , and true is -128 and the maximum is 127 . This is the interval for byte , which leads me to suspect that the == operation uses byte in this case.What is interesting is that if you modify the code so that it readsit works just as intended . true , true , and true are outputted . Why does saving the values as int before the comparison change the outcome ? Is it because if they are not saved , the comparison will use byte by default for the == comparison ?"
"First , a bit of context code : The above represents the data structure I am dealing with . I have an outer map ( key type is irrelevant ) , that contains inner `` property maps '' as values . These inner maps use strings to lookup different kind of data . In the case I am working on , each v1 , v2 , ... represents a `` disk '' . Each disk has a specific size , but can have multiple parents . Now I need to sum up the sizes per parent Id as Map < Id , Double > . For the above example , that map would be { B=3.0 , A=1.0 , C=2.0 } .The following code gives the expected result : But the code feels pretty clunky ( like the fact that I need a second map for adding up the sizes ) . I have a similar case , where there is always exactly one parent , and that can easily be solved using But I am lost for the `` multiple '' parents case . So , question : can the above transformation to compute the required Map < Id , Double > be rewritten using groupingBy ( ) ? And just for the record : the above is just a mcve for the problem I need an answer for . I understand that the `` data layout '' might look strange . In reality , we actually have distinct classes representing these `` disks '' for example . But our `` framework '' also allows for accessing the properties of any object within the database using such IDs and property names . And sometimes , when you have performance issues , then fetching data in such a `` raw property map '' way is orders of magnitude faster compared to accessing the true `` disk '' objects themselves . In other words : I ca n't change anything about the context . My question is solely about rewriting that computation . ( I am constrained to Java8 and `` standard '' Java libraries , but additional answers for newer versions Java or nice non-standard ways of solving this will be appreciated , too )"
when I am runnig the code in unix system.exit ( Integer.parseInt ( e.getMessage ( ) ) ) is giving 254 output :
"Here are three sample lines from my dataset : I am trying to come up with a pattern matcher which would capture the following : feature namethe relation ( = , > = , < ) feature value ( could be a mix of numbers and/or characters , but never contains a colon ) result ( the value that comes after the colon and before the bracket - the colon and the result are optional and may not appear on some lines ) I came up with the following pattern , but it fails to capture the feature value : So basically my aim is for group ( 1 ) to contain the feature name , group ( 2 ) to contain the relation , group ( 3 ) to contain the feature value , and group ( 4 ) to contain the result if it exists.Currently group ( 1 ) , group ( 2 ) , and group ( 4 ) produce what I 'm expecting but group ( 3 ) is never captured and is always empty.I would appreciate any help/advice ."
"I change a value that is used to determine when a while-loop terminates in a seperate thread . I do n't want to know how to get this working . If I access the variable test only through synchronized getters/setters it works as expected..I would have expected , if some read/write commands are lost due to concurrency the program sometimes does not terminate , but it never does . Thats what confuses me.. I would like to know why the program never terminates , without the print-command . And I would like to understand why the print-command changes anything.."
"How can I get type safety for a set of classes when there are cyclic relationships . I have 3 classes , Router , Interactor and Component such thatI want to ensure that a specific router is tied to a specific component and specific interactor.Edit The architecture of the app ensures that we have exactly 1 router for 1 interactor for 1 component . Some reuse is possible but if router A is with interactor A and component A it will always be that way , otherwise we would define router B with interactor A and component B for example.Edit 2 A more concrete example : We can have the login screen which has loginscreenrouter , loginscreeninteractor and loginscreencomponent and then the loading screen which has 3 more classes in the same structure . But what we do n't want is for developers to accidentally pass the loadingscreeninteractor to the loginscreenrouter"
"My code : As you see , in line x , T have to be String.class and returns String . But compile failed without casting the result to T. Change line x to return new String ( `` abc '' ) ; results Incompatible types ."
I have this code : I know I can declare a function which hold lambda : I want to make this function to hold implementation of Runnable from new Thread.But I do n't know what to put between < > of Function .
"I was posting an answer to a different question , when I came across a little mystery . The class definition ( slightly modified from the original questioner ) is here : In main , we then create a new Playground , Playground < String > animals = new Playground < String > ( 5 ) ; and put some animal Strings in it . ( Dog , Cat , etc ) .The mystery is that this works : But this creates a ClassCastException in the for loop declaration.Both Object [ ] s and String [ ] s have length variables . Why does using the accessor method in the loop declaration cause an exception ?"
"I encountered the following behavior while using a ByteBuffer . It looks like a bug to me , but perhaps I 'm using the libraries incorrectly.Code : Output : What 's the deal with the leading space ? Am I doing something wrong ? Is this expected behavior ? If so , why ?"
"If multiple fields are declared in a single statement using a field annotation , does the annotation apply to all of the fields ? For example , will the following result in x , y , and z all having the @ Nullable annotation ? I 'm looking for an official specification on this , but have had trouble finding one ."
"Should defensive copies always be made for object references of mutable objects passed to constructors ? If yes , then how 'deep ' should I go in making copies . In the following example should I make deep copies inside copy constructors of all classes involved ? Eg:3.. What if some class forgets to implement deep copy ? Does it mean I will never have a safe deep copied object ? Any way to prevent this ?"
How could I parse the following String to a LocalDateTime-Object ? 20200203092315000000I always get the following exception but I did n't understand it : My application code looks like :
"Fianlly , the console prints a NullPointerException error . The CoreJava says that we should n't modify the Collection which will return back to the stream after modified . And I do n't have a clear understanding of the principle ."
"I 'm installing a production Crafter 3.0 instance built from source , using the current documentation as guidance . However , I 'm having issues at this point : I ca n't find the INSTALL_DIR/apache-tomcat/solr-crafter/conf/solrconfig.xml file , and solr itself seems to be in different path ."
"Is there any difference among case1 , case2 and case3 ? Is there any advantage or disadvantage related to performance ?"
"My code is : '' solveIt '' method returns after 30 seconds and until it returns , frame is n't installed properly but after solveIt method returns , the frame gets installed properly but what i want is that before going into solveIt method , the frame should be properly on the screen . Is there any method that can wait the frame 's installation and then calls that solveIt method ?"
"I am new to OODP , I am trying to have a method that is able to take in any kind of List data so that I can abstract things out . How can i do this ?"
"Consider the following visitor for a simple language interpreter.For completeness I add some code that gives necessary implementation details ( you can skip and read directly the question ) .a var statement is defined like that : a valid language instanceAn abstract way to represent the VarStat node is the following : The QuestionThe usual VisitorPattern application would behowever , since I know `` Ident '' is of type Ident a possible optimization isThat would skip 2 method calls improving the performance ( actually it gives a nice boost in my scenario ) .Is that considered a design error that could lead to future problems ?"
"Can the AdditionalBound described in JLS8 cast expression be used for casting anything except that a lambda expression or a method reference ? It is said , that it could be : and that : The target type for the casting context ( §5.5 ) introduced by the cast expression is ( ... ) the intersection type denoted by the ReferenceType and AdditionalBound terms appearing in the cast operator.But I 'm failed to find a workable example with a non-lambda or a non-method-reference example , say something like : UPD : In particular , it allows something like X x = ( I1 & I2 ) ~ UnaryExpression , where ~ is unary operator . I have no idea what X , I1 , I2 and UnaryExpression should be in this case.UPD-2 : Thanks to @ Jimmy T. , he has shown the workable example of Object x = ( Number & Serializable ) ~0 ; .But it would be nice to see a non-redundant example , where such casting has sense.UPD-3 : According to the fact that all these expressions above are compiled , but all of them do n't have any sense : I ca n't imagine a case where such casting would be sensible ."
"A new feature of Java 9 is that it can not only forcefully kill processes ( in the meaning of SIGKILL ) it had created but it may also support to send a SIGTERM ( in Java called `` normal termination '' ) .According to the documentation of Process one can query if the implementation supports this : public boolean supportsNormalTermination​ ( ) Returns true if the implementation of destroy ( ) is to normally terminate the process , Returns false if the implementation of destroy forcibly and immediately terminates the process . Invoking this method on Process objects returned by ProcessBuilder.start ( ) and Runtime.exec ( java.lang.String ) return true or false depending on the platform implementation.I made some tests using Oracle JRE 9.0.1 ( Windows 64bit ) : However it seems like Oracle JRE does not supports `` normal termination '' as I always get false.As it depends on the `` platform implementation '' it seems that Java 9 defines it but does not implement it . Does anybody know if the feature of `` normal termination '' is usable at all in any available Java VM ?"
"I 'm trying to teach myself Java Networking . I tried to write a little WebChat-Application and it runs just fine when I 'm trying to run it in Eclipse , but when I 'm trying to run it in Debug-Mode I keep getting this error : I tried to fix it but I failed many times ... This is my code :"
"Say I have this : my question is - how can I define the thread that 's used in the pool , specifically would like to override the interrupt method on thread ( s ) in the pool :"
"I am creating JDBC Statements and ResultSets.Findbugs rightly points out that I do n't close these if an exception is thrown.So now I have : ( Only I have rather more result sets and prepared statements and so on open ... so my nesting of finallys is rather deeper ) There has to a better way to ensure a large number of result sets are closed ? ( Aside : in Symbian they never let destructors/close/release/remove -type methods throw any errors . I think this a very good design decision . That all the close methods in JDBC can throw SQLException makes things unnecessarily complicated , in my opinion . )"
"I have a generic class with this definition : Where AntColony goes this way : And Ant goes like this : I was hoping to extend AntColony in this fashion : But Eclipse is showing an error on the FlowShopAntColony parameter class : Which confuses me , since FlowShopAntColony is defined this way : And AntForFlowShop goes like this : Why is n't FlowShopAntColony accepted as a valid parameter ?"
"In Java , is giving 4 as an output and notas expected by me ."
"For some reason I do n't understand why this code prints true and false , what is special about array that it does not include that annotation here ? It works as expected if you use getParameters instead ."
"My mystery begins like this . Consider this bit of code : If you look past most of the scaffolding ( I just wanted to make sure it 's minimally complete and you can run your compiler on it ) , you 'll see in the middle there 's an annotation , and it takes a String array initializer , and there 's a comma after `` thing2 '' . Now , if you 're the sort who takes the Java Language Specification to bed with you at night , you 'll remember that a final comma is perfectly valid , `` may appear after the last expression in an array initializer and is ignored . '' So if you try this in your favorite javac , you will not be surprised that it compiles perfectly.So here 's the mystery . That example above is condensed straight from a real patch that was requested in a real project because of a real `` illegal start of expression '' compiler message that somebody got while building that project , and went away when he deleted the final comma.So clearly that person was using a braindamaged version of javac , or had some other whizbang source munging tool in his toolchain that has n't got the Java grammar quite right , and while he gave otherwise complete information in his bug report , in this case the only information that really matters would be whose compiler and toolchain and what version he was using , and he did n't supply any of that ! So not only was a spurious patch made to code that did n't need it , but there is n't enough information to file a bug report where it really needs to go , the tool vendor that gives spurious errors on valid Java.So , I 'm sort of crowdsourcing this : ) ... can anybody find a Java compiler or other related tool that does n't compile the above code successfully , but flags an error similar to what was reported in this example ? Then maybe we 'll know what the culprit was.I 'm only partly peeved 'cause it was my code that got spuriously patched ; ) ... it bugs me at least as much that there may be some tool still out there that has n't been fixed , and will be confusing more people about what 's Java and what is n't , and leading to more weird patches to code that 's ok.Thanks !"
"It 's not exactly as the title says , but close to . Consider these Spring beans : Important note : I 'm using JDBC transaction manager that supports savepoints.What I 'm expecting this to do is , when EvilException is thrown , the transaction of the BeanA is rolled back , which with this setup happens to be the savepoint created by starting methodB . However , this appears to not be the case.When going over with debugging tools , what I 'm seeing is this : When doSomeWork of MainWorkerBean starts , new transaction is createdWhen methodB starts , transaction manager properly initializes a savepoint and hands it to TransactionInterceptorWhen methodA starts , transaction manager sees Propagation.REQUIRED again , and hands out a clean reference to the actual JDBC transaction again , that has no knowledge of the savepointThis means that when exception is thrown , TransactionStatus : :hasSavepoint return false , which leads to roll back of the whole global transaction , so recovery and further steps are as good as lost , but my actual code has no knowledge of the rollback ( since I 've written recovery for it ) .For now , I ca n't consider changing BeanA 's transaction to Propagation.NESTED . Admittedly , looks like it 's going to allow me to have the more local rollback , but it 's going to be too local , because as I understand it , Spring then will have two savepoints , and only roll back the BeanA savepoint , not BeanB one , as I 'd like.Is there anything else I 'm missing , such as a configuration option , that would make internal transaction with Propagation.REQUIRED consider that it is running inside a savepoint , and roll back to savepoint , not the whole thing ? Right now we 're using Spring 4.3.24 , but I already crawled through their code and ca n't spot any relevant changes , so I do n't think upgrading will help me ."
I have two separate entities : and Where andGenericValidator is an abstract class having a number of subclasses I would not like users to access directly . How should I handle those things better ? I do n't understand when it 's better to create a class likeinstead of implementing the Validatable interface as I shown earlier.Could n't someone explain how can I make a right decision ? What potentiall circumstances requires implementing FactoryMethod a bad decision and when it would be really good ? UPD : The ErrorCode class encapsulates the result of the validation ( null if valiadtion 's completed succsfully ) .
"Which are the default modifiers for x and m in ? I suppose that the code above is equivalent to : where the modifiers public and public static final are redundant , but I did n't find an official explanation for this.I was looking here : https : //docs.oracle.com/javase/8/docs/technotes/guides/language/annotations.htmlhttps : //docs.oracle.com/javase/tutorial/java/annotations/index.htmlhttp : //www.vogella.com/tutorials/JavaAnnotations/article.htmlIs there any documentation regarding those modifiers ? Or could someone provide a `` formal '' explanation ?"
Just to give you a background which probably has nothing to do with the question . Trying to use the JAHMM library to build and score HMM's.One of the parameters to the functions mentions the above as the datatype and I have no idea what it means.From what I understand with help from a friendList < ? extends ObservationInteger > means a List of instances of any classes extending `` ObservationInteger '' which is a valid class in the library.It is the outer List < ? extends List < ? ... that is confusing me.Can someone throw some light on this ?
"Why when I use reference this in a variable declaration , illegal forward reference does n't appear ? What 's the difference between declaration with this and without it ? The following example fails to compile because of the illegal forward reference : By qualifying the use of b by this the compilation error goes away ."
In String functions like substring ( ) returns helwhereas 0-3 index includes helland in regex Matcher 's end ( ) methodreturns 4 whereas first match ends at index 3I 'm just curious about why java works in this way
"I am recently started using java stream and write a one User service , which returns a stream of users . Using that user stream , I process other logic . Following is the piece of code that I am dealing with stream and it works fineBut when I start writing Junit then it fails with following error message.Here is my unit test code : Could you please help me to write test case with stream/help me to fix this issue ?"
"I needed to dig into the specifics of method invocation in Java , and while reading the section Choosing the Most Specific Method in The Java Language Specification ( Java SE 12 Edition ) , I found that ( 1 ) during invocation multiple methods can be maximally specific and that ( 2 ) having multiple maximally specific methods does n't always result in a compile-time error.I was able to think of an example where two methods are both maximally specific : This example results in a compile-time error : error : reference to foo is ambiguousThis makes sense to me , but what does n't make sense to me is when there are multiple maximally specific methods and it does n't result in a compile-time error.The section Choosing the Most Specific Method in The Java Language Specification ( Java SE 12 Edition ) mentions two scenarios where the compiler is able to select a method when there are multiple maximally specific methods : If all the maximally specific methods have override-equivalent signatures ( §8.4.2 ) , and exactly one of the maximally specific methods is concrete ( that is , neither abstract nor default ) , then it is the most specific method . Otherwise , if all the maximally specific methods have override-equivalent signatures , and all the maximally specific methods are abstract or default , and the declarations of these methods have the same erased parameter types , and at least one maximally specific method is preferred according to the rules below , then the most specific method is chosen arbitrarily among the subset of the maximally specific methods that are preferred . The most specific method is then considered to be abstract . First , how is it possible to invoke a method that is abstract ? Why would an abstract method ever be considered for method invocation ? Second , can someone provide an example for each of these two scenarios that do n't result in compile-time errors ?"
If i change the byte to int I get a compiler error . Could you explain the problem ?
"Why is it that trying to catch an exception that will not occurr , will give a compilation error , whereas I can throw any Exception , it wo n't give an error ? Both can be checked at compile time , so it would just make more sense to me if the behavior is the same ? In the given example , the catch-block will generate a compile time error : error : exception SQLException is never thrown in body of corresponding try statement } catch ( SQLException e ) { When I remove the catch block , the code compiles just fine . This seems inconsistent to me.Is there any particular reason for this behavior ?"
I am creating an Android application . I am new to android . I want to create a label like in the image below . Here is the below code that I have tried.I have labels over the images . Any help will be appreciated . Thanks
"I 'm solving a Project Euler Problem 14 using java . I am NOT asking for help solving the problem . I have already solved it , but I ran into something I ca n't figure out.The problem is like this : The following iterative sequence is defined for the set of positive integers : n = n/2 , if n is even n = 3n + 1 , if n is odd Using the rule above and starting with 13 , we generate the following sequence : 13 - > 40 - > 20 - > 10 - > 5 - > 16 - > 8 - > 4 - > 2 - > 1 . Here , the length of the chain is 10 numbers . Find the starting number below 1,000,000 that produces the longest chain.So I wrote this code : This gives me the answer 910107 , which is wrong.HOWEVER , if i change the type of my n variable to double n it runs and gives me the answer 837799 , which is right ! This really confuses me , as I ca n't see what the difference would be at all . I understand that if we use int and do divisions we can end up rounding numbers when we do n't intend to . But in this case , we always check to see if the n is divisble by 2 , BEFORE dividing by 2 . So I thought that it would be totally safe to use integers . What am I not seeing ? This is the code in its entirety , copy , paste and run it if you 'd like to see for yourself . It runs in a couple of seconds despite much iteration . = )"
"Suppose I am modelling different animals in Java . Every animal has some combination of these abilities : walk , swim and fly . For the example , the ability set is constant . I can store this information as getters that return constants . For example : The run-time check is then : Or I can use `` tagging '' interfaces : The run-time check is then : What are the advantages and disadvantages of each approach ?"
"I would like to know how can I get all the elements from a collection containing a specific value.Like this : But I would like to filter the collection directly . I read that I can do this using LAMBDA , example : But I Do n't know how to apply this example.Thank you ."
"I found this in some code I wanted to optimize . Here is the snipet : Then I decided to use the regex wisely and I did this : Then a friend told me to do this instead : Since I like to know the result of my changes I did a test to verify if it was a good optimization . So , the result with ( java version `` 1.6.0_27 '' ) is with the first code being the reference 100 % . With the pipe it is 121 % so it took more time to perform the task.With the square bracket it is 52 % so it took less time to perform the task.Why does the regex behave differently where it should be the same ? Martin"
"why my thread ca n't be stopped ? ? ? if i use rp.num == 0 , the thread can be stopped immediately . But , why when i changed the rp.num == x ( x is any number greater than 0 ) the thread can not stop ? please help me solve this thing ... thanks for any helps ."
"While going through the libgdx source code for a Stage , I encountered this segment : ( Link on GitHub . ) What interested me was this line : Batch batch = this.batch ; My first guess was some caching improvement . Am I right , or is there another reason to avoid using the instance variable directly ?"
"Can anyone explain how this code snippet works ... The actual code itself is not relevant as it was from a short tutorial on using an MVP pattern for Android.My main question is how this code structure works and whether this is an inner class , of sorts , or maybe a transaction.. I have n't seen a code structure like this in Java and I would like to undertsand it to learn from it as it seems efficient and minimal ."
"Given AGenericClass declared as below : What are the differences between variables a , b , and c ? a b and c all are declared without complaint from the IDE , but they all behave differently when setSubject is called ."
"Same regex , different results ; JavaJavaScriptI ca n't understand why this is the case ?"
I am trying to call a java method which takes List < Class < ? > > from scala . The compilation fails with I tried using JavaConverters but get the same error.Java method : Calling from Scala :
"The question might be foolish as intern has no major usage here , still I am confused about the fact , why does b == c results true.Whenis executed , String b references to object having `` bc '' Does b.intern create the literal `` bc '' in String Constant pool , even if it does , how come b==c result in true ?"
"At first glance I thought the following makes sense : And it compiles properly so everything seems A-OK.But then I thought about it some more , in the context of erasure , and it seems to me that the Test interface gets erased to this : So how is Impl still able to implement Test ?"
"I am considering this from the Java Language Specification : If the catch block completes abruptly for reason R , then the finally block is executed . Then there is a choice : If the finally block completes normally , then the try statement completes abruptly for reason R. If the finally block completes abruptly for reason S , then the try statement completes abruptly for reason S ( and reason R is discarded ) . I have a block as follows : Ideally , I would want any RuntimeException thrown in the finally block to escape , only if it would not cause a RuntimeException thrown in the main try block to be discarded.Is there any way in Java for me to know whether the block that is associated with a finally block completed normally or not ? I 'm guessing I could just set a boolean as the very last statement of the main try block ( e.g. , completedNormally = true . Is that the best way , or is there something better / more standard ?"
"Hi , the code above gives an error like that : Multiple markers at this line - str can not be resolved to a variable - Syntax error on token `` String '' , AssignmentOperator expected after this tokenWhy there is an error like this ? Of course I know str will be unreachable after defined . But java does n't gives an explanation like that . Just seemed odd to me ."
"I am somewhat mystified by the output of this program : Here 's what it outputs : It appears the compiler is `` promoting '' an object of type Integer to Long , just as it would normally promote primitive values . I 've never heard of object promotion and this behavior seems very surprising.My question : is this really correct behavior according to the JLS ? If so I 'd like to see a reference if possible.Or is this some kindof autoboxing-gone-wild compiler bug ? I 'm using :"
"I want to make a method that accepts any class T that implements any interface I.Then do something with the class and return the interface I that is implemented.Here 's what I 've tried : I 'm then creating an interface and a class which implements that interface : However , when I 'm calling the method referencing UserClass , it returns the same class type T instead of the interface type I , allowing all the class methods which are not declared in the interface to be called.I.e . in the statement below , even though registerImplementation ( ) is declared to return a reference to UserInterface , the compiler sees the reference as pointing to an instance of UserClass_v1_10_R2 , allowing access to the implementation 's methods that are not in the interface.Contrast this with the supposedly identical"
I try to find the current Browser for an specific Hack in GWT.like : ( View-class )
"In the book `` Core Java Volume 1 '' that I am reading it says the equality should n't work with inheritance . So , I have the following example which seems to have something wrong going on : http : //ideone.com/PhFBwGIt returns `` Equal '' for both symmetrical comparisons which presumably it should n't . Is it missing another equals method in derived class 'D ' ? If so then what could wrong with above sample code if I do n't use another equals in derived it at all ?"
"In this case , I need to explicitly convert a+b to byte like this : It 's the same with short : Otherwise it gives an error.But in case of integers , it 's not required to convert explicitly : This will work just fine.Why is that ? We do n't need to explicitly cast even in the case of long as well ."
"I am getting below output in following format , which is default I think.But I want to change this format as below.Below code I am using in java class.How can I rearrange the json format ? For more understanding , pasting above method with simple syntax.Sample Code Method.."
"The traditional way to iterate over an ( integer , in this example ) array of elements is the following : However , does this mean that after each iteration 'array.length ' is re-evaluated ? Would it not be more efficient to do this ? : In this way , ( to my understanding ) the program only has to calculate it once and then look up the value of 'noOfElements ' variable.Note : I am aware of the enhanced for-loop , but it can not be used when you want to use the variable that is being incremented ( ' i ' in this example ) to achieve other things within the for-loop.I 'm suspecting that this is actually a question of whether the Java compiler has the capability of realising that 'array.length ' does n't change and actually reusing that value after calculating it once.So my question is : Is there a difference in runtime efficiency of the first block of code I wrote and the second one ? What I gather from the replies below , is that when an array is instantiated ( is that the right word ? ) an instance variable called length is created and it is equal to the number of elements in the array.What this means is that the statement array.length has nothing to do with calculation ; it is only referencing the instance variable.Thanks for the input guys !"
"I 've read everywhere that if a field is used at the same time by different threads , some sort of synchronization is needed , and that if it is used by only one thread , it 's not needed . But what if it 's used by different threads , but not at the same time ? Let 's take a code like this : MyRunnable is : Is it safe ? Are all the updates made by t1 visible by t2 ?"
"Say I have a method : but sometimes when I run this method , I do n't need to synchronize on anything.What is a good pattern to conditionally synchronize on something ? The only pattern I can think of is a callback , something like this : is there another way to do it , without a callback ?"
"Straight out from Java concurrency in Practice : The above is a Thread-safe class : since its setters are synchronized.I understand also why the getter does n't individually return x / y but instead returns an array . I have 2 questions .Why ? private SafePoint ( int [ ] a ) public SafePoint ( SafePoint p ) { this ( p.get ( ) ) ; } instead of this ( p.x , p.y ) ;"
"I often find myself doing something like this : where f is a computation intensive function . This requires twice as many evaluations of f as are actually necessary . I 'd prefer to but then I do n't know how to get the original element that this minimum corresponds to.One ugly way around this isand thenIs there a better , idiomatic way of doing this thing with the stream API ?"
"I was answering this question , where I recommended utilizing exports to syntax to prevent external consumers from accessing code that is intended for internal use between modules.But on further reflection , the only real safety checking that modules implement is that it matches the name . Consider this example where I am implementing two modules : The package unsafe contains code that would be unsafe to have exposed . Is there any way to securely export this to internal modules without exposing them externally ? In the above example , a rogue entity could simply name their module b and would gain access to the code ( not secure ) . The JLS does n't seem to spell out anything that can prevent it ."
"I am trying to write the Data Structure for a Hash Table using Chaining . When i remove the keyword `` static '' from the nested class , i get the error that `` Can not create a generic array of SeparateChaining.Node '' ? on the line where i allocate memory to hmap using new.With the static keyword it works fine.Can anybody please point out the significance of the keyword static here and the difference it makes ? I am creating an array of object , then how come it shows generic array in the error ( Eclipse ) ? Thanks"
"I am experimenting with DateFormat and I 've come across an issue where I 'm creating a date , storing it as a string and then parsing it back into a date and somehow ending up with the same date but a different day of the week.I get the output ; If I make the number of milliseconds in d1 smaller then when the date is parsed back it works the way I 'd expect with the parsed day matching the initial day.Not sure what 's going on , can anyone explain it ?"
"I followed an instruction to trigger the JavascriptInterface from a webview , but it isnt triggered in my case.I have an class QuickTextViewer with following : I also added the following to proguard-rules.pro ( actually public only for testing ) In my case onPageFinished is triggered but resize ( ) not ! Any suggestions/help ?"
"I was using LongStream 's rangeClosed to test the performance of the sum of the numbers . When I tested the performance through JMH , the result was as below.The difference between rangedReduceSum and rangedSum is that only the internal function sum ( ) is used . Why is there so much performance difference ? After verifying that the sum ( ) function eventually uses reduce ( 0 , Long : :sum ) , is n't it the same as using reduce ( 0 , Long : :sum ) in the rangedReduceSum method ?"
"We have a Student class as follows : We have a LIST of Students as follows : This List needs to be converted into a HashMap < String , Integer > such that : the map does not contain any duplicate Studentif a duplicate student name is found , his marks shall be added withthe previous occurrence.So the output should be : { ABC = 67 , DEF = 40 } I have tried to solve this issue as follows : But the merge function does not allow me to concatenate the marks and this returns the output as So the output should be : { abc= 30 , DEF = 40 } Can someone suggest an efficient solution for this ?"
"I have the following collection : Here 's sample data : Since I know all enums , I want to convert it to the list of POJO . The definition of the object is as below : I have tried different solutions , like with mapping inside mapping : Unfortuantely , what I am getting is List < List < SomeClass > > . Is there any other , more elegant , way to handle this ?"
"I have a question , a little bit theoretical : Assume , I have the following classes : The second report needs an additional parameter release to work properly , but my interface is defined without parameters for execute method , so I work around it with a setter method , so it would look like : So I do n't like this additional rep.setRelease . I looks weird and artificial - a user of this class may be confused , and for example , if I make the class as a singleton bean in Spring , it is a source of potential error , if it is requested for the second time and somebody forgets to trigger rep.setRelease for the second time . Besides putting it into constructor ( I want to make it a spring bean ) , what would be the best practice to handling this situation ?"
"What am I looking for ? Let 's consider int a = 5 for exampleIts binary is : 101So when we dothen the rightmost bit , i.e. , 1 in this case , would drop off , I want to catch it in some variable..i.e. , In this case I have a hard-coded value but it can be any arbitrary user input for number.If I do b = a > > 1 then b= a/2 so m clueless here ! Why am I asking this question ? For example , take program for conversion of decimal to binary , in that case , if I can catch the falling bit , then the program would be done in 3-4 lines max ... there are off course , other logic ’ s for which I need to know if it 's possible !"
"Consider an object which produces data that is consumed by another object to generate a result . The process is encapsulated in a class and the intermediate data is not relevant.In the example below , the process takes place on construction and there is no issue . The type parameter on the constructor ensures compatible consumer/producers.If I wish to store references to the producer/consumer and do the processing later , then the code becomes : This introduces a generic type parameter to the class and forces it to be specified in any implementation.My question is , is there any way to avoid this ? The intermediate data type is not produced , stored , or consumed by this class and is not relevant to the user of the class . The compiler has all the information it requires to enforce type consistency , assuming the IntermediateType type param can be specified somewhere.Note that this is a simplified example and the actual class runs the processing asynchronously and periodically some time after construction ."
"There is a Spring-MVC project in which there are three types of users : Customer , Admin , Cook . All of them are inherited from the class User . Roles are created without ENUM , simply through static String constants ( shown in the User class ) . After I added Spring Security , authorization is successful , but when I try to execute a method of one of the classes ( Customer , Admin or Cook ) , it gives json error 403 : Please tell me what I did wrong . Where was the mistake.User : For example I add only one class Admin : Admin : AdminService : AdminController : I use annotation @ RolesAllowed.SpringWebConfig :"
"I know that HashSet < String > data structure can store unique strings and say if string is present with O ( 1 ) complexity , because it uses hash code . Can the same complexity be achieved , if I want to ignore letter case ? Next use case should work : Is it possible to implement such data structure ?"
"For my game I 've implemented an inventory system . When the screen is clicked , a MousePressedEventis passed through all layers in the game , to all objects that inherit EventListener ( My EventListener ) . The EventListener class works fine and , using it as shown below , I 've managed to get my inventory so that you can remove items from a slot and put them back . What I 'd like to do however is be able to take them out of any slot that contains items , and place them in any other of the slots ( as long as the target slot is empty ) . I thought what I had would allow for this , as in the if statement I do n't check that if the slot is selected , I add it to the slot regardless . But this does n't actually work . Any ideas ? Code in Slot.java class : In pseudo code : Thanks : )"
"I 'm just getting started on stream processing using Apache Flink , the thing is that I 'm receiving a stream of Json that look like this : And was asked if i could fulfill the following business rules : Decline if number of tokens > 5 for this IP in last 10 secondsDecline if number of tokens > 15 for this IP in last minuteDecline if number of tokens > 60 for this IP in last hourI made 2 classes , main class when I 'm making an instance to call the Window function with different parameters to avoid duplicate code : Main.javaAnd another class where I 'm doing all the logic for rules , I 'm counting the times where an IP address appears and , if it is more than the allowed number in the time window I 'm returning a message with some information : Rulemaker.javaSo far , i think this code is working but I 'm a begginer on Apache Flink , and I 'll appreciate a lot if you could tell me if it 's something wrong about the way I 'm trying to work with this and point me to the right direction.Thanks a lot ."
i want to remove anything between `` ? '' and `` / '' my text is `` hi ? 0/hello/hi '' i need to see this out putMy Code Isbut my Output Iswhats wrong ?
"Consider the following code : I am trying to replace it with a generics version of the Context class : Thus I do not pass a .class as a parameter to the constructor , and the unmarshall method automatically casts the return object.I need to know the Class of T to pass to the newInstance ( ) method , and to invoke the cast ( ) method . i.e . T.class or T.getClass ( ) .In my example I am attempting to initialise the clazz member , during the constructor , so that I can use it in both locations.I have tried the following : However getClass ( ) .getGenericSuperclass ( ) returns an object which can not be cast into a ParameterizedType . I can not use any third party reflection libraries , I need to stick to the standard mechanisms inside the Jdk ."
"I'am trying to solve this Homework : Suppose that people enter an empty room until a pair of people share a birthday . On average , how many people will have to enter before there is a match ? Run experiments to estimate the value of this quantity . Assume birthdays to be uniform random integers between 0 and 364.The average is 24.61659 . See this wikipedia page for the maths . Birthday_problemMy approach : Generate random numbers in range [ 0 - 364 ] add them to a set until a duplicate is generated ( set.add returns false ) add the count ( or set size ) to a listrepeat this X-times calculate the average of the listCode : My output is always under 24 . E.g 23.6285 I 've tried to run the for-loop 1000 , 10000 , 1000000 timesI 've tried ThreadLocalRandom.current ( ) .nextInt ( 0 , 365 ) , nextInt ( 0,364 ) , nextInt ( 0 , 366 ) I 've tried list.add ( count ) ; and list.add ( set.size ( ) ) ; But I'am getting always an average < 24 . Mostly something like 23.629237.Do you see any mistakes and why I'am not getting the correct value , which is approx . ≈24.61659 ?"
"Under JUnit4 , I have a test suite which uses a @ classrule annotation to bootstrap a framework . This is needed to be able to construct certain objects during tests . It also loads some arbitrary application properties into a static . These are usually specific to the current test suite and are to be used by numerous tests throughout the suite . My test suite would look something like this ( where FrameworkResource extends ExternalResource and does a lot of bootstrap work ) : The above works really well and the main build has no problem executing all testsuites and their respective test cases ( SuiteClasses ? ) . The issue is when I 'm in eclipse and I want to run just one test case individually withough having to run the entire suite ( as part of the local development process ) . I would right click the java file Run As > JUnit Test and any test needing the framework resource or test properties would fail.My question is this : Does JUnit4 provide a solution for this problem ( without duplicating the initialization code in every test case ) ? Can a Test Case say something like @ dependsOn ( MyTestSuite.class ) ? .If Junit does n't have a magic solution , is there a common design pattern that can help me here ?"
"In my international resources , the code is : In my java code : The expected value of messageContent should like this : But the actual value of messageContent is like this : Why ?"
"The Java 8 doc page for Java.Time.Year states that the minimum and maximum supported years are -999,999,999 and 999,999,999 , respectively . Field Summary static int MAX_VALUEThe maximum supported year , '+999,999,999 ' . static int MIN_VALUEThe minimum supported year , '-999,999,999'.However , the primitive type variable that stores the year value is an int , which should be capable of storing between -2,147,483,648 and 2,147,483,647.Why are there these arbitrary limits ?"
"Say if there are two Strings or any Objects and I want to check if both the objects are the same , I would do string1.equals ( string2 ) and thats fine . Now if there are three objects and I want to see if they are all equal I would do string1.equals ( string2 ) & & string2.equals ( string3 ) and say four and so on , that would only be possible if the size of the parameters are given . If I pass a n objects to a method , what would be the most efficient way to check if all the elements are equal or not . I wrote but when I showed this to professional programmers they pointed out that it is a really inefficient way to do it . If I want to check if all the elements are unique instead , how would that work ? Is there any efficient and concise method to check any n number of elements for equality or distinctness ?"
"Why this code is n't showing any compilation error ? If we write a normal code like this ( shown below ) Then why the above above is running fine , how can T be of Integer class and array of T be of Character class at the same time , and if its running then why its not printing true , ASCII vaue of ' a ' is 97 , so it should print true ."
I am trying to generify following class : Everything is alright except Foo [ ] .class : How can I solve this issue without passing Foo [ ] .class in the constructor like I have done with Foo.class ?
"I ca n't find a solution to this inheritance problem . I 'm working on a program which will store information about celestial bodies . I have an abstract superclass , Body , from which all other celestial bodies should inherit . Now , I want some bodies to have implementation by default for storing information about orbiting bodies ; some bodies should be Orbitable and some should be Orbital . e.g . a Star is orbitable only , a Planets and Moons are both orbitable and orbital , and an Asteroid is orbital only.I need to have objects be able to inherit one , both , or neither of the above implementations ( plus the Body superclass which describes the foundation for any celestial body ) .I 've tried using interfaces with default methods but the key problem is that the implementation involves reading or modifying the object 's state , which can not be implemented with interfaces because all variables in an interface are implicitly static.I 've also viewed this and this post about very similar issues , but the inheritance of state is causing me grief.So , how can I solve this multiple inheritance problem ? Is it even possible in Java ? Are there other designs that could circumvent this problem ? Thanks ."
"I hava following code to test volatile . bEnd and nCount are defined volatile . The Writer thread will set The Reader thread read these viriables and print them . Base on the Java Happens-before order , in my opinion , volatile ensures nCount = 100 when bEnd = true . But sometimes the program print this : How can the Reader get `` nCount = 0 , bEnd = true '' ? ? ? The following code running on windows10 , jdk1.8.0_131"
"I am learning Java and I am following a project to simulate a ski jump tournament . Basically they want me to replicate this action : My question is solely on the way to loop this . I know I can do this by entering a while ( true ) loop , and break right away if the input by the user equals `` quit '' . However , I 've read in multiple places that this is a bad practice , and instead it should be : while ( condition ) . If I were to do that , the loop would n't break until after it completes the first iteration . Say : If I do something like this , even if the command is `` quit '' it 'd still do the first iteration of that loop . And if I add an if with a break , then there 's no point to have the condition on the while loop . Is there a better way of doing this ? should I just use a while ( true ) loop even though people say it 's bad practice ?"
"In this exampleThis compiles and prints a result [ 1 , blabl ] My understanding is : The reference variable 'integers ' has an address ( say 111 ) of the arraylist object which is being passed to the addToList method . So in the addToList method list0 points to the same address which has the object ( which is an arraylist of type Integer ) and a string is added to this arraylist object.How is it possible to add a String to the arraylist of type Integer ? Is n't that a data integrity issue ? UpdateThe answer below and this answer helped . Thanks ."
"The outline of the program : We have two threads ( t1 and t2 ) that write an integer value , then flush the written value to RAM.Another thread ( t3 ) checks whether the value coincidences with the one written by t1or t2 , and if not , prints it.What I thought would happen : Since a is n't volatile , I thought t3 would cache a and just never print anything.What actually happens : For a second or so ( no matter long you let t3sleep ) , it prints in rapid succession either 102 or 409 . Then , printing stops ( forever ) .What exactly happens here ?"
"The following code , gives the following output after running multiple times , VM detailsWhat was surprising is why does the JIT take much more iterations to optimize if the stack trace is of even length ? I enabled JIT Logs and analysed via jitwatch , but could n't see anything helpful , just that the timeline of when the C1 and C2 compilation seems to be happening later for the even size stacktraces.Time line is something like this , ( looking at when java.lang.Throwable.getStackTrace ( ) is compiled ) Why exactly is this happening ? And what heuristics does the JIT use for fast throw ?"
"I 'm trying to recreate a process to create a list of objects that are an aggregation of another list of objects using Java 8 Streams.for example , I have a class , described below , that is provided from a database call or similarElsewhere in my application I have a class OrderTotal which represents and aggregation of Order grouping by customer number and group and summing the totals of orderValue and orderQty . ( With an equals and hashcode on customerGroup and customerNumber ) The 'long hand ' way we have achieved this prior to java 8 is as followsIve been looking at Collectors using a grouping by and reduction functions but they all seem focused on aggregating the order class rather than composing the totals in the OrderTotal class.I 'm looking for a tidy stream or collect function that removes all the bloat from this code ."
"In Java Concurrency in Practice one of the examples that I think surprises people ( at least me ) is something like this : The surprise ( to me at least ) was the claim that this is not thread safe , and not only it 's not safe , but also there is a chance that the check method will throw the assertion error.The explanation is that without synchronization / marking n as volatile , there is no visibility guarantee between different threads , and that the value of n can change while a thread is reading it . But I wonder how likely it is to happen in practice . Or better , if I could replicate it somehow . So I was trying to write code that will trigger that assertion error , without luck.Is there a straight forward way to write a test that will prove that this visibility issue is not just theoretical ? Or is it something that changed in the more recent JVMs ? EDIT : related question : Not thread safe Object publishing"
"I want to createNewFile with a path but I got an IOException . The question is , the detailed message can not be interpreted , I can only see a bunch of question marks.I am with Windows 10 originally in Spanish , but with Chinese language pack installed . The java language already set to en and file encoding UTF-8 : Why ? Only this exception can not be read.EDIT : tried to define the language as zh , but does not work.Use this main class to reproduce it :"
"I am using java to execute a simple bash script on a remote linux machine.The bash script named `` shortoracle.bash '' have this script : Simply speaking : create 10 parallel connection that execute queries for 360 seconds.From my java program i execute the following command : The ssh executes the script successfully . I want , after a timeout of 2 seconds ( the second param ) to terminate the ssh connection , but for the script to continue to run properly in the background ( therefore the nohup , or so i thought ) , it 's not happening : After 2 seconds when i terminate the sshconnection , the bash program just stops working : Only 3 of the 10 connections are open.No more inserts happening.If i give the connection a longer timeout , all is going well , but i do n't want to hangup on this specific connection , i need to move on with the program.What am i doing wrong here ?"
So I do n't know much about java but I noticed this worked then according to my class notes I should be doing it a different wayHere 's what my notes haveHowever I tried this and it also does the same thing . It 's shorter so is this an acceptable way to do it or will it break down the road ? Also as long as the code runs right my teacher should n't care right ? It 's my first class and I 'm not a computer science major .
"I have a trouble with splitting my class into smaller parts . We have a bad situation where a Dto holds 30 different Dtos . Now we need this selectDto 's mapping which also force us make 30 different mapping class . ( We also use mapstruct in the project , this scenario is different than mapstruct can handle ) Now where my problem starts : I made all mappings in corresponding class . In the base selectDto , I have 26 mappers in my constructor which is horrible : SonarLint : Constructor has 26 parameters , which is greater than 7 authorizedI think out the way how to split this kind of scenario but I could n't find a way . Any suggestions ? My constructor holding 26 parameters : my public function to map which calls private functions for each mapping : // example of my private function which calls corresponding mapper where all of my private function consist of different kind of class like OptionCodeDto here . They do n't extend from same interface/class and can't.// and here is reverse mapping . Which I need different kind of class from my mappings return typeand this is the reverse mapping private function which every mapping class returns different kind of dto 's like OptionCodeDto where none of those Dto 's extend from same class ."
"Why are n't the same restrictions applied to static fields , what 's the idea behind it ?"
"I 'm trying to delete files but it is n't working or I 'm missing something.Here is a little test I 'm doing : And the system prints : Abs path C : \Users\XXXX\Documents\PAI\TSoft.\test\pacientes\John Smith.tds Exist true Filename John Smith.tds Delete false And of course is n't deleting the file , why ? How can I make it work ?"
"Say I have an API that , based on some query criteria , will find or construct a widget : The ( synchronous ) client code looks like : Now say finding or constructing a widget is unpredictably expensive , and I do n't want clients to block while waiting for it . So I change it to : Clients can then write either : or : Now , let 's say instead the synchronous API can return 0 to n widgets : Naively , I could write : However , this does n't actually make the code non-blocking , it just pushes the blocking around -- either the Future blocks until all the Widgets are available , or the code that iterates over the Stream blocks waiting for each Widget . What I want is something that will let me process each widget as they arrive , something like : But this does n't offer error handling , and even if I add an additional Consumer < Throwable > errorHandler , it does n't let me , for instance , compose my widget retrieval with other queries , or transform the results.So I 'm looking for some composable thing that combines the characteristics of a Stream ( iterability , transformability ) with the characteristics of a CompletableFuture ( asynchronous result and error handling ) . ( And , while we 're at it , back pressure might be nice . ) Is this a java.util.concurrent.Flow.Publisher ? An io.reactivex.Observable ? Something more complicated ? Something simpler ?"
"While looking into the source code of the WrappingSpliterator : :trySplit , I was very mislead by it 's implementation : And if you are wondering why this matters , is because for example this : is using it . In my understanding the addition of any intermediate operation to a stream , will cause that code to be triggered . Basically this method says that unless the stream is parallel , treat this Spliterator as one that can not be split , at all . And this matters to me . In one of my methods ( this is how I got to that code ) , I get a Stream as input and `` parse '' it in smaller pieces , manually , with trySplit . You can think for example that I am trying to do a findLast from a Stream . And this is where my desire to split in smaller chunks is nuked , because as soon as I do : I find out that prefixSplit is null , meaning that I basically ca n't do anything else other than consume the entire sp with forEachRemaning . And this is a bit weird , may be it makes some sense for when filter is present ; because in this case the only way ( in my understanding ) a Spliterator could be returned is using some kind of a buffer , may be even with a predefined size ( much like Files : :lines ) . But why this : returns null is something I do n't understand . sorted is a stateful operation that buffers the elements anyway , without actually reducing or increasing their initial number , so at least theoretically this can return something other than null ..."
"I want to find out if a string that is comma separated contains only the same values : Here the 2nd string contains only the word `` test '' . I 'd like to identify these strings.As I want to iterate over 100GB , performance matters a lot.Which might be the fastest way of determining a boolean result if the string contains only one value repeatedly ?"
What would the legitimate use of the following code be ? From what I understand this object has no use and carries no real data ( except for maybe its hash code ) . Why would this be used ? Is it acceptable practice . If I am able to do this could I explicitly extend the object class .
"I am working on this project currently . It works surprisingly well.Yet , after re-reading the README again , I started to wonder about how to document something that is bugging me ... To quote the example , and forgetting for a moment that exceptions can be thrown , it reads : OK. Now , the method of Path involved is this one . Of course , we do not pass any LinkOption.Again : let 's forget for a moment that it throws any exception.Stream 's .map ( ) takes a Function as an argument . This interface , for Function < T , R > , is defined as : But the method I am using accepts no arguments . At a first glance , it does not seem to match a Function , right ? Except that ... It can be written as : It therefore looks like the mechanism used is somewhat able to invoke a method on the `` stream object '' if the method reference has no argument , or something like that ... I 'd like to document this accordingly , and I am missing something here.What am I missing ?"
"`` Why are you doing this what is wrong with you ? '' notwithstanding , is there any way to accomplish this without changing the final method parameter name ? Obviously without the doSomethingThatReassignsBar call , you would n't need the member Bar and so on . In this case , the simple fix is to change final Bar bar to something like final Bar startBar and then the assignment is fine . But out of curiosity , is it possible to specifically refer to the final Bar ( Similar to the way you would say Super.this ) ?"
"Why can I call average ( ) method on one but not on the other ? Should n't they be equivalent ? example 1 - worksexample 2 - does n't compile ( deleted mapToInt call because already passing Integer stream ) Question , is why do I need to call mapToInt method when Im already passing it a stream of Integers ?"
"In this discussion about the performance overhead of using reflection , it is stated : Use of reflection can cause some runtime optimizations to be lost . For example , the following code is highly likely be optimized by a Java virtual machine : Equivalent code using Field.set* ( ) may not.Without reflection , what kind of runtime optimizations would be done by JVM ?"
"I 'm reading J. Bloch 's effective Java and he said the following : Once an interface is released and widely implemented , it is almost impossible to change.So , now consider the simple interface for DAO-pattern : This is how my Dao interface looked when it was released firstly . By the time , I had to add some functionality to users in order to aggregate all users by its registration_date or something similar . So , I needed to add corresponding method declarations to the DAO-interface and implement it.Moreover for now I ca n't imagine how DAO-interfaces may be more or less stable at all , because adding some new DAO-operations happens very often . Maybe it 's my DAO design disaster , or interfaces are hardly suitable for DAOs ?"
"I have a huge @ OpenApi annotation ( basically it 's documentation of a Javalin/Kotlin endpoint ) which occupies a lot of lines : I have to scroll a lot to see the actual handler.Hence , I 'd like to isolate it somehow like : I 'm OK with other solutions that make the documentation go elsewhere.This would make the code cleaner and the docs segregated ."
"When I try to sort the array , the result that I get is : The user fills the array with 8 numbers that should be eventually sorted . But what I 'm getting is a bunch of 0s.Why am I getting 0s ?"
"I have an array of [ 5 , 6 , 7 , 3 , 9 ] , I would like to change each element from the array substracting by 2 , then store the in a Set , so what I did isbut I am getting two exceptions here asThe method collect ( Supplier < R > , ObjIntConsumer < R > , BiConsumer < R , R > ) in the type IntStream is not applicable for the arguments ( Collector < Object , ? , Set < Object > > ) '' Type mismatch : can not convert from Collector < Object , capture # 1-of ? , Set < Object > > to Supplier < R > What does those error mean and how can I fix the issue here with Java Stream operation ?"
"Can anyone explain why this code is giving output as null ? When I try to call new A ( ) instead of new B ( ) , it is printing the current date ."
"the out putThis code print out the the date times around `` 2037-10-18 00:00:000 Brasilia Time '' , the result shows out that `` 2037-10-18 00:00:000 Brasilia Time '' should be `` 2037-10-18 01:00:00.000 Brasilia Summer Time '' that means Brasilia entered the summer time in that moment.My question is why between `` 2037-10-18 00:00:00.001 Brasilia Time '' and `` 2037-10-18 00:59:59.999 Brasilia Time '' the time zone offset still using standard time offset . Is this a bug of JDK time zone data or this time zone actually works this way.My code using offset to decide whether or not there is a dst transition between two dates . Obviously `` 2037-10-18 01:00:00.000 Brasilia Summer Time '' and `` 2037-10-18 00:59:59.999 Brasilia Time '' those two dates does not work here.I can change to use `` TimeZone.getDefault ( ) .inDaylightTime ( Date date ) '' to decide if there is a transition , but I still want to know if it 's a bug of JDK ."
"Why does this code compile ? On the left side is one-dimensional array . On the right I thougth that three-dimensional , but it is not ?"
"If we throw an exception in the method main and do n't handle it it will work fine . ActuallyBut Java requires any checked exception to be handled in the program , therefore the IOException should be handled . Who actually handles the IOException in that case ? Note , that the Java Language Specification defines the Exception is handled if it enclosed with a try block containing a catch clause the type is a supertype of the Exception ."
"I 've stumbled across some pretty weird code that I 'm surprised does n't cause an errorSurprisingly , it prints out 42 ! Can anyone explain ?"
I have an integration test that launches getty and it in turn launches a web application . The web app will span some asynchronous threads that will run initialization tasks . After that it is ready to be tested . Now because I 've to wait one of those tasks to finish I thought of putting a static monitor in a shared class : with the following accessor methods : If I run this in a test I get : Exception in thread `` Thread-11 '' java.lang.IllegalMonitorStateException at java.lang.Object.notifyAll ( Native Method ) from the line where the notifyAll is . I have no idea why this is happening . Can anyone help ?
"In my Android app I have an Activity where a user can add some text to an image . When the button to initiate this is pressed a TextInput appears at the bottom of the screen with the `` Save '' button overlayed.The relevant config looks like this : The activity xml looks like this - I have trimmed out a couple of extra buttons that do n't related to this feature : The activity is started with the path to an image , which it then loads into the image . When the note button is pressed it shows the textbox.The problem is that when the keyboard opens , there is a big black rectangle over it , that completely obscures the EditText and the Save button . This only happens on my phone , which is on 7.1.1 , the emulator variants I have tried seem to work normally . Interestingly although they are obscured , they still work - if I type something on the keyboard and then press where the Save button should be , it saves the text as expected.This screenshot shows the problem in action : By changing the settings around the config file , I have found situations where the black rectangle is not shown , but in every case I have found that also hides the EditText component and even after the keyboard is closed I never see it again , leaving the activity in a weird state where there is no way to press the Save button.If the keyboard is open the whole time the black rectangle only appears once the EditText has focus , prior to that the keyboard looks normal.The closest thing I can find in previous questions suggests that android : inputType= '' textNoSuggestions '' might help but it does n't seem to make any difference - this does n't seem to be a suggestion box , just an arbitrary black rectangle.What do I need to do to stop my keyboard drawing a pointless black rectangle right over my input box or , if I am approaching this the wrong way somehow , what do I need to do to have an input box that allows the user to see the text that they are writing and then save it when they are content that it is complete ?"
"I have a program where players play a game and the user can input p or r to pause and resume the game , using event listeners , and this functionality works in java 6 but not in java 7 , and I do n't understand why not . could someone please help . Event listener threadThe player thread '' event generator '' I can get the program to pause but I can not get it to resume even though it prints to the terminal the `` The game has been resumed '' , but it resumes normally in java 6. what changed in java 7 , or is it just my code.Help would be appreciated ."
"Lets start with 3 interfaces . What they do is n't important . Just note that Car is parameterized ( ) , while Foo and Bar are not.I want to 'composite ' these interfaces , and this works just fine if I explicitly create the composites like this : However , I 'd much prefer to implicitly composite the interfaces via the bounded type declarations of various methods . For example : WORKs : The implictFooBar ( ) method returns a type T which implements both the Foo and Bar interfaces ( a composite if you will ) . A call to this method compiles , and I can avoid having to explicitly declare the FooBar interface : FAILs : However , a call to implicitFooCar ( ) fails to compile . The error message is `` The method implicitFooCar ( ) in the type GenericsTest is not applicable for the arguments ( ) '' ( I wrapped my test code in a class called GenericsTest . ) The compiler error only shows when the type declaration is both compound and parameterized . For example , both of these compile and can be called just fine : Question ... I suspect this has something to do with type erasure , but I 'd like to understand the details of what 's going on here . I 've read the Oracle Generics Tutorials , but I 'm not seeing what combination of rules the implicitFooCar ( ) method violates , while implicitFooBar ( ) and implicitCar ( ) are fine . I 'm looking for an academic style explanation , not just a work around.BonusInterestingly enough , the following variant of calling the implicitFooCar ( ) method works ( no compiler errors . ) This hints at why the other version does n't work , but I 've yet to connect those dots.Test Code ( whole ) If you want to play with the code , here it is as a single class.UPDATEThis compiles with javac version 1.8.0_60 ( and _45 per comments ) , but Eclipse 's ( version 4.4.2.M20150204-1700 ) built in compiler ECJ is reporting the error mentioned above.I added an eclipse tag to this question , as this may be an EJC issue ."
"When I say efficient I mean code that is n't cpu intensive.The Problem : I have a field of blocks . Like in the following image : Every single one of these blocks represents an instance of a self-made Block class . This block class has a List < Block > neighBours , where the neighbours of the block are stored . So every single block in the image knows which blocks are next to it.What I want to do is to pick any block from this image , and compute how many `` steps '' away this block is . For example if I pick the block in the top left , I want to have a Map < Block , Integer > representing how many `` steps '' away each block is from the picked block . Like this : Now before you say `` Just store it 's position X and Y in the block class and calculate the difference X + difference Y '' , that would n't work because the field can have gaps ( represented by red color ) between them like the following image : And as you might notice , the block next to the gap that was first 4 steps away , is now 6 steps away . Thus the best way ( I presume ) to get how many steps away the other blocks are is by using a recursive algorith that makes use of the neighbour info . I could n't make an efficient one myself and I was hoping someone might know something that works well . Several problems I came across are the fact that because all blocks know their neighbours , the recursive algorithm would go indefinately back and forth between the first and second block . Or the fact that when using the algorithm on a 11x11 field , there were 3284 method calls , which seems waaay too high for an 11x11 field.Question : So the question I have is : What is an efficient way , using the knowledge of what neighbours each block has , to get how many steps away each block is.Code : This is the current code that I have incase anyone wants to see it ."
When trying to compile the followingI get the following errorsWhy does Object bar = ( Object ) foo ; need to be in a block for the code to compile ?
"I executed the below mentioned code , when I got a strange output . Can anyone please explain why I am getting this output ? Code : OutputWhy are we getting the `` [ I @ '' / '' [ F @ '' prefixes and the 8 alphanumeric characters to follow , are they memory address ?"
"Problem and where I 'm at : I ca n't append text into these new files I create with the program . Currently it only copies files but does not append them . See line with comment `` // append file name into the new file `` .Secondly , the final dump file seems to only append the .java file , it 's not reading or appending the input files.The explanation of what I 'm trying to do : The long and short is that I am trying to make a program that will be placed into random folders with .txt files filled with data.I need the program toLook within the realm of the folder it is in onlyThen take any .txt file anda ) make a copy but append the original file name into the text body ( at the top ) , inside a sub-folder like `` < filenamehere.txt '' into the body ( at the top ) b ) then copy body contents of the original.txtc ) take the prepended .txt file and append it to a single dump.txt filed ) repeat this for all local txt files and keep appending to the end of the dump.txt fileSo at the end , if I had 7 files , I will have 7 appended copies and 1 giant dump file containing everything of the 7 appended copies . So for example , if I had three text files , each one having only one word in them . So a.txt , b.txt , c.txtand the three words are `` Hello world ! '' . The a.txt copy would have the contents inside '' > a.txtHello '' Right now it 's just copying the Hello ( original body content ) but not appending the > a.txt . The final dump text file is not accumulating anything from the other files , but it 's strangely enough picking up the source code from the .java file . So essentially , I get a //Output folder and inside are the copies of the .txt files and a megaDump.txt that manages to pick up the .java text , but no other text files are appended ."
"Could you help me with Java Streams ? As you can see from the title I need to merge List < Map < String , Map < String , Genuineness > > > into Map < String , Map < String , Genuineness > > .The list is represented as List < Map < String , Map < String , Genuineness > > > and looks like : So , as you can see , duplicate keys could be everywhere . My goal is to combine them into Map < String , Map < String , Genuineness > > by merging Genuineness . Merge Genuineness simply means return a new object with summed up values total , totalGenuine , and totalDevelopment.Here is my implementation that fails : It fails with message : So , seems that in my implementation I 've pointed how to combine inner map but did n't make a merging of values of outer map and I do n't know how to do it.I greatly appreciate your help . Thank you in advance ! UPDATE : Expected output :"
I use generics in Java but it is n't so good as I thoughtAll this compiles and works . When I get a value from list an exception is thrown.Can it be safer in Java 6 ?
Hi I am a new Java programmer and have a small question about class design.I understand that something like this is a cyclic dependency and is probably not a way to structure a project : But what if Student.java is changed to : so that courseId can be used to retrieve the course from a DAO or something . Is this still a good structure ? Since now each Course still cares about Students . and each Student still cares about Courses .
"I was wondering why The ExecutorService can actually execute the same Thread multiple times.Because the usual lifecycle of a thread ends on TERMINATED afaik..So , this works where i would actually expect an illegal state exception like in this case : Help much appreciated to unravel the magic behind the execute !"
"My question is why the output is BO , D1 instead of BO , B1 . I am not getting how the super keyword plays the role of calling the methods of the child class instead of the parent class ."
"I just want to know how many characters I can put in when I use the above statement.For example , if I can put in `` aaaaa '' or `` abcde '' into console , that would mean I can put 5 or more characters.Then can I put in `` a '' 2,147,483,647 times ? ( max value of integer ) System.in seems like internally storing the sequence of input as interger type . If it is true , how many 2-byte characters can I put in ? Is it 1,073,741,823 ? ( the half of that number )"
"I could n't really explain myself in the title , what I meant is - get a String and check every letter and print it if the next char in the String is also the next letter in the ABC order , for example `` almndrefg '' will return `` lmnefg '' , what I did so far is : What should I correct ?"
"I am writing simple program in java to create 2 int arrays of 1 billion size . I ran this program with -Xms10G , i.e . 10GB of memory still I got OOM error . Below is the snippet . As far as I can think the memory used for 1 billion int array would be System.out.println ( 1000_000_000 * Integer.SIZE ) ; which returns 1,935,228,928 which is lesser than 2GB . So my programs total requirements would be max 4GB.I get error even if I create arrays in a method call and return array or static ( like below ) or inside main ( ) . The memory that is required for it work is 12G which is 3 times of what I expected.I am using oracle java : jdk1.8.0_201I tried the option -Xms10G -XX : NewRatio=1 -- - which Worked.But I want to decrease my memory footprint further . I tried option to giving more memory to eden by -Xms9G -XX : NewRatio=0.5 but java complains illegal argument.I tried option to directly allocate array to old gen by -Xms9G -XX : NewRatio=1 -XX : PretenureSizeThreshold=10000 . But this also give OOM.It 's just an experimental project and I am just manipulating the array 's in place . I would like to do it in smallest possible memory.Can someone suggest how to go about it ? What java options and why ?"
I have an ArrayList that can contain an unlimited amount of objects . I need to pull 10 items at a time and do operations on them.What I can imagine doing is this.Any thoughts ? Thanks !
"I was cleaning up code and changing all access to static member such that they are qualified by the class in which they are defined . This , however , lead to the following problem which is puzzling me . I have a class with a nested class inside . In the annotation on this nested class I refer to a private static final field in the surrounding class . When doing this without qualification ( as in the annotation on class D , below ) this works . However , when adding the class qualifier ( as in the annotation on class C ) the compiler tells the field ( v below ) is not visible.In both cases the variable refers to the same field , so why does this happen ?"
"We have the DayOfWeek enum defining the days of the week in standard ISO 8601 order . I want a List of those objects in the order appropriate to a Locale.We can easily determine the first day of the week for locale.Set up the List.➥ To add the other six days of the week to that list , what is the simplest/shortest/most elegant approach ?"
"I have the following problem regarding the correct use of streams and map.The problem is the followingI have a method that reads a file from input and inserts record in a database , in a few words it performs some side effectsFurthermore , the same function returns some sort of a state , let 's say a boolean ( I have some degree of freedom about this ) that states that the function went well.Then , I have to call it with let 's say two files and I have to detect if at least one went well ( i.e . if at least one execution returned true ) My simple solution is : ( a sort of simplified version of the command pattern ) This work , fine , the output is : That is right because it should fail ( return false ) for `` B '' The question is : Is it fine to use a function like myFunction : whose prime purpose is to perform side effectsandthe purpose of its return value is just to give the status of the operation performed ( success or not ) and no other kind of datainside a map in order to count the number of yields == true ? Or am I messing up , and there is a better solution to handle this ?"
I 'm trying to migrate a function from java 7 to java8 but i 'm stucked over getting the value of the indexed element while looping a list . What is the good way to do this ? here is the code that i 'm trying to migrate :
"As a brain-twister example a professor of mine gave us following exercise , to learn about inheritance . We had to figure out the output.The output is , as I expected , a.f ( ) B - > f ( ) A - > f ( ) B - > f ( ) A - > f ( ) 19However , I was now wondering . Is there a way to make the f-call in A call the f method in A , even when I use it from an B-object , similar to the way I call the f from A in B using super.f ( ) . So the output would become ( I think ) : a.f ( ) B - > f ( ) A - > f ( ) A - > f ( ) 16Is this possible ? And if so , how ? Note : I 'm not sure what the practical application of this would be , I 'm just trying to learn something new : P"
"I need to get local time and utc time in seconds . I read some posts in StackOverflow and found some solution , which is correct as mentioned : But result is not what I expected . It is utc time . The output : After debugging I found that Instant.now ( ) is already utc . I ca n't find how to get time in current time zone , i.e . my system zone.I found some solution in API but got error : Exception in thread `` main '' java.time.DateTimeException : Invalid ID for ZoneOffset , invalid format : Europe/Astrakhanat java.base/java.time.ZoneOffset.of ( ZoneOffset.java:241 ) UPD : My question is How to get current time in seconds in local time zone and in UTC ? I.e . the number of seconds since 1970-01-01T00:00:00 GMT+4 and 1970-01-01T00:00:00 GMT+0UPD2 : I have some device that needs response with utc time in seconds from 1970 and sender local time in seconds . Why ? I do n't know . It is black box for me ."
"I have a question about a sneaky way to gain access to package-access members that occurred to me . Specifically , I want to extend a class - let 's call it com.acme.Foo - to add some functionality . This is pure addition : all current methods of Foo would be supported just by delegating to the superclass 's method . However , there is no accessible constructor of Foo , so I ca n't extend the class and my implementation wo n't pass the `` isA '' test for being a Foo . There is no interface that expresses Foo-ness that I can use instead of inheritance.This is where the sneaky thought occurred to me : Foo has a package-access constructor , so why not just create a package com.acme in my source folder and create an InheritableFoo class in that package : Now I can implement my extension to Foo by extending InheritableFoo , since that DOES have an accessible constructor.This feels all wrong , and somehow unethical : I 'm not respecting the decision the original programmer made when he or she decided to not expose a constructor for Foo . But it could be the case that they simply adopted the `` deny everything until there 's a reason for it '' approach . Either way , is there anything fundamentally wrong with this idea ? Am I going to cause myself problems in the future if I go this route , and if so , why ?"
"I want to create universal method , for any enum object , that will check if enum has specified value name , but as Enum type object I am unnable to use method values ( ) ; . Why ? Is there any way to get values from an Enum type object ? I need method like this to check if value from configuration is a valid string for myEnum.valueOf ( String ) ; because if given string will be wrong then it will throw an exception ( and I do not want it ) .I want my method to look like this : But there is no method Enum.values ( ) . How to create this method correctly ?"
"I am new in Java 8 , and I have this expression : and I would like to know if it could be replaced for something like :"
Here 's my scenario : Entity is the super class of Planetentities is a HashMap < Entity > As the method is called `` getPlanets '' I would like it to return a List < Planet > but it appears to me that the stream expression is going to return a List < Entity > I tried some casting expressions but none seem to work out.I am brand new with Java 8 streams so maybe someone can point out what I am missing ?
"I 'm trying to implement a really simple echo-back multi-threaded server.I used the thread pool created with newFixedThreadPool , but it looks like the number of concurrent connections is fixed at nThreads ( passed into newFixedThreadPool ) . For example , if I set nThreads to 3 , then the fourth client that connects can not interact with the server.This is rather weird because the documentation says `` Creates a thread pool that reuses a fixed number of threads operating off a shared unbounded queue . `` Since the documentation also says that `` If additional tasks are submitted when all threads are active , they will wait in the queue until a thread is available . '' I suspect my threads are never `` released '' so that they never became available for reuse.I think this could be a silly mistake , but I could n't figure out what 's wrong . Here 's my client handler 's run ( ) method , which I think is very similar to the code found here ( client below is just a Socket connected to the client ) : EDIT 1 : I guess I should clarify that clients will immediately disconnect after receiving the response . So the threads should become available very soon.EDIT 2 : Here 's the code that handles connection ( listen is a ServerSocket ) : This is the thread pool initialization ( in the constructor ) : this.threadPool = Executors.newCachedThreadPool ( ) ; .EDIT 3 : Log messages ( when nThread = 3 , so the fourth connection is never really handled ) :"
"I have web application implemented using java spring.Basically each user in application can store some critical information . Once user enters that data , it should be persisted .Is there any standard way to store that secure information . I can think of following places to store that informationI prefer for webserver as files for each user.But I have following questions :"
"Is there a way to transform the Stringto the followingonly by using String.replaceAll ( regex , replacement ) method ? So far this is my best attempt : As you can see the output is incorrect . However , using the same regexp in Linux 's sed command gives correct output :"
"java method return type is not the actual type . For example , returnType is TypeA , not TypeB . TypeB is a subclass of TypeA.How to get the actual return type of the method ? It is TypeB , not TypeA . UPDATEI used and then iterate through the methods . The method returns the superclass . Verified that getDeclaredMethod ( `` hello '' ) do return the subclass type . Why are they different ?"
I found an interesting case while testing with string creation and checking their hashcode.In first case i created string using copy constructor : Output of above code is : S1 : 816115710 S3:478684581This is expected output as interned string picks the reference from String pool whereas s1 picks reference of new object . So their identity hash code is different.Now if i create String using char array then i see some strange behavior : Output of above code is : S5 : 816115710 S6:816115710This is an unexpected output . How can interned String and new String object have same identityhashcode ? ? Any ideas ?
"I am developing an android application in that , I have an group chat functionality when i am send a message on group chat i need to display message along with the time ( at the end of the message the time need to display on every chat message ) . `` @ +id/txtInfo '' used for get the current date and time & `` @ +id/txtMsg '' used for display the message.now my output is looking like thisbut i am expecting my output as , my programming code is below , date.setText ( m.getDate ( ) ) ; code get my date in this format '' 28-aug-2015 11:46:11pm '' . I need to convert my date in this format '' 11:46 pm '' how can i change this format and how to display chat message along with time as looking above please help me ."
"I am trying to recognize that hosts are alive or dead with using executor in Java . In my case , I have severeal hosts which kept in a list . My goal is to create threads with the number of hosts and checking them . When thread connect with the host , host doesnt close the connection , and sending a situation code such as 50 ( dead ) or 51 ( alive ) continiously . My problem is threads can only connect on host . For example ; I have two host 192.168.1.1 and 192.168.1.2 . Threads should check both of them in the background but I can only connect in 1.1CONNECTIONAlso I have syncronized setActive function inside of HOST.javaHOST.JAVAConnect function }"
"I was reading java.lang.String equals ignore case implementation and trying figure out why is there a lower case compare after upper case is already compared ? Are there languages where this matters , where upper cases may not match but lower cases may match ?"
"The method of an anonymous class behaves unexpectedly.How to make method sout to print `` sout '' , now it prints `` main '' ?"
"Let 's say I have an interface in Java : , and also two classes C and D that implement this interface.Is there any way I can modify the interface such that I could only do : , but not ? I had this question on an exam , but my only idea was to use the instanceof operator in the definition of the method : However , I do n't know how to modify the interface such that I produce the same effect.Thanks"
I 'm trying to initialize two variables with an enhanced switch statement : Is this possible ?
"I 'm trying to write a method , union ( ) , that will return an int array , and it takes two int array parameters and check if they are sets , or in other words have duplicates between them . I wrote another method , isSet ( ) , it takes one array argument and check if the array is a set . The problem is I want to check if the two arrays in the union method have duplicates between them , if they do , I want to extract one of the duplicates and put it in the unionArray [ ] int array . This is what I tried so far.What I was trying to do is to use all of array1 elements in the unionArray , check if array2 has any duplicates with array1 , and then move all the non-duplicate elements from array2 to a new array3 , and concatenate array3 to unionArray ."
"I am trying create option like SOS Module in my app , I create code to handle this : } I also add all required permissions in manifest and of course I check uses permission on time.But this no work . I just create other code but working like `` one flash '' without any cycle.Can you guys help me ? Guys this is important for me , i cant do this becouse my Huawei p8 Lite and p9 Lite dont give any errors when this happend , its a Huawei software problem , with camera i need test it on psychical device , and its a big problem that i no have any logs from devices.This code worked , but flash is open for infinity without any blink effectAny idea ? ?"
"A stream should be operated on ( invoking an intermediate or terminal stream operation ) only once.I get the idea , but how come finding the sum of a stream does not consume it ? I can run the code below , without any exceptions.Why sum is not a terminal operator ? How is it different from collecting stream elements into a list ?"
"So , I will do my best to explain this question ... Basically , I have a GUI whose main window has several buttons on it ( probably about 10 ) . I am putting the buttons themselves in an array , but when it comes to handling click events for each button , something different is going to happen depending on which one is clicked.Instead of doing something like this : Is there a more efficient way to handle each button 's response when it gets clicked ? The idea is that whenever a button gets clicked , a new window will open to let the user perform various tasks associated with that button . I was thinking of somehow using getActionCommand ( ) in combination with the Class.forName ( ) /newInstance ( ) methods , but I 'm not sure if there is another ( or easier ) way to do something like this ."
"This is an example program in my AP Computer Science course , and I ca n't understand the flow of control of it.It outputs this : So far , I understand the recursive method and how it recalls itself via : However , I do n't see how it can output those five statements after : Logically , it seems like it would only state : Can anyone help a student out and explain to me how it output what it did ?"
"When I run the following Java code : I get java.lang.Object in the display terminal , even if I replace Object [ ] [ ] .class.getName ( ) by [ [ Ljava.lang.Object in the code . The problem is that I was expecting the console to show [ [ Ljava.lang.Object.In effect , in the JVM specification , I can read the following : An array class is created directly by the Java Virtual Machine ( §5.3.3 ) , not by a class loader . However , the defining class loader of D is used in the process of creating array class C.Since Object [ ] [ ] is an array class , I assumed that my findClass would n't be called with the argument [ [ Ljava.lang.Object but with its element type java.lang.Object.Further , in the section `` Creating Array Classes '' , the recursive algorithm is actually described : If the component type is a reference type , the algorithm of this section ( §5.3 ) is applied recursively using class loader L in order to load and thereby create the component type of C. So my questions are : Why am I getting this output ? Does it mean that I have to manually include this recursive algorithm inside my ClassLoader , rather than letting the JVM doing it for me ? If this is what it means , what is the best way to do it ? Am I misinterpreting the `` created '' in the first quotation ? Does it only mean that I ca n't create the runtime array class , but that I still can patch its loading ?"
"I am creating a game where objects implement interfaces for animations . I have a parent interface for the animations . Here is a shortened version : In addition , I have multiple interfaces that extend this interface . Two examples : andAs you can see , the interfaces that extend Animates override the createAnimator method in order to delegate the logic of createAnimator to the class that implements the interface . The reason I am doing this is that I want to be able to have a screen element ( that can animate ) that implements multiple animation interfaces ( for example both AnimatesPosition to move the element around and AnimatesPaint to change its color ) .However , that apparently does not work . When I implement both in one class ( illustrated below ) , I get the compilation error : createAnimator ( long ) in AnimatesPaint clashes with createAnimator ( long ) in AnimatesPosition ; attempting to use incompatible return typesHere is an example of a class that implements both Animates interfaces : So what I do n't understand is that both AnimatesPaint and AnimatesPosition already implement createAnimator . Yet , the error message seems to suggest that createAnimator also needs to be implemented by ScreenElement ! If createAnimator would not have been implemented yet , I would get it , why there is a clash.Where does my logic go wrong ? In the end , what I want to achieve , is to have a generic method that can initiate any type of animation . For example : -- Edit -- Upon request , here is the declaration of Animatorand one of its extended classes"
"The question : Is there a way to do code inspection for a method and check if it does n't have a parameter and warn me before compilation , or even give me a warning in my IDE.Let 's say I have an annotation @ InitializeAnd with reflect , I can invoke methods that are annotated with @ InitializeprioritzedMethods ( Method [ ] method ) is where I check for annotation.I want to make sure that all methods that are annotated with @ Initialize do not have any parameter ."
I have such for loop and when step is ( 0 ; 1 ) it becomes infinite . If step is [ 1 ; .. ) it works well .
"A Car has multiple manufactures and I want to gather all manufacturers in a Set.For example : Now , I need to create output that contains all manufactures ( without redundancy ) I tried : This gives me a Set of Lists , but I need to get rid of nesting and just create a single Set ( non nested ) . [ EDIT ] What if some objects have 'null ' value for manufactures and we want to prevent NPE ?"
"I am a Java beginner and also new to this site . I am learning about arrays and methods and unfortunately I am stuckThe question is : A hospital has space for 150 patients . Each room has a space for 3 patients.The hospital charges a patient $ 150 to stay.If each room is occupied by 3 patients , the hospital charges an additional $ 50.Prompt the user for number of patients and display the total number of patients , grand total amount of all charges.In my opinion , I would like to create a parallel array of the number of rooms and another array of number of patients for each room.The problem is : Every time the program asks the following.Enter # of patients for room 0Enter # of patients for room 0Enter # of patients for room 0Instead of : Enter # of patients for room # 1Enter # of patients for room # 2Enter # of patients for room # 3So I believe it is a logic error because roomNumbers [ i ] is not getting updated to room 1 , room2 , etc it only asks for room 0 all the time , please every advise is welcome as I am just starting on this new course for the next semester . Does my logic even makes sense ? Thank you very much ."
Hi I have a String ArrayList of ArrayList . A sample is shown below : Is it possible to get a list of unique values at index 1 for each value of index 0 ... The result I am expecting is : I was trying a series of if statements however did not work
"My code looks sort of like this , but this is a simplified version : class A : class B : class Main : Why does a ( new B ( ) ) .testArgs ( new B ( ) ) print A not B ? Is there some sort of way to workaround/fix this ? edit : Clarification : What I really want is the superclass method to be run when it is called with an A , and the subclass method to be run when testArgs is called with a B . Casting also is n't an option because in the actual code , unlike here , I do n't know whether the result of the method call is actually B or not.edit : Solution : Thanks everyone for your answers . Thanks for the clarification on overriding . I used this to implement the desired behavior.For anyone who has a similar problem in the future : Change class B to"
I 'm trying to download a file from an URL . There are many resources and I dont know which one I need to close or do I simply have to close all of them ?
"I have the following class containing the fields specified below . My question is , must Admin , Worker and all my other self-defined classes implement Serializable for MyClass to be Serializable ?"
"First of all , yes , try-with-resource fixes any of these questions ... but I ca n't see how this exactly works without it.Let 's look at this code from the java documentation as an example , which can be found here : Now , the resource is released on br.close ( ) if it was acquired . However , What happens if new FileReader ( path ) succeeds and then new BufferedReader ( ... ) throws an exception ? How does java guarantee that the FileReader is closed ? Is it guaranteed that creating a BufferedReader on an already opened FileReader will always succeed ? If so , why is that method declared as throwing an IOException ? Or should we instead be writing the following to make sure that situation does n't happen ? Of course , using try-with-resources , this nested mess disappears nonetheless , since we can declare multiple resources in the same statement . But I always see myself writing try-with-resources as a way to avoid thinking at all about exactly this situation , and trying to find a solution online I really couldn't.Any help would be appreciated , thanks !"
I have two Set like this：And I want to merge it withand Error like this : enter image description hereHow can I convert Set to a serial of String object with flatMap ? Is there any other solution that can accomplish this operation gracefully ?
Assume this code : For sure will throw an IndexOutOfBounds exception . My question is : There is some reason because Eclipse parser does not complain this issue with a warning or an error ? Analizing the case I find : It 's easy to detect.Will avoid lots of useless launches . There are other similar warnings/errors being detected like : uninitialized variable when you try to use a variable declared as List < String > = null.unreachable code when writting sentences after a valid return.unused code in the dead branches of if statements .
"I have been trying to reproduce ( and solve ) a ConcurrentModificationException when an instance of HashMap is being read and written by multiple Threads.Disclaimer : I know that HashMap is not thread-safe.In the following code : Basically , I make two threads : one keeps putting elements into a HashMap , the other is iterating on HashMap.values ( ) .In the read thread , if I 'm using numbers.addAll ( oops.values ( ) ) , the ConcurrentModificationException randomly occurs . Though the lines are printed randomly as expected.But if I switch to numbers.addAll ( oops.values ( ) .stream ( ) .. , I do n't get any error . However , I have observed a strange phenomenon . All the lines by the read thread are printed after the lines printed by the write thread.My question is , does Collection.stream ( ) have somehow internal synchronization ? UPDATE : Using JDoodle https : //www.jdoodle.com/a/IYy , it seems on JDK9 and JDK10 , I will get ConcurrentModificationException as expected.Thanks !"
"Consider the following organization of classes : Since both the restaurants serve completely different sets of dishes , what will be the correct way ( design-wise ) to represent the type of dish in the interface ? Will it be a good design decision to define an Enum listing all the dishes -- Italian and Chinese -- as a part of the interface , and use that Enum as type for dish ?"
"I am new to Java and working on a problem where I need to group and aggregate a collection based on the below Matching key , this key is a combination of properties from below mentioned classes.The DailyOCF collection is populated in an ArrayList , sample data provided below.The above list needs to be grouped based on the above mentioned matching key , after the grouping the list should be like below.The actualQty filed needs to aggregated based on the matching key.In order to achieve this , I wrote the below java code but no luck , please have a look and let me know weather the approach is right ? This is how DailyOCF list is getting populated ."
I am a bit new to LinkedList and I want to practice by making methods in ExampleLinkedList class . There is a list in test3 . When I call test3 I get Goodbye Thanks Hello . What I want is to add `` AddedItem '' in the end of the list to get AddedItem Goodbye Thanks Hello but I get only AddedItem as a result . How can I fix my addToEnd method without writing a new class .
To write a good comparations test test you have to run it several thousands ( millions ) times . It will level ( in most cases ) other programs ' influence . But if a JVM can influence on the results . For example : First solution is : And second is : I do not know which one is better because JVM can influence on the results . How to know which one is better ? UPDATE : I do n't mean exactly that appending comporation test . I 'm asking about such a hard to test situation .
"Which Java synchronisation object should I use to ensure an arbitrarily large number of tasks are completed ? The constraints are that : Each task takes a non-trivial amount of time to complete and it is appropriate to perform tasks in parallel.There are too many tasks to fit into memory ( i.e . I can not put a Future for every task into a Collection and then call get on all the futures ) .I do not know how many tasks there will be ( i.e . I can not use a CountDownLatch ) .The ExecutorService may be shared so I can not use awaitTermination ( long , TimeUnit ) For example , with Grand Central Dispatch , I might do something like this : It produces output that looks like this ( for 128 items ) : Processed 128 items in 1.846794962883 seconds.I tried something similar with a Phaser : The tasks do not always complete before the last print statement and I might get output that looks like this ( for 128 items ) : Processed 121 items in 5.296 seconds . Is the Phaser even the right object to use ? The documentation indicates it only supports 65,535 parties so I would need to either batch the items to be processed or introduce some sort of Phaser tiering ."
"I 'm not exactly sure why this causes a stack overflow . I know if I call the someMethod method without the instance it works fine , but I 'd like to know why.Thanks"
"I have some output from a ( C++ ) application that stores a tickcount value in a type that wraps to zero at 233 . ( 8,589,934,592 ) ( Do n't have the code ) I need to write my own output in the same way . I retrieve the tickcount from a C lib through JNA , but if I store it in an int it wraps to -231 ( -2,147,483,648 ) after ~25 days ' tickcount and if I store it in a long it just keeps going past 233 . How can I store ( or write ) the value in Java in such a way that it wraps ( to zero ) at 233 ? ( Preferably a JRE7- & JRE8- on Win32- & Win64- & Linux-compatible solution ) To get the tickcount I use the following :"
"Below is the parent class DblyLinkListBelow is the derived class LockableList , If class LockableNode < T > extends DListNode < T > in the above code , error : The constructor DblyLinkList < T > .DListNode < T > ( T , DblyLinkList < T > .DListNode < T > , DblyLinkList < T > .DListNode < T > ) is undefined occurs at line super ( item , p , n ) This error is resolved by saying : class LockableNode < T > extends DblyLinkList < T > .DListNode < T > How do I understand this error ? Why it got resolved ?"
"The simplest code to demonstrate the issue is this : Main interface in Kotlin : Abstract class implementing it and the method : Java class : It should work , but it does n't . The error is Class 'JavaImpl ' must either be declared abstract or implement abstract method 'go ( T ) ' in 'Base'If the JavaImpl class was in Kotlin , it would work . Also if the T was cast to String or Integer or any object , it would work too . But not with Int.Is there any clever solution apart from using Integer and suppressing hundreds of warnings in Kotlin subclasses ? Update : created the issue ."
"there is an error on the last line this looks perfectly fine to me , but maybe i am missing some subtlety on how type wildcards work . Is there a way i can change the type on the last line ? i need this reference because i plan on doing this later : this also has an errorhowever , if i use it without the wildcards and capture , it works fine : unfortunately im kinda stuck with this for now , any help would be appreciated.edit : removed this . referencesedit : changed x to beand it works . however still getting errors on x.newInstance ( ) .m ( b )"
"I 'm using the following code to convert a hexadecimal String to a floating point String : To test this , I wrote the following JUnit test : However , the 2nd assertion fails . According to various online converters like this one , 50000000 should be converted to 8589934592 but Java returns 8589934600.Which result is correct now ? If Java is wrong then how do I correct it ?"
"I am trying to track down why a specific behavior is happening with .orElseThrow in a Java Stream . This code block results in this error : unreported exception X ; must be caught or declared to be thrownI do n't want to report the exception because that would cause me to add that to every other method who interacts with this . However , when I remove the curly braced lambda expression , leaving just the new exception to be thrown , like so : It compiles just fine and the exception no longer needs to be reported , although , I ca n't log the message or do any other logic in that .orElseThrow statement . Why does this happen ? I 've seen a sort of similar question which explains that this could be a bug in the JDK but I want to make sure that is the case in my situation ."
I have a list of `` Item '' objects list like : Is there a way to `` unpack '' those object using streams to have a list of items eventually repeated if qty is greater than 1 so at the end I 'll have objects with qty equals to 1 ?
"I 'm writing a java program that print seconds elapsed , and every 5th second it will print a message . This is a sample output : How can I remove the boolean variable printMsg ? Is there a better thread design that allow this ? For now , without printMsg the program will print multiple `` hello '' during the 1/10 second program staying at 5 , 10 , 15 etc ."
"Given this code ... Imagine that instead of this while ( true ) you have something that does not throw interrupted execution ( for example , a recursive function that actually calculates something ) .How do you kill this thing ? And why is it not dying ? Note if I do n't put Exception type there and use InterruptedException it wo n't even compile , saying that `` interrupted exception will never be thrown '' which I do n't understand why . Maybe I want to interrupt it manually ..."
"This is from Thinking in JavaHere is my Java enviroment : java version `` 1.8.0_60 '' Java ( TM ) SE Runtime Environment ( build 1.8.0_60-b27 ) Java HotSpot ( TM ) 64-Bit Server VM ( build 25.60-b23 , mixed mode )"
Java is smart enough to determine whether an integer is small enough to be converted to a character . Why is it not able to convert very small floating point literals to a float ? . For example : char c = some integer literal might compile but float f = some floating point literal will never compile . Why ? PS : I know that a floating point literal is treated as a double by default
"I have following code : Eclipse gives a `` dead code '' warning on the return null ; . Removing the test for keyValue == null also removes the warning but I do n't see how that extra test makes the return statement dead code . Clearly if the map contains no entry for some non-null keyValue , then rowIndex can still be null . Or am I missing something here ? I 've seen similar Eclipse issues ( here for instance ) , but this one seems a different and more trivial one ."
"I am looking to select a design pattern for a project I am working on and was wondering if I can get some input . BackgroundAn interface called Ranker is defined as follows . Each implementation of Ranker can have multiple Rankers as member variables and each of the member Rankers can have multiple Rankers as their member variables . You get the idea . A Ranker can use another Ranker to help rank it 's items . In my particular case I have 27 different Rankers defined each of which Rank a different dataType . 26 of those rankers will be used by one of the Rankers to be ultimately be able to rank the items . Meaning , RankerTypeA has , RankerTypeB , RankerTypeF and RankerTypeK as members and needs them in order to appropriately rank items of type A. ProblemThe instantiation logic for each of the Rankers is different . I would like to use some sort Module/Factory/etc that helps me create these rankers . I ultimately need it to create RankerForTypeA . I had something like this in mind . Here 's the bit tricky part . I would like to make it easy for people to let 's say use custom rankers where they see fit . Going back to the hierarchy I drew before , let 's say for TypeB , people wanted to use CustomRankerForTypeB instead of RankerForTypeB , they should be easily be able to . So in that case the hierarchy would look likeSo here , if they want to create RankerForTypeA , they ca n't directly use DefaultRankerFactory because it uses RankerForTypeB instead of CustomRankerForTypeB . So normally you would be like , they can just create a new implementation of RankerFactory but then it would have a lot of duplicate code because the instantiation logic of a lot of the of other parts of RankerForTypeA is similar . So , for this scenario I had something like this in mind . This solution however does n't seem right to me because it relies heavily on inheritance . CustomRankerFactory is not necessarily a DefaultRankerFactory , so that approach does n't seem right . Plus the approach here does n't seem like a Factory pattern even though I keep going back to that term . I am looking for help with the best approach to define the `` Factory '' so that it 's modular and easily extensible . Open to all forms of input ."
"In my study book , there 's this example : I find it strange that it compiles , since there is no definition of Class < T > . What is the story about this ? It says in my book that T is for the type parameter but how do I know when to use it ?"
"I am making a program in which a pool of x number of threads interacts with a shared inventory . In this case I use an ArrayList as the shared inventory . In my program the threads are representations of jobs that a creature has . Creatures belong to a party and share a pool of Artifacts used to perform jobs . only one creature my interact with the pool at any time.For some reason I keep having issues with thread communication . I have set it up so if the pool is not being used the creature drops all its items into the pool and begins to look through it . And if they can not find everything they need they should drop all the artifacts they have into the pool , Set the pool to to not busy , then signal one creature waiting on the pool that it is ready for them to go through it as well.My issue is that if a creature is looking through the pool while another is waiting , and it can not find what it like it repeats the process without notifying or letting the other creature go through it.What I 've attempted : I initially attempted using locks but the locks would not signal other threads . Then I rewrote it taking advantage of synchronized ( Party ) . Then I thought it was because the threads were crashing somewhere but a thread can run all the way through and even dump its items back into the pool when the job is complete ( given a creature has not locked the pool into limbo ) .I perform this kind of interaction between threads in a scenario where a creature has more than one job but can only do one job at a time and it works perfectly . I tailored those methods to match this situation and I am still having issues.Note : I 'm very new to concurrency so forgive me if my vocabulary is not as developed on the subject ."
"I have the following class.What is the -keep option that will ensure the constructor wo n't be removed by Proguard ? The following will keep the constructor ; however , I do n't want to have to specify every single class or package ."
"I have two corresponding lists : The goal is to sum discounts , which means adding discountRate from actualPromotions to discountRate value from the booksToReturn list . The objects from both lists can be matched by idOfBook.This is how I solved it I 'm just exploring streams and I think my solution is clumpy . How would you solve this problem in more elegant fashion , with usage of streams and functional approach ?"
"I want to be able to write an aspect to detect when I am casting something in one of my org.mypackage classes.How do you write a pointcut to express the casting operation , not just for Foo class , but for any class in org.mypackage ? Background : So Hibernate 5 + Spring Data JPA requires casting entities with inheritance : ... which , on a large code base , is scary to consider because there are a lot of places this could break . So if it 's possible to write an aspect/pointcut to at least detect it , then we can at least log it and also identify places in our tests where the issue needs addressing.This technique is recommended in this question How to convert a Hibernate proxy to a real entity object by @ Vlad-Mihalcea ."
It says I 'm supposed to write : On the settings.gradle file according to : https : //docs.gradle.com/enterprise/gradle-plugin/But then I get an error saying:2 : Only Project build scripts can contain plugins { } blocks
"Here , my main goal is setting the value safely , without having a performance ( speed , memory , cpu etc ) impact.I have a silly option ( in a bad style ) also mentioned below . So , what is the best way to do this ? option 1 ? option 2 ? or another one ? Option 1 : Option 2 : Note : this piece of code is in a loop having many thousands of iterarations ."
"ProblemI am writing automated tests for my company 's website using Java and Selenium . Right now I am writing tests that involve clicking on links , and verifying that the link leads to the correct place . We have a newsletter popup ( from BounceExchange ) that appears at very unpredictable times , and it 's causing ElementClickInterceptedExceptions . This is the exception message : org.openqa.selenium.ElementClickInterceptedException : element click intercepted : Element < li id= '' menu-item-78096 '' ... is not clickable at point ( x , x ) . Other element would receive click < div class= '' bx-slab '' > ... < /div > What I 've TriedClicking with JavaScriptI have been clicking WebElements with driver.findElement ( By ... ) .click ( ) , which I 've read is the best way to click things when testing UI . I have tried doing a JavaScript click like thisbut that has n't worked , and the page just hangs with the popup on screen.Closing the PopupThis is the area where I have had the most success , but it still does n't fully work . This is my click method : From looking at the HTML , I know that the close button on the popup has a class `` bx-close '' .This method sometimes successfully closes the popup , but then link that is being tested is never clicked , and the test fails . Pressing EscapeI have learned that pressing the escape key while the popup is on screen makes it go away.I have tried two ways to do this1 . Using ActionsBut this way was giving me an illegal argument error since the escape key is not a modifier key.And I have tried WebDriver 's sendKeys : This approach also did not work for me.HTML of PopupSo my question is , what is a reliable way to close this unpredictable popup so I can stop getting ElementClickInterceptedExceptions ?"
"I 'm writing a library method that will be used in several places . One of the method 's parameters is a collection of objects , and the method does not mutate this collection . Should the method signature specify a mutable or immutable collection ? Option 1 : mutable collection as parameterPros : Clients can pass in whichever of List < Bar > or ImmutableList < Bar > is more convenient for them.Cons : It is not immediately obvious that the list parameter will not be mutated . Clients must read documentation and/or code to realize this . Clients may make unnecessary defensive copies anyway.Option 2 : immutable collection as parameterPros : Clients have a guarantee that the list parameter will not be mutated.Cons : If the client has a List < Bar > , they must first convert it to an ImmutableList < Bar > before calling foo . This conversion wastes a small amount of time , and it is forced on clients whether they like it or not.Note : For the purposes of this question , let 's assume that all clients will have Guava 's ImmutableList available , for example because the library and client code all belong to the same codebase that already uses ImmutableList elsewhere ."
"I am getting the below error : Monitor.javaWebScoutCallable.javaContainsMonitor.javaI 'll freely admit that I 'm new to generics and still quite new to Java itself . I find the error message confusing as it looks like it should work ( method declaration expects a Monitor or subclass , I 'm passing in a subclass ) . Any help ( +explanation ) would be greatly appreciated ! Thanks !"
My code is : The output is I really have no idea why only c [ 0 ] has changed .
"Let 's say my original Map contains the following : And I want to create a reversed Map containing the following : I know it can be done in old fashion ( pre-Java 8 ) , but how do I achieve the same using Java Stream API ? There 's similar question posted here , but that only works for single valued Maps ."
"This is a piece of code in a SCJP practice question : It was partly mentioned here.However , my question is not the prior question . As I run the program on a few machines multiple times , I occasionally get RuntimeException before `` run '' in the output . This does not make sense to me , as these lines of codes executed in the same thread , so it should have been the reverse order.Can anyone explain why that happens ?"
"Please look at this code : result：console print： 0 9 I know that subclass will first calls the superclass constructorbut , why is the 0 9 , not 8 9 ?"
"Here 's the snippet : As the code above , Even if we put LoggerThread.interrupt ( ) in stop ( ) method , the interruption just be caught by thread and do nothing.So is LoggerThread.interrupt ( ) necessary ?"
"I 've seen plenty of ways to sort a list of objects that work fine if you know the incoming keys or at least the incoming number of keys.Problem is in my case I do n't know if the user will send in 1 or 10 keys.Currently I have a giant switch statements for each number of keys , but obviously that scales terribly . It just chains a bunch of 'thenComparing ' together.I found an example here that looks like it kind of helps but I do n't know how to build a stream of comparators.How-to chain and apply a stream of comparators ? Looking for a link or really anything pieces of information that will fill in the gaps on how to do this.This all works from a user calling webservice where they would call it like"
output : 1121output : 4 4 5 5For above code why both objects are not referring to same memory location .
"Need to find out if a given string contains just a particular digit only - e.g . `` 111 '' , `` 2 '' , `` 33 '' should return true . `` 12 '' should return false.Empty string ( `` '' ) should also return true.The string contains only digits and no other characters.Wrote an ugly Java regex that seems to work , but ca n't help but think it should be written in a much shorter manner : Is there a simpler and more elegant way to do the above , avoiding the listing of all digits one by one ?"
"Create a class likeand it compiles in Java 8 ! ( Both in Eclipse 4.5 and JDK1.8_25 ) https : //ideone.com/Q9JLHPIn Eclipse , all the bounds are inferred correctly , but how could outer 's capture Supplier < ? super Integer > ever been satisfied by the argument Supplier < String > ? ? Edit : clarified this is Java 8-specific and made the example less confusing ."
"I have a Java thread with a run method that computes many things . You can think of it as a series of math statements as follows . Note that each computation may utilize other methods that in turn might have additional loops and such.There is a GUI that prints the output of these statements as they produce their results , and I 'd like the user to be able to say `` Stop '' whenever they want . Here are two methods I thought ofMethod 1 : Many Boolean Checks [ LOOKS TERRIBLE ] In this method , once the stop flag has been set to true , the computations will end . Note how silly this looks , having 30 if statements . Importantly , the critical question here is how often to put these conditions . Note that the computations on each line are not necessarily a single line . Taken to the extreme , does EVERY line in the run ( ) method deserve a if ( ! stop ) call above it ? This does n't seem like good design.Method 2 : Generalizing Computations [ CAN NOT DO THIS ] I imagine that this method will be suggested , so I 'd like to simply state that it is impossible in my case , given the sheer variation in the lines that I am calling `` computations '' for simplicity . I have typically done this for threads that are basic while loops , and it works great for such . But not in this case when the run ( ) method is simply a huge method of variable code.Any other solutions out there ? Seems like this should be a universal problem . Thanks in advance !"
"I have an interface A like this : And then I have this class : I have n't use generics before ( only things like List < String > ... ) so I ca n't see why this code does n't compile . To be more precise , I get an error on the line elements.add ( obj ) ; that the method add is not applicable for these parameters.EDIT : I 've changed the code and now the elements.add ( obj ) compiles fine , but I have another problem.When I try to do this , it does n't compile.How could I fix this ?"
"I 've a query as follows ... That I 've achieved through , Creating a connection , statement & executing the query as followsBut , now I need to find whether the code had performed an INSERT or UPDATE ? Can anyone help me with this ? ? Thanks in advance ..."
"Let 's say I 'm using Java 11 javac , but I 'm using the -- source and -- target options set to 1.8 so that my source code will be considered Java 8 and the output .class files will be compatible with Java 8 . My goal is to produce .class files that can run on a Java 8 JVM.And let 's say I have the following Java 8 code I 'm compiling : The question is : what should Java 11 javac put in the .class file to link the byteBuffer.flip ( ) method call ? Before you answer , consider this : Neither Java 8 ByteBuffer nor Java 11 ByteBuffer declare the flip ( ) method at the ByteBuffer level.ByteBuffer is a direct subclass of Buffer . There is both a Java 8 Buffer.flip ( ) and a Java 11 Buffer.flip ( ) declared in the Buffer API for both versions.In the Java 8 source code , there is no ByteBuffer.flip ( ) method.But in the Java 11 source code , ByteBuffer overrides the Buffer.flip ( ) method like the following . The purpose apparently was to use covariance so that in Java 11 ByteBuffer.flip ( ) would conveniently return a ByteBuffer instead of a Buffer.So to restate the question : Should Java 11 javac , with the -- source and -- target options set to 1.8 , generate a .class file that links to Buffer.flip ( ) or to ByteBuffer.flip ( ) ? If it is the former , then how does it know not to include ByteBuffer.flip ( ) instead , as the ( Java 8 ) code clearly references ByteBuffer.flip ( ) and the ( Java 11 ) compiler sees that there is a ByteBuffer.flip ( ) method in the runtime ? But if it is the latter , then how can I ever know that my 100 % correct Java 8 compatible source code , when compiled using Java 11 , will run on a Java 8 JRE even if I use the -- source and -- target options to indicate Java 8 ? ( Note that OpenJDK 11.0.5 seems to choose the latter option . But which is correct ? ) ( Note that I 'm using the word `` link '' loosely ; I 'm not currently well-versed in what bytecode is generated . All I know is that the class file has come reference somehow to Buffer.flip ( ) or ByteBuffer.flip ( ) ; and if this method ca n't be found at runtime , the JVM will throw an exception such as : java.lang.NoSuchMethodError : java.nio.ByteBuffer.flip ( ) Ljava/nio/ByteBuffer ; . ) As a bonus question , I wonder whether using the -- release option set for Java 8 would change the answer . But note that I ca n't use the -- release option ( equivalent to the Maven < release > compiler plugin option ) because I want my Maven project to be buildable with both Java 8 and Java 11 ."
"I have a document that says the average case time-complexity for the given code is O ( nlog2n ) I have computed the best and worst cases as : Best case , k = n leading to time complexity of O ( 1 ) . Worst case , k = 1 leading to time complexity of O ( n ) . How can average case be O ( nlog2n ) , which is higher than the worst case . Am I missing something ? Edit : The document could be prone to mistakes , so in that case what would be the average time-complexity of the above code , and why ?"
Can you explain me why the result is `` int '' ? I would expect it to be `` long '' provided the variable is a byte .
"In situations such as the one above , I like to put the else in the end so I can be notified if the program runs code it should n't run , meaning something went wrong ( i.e . one of the above conditions should be true , but none are , which means something is wrong ) .What exception should I throw in that final else , to notify me something is wrong ?"
"We knows that TPL ( so PLINQ too ) does n't consume all cores if he think that task is easy and executes it on single core . But he does it even for a complicated task ! For example , here is code from article about Java parallelism : and results : you can see that multithreaded version executed ~19 times faster than single thread ( Core i7-4702MQ used ) . But in C # version this code has worst performance comparing to all others , which is not surprising because of TPL overhead without performance benefit from multithreading.So question is : why Java standard multithread library is so wise ( any operation that takes 100us+ will be boosted , see reference http : //gee.cs.oswego.edu/dl/html/StreamParallelGuidance.html ) , while C # can not boost an operation that takes 1500ms on my machine.I like C # and not really very like Java , this is why it hurts and I want to learn why it is what it is ..."
"I have a rather peculiar problem . I 'm trying to find a pattern like [ some string ] [ word boundary ] . Simplified , my code is : My logic tells me this should always output true , regardless of what someString is . However : if someString ends with a word character ( e.g . `` abc '' ) , true is outputted ; if someString ends with a word boundary ( e.g . `` abc . `` ) , false is outputted.Any ideas what is happening ? My current workaround is to use \W instead of \b , but I 'm not sure of the implications ."
I would like to know how to shorten my code with the help of Stream Api.Let 's say I have method like this : And I would like to call this method 5 times with the same parameters . For exampleI know I can do something like this : But here I am passing one integer value to method . Anyone can give me some hints or answers ?
"I realize that the results for string1.compareTo ( string2 ) will be a number -1 or below if string2 comes before string1 alphabetically , and a number 1 or above if different the other direction . I need to return only -1 , 0 , or 1 . I can code it in a seemingly clunky way , but I feel like there must be a more efficient/elegant way to do this . Any help would be appreciated ! Is there some sort of mathematical operation that will change all positive integers to 1 and all negative integers to -1 ? EDIT : I have to say , I 'm gratified just to have asked a question that was n't downvoted and deleted , but the prompt and intelligent responses are wonderful . Here are the answers I 've tested so far . I wanted to share my results with those who come later.My test code : ( runs each solution about 2600 times at different values ) My original code : ~1.5msSolution 1 : ~4msSolution 2 : ~2msSolution 3 : ~2msSolution 4 : ~2msI like them all better than my original , so thank you all collectively . Solution 4 gets the check mark due to speed and readability , so thank you especially ."
"I have an enum class which has several constants , and I want to add some static value FOCUSED which indicates which of the enum values has focus ... I found a way : However , now I wonder : Did I just mess with the enum class ? Because I do n't want FOCUSED to be selectable when specifying the message type , however a class handling an enum of MessageType should be able to determine the FOCUSED value ... Such that I do not need to hardcore it in every class.Any thoughts are appreciated.EDIT : It is behaving correctly though.This code gives the expected output : The output is `` General '' ."
"I 'm curious if there 's a syntactic way to extend JSONArray such that I can then use it in a for ( : ) loop as I can a List.So , instead of having to do : I would like to doI realize that I need to make sure that in the above example the object in the array is indeed a String , but given that JSONArrays can only handle a few types that should n't be problem ."
Hey if anyone has an idea I would be really thankfull.I 'm in a Java stream and i would like to sort my list that i 'll be returning.I need to sort the list via TradPrefis ( MyObject : :getTradPrefix ) .But this would be way too easy . Because i want to sort following the number at the end of TradPrefix exampleTradPrefix_ [ NUMBER TO SORT ] Exemple : hello_1 test_2 ... still_there_22Here is a piece of code so you can imagine easier .
I 'm currently working on my Bachelor Thesis about how to write effective Java code . The following four code snippets are part of a JMH benchmark which will execute every method 1 million times each.The results for this four methods are : primitiveOnly : 1.7 ms/operationprimitiveToWrapper : 2.2 ms/operationwrapperToPrimitive : 47.5 ms/operationwrapperToWrapper : 48.2 ms/operationThe reason for this behaviour would be that during the operation in primitiveToWrapper the Integer value has just to be unboxed where in the operation in wrapperToPrimitive has to box the first operand into an Integer which results in an expensive object creation.Is there a specific reason Java behaves like this ? I read through the The Java Language Specification but was n't able to find a answer to this question.UPDATE : To address the point regarding the return values ( thanks to Phil Anderson ) i updated my code . In addition i changed all the Integer variables in the benchmark class to int . This is the new version : The results are an average of 10 iterations ( 1 iteration = 1 million executions of each method above ) .primitiveOnly : 0.783primitiveToWrapper ( int dummy ) : 0.735primitiveToWrapper ( Integer dummy ) : 24.999WrapperToPrimitive ( int dummy ) : 0.709WrapperToPrimitive ( Integer dummy ) : 26.782WrapperToWrapper ( int dummy ) : 0.764WrapperToWrapper ( Integer dummy ) : 27.301The final results now feel much more intuitive . Thanks everyone for helping me out .
I 'm working on a game where you can upgrade your stats in a shop . When you buy something it should refresh the JLabel which shows your CoinsIs there a way to do that without doing a new JFrame ? This is the code of the ActionListener where I want to refresh the JFrame epixHere 's the code of the View
"I have an user story in Rally which has a feature set as parent . I want to update the parent artifact via Java API to another user story . However I am getting a validation error while doing so i.e . I added following property to include in the UpdateRequest : How to override this validation , can anyone please help ?"
"Java 8 's String.replaceAll ( regexStr , replacementStr ) does n't work when the regex given is `` .* '' . The result is double the replacementStr . For example : I know replaceAll ( ) does n't exactly make sense to use when the regex is `` . * '' , but the regex is n't hardcoded and could be other regex strings . Why does n't this work ? Is it a bug in Java 8 ?"
"I used this Topic I try this code but did not work : PACKAGE_NAME = context.getApplicationContext ( ) .getPackageName ( ) ; But it could not help me . I have the application list , I want to get the permission that used on each of them.How can I handle it ? UPDATE : like the photo , When clicking on `` دسترسی ها '' , I want to get the permission that used in that app . ( for example in a telegram : Internet , storage , call , camera , ... ) UPDATE 2 : I will share the adapter code for my problemMy Adapter : set On Click Listener On txt_show_permission in onBindViewHolder : Method for dialog in adapter class :"
"What is wrong ? I assume that if I subtract 1ms from 1 Jan 1980 0:0:0 then I 've got 1979 . But I must subtract about 500+ ms for this . Please , give me a hint.Updated.The solution is"
"I am currently working on a tic tac toe program for an assignment . The issue I am having is when I count my player ( either the ' X ' player or the ' Y ' player ) , it seems to be counting both players as the same . For instance , after the third play , it sees three plays and counts it as a winner , even though only two plays of one player and one play of the other have been completed . My question is if someone can look over my logic and see why the game only allows three moves . In other words , the O goes , the X goes , then the O goes , and the game announces a winner . Also , I am not looking for a code answer , but rather which part I should inspect to fix my code ."
It seems I 'm stuck with java generics again . Here is what I have : Couple of classes : class CoolIndex implements EntityIndex < CoolEntity > class CoolEntity extends BaseEntityEnum using classes above : Function I need to call with use of result of getIndexCls ( ) function call : The problem is that compiler complains about return CoolIndex.class ; and return CoolEntity.class ; and it 's not clear to me why ... Of course I can cast it to Class < I > ( first case ) but it seems to me like I 'm trying to mask my misunderstanding and it does n't feel right .
"I would like to be able to compare two versions of a class / library to determine whether there have been any changes that might break code that calls it . For example consider some class Foo that has a method in version a : and in version b the method becomes : or something similar in the case of a field : I would like a tool that will flag these changes as potential incompatibilities ( but ideally not the reverse i.e . increasing the visibility of a method ) . Now I know that I can do this via reflections , or by analyzing the output from javap , however it seems like there should be an existing tool ( preferably non-commercial ) . So I wanted to see if anyone can recommend something before I make the mistake of rolling my own / reinventing the wheel unnecessarily ."
"I have a simple coding scenario like : My question : Is there any way to handle exception in catch ? if yes , then how ? What if finally block have exception , is there any way to handle them ? Or Is it only bad programming practise to have an exception in catch or finally block ?"
"Today I tried to solve a small challenge : You are a big company with 500 offices , you want to compute the global revenue ( sum of revenues of each office ) .Each office exposes a service to get the revenue . The call takes a certain delay ( network , db access , ... ) .Obviously , you want global revenue as fast as possible.Firstly I tried in python with pretty good results : On my computer it takes around 500ms , the ideal case ( because 500ms is the maximum delay ) Next , I tried in java with RxJava : On my computer , it takes around 1000ms ( with a pool of 500 threads ! ! ) .Of course , I tried with different number of threads but results are worst or similar.I do n't want to compare Python and Java , I just want : Explanations if I did mistakesA better approach ? Also , python async uses only one thread but in Java I did n't find how not to use multithreading to have a similar result.Maybe someone could help me ? : - )"
"Referencing a previous answer to a question on SO , there is a method used called TestForNull . This was my original code before I was told I could make it more efficient : My original code : In this snippet , I 'm doing three look-ups to the map . I was told that this could be accomplished in just one lookup , so I ended up looking for an answer on SO and found the linked answer , and modified my code to look like : My modified code : Even though it seems better , it looks like two look-ups to me and not one . I was wondering if there was an implementation of this that only uses one , and if it can be done without the use of third-party libraries . If it helps I 'm using a HashMap for my program ."
I have this piece of codebut I have a compilation error
I have an String array with multiple items.Now I want to check in if condition likeIs there any method that can check whole array and if list [ i ] present in array then go into the if condition block.Thank you in advance .
How do I read/understand the following statement in Java ? I think I can understand them individually but I do n't know if I get good sense of what it means in its entirety . Individually : Class < ? > means any class and Class < ? extends Payload > means any class that extends the Payload class [ ] seems to refer to any array of classes . Is that correct ? groups ( ) and payload ( ) are method names.default { } Use this when there is no implementation ? I am really not sure how to understand the above statements ? Any help would be very much appreciated .
"I 'm trying to use java class BitSet as a field for a customized class . And I want the class to use a default BitSet with all bits set.By default BitSet constructor unsets all bits . So before I send it as an anonymous object , I would like call set ( int , int ) method to set all bits . I know that I could simply initialize the field mask to a new BitSet and then call set ( int , int ) method from there . However , in general I 'm wondering is it possible to access an instance method at time of object instantiation ?"
"Consider 4 input fields A , B , C and D on a web surface . The user can fill any of these arbitrary . There are 16 combinations of how to fill these fields . The ones allowed are : where 1 means not null and 0 means null . I am using the MVC pattern with jsf . I do n't want the logic to be in the view , but rather in the controller . What is the best way to check this in Java ? I implemented two solutions so far : Solution 1 : Solution 2 : Note : The first methods checks if input is invalid , while the second checks if input is valid ( note the names of the methods ) .I wrote 16 unit test cases , which all run green with both versions.Do you have any hints/tips/tricks on how to get the code even more readable ?"
"I created a javaFX chooser file in Jython . It was n't easy to port from Java to Jython , but in the end some results came . Now I would like to parameterize the obtained class , taking into account the file filters , so as to be able to use the object for browsing different from the type of filtered files.I tried to insert a fixed filter : But I have the following error : I also tried to cast the filter into a list and to insert the filter into a list but the error persists.What am I doing wrong , and what should I do ? Thanks in advance ."
I want to set first spinner value as `` select your choice '' then shows the data from serverone solution * creates another array list and in that list contain the value `` select your choice '' and combine these two and set to the spinner .. how can I achieve this please help me ... ( using cursor ? ? ? ? ) method for getting spinner data
This is a copy of code that I run on a tomcat server on a scheduler . When I check the status of the server I can see the no of open files increasingThis is the command used to check open files sudo lsof -p $ ( pidof java ) | grep `` DIR '' | wc -lThis is an example of the code wrapped in a unit test.Eventually the resources run out and the server freezes .
"I have a data Set like this : Which I 've loaded in ArrayList of String [ ] from Text file like this : I wanted to sort data set in increasing year like this : Problem : The built-in sorting method Collections.sort ( list ) ; of ArrayList only works on single type of data . But , in my case I have string with multi-type ( string-integer ) and sorting should base in Integers . So , is there any way to solve this problem ?"
"I would like to split a string : '' x= 2-3 y=3 z= this , that '' I would split this up on one or more whitespaces , that are not preceded by a '= ' or a ' , 'meaning group one : `` x= 2-3 '' two : `` y=3 '' three : `` z= this , that '' I have an expression that kinda does it but its only good if = or , has only one whitespace after it ."
"Lets suppose I have a ComponentBase class , who is child of ObjectContextDecorator and grandchild of ObjectContext.The set methods on ObjectContextDecorator and ObjectContext are very simillar . Consider this sample code : Both methods ' signatures fit the one being called correctly . I am not able to change the methods ' signatures since it is not my code.How does the compiler know which method I intended to call ? I know that on the IDE you can point out which method you are actually intending to call , but in this situation , I am using a class loader to load a class which has a method containing the sample code ."
"Is the class listed below a singleton ? Since the constructor is declared as public , can I infer that the class is a singleton with wrong implementation ?"
"How do I get result set as { GERMANY=3 } instead of { GERMANY=3 , POLAND=2 , UK=3 } The outcome as given below I want like below ."
"I can not compile the following piece of code ( try at onlinegdb ) : incompatible types : can not infer type-variable ( s ) T , U , A , R , capture # 2 of ? , T , T ( argument mismatch ; invalid method referencemethod getDifference in class Container can not be applied to given typesrequired : no argumentsfound : java.lang.Objectreason : actual and formal argument lists differ in length ) I have no idea what causes the compilation error . The Collectors.mapping maps an object to a new value and since Container : :getDifference returns long and the very same type should be inferred into Collectors.maxBy and the code should get compiled.Surprisingly , when I replace the Comparator.naturalOrder ( ) with Comparator.comparingLong ( l - > l ) , then it works.The objects used ( including all-args constructor and getters ) : Note this is reproducible using OpenJDK both jdk-11.0.5 and jdk1.8.0_212 . I use IntelliJ Idea and the IDE does n't highligh such error , however raises it on compilation ."
"I have a string which may have one of two formats : ( someName , true ) ; ( where someName can be any combination of letters and numbers , and after the comma we have either true or false ) ( someName , true ) , ( anything , false ) , ( pepe12 , true ) ; and in this case , we can have as many parenthesis groups as can be , but they are separated with a comma plus white space.Given the following test set : I used the following regex ^\ ( . * , ( true|false ) [ ) ] [ ; $ ] and got my expected result of true , false , false , false ( quick check here ) . But I can not seem to come up with the regex for the following cases : Which should return true , true , false , true , false ."
"i have a following code : It will return a price like `` 7,49 $ '' . I want to replace this code with java 8 features . I 'm newbie with streams , but tried : But it returns < meta itemprop= '' price '' content= '' 7,49 $ '' > I ca n't filter like this ( missing return statement ) : How to fix it ?"
"I have recently converted over an android project into androidx and I am having issues with trying to stop views going off of the page . My layout is as follows , a Constraint Layout that contains a Card View and a Text View . Within this Card View I have a Constraint Layout that contains the Text View . Outside of the Card View I have a Button which is constrained to the Card View . The issue with this is that when I run the program the Card View goes off of the screen and the button moves all the way to the top even though they are all constrained properly . I will show below the code I am using to achieve this and an image of my result on the emulator . Here is the layout in the editor [ 1 ] : https : //imgur.com/a/0FLa1IK Here is the layout shown on the Emulator [ 2 ] : https : //imgur.com/a/SsvKiOG Any help would be greatly appreciated ."
"A while back , I was working on a programming problem ( CCC ) . I have also come across similar questions in past contests so I decided to ask about this one . The problem is basically this . You are given n people and p pieces of pie.n people are standing in a row.You must distribute p pieces of pie amongst them . You go in order and each person must receive at least as many pieces as the person before them . Each person must receive at least one piece of pie and no pie may be left over . You must return the number of possible ways to distribute the pie.I managed to create the following recursive solution but it takes too long ( more than 5 seconds ) for the following inputs:120 pieces , 20 people -- > 97132873250 pieces , 130 people -- > 1844349560My solution : I found the following python solution from the unofficial solutions which from what I understand , basically creates an array of already encountered values.What I want to do is make an iterative solution out of either of these but am not sure how to do it . From what I understand , there may not be a huge speed difference but with even larger cases , it will allow me to avoid stack overflows ."
"I have the following array of code types : and the following ids : I want to extract the code type from the idsthis is my code snippet : it doesnt work with the 1st id , because it returns `` code '' instead of `` sample_code '' , I want to get the longest code type ."
Why an actual number string read from a text ca n't be parsed with method Integer.valueOf ( ) in java ? Exception : This is my code
"In the project I 'm working on ( not my project , just working on it ) , there are many structures like this : And the Service is called like this : I understand that a factory is used to hide the implementation of MyServiceImpl if the location or content of MyServiceImpl changes . But why is there another factory for my factory ( the supplier ) ? I think the probability of my Factory and my FactorySupplier to change is roughly equal . Additionally I have not found one case , where the created factory is created dynamically ( I think this would be the case in the Abstract Factory Pattern ) but only returns MyServiceFactoryImpl.getInstance ( ) . Is it common practice to implement a FactorySupplier ? What are the benefits ?"
"I have the following scenario : two validation Helpersthe StringValidationHelper ... ... and NumberValidationHelper.The method from is a static factory method that receives a Predicate and a message to eventual validation fails.Thanks to the Validation interface , you can enjoy a wonderfully smooth interfaceSo I can start , for example , a validation using the closure notNull.Example : with NumberValidationHelperThis validation framework I developed based on this article.Well , notNull enclaves a type-independent behavior , so I 'd like to remove the duplication of these two helpers.I 'm not finding an obvious shape without losing the fluid interface.Because the variable is static , you can not use generics and extend the behavior , for instance.Also it does not bother me to type Validation with Object as below : ... because in the call chaining , it will give compilation error since the result of notNull will be a Validation < Object > and and will be expecting a Validation < Integer > Is there any way to use the Java 8 function features that keep this interface flowing generically , running away from the solutions I 've tried above ? thankful"
"I want to create a map of comparators as following , this map will be used to provide the comparator for each kind of class . How can I replace the Generic ? in the declaration of my map to be sure that I have always the same Class type in key and value of my map ( comparators ) ? I want also to reduce the number of warnings"
Lets say I have a class C that is doing some job . For that I need a little very simple helper class H ( e.g . representation of a pair or a 3-tuple ) . H is only needed in C.I would put H inside of C.Is putting H inside of C a good idea ? I do it to have it contained and at the place I think it should be and nowhere else . But I am not sure it is good design .
"I have a Spring Boot application , which runs in an Apache Tomcat server . In application.yaml I have , among others , following entries : The application is deployed to Tomcat from within IntelliJ Idea so I can debug it.I start Tomcat using the following command : However , after Istart Tomcat using the above script , deploy the Spring Boot application from IntelliJ Idea , andmake sure that the code where those values are used is executed , I get the exception indicating that the placeholders have not been substituted.How can I fix it , i. e. make sure that I can specify some information ( like user name and password ) in application.yaml via environment variables ( so that I do n't include the actual credentials in application.yaml ) ?"
"I browsed some JAVA code made by Google , and I found the ImmutableSet : http : //google-collections.googlecode.com/svn/trunk/javadoc/com/google/common/collect/ImmutableSet.htmlThey implemented the of ( ) method with several other ways : I checked the implementation which is here : https : //code.google.com/p/google-collections/source/browse/trunk/src/com/google/common/collect/ImmutableSet.javaThere 's a create method wiith the following signature : which wraps the method . The public methods just passes the parameters to the create ( E ... elements ) signatured method which finally calls the other create method.I guess that the public of methods with fixed count of parameter are unnecessary since we have the of ( E ... elements ) method.My question is that why did they do that like this ? Performance ? Or it 's a pattern ? Thanks ."
"First time I use Regex statement.I have java regex statement , which split String by pattern with list of some characters.output of above code is like ( 018020000304050.12500 ) Actually I want output like this , ( `` F '' , `` 01 '' , `` T '' , `` 8 '' , `` B '' , `` 02 '' , `` S '' , `` 00003 '' , `` H '' , `` 04 '' , `` Z '' , `` 05 '' , `` C '' , `` 0.12500 '' ) .Means desired output is contains pattern character and split value both.Can you please suggest me ?"
"I need some understanding from you expertsThis Program does not go to catch block ( as Heap is full , but I want to understand why ) But the below Program runs good , even after getting OOME : I am bit confused , after seeing different results for the same error OOME . Please guide"
I 've defined a class like this : This wo n't compile . I 'm not allowed to create the generic type T.How can I solve this ? Is there any good patterns to do this ? Can I solve this by using an abstract class instead of the interface ? Do I have to use reflection ?
I need help to design java code for generating bit array for any given integer in following manner:23 should produce output as 1101011 ( min length array ) explaination : positions are given as 1 -2 4 -8 16 -32 ... .So 1101011 can be evaluated as :
I 've failed to google this problem . Why would this line produce a compilation error.I 'm using java 7.The error is :
"I want to calculate the volume of a sphere using a Java program . So , I used This formula gives the wrong answers it seems.Like Java program opt 4/3 , but if I change it to it gives me the correct answer . Does any one know what is going on ?"
"Let 's take an example to make it easier . I build a list which the constructor takes an integer and a List < Integer > . My list will contains all the elements of the given list multiplied by the integer . My list does not store the new elements but compute them on the fly : Then we can call new MyList ( 3 , list ) with list = [ 0 , 1 , 2 , 3 ] to get [ 0 , 3 , 6 , 9 ] .I would like to limit the developer to give to the MyList constructor a list which is also RandomAccess , to be sure he will not ruin performances.I tried to change the constructor with : MyList is not the issue but now we can not invoke the constructor without using an implementation of both List < Integer > and RandomAccess like ArrayList < Integer > . So someone who have this list : List < Integer > list = new ArrayList < > ( ) ; can not do new MyList ( 3 , list ) ; ( Because it is declared with List < Integer > instead of ArrayList < Integer > ) .The other solution I have is this one : But now I can not check at compile time if the list implements RandomAccess , and I need to use instanceof and I hate doing this.I 'm pretty sure there is a better way but what is it ?"
"I am trying to make a void method that calculates average , but I would like to pass values to the method from the main method . Here is an example of what I am trying to do : The problem I 'm having is getting the values of multiple plants into the method . I 've tried using .get , loops , static , and many other things and have n't figured it out yet . What I want is to the value of plantA.leaves and plantB.leaves to the method in order to find their sum ."
This is the snippet of code in Java language : Why does compiler ca n't see the second if statement considering the last option of the value ? It wo n't compile.Best regards
"Why in this snippet of code the cast ( MyClass ) o in line number 8 is necessary , despite the fact that the Client invokes a compare method with arguments which are instances of MyClass class ? When I modify the compare method in MyClass class to form like below : Then , the Client will produce the following result : Thus I do n't understand why the cast above is required and why I ca n't just do like that ( without cast to MyClass ) : Because when I do that , I get the compile time error :"
"Most questions about wildcards want to know why something sensible is rejected by the compiler . My question is the opposite . Why is the following program accepted by the compiler ? I tried to explain this from the Java Language Specification , but I have not found the answer . I had the impression from various descriptions of Java generics and wildcards that each use of a wildcard is captured as a completely new type , but apparently not here . I have not found any nasty behavior that follows from this assignment being allowed , but it still seems `` wrong '' ."
"I 've got such an interface : And there is a list of listeners/observers : How can I easily inform all listeners , that A , B , C occurred via Listener.onA ( ) , Listener.onB ( ) , Listener.onC ( ) ? Do I have to copy-paste iteration over all listeners at least three times ? In C++ I would create such a function : And pass lambda for each of methods : ororIs there a similar approach in Java ?"
"To my surprise this code works fine : But the String reference should never be declared ? Could it be that all variables under every case always are declared no matter what , or how is this resolved ?"
"Looking at the documentation of Font # loadFont I came across this remark : This method does not close the input stream . Unfortunately , this is not explained or expanded upon . So my question is : What are possible reasons the API wo n't close the input stream ? Is it likely you would like to re-use the stream ? I mostly use this method like this : to make sure the font is available for my application , so I never re-use the input stream , and I ca n't really think of a reason I 'd want to . Should I close the input stream myself ? Should I expect any problems if I 'm not closing the input stream ? In the past I 've had problems with a font loaded this way , where some labels configured with this font started showing squares , while others ( on the same scene ! ) kept working fine . Could this be related to not closing the input stream ?"
I found out yesterday that you can make a Java for-loop that looks like thisThis looks really unusual to me . When is coding like this acceptable/useful ?
"Why ca n't I do this in Java : As I understand , this will always be an instance of some class that extends TestClass , so why the code above is not allowed by compiler ? Even if I will extend the TestClass then type of this will fit extends TestClass anyway . I get the following error : Error : ( 4 , 16 ) java : incompatible types : TestClass can not be converted to T"
"In AP Computer Science class today , I had this code : And this is valid . It prints 1 ( or -1 , I forget which ) , but it is possible to compare them . I understand that interface variables refer to an object of a class that implements that interface , but what makes no sense to me is how an interface variable can be assigned an integer , and then have a method called on it . What object in this case is the compareTo ( ) method being called on ? Nothing was even instantiated !"
"I have been told by my Teacher that this is is the one and only code for Bubble SortBut I ran the program with a different outer loop-The Outputs are-1st Case-2nd case-So now I am being told that my code is wrong , even if my output comes correct.Please , tell me am I entirely wrong ? ?"
"I feel embarrassed that I am stuck on this but I am trying to pull the List of Strings ( List < String > ) from the Map < MyEnum , String > given then List of enum keys List < MyEnum > . The List < MyEnum > may or may not contain entries.Edit : But I am looking for a Java 8 way to do this . Such as ..."
I want to count how often an element from ArrayList `` list1 '' occurs in the other ArrayList `` list2 '' .I want this output : I get this output : Coud you please help me to do this ? Thank you !
"Say I have a class with some members , and the members have a less restrictive access modifier than the class itself.A concrete example could be : To my understanding a class access modifier that is more restrictive than the member access modifier , will override the less restrictive member access modifiers . So a less restrictive member access modifier should have no effect at all.Is my understanding correct ? If not , what are the consequences ? What could be valid reasons to have less restrictive member access modifiers ? Finally , what are there best practice to follow ? I also did some experimenting because I thought it might have consequences once I start passing function references around , however even then the access modifier does not seem to matter.The situation that I constructed is the following : apples.B provides a public method bla ( ) that returns a reference to apples.A.foo.Then pizzas.C calls apples.B.bla to obtain a reference to A.foo and calls it.So A.foo ( ) is not directly visible to C , but is only indirectly accessible via B.bla ( ) I tested it and it does not make a difference whether I make the access modifier of foo ( ) package private or not ."
"Note : I 'm using a 3rd party app that uses regex for searches which has its own flavor but almost always works like java 's flavor of regex . Of course this may not matter.After searching for many different ways of this same question ( phrased many ways ) , I did not see any tutorials , examples , or even mentions of whether it is possible to use both an `` is '' ( positive ? ) and `` is not '' ( negative ? ) definition within the same range . I ca n't run a test the example right now in the app to see if my ideas work , because the amount of data being searched is massive and will screw up the matches it has already gathered . I 'm only asking because of this.Here are examples of what I thought might work but caused tester to act weird : I would rather have it work the way I think the first one would work ( any digit , lower case , or upper case character , or other normal character that is not a space , > , < , period , ! , or ? ) rather then the second which only has an or operator.The regex testers I used gave me different funky results which is what is confusing me.Also note : I 'm using this within a capture group which is followed by a catch everything match which I may or may not be using properly . So if you 'd like to include how to follow what I 'm attempting with how to properly do that , feel free . I AM MAINLY JUST CURIOUS TO IF THIS WAS POSSIBLE OR NOT , OR IF IT WAS A IMPROPER METHOD ."
"I simply want to have my own annotation to clean up the annotation mass and to be able to change them easily when I want ; Wish I couldnullable = false , length = 32 are the default params.Java or Kotlin solutions are welcome ."
I am trying to understand the following code . Line number 2 outputs null while line 3 throws NullPointerException . What am I missing ? Theoretically it should work .
"I have a question concerning Java 's Type system.I have four classes A , B , AStar and BStar . AStar extends A and Bstar extends B.On top of that I have another class that has the followingmethods : The implementation that is executed is the first one.From my understanding , Java considers the static types of the arguments and chooses the signature that is mostspecialized ( `` fits best '' ) as the signature of the method that will be called.While this rule of thumb works most of the time , it failsin a few cases with the example above being the 'base case ' ( not involving polymorphism etc . ) I spent a considerable amount of time looking for an explanationof this behaviour ( online as well as in the java books I haveat disposal here ) , but did not find anything.I would be very grateful for an explanation or a link to a resourcethat explains this behaviour ... Thanks in advanceMichael"
"Running this code , I would expect it to increment the test variable for 5 seconds and then finish.However when I run it the program does n't end ( I assume , I have given it a reasonable amount of time ) . However if I change the while loop toThe program finishes in the expected amount of time ( and prints out a lot of lines ) . I do n't understand . Why does this behaviour occur ?"
"I came across this question recently where I am suppose to find the deadlock in the code present below . I have no experience with Java or multithreading , that 's why I am here to understand the problem better.I have this above piece of code . I want to find where a deadlock could occur in the above code . I think only place it could occur is in the two synchronized blocks . Am I right ? If yes , can someone help me understand why ? I can guess that it is probably because withdraw and deposit keeps one thread waiting for another . But this is a total guess , that 's why asking for help here . Also if I would want to prevent the deadlock , how would I go about it in the code ? Any help appreciated ."
"The code below generates the output : In long . If I change the parameter from ( int ... x ) to ( int x ) , it will print It is int instead . Why is that ?"
"I 'm trying to check if the last node of a linked list points to the head . This code seems to give a positive result for the problem , but also gives a false positive for a list that contains a node pointing to a non-head node.I 've been trying different things such as checking if the slow node is equal to the head at the return true point , but that does n't seem to work.Any suggestions ?"
"I 've found a rather strange thing for me while working with Java . Maybe it 's an ordinary thing , but i do n't understand why it works this way.I have a code like this : It works fine and the output is `` true '' .Then I change the english B to slavic B ( Б ) : Now the output is `` false '' . How come ? By the way , the output is still `` true '' if i compare the x variable with ' Б ' directly , but when I do it through an Object it works differently.Can anyone , please , explain this behaviour ?"
"Given two Lists of Objects , I 'd be able to tell which items are not in their intersect based on one of their attributes . Let 's look at the following example : I have a class Foo that has two attributes : boo and placeholder Now I am creating two Lists from that ( let 's say this is my input ) And now I 'd like to say which Items are in list1 and not in list2 or in list2 and not in list1 based on their attribute boo . So in the above example I want a List < Foo > notInIntersectList that contains one Foo ( 0 ) and one Foo ( 3 ) .Sadly I am getting Local variable inBothLists defined in an enclosing scope must be final or effectively final as an error . How is this issue solved properly , since this seems not to be the `` right '' solution ?"
"Say I have a class foo : If I have a list of foo 's , is there a way for me to create a new list/array/whatever of foo 's with essentially the someString and someList values remapped ? For example : Would becomeRight now , I have a nested loop that iterates over each element of someList for each foo and compiles them into a map where the key is the someList value and the value is a set of the someString values that have come from foos where the someList value was present . Then do a map of the entry set to convert it to new foos with the key and value passed as constructor params.It seems to work fine , but it 's not the prettiest in the world , so I was wondering if there 's another approach to doing this ."
Q : Is there a case where clear ( ) never gets executed ? I personally feel that there are no cases where clear ( ) will not be executed .
I shall rewrite C code into Java . The core of original C code is a HW wrapper . In C we were using lots of unions for each HW register eg : then we used it like imagine there is plenty of those registers . Let say 40 . How to implement it into java not having 40 class files ? I was thinking to create one class likethen one file can contains multiple enums like : then I would use it like : But it does not work because it seems I can not use enum variable .v in univerasl_reg . It yields `` Java canot find symbol v '' . Do you know why ? Do you know how to code registers in order to have- preferably one file- type control between different registers ( eg shall lead to error as I 'm not using RegTst but RegTst_OTHER ) - and mnemonic for bits ( eg RegTst.b1_abc )
"I am running with COMPSs the Increment application shown in the COMPSs Sample Application Manual . I have added the -m flag to enable the monitoring feature : The application runs and finishes properly ( no error shown in the std output/error and the runtime.log inside the .COMPSs folder has n't got any stack trace ) . I have also started the COMPSs Monitor service running the following command ( I also add its output ) However , when I open the monitor webpage I ca n't select any application execution because the left menu is empty ( see image ) .Does anyone know how if I need to configure something more to display the COMPSs monitor ? Am I missing any other flag to the runcompss command or on the environment ?"
"I am having a scenario where two functions are identically similar but the Class object used in the two differ , similar like this , And similarly other function like , How can I use the generic class for the master object in above object ? I have n't used generics yet ."
So my questions is : Why is it not a compile error to do anInt += aDouble ?
Is there a way to simplify filter using stream ? Or for it to be shorter or optimized ? I 'm not quite sure if using a for loop would be better to use in this scenario.I 'm just trying to separate the failed and the success messages using the failedIds.Here is my code Thank you !
I have noticed that initializing 2D array like this case 1 : - taking more time than initializing it like this case 2 : -in case 1 it toke time around 4000ms but in case 2 it does not exceed 100ms why there is this big gap ?
"I try to dive deeply into the Java Generics and I 've come across a problem described by the following sample code.The output of the sample isAll the types are obviously known at compile time . As far as I understand , Java holds only a single compiled copy of each method ( unlike C++ ) and because no other constraints are given about the parameter T , it 's forced to call the generic Object implementation . My question is - is there any way to call the `` Hello Integer '' method for integers without overloading the test method for Collection < Integer > and without using runtime type checking ?"
"I 'm using an external library that provides tightly related classes ( generated from some template ) , but unfortunately without a shared interface , e.g.Given I have no influence over the external library , what 's the idiomatic way to write logic common to a group of classes that share the same method signatures ( at least , for the methods being used by the common logic ) ? Currently I do one of three things , on a case-by-case basis : I write helper methods that take the primitive results from each object , e.g.This way I can `` unpack '' an object regardless of its type : But that can get very wordy , especially when I need to work with many members.In the scenario where I 'm only working with getters ( i.e . only need to access current values of the objects ) , I 've found a way to use mapping libraries like Dozer or ModelMapper to map A or B or C to my own common class , e.g.By playing with configuration , you can get these libraries to map all members , whether method or field , public or private , to your class , e.g.But this was kind of a `` broadsword '' approach , a hack that IMO is n't clearly justified merely to factor out duplicate code.Finally , in certain other scenarios it was most succinct to simply doIt 's obvious why this is bad.In enterprise situations where you have to live with a library that is this way , what would you do ? I 'm leaning toward writing a very explicit , if verbose , mapper ( not using a generic mapper library ) that translates these entities from the start . But , I wonder if there 's a better way . ( Like , is there a way to `` cast '' an object as implementing a new interface , in runtime ? )"
"I 've tried two ways to iterate char-by-char over java.lang.String and found them confusing . The benchmark summarizes it : Intuitively the approach described in toCharArray ( ) seems to be less effective as it allocates a copy of underlying char [ ] as of Java 8 and encodes byte [ ] into char [ ] as of Java 9 and newer . In practise however it 's vice versa : toCharArray ( ) performs much faster : First I was thinking that reason here is the same as descrbed in Nitsan Wakart 's article `` Volatile read surprise '' . However doing profiling with perfasm I see that the hottest spots in the code are not related to char [ ] /byte [ ] field access : It looks like the hottest place is iinc ( increment of loop index ) and ishr arythmetic shift in StringUTF16.length ( ) which is rather conter-intuitive to me.Also using perfnorm profiler I see that toCharArray ( ) has less cycles , instructions and load-misses comparing to chatAt ( ) : Could someone help to interpret this and explain such significant difference ?"
"Lately I 've been doing a lot with reflection and implemented this little utility method . I was surprised to find that the first version does not compile , but the latter does.Does not compile : Compiles and works just fine : Two questions : what 's wrong with it ? is there a better way of doing this ? Here 's the compilation error from the first :"
"In JLS Sec 8.4.3.6 , synchronized methods , it says : has exactly the same effect as : This looks odd to me , not to mention over-complicated : why use Class.forName ( `` BumpTest '' ) , not BumpTest.class ? It 's not possible that BumpTest is n't loaded , because it 's executing code from that class , after all . And writing it as it is , the checked ClassNotFoundException has to be caught and swallowed.Is there a particular reason to write it in this way ?"
"I 'm trying to reason about how the JIT of Hotspot reasons . I 'm mostly interested in the latest compilation stage ( C2 compiler ) . Does the JIT in Java rely on assertions for optimisations ? If that was the case , I could imagine that there are examples where code could run faster with assertions enabled.For example , in a piece of code like this : Will the JIT , when assertions are enabled , be clever enough to eliminate the bounds checks on the array accesses ? Alternatively , are there other cases that you can think of ( practical or not ) where assertions will actually improve the native code that the JIT will compile ?"
"I 'm trying to use the page object model for my tests and I 'm trying to structure my page classes to be able to do a `` builder pattern-like '' structure ( I 've not seen it very often so I do n't know if it has a name or if it is even a thing ) like in this example : And then use it like : So this is how I would manage `` linear '' page change , it allows some nice stuff with auto-completion and forces you to only do valid actions before compile time ( which I think is great since I hate runtime errors > : ( ) Then I 'm trying to handle a login page ( its mostly a simple example of what I 'm gon na have to do next ) , there are 2 different outputs possible depending on if the login fails or not . For that specific case I could have done 2 functions : public Page1 logIn ( ) { ... } and public Page2 `` logInButFail ( ) { ... } but for several reasons I would like to do something like : The problem is , to keep going with that the methods chain thingy I had before I have to do unsafe casts , which ... I can handle them fairly nicely and safely but it means breaking java 's sacred rule about typing ... And well , my static typing fan 's lil ' brain has been struggling deciding what to do.So : Is there a way to do it without doing unsafe casts ? If not , should I : Do efficient code using unsafe casts ( which actually are ok because if those casts fail that means the test failed before ) ? Do less efficient code but keep java happy ? : ) Thanks for any help on the subject , if you need more explanation ask me I will do my best to explain it more precisely ( also if you know how this practice is called I 'm interested ) : ) EDIT : after using the dynamic logIn ( ) I use the following function to assert the type of the page ( this is where I have to do the unsafe cast I try to avoid ) :"
"I am looking for something akin to this syntax even though it does n't exist.I want to have a method act on a collection , and for the lifetime of the method , ensure that the collection is n't messed with.So that could look like : but instead , I am afraid the only way to do this would be : Is that the best way to do it ?"
"Assume I have a method with the following signature : The method accepts a map of functions ( with string keys ) and creates a Comparator < T > as a result ( it is n't important how ) . Map values are instances of Function < ? super T , ? extends U > , so that they can be directly passed to Comparator.comparing ( ) .How do I populate this map in a type-safe way ? Say I have a class Person with attributes name and age ( and getters for them ) .When I do the following : I get a warning on lines 1 and 3 . If I try this instead , for example : The third line is a compile error.Is there a way to do this type-safely ?"
"I have a LinkedList of 1,000,000 items . I measured the retrieval of an item first at index 100,000 and then at index 900,000 . In both cases , the LinkedList goes through 100,000 operations to get to the desired index . So why is the retrieval from the end so much slower than from the start ? Measurements taken with JMH.Results : State class : MyDigit class : LinkedList get method :"
"I want to get the pair of every two distinct element in set . I think that if using for-each loop I have to iterate with complexity of O ( n^2 ) . If using iterator , I can have two iterators where the second one points to the next of the first one , which means for the second loop I do n't have to loop from the start . However , I ca n't seem to print my method correctly.The output is However what I want is :"
"I have a beginners question . I searched a lot for the answer but ca n't seem to find the exact answer so maybe somebody of more experienced developers can help me with this one.So , let 's say you have a following situation in code ( this is simplified version of the situation ) : now I heard from several people saying that passing a reference to an object to a method and catching the return value is bad coding practice . Unfortunately nobody can exactly explain to me why it is bad coding practice , and my search for the reason came up with nothing . Can some explain why it is bad practice to do this ? I can not think of a situation where something for this can go wrong.Thanks in advance , you nice people have already helped me with answers to other people countless times , this is a first time I actually needed to post a question : )"
"Let 's say I have a Vector v that contains 100 objects of class Scenario which is composed of 10 different types of objects.In order to permanently delete Scenario and all its objects at index 5 of Vector v , which one of the following is correct way.OR : OR :"
"I 'm trying to create a function to sum up the rows of 2D arrays . I already have the code , but the return value does not seem to be working . Just need your thoughts as I need this finished in 24 hours : DThanks !"
"Consider the following scenario : Say that you created an interface Foo : And say that there is an old class SomeOldClass in a certain library that you want to use . It already has the bar ( ) method , but does not explicitly implement Foo.You have written the following code for all classed that implement Foo : And now you want it to also work for SomeOldClass . You dont have access to the source code of this class , so you ca n't modify it . Is there a way to declare Foo or something similar as some sort of `` soft '' interface , ( as in where any class that implements all the required methods would be accepted as an implicit implementation of the soft interface ) ? If not , how would you solve this with code that is as clean as possible ?"
Java 11 ( may be irrelevant ) : Surprising output : Why does Java statically choose different methods ?
"CountLatch is a thread control mechanism whereby a thread ( or many threads ) can block by calling await ( ) on a CountLatch object , which will release when its countDown ( ) method has been called some number of times.Since I 'm familiar with the concept of thread control with wait ( ) and notify ( ) , there is a ( to me ) obvious implementation of CountLatch , like this : However , Java 5 provides its own implementation , java.util.concurrent.CountLatch which uses an internal class extended from AbstractQueuedSynchronizer.Java 5 CountLatch is essentially a wrapper around this Sync object : countDown ( ) calls sync.releaseShared ( 1 ) await ( ) calls sync.acquireSharedInterruptibly ( 1 ) What is the advantage of this more complex approach ?"
"Since StringBuffer is thread safe it can safely be published . Consider the public constructor of StringBuffer ( sources ) : where super ( 16 ) designates this one : where value declared as QUESTION : How to publish StringBuffer safely ? I 've got the following class : Can it be considered as safe-publication ? I think , it can not .final guarantees that we 'll see a fresh value of the reference sb . But writing to the sb 's internal state within AbstractStringBuilder ( int capacity ) is not synchronized . Therefore there 's no happens-before order which in turn means that read from value occured when invoking sb.append ( 2 ) ; and writing to value in the constructor are racy.Can you help to understand this ? Maybe I missed something ..."
"I am trying to learn how to use the lambda functions for sleeker code but struggling to make this work.I have two lists . The `` old '' list is always shorter or the same length as the `` updated list '' .I want to take the objects from the `` updated list '' and overwrite the `` stale objects '' in the shorter `` old list '' .The lists have a unique field for each object.For example , it is a bit like updating books in a library with new editions . The UUID ( title+author ) remains the same but the new object replaces the old on the shelf with a new book/object.I know I could do it the `` long way '' and make a HashMap < MyUniqueFieldInMyObject , MyObject > and then take the new List < MyUpdatedObjects > and do the same.I.e . Have HashMap < UniqueField , MyOldObject > and HashMap < UniqueField , MyUpdatedObject > , then iterate over the old objects with a pseudo `` if updated objects have an entry with the same key , overwrite the value with the updated value '' ... But ... Is there a `` nicer '' shorted way to do this with functional lambda statements ? I was thinking along the lines of : Which is where I am lost ! Thanks for any guidance ."
"When we declare a static final , the Java compiler ( or pre-compiler ? ) seems smart enough to detect out-of-range numbers : The code above proves that for int , short , and char values , the compiler only complains when the value is out-of-range for the type of the assigned variable.However for long values , the compiler complains even when the numbers are within range : Why is the compiler only smart at range-detection for int , short , and char values ? Why does n't the compiler do range-detection for long values ?"
I have a hashmap which is the following : How would I get the keys which have the 3 highest values ? So it would return : Thanks .
I want to transform the string AABSSSD into 2AB3SD ( someone called it encryption ) .This is how I tried to resolve it : But the output is : This result is not exactly what I want . Please help me transform `` AABSSSD '' into `` 2AB3SD '' .
"Here I have an example : When running this program , we 'll get output with `` The object has been collected . '' after a while , which means the object will be gc-ed . However , there is still a strong reference named `` obj '' linked to the object , how can it be reclaimed ? Because JVM found there is no strong reference usage later , so it 's not strong reachable ?"
"Here 's a very basic test program : But I do n't understand why its output is : Since static members are not serialized and hence get default values I was expecting another output : How did the deserialized object acquire the right static field value ? I 've made this test application because I need to serialize a few objects with a number of static fields in order to make deep copies ( and of course , I need to be sure that copies have the same static fields ' values since they are used as array indices ) . And now I 'm absolutely confused about what happens after deserialization . On the one hand , static members do n't get serialized but , on the other hand , as the example prooves , static members somehow preserve their values . I suspect that it has something to do with casting of readObject ( ) to the Body object but I 'm not sure ."
"Consider the following codeIt prints map . Why is T deduced to be Map instead of SortedMap in public < T extends Map < String , String > > Test ( T t ) ? Is there a way to change this behaviour in order to use the most concrete constructor for MyClass ?"
Why the instance of A can cast to List but can not cast to String ?
"In JavaScript , it 's possible to do something along these lines : This would assign returnValue to qwerty . Is there any way to do something similar in Java ? Something like : I understand that I could write out a separate method , but I 'd like to do it in a way similar to above as it looks neater and cleaner in the code I 'm writing ."
"I am wondering if there is any reason to use an Executor instead of an ExecutorService.As far as I know there is no implementation of the Executor interface in the JDK which is not also an ExecutorService which means you have to shut the service down so that there are no memory leaks . You can not shut an Executor down but you can do that with an ExecutorService . So , is there any scenario in which you would use something like that : What is the intention behind the Executorinterface ? Examples appreciated ."
"Basically , if I have an ArrayList < Integer > containing < 0 , 1 , 5 , 5 , 4 , 2 > , I need to create a separate ArrayList of < 2 , 3 > for the indexes.I understand how to get the index for the first appearance of the largest number , but I do n't know how to get all of them at the same time.I was originally thinking : But then I realised that would automatically add the first one , as well as any that were higher than the current max , even if they were not the overall max.I then thought of putting the highestindex.add ( ... ) part outside the loop but then it would only add the last index and not all of them ."
"The following code snippet throws the error : `` Generic array creation '' despite not having any generic instances within the Node class . However , if i declare the private class Node as static , the error goes away . Why is the static keyword important here ?"
"Initially I have a deck Image and a text `` Deck '' just below the image which looks fine But after I add my gridLayout panel , my whole GUI design has been messed up . As you can see my deck image is not aligned properly with the first row of my gridLayoutand my text `` deck '' has been separated by a few wide space.What I want is the deck image to be align with the first row of the gridLayout and the text `` deck '' just right below the deck image but I ca n't seem to get it ."
"So , I ran a test and the results make no sense to me . Lets consider the following code : With the Runnable as follows : Only one instance of counter is shared between threads . It takes less time for another thread to start then even one increment to be made on the counter.doProceed should , as I understand never be set to false and the loop should continue indefinitely until I get an out of memory exception and can not start any more threads.How is it possible for the loop to exit ? EDIT : Modified code to make sure the answer below is correct . } And } Also , it appears more then n threads are needed if you are running for i < n. You need however many , so that n threads increment at the same time ."
"I 'm writing a regex for a simple username validation for practice . While I am sure there may be other issues with this pattern , I would like it if someone could explain this seemingly odd behavior I am getting . When I input : the compiler should return : but instead , it returns Why does it discriminate between the difference of the 3rd letter being `` h '' or `` d '' in each of the usernames ? Edit : Added @ Draco18s and @ ruakh 's suggestions , however , I am still getting the same strange behaviour ."
This question has answer in C++.Is there any way to do the same or to invoke the code from Java/Android side ? Combining two YV12 image buffers into a single side-by-side imageWhat is this code analogues in java/kotlin ? This memcpy function ( taken from c++ reference memcopy ) has any analogues ?
I have Exception in thread `` main '' java.lang.NoClassDefFoundError : A ( wrong name : a ) and I dont't have any idea what this can caused byEdit : in online compiler https : //www.onlinegdb.com/online_java_compiler it compiles
"I have two large ( 1000+ object ) ArrayLists that I need to compare and manipulate . I essentially need to take a value from ArrayList A , look for a matching object in ArrayList B , then manipulate the object from B. I need to do this in all objects for A. I need to do this frequently in the application . Order is not known and sizes will differ.I could loop through every single item in B looking for the one that matches the entity from A , for each entity in A . That just seems so inefficient.Would it be worth converting B to a HashMap ( using the specific value I am comparing as the key , and the object as the value ) , then searching B that way , then converting that temporary HashMap back to an ArrayList when I 'm done processing ? Is this a good idea ? Or is this premature/unnecessary optimization ? Thank you . ( Background : Data comes to me from the service as an ArrayList - and the frontend needs an ArrayList for the view layer . I 'm trying to make this middle tier processing more efficient - but the entry and exit objects must be ArrayList ( or some other list ) )"
"I have a very basic JAX-RS service ( the BookService class below ) which allows for the creation of entities of type Book ( also below ) . POSTing the payloadsuccessfully persists the Book and returns 201 CREATED . However , including an id attribute with whichever non-null value on the payload triggers an org.hibernate.PersistentObjectException with the message detached entity passed to persist . I understand what this means , and including an id on the payload when creating an object ( in this case ) makes no sense . However , I 'd prefer to prevent this exception from bubbling all the way up and present my users with , for instance , a 400 BAD REQUEST in this case ( or , at least , ignore the attribute altogether ) . However , there are two main concerns : The exception that arrives at create is an EJBTransactionRolledbackException and I 'd have to crawl all the way down the stack trace to discover the root cause ; The root cause is org.hibernate.PersistentObjectException - I 'm deploying to Wildfly which uses Hibernate , but I want to maintain my code portable , so I do n't really want to catch this specific exception.To my understanding , there are two possible solutions : Use book.setId ( null ) before bookRepo.create ( book ) . This would ignore the fact that the id attribute carries a value and proceed with the request.Check if book.getId ( ) ! = null and throw something like IllegalArgumentException that could be mapped to a 400 status code . Seems the preferable solution.However , coming from other frameworks ( like Django Rest Framework , for example ) I 'd really prefer this to be handled by the framework itself ... My question then is , is there any built-in way to achieve this behaviour that I may be missing ? This is the BookService class : This is the Book class : This is the BookRepo class :"
"How come javac does n't emit error on this code ? Surely , compute ( 0 ) will throw NullPointerException . I would expect the java compiler to prevent this by doing some basic static code analysis , just like it would prevent"
"I was looking at one of the open source project on github and I found following line of code in Java , here we know that 1 < < 11 is nothing but 2048 , so I can directly initialize array by giving its length = 2048 as follow , static byte [ ] byteArray = new byte [ 2048 ] ; then why it is written like 1 < < 11 instead of 2048 directly ."
It is necessary to describe the structure of this classtried the solution : Byte-buddy : generate classes with cyclic typesbut it will lead to an errorjava.lang.ExceptionInInitializerError Caused by : java.lang.IllegalStateException : Can not resolve declared type of alatent type description : ...
"i want to use ids value in other class that inherit from this classi tried to make a get method so the code will bebut i 'm getting errors Exception in thread `` AWT-EventQueue-0 '' java.lang.Error : Unresolved compilation problems : Syntax error on token ( s ) , misplaced construct ( s ) Syntax error , insert `` ; '' to complete Statement at Login.initialize ( Login.java:275 ) at Login . ( Login.java:108 ) at Login $ 1.run ( Login.java:91 ) at java.awt.event.InvocationEvent.dispatch ( Unknown Source ) at java.awt.EventQueue.dispatchEventImpl ( Unknown Source ) at java.awt.EventQueue.access $ 500 ( Unknown Source ) at java.awt.EventQueue $ 3.run ( Unknown Source ) at java.awt.EventQueue $ 3.run ( Unknown Source ) at java.security.AccessController.doPrivileged ( Native Method ) at java.security.ProtectionDomain $ JavaSecurityAccessImpl.doIntersectionPrivilege ( Unknown Source ) at java.awt.EventQueue.dispatchEvent ( Unknown Source ) at java.awt.EventDispatchThread.pumpOneEventForFilters ( Unknown Source ) at java.awt.EventDispatchThread.pumpEventsForFilter ( Unknown Source ) at java.awt.EventDispatchThread.pumpEventsForHierarchy ( Unknown Source ) at java.awt.EventDispatchThread.pumpEvents ( Unknown Source ) at java.awt.EventDispatchThread.pumpEvents ( Unknown Source ) at java.awt.EventDispatchThread.run ( Unknown Source ) full code"
"I have the following model to make controllers in my application . Obviously , the full model is more complex but I will focus on the only part that is causing me problems : Now I would like to extend the Parent object and have a controller for the son , it would look like this : The problem is that the method getType ( ) shows incompatibility in compilation ( expects the class Parent ) .I tried to play around with the generics but I ca n't find a solution . The method getType is used in several methods from the abstract controller and I would really like to avoid overriding those.Any ideas would be wellcome ."
"I 'm working with someone 's Java code where a key data structure is a m x n x p array , float [ ] [ ] [ ] . I need to get it into Python ; currently my approach is to save the array to a text file using Arrays.deepToString and then parse that text file from Python.I am stuck on how to write a regular expression that will parse the txt.What I can do is find all the floats with their associated exponents in scientific notation.I use the following pattern to do so : This works fine to capture floats in scientific notation as they are output by deepToString . Note the values are all positive because they are probabilities . I.e. , I do n't have any issues with how I 'm capturing the numbers themselves.What I can not do but what I would like to do is have regex search for any number of floats enclosed in left and right brackets . I tried this : where I 'm trying to find one or more case of the float format followed by a comma and a space enclosed by square brackets . But that returns [ ] . Not sure what I 'm not understanding.Here 's an example 2x1x1 array : What I would want is for the regex to return two matches : andthat I can then just parse as strings with strip and split.I 've figured out a workaround where I just find all the bracket indexes . But I 'd like to know what I 'm not understanding about regexs ."
"Sorry for the title gore , I did not know how to describe the problem in one line . If you have suggestions , I 'm open.Suppose you have the following class : Why is the memberRunnable able to access itself from inside run ( ) , while varRunnable is not ? AFAICS it 's the exact same construct.You can obviously use this instead , I know . I 'm just wondering why the compiler makes a difference between the two cases , which seem identical . Also why it thinks varRunnable might not have been initialized , when it 's obvious that it is at that point.One could argue that , if Runnable was a class ( it 's an interface ) , it 's constructor might be trying to call run ( ) , thus actually running into a scenario where the reference is uninitialized . However , this should also be the case for memberRunnable , but that case works.Funny thing , nothing changes if instead of Runnable you use a class , in which case the above scenario ( constructor calling an overridden method ) can actually happen . This means that , in that case , you can run into a `` field not initialized '' at runtime ( have n't tried it though ) , which is rather dumb since the compiler should guard against that ."
"I know that specifying an additional bound when the first bound is a type parameter is not possible in Java ; however , I was wondering if anybody knows an alternate way to do something similar and to keep it safe at compile time ? I 've provided an example below.In the following code what I 'm referring to is this : < E extends T & Comparable < T > > . In this situation , I want to be able to use the inbuilt comparator if the type of T is comparable , otherwise , I want to specify my own comparator.Is there any alternate way to do this while keeping type-safety at compile time ?"
"... how can I restrict an implementation of A to use a certain implementation of B in the method signature ? Use CaseHere is a Unit interface and two enums that implement it : Which is used by the Property interface : Here I want to be able to enforce that : Force uses only ForceUnit in the setUnit signatureMass uses only MassUnit in the setUnit signatureWhen I try to do this , Eclipse complains : The type Mass must implement the inherited abstract method Property.setUnit ( unit ) And promptly suggests two quick fixes : make the class abstract , which is not an option since I want to be able to do stuff like Mass mass = new Mass ( ) ; add the unimplemented methods with an @ Override annotation . I do n't know if this is the right fix , but to me this smacks of clumsiness.QuestionsWhat options do I have to achieve what I want ? Would the use of generics help here ? Why does marking the class as abstract resolve the issue ?"
"How can I typecast an object inside the nested list 's Object - : As the code mentioned above , Following is the descriptions- : List < expenseLineItemList > is the master List for which I am invoking the stream API , then I am streaming on the List < Controls > .Now , the data getObject ( ) in the Controls class is the type of Object which I am trying to typecast here . As the map function map ( GenericScreenDataBean.class : :cast ) will cast the Controls.class , I am getting the typecasting exception.So , instead of typecasting the Controls.class , how can I typecast the getControls ( ) .getObject ( ) and filter out the desired result ?"
This might be a dumb question but I 'm teaching myself from a book and I noticed that a lot of examples have the print statement inside a method other than main . I was wondering if it makes a difference where you put it so I pasted the program I was working on when the question occurred to me . Would it be more efficient for me to have the getArea method print the area or leave it in main ?
"The assignments of one , two and three may be reordered , as long as they all happen before the volatile write . Similarly , the x , y , and z statements may be reordered as the volatile write happens before all of them . The volatile operation is often called a memory barrier . The happens before guarantee ensures that read and write instructions of volatile variables can not be reordered across a memory barrier . The happens before guarantee has another effect : When a thread writes to a volatile variable , then all other variables - including non-volatiles - changed by the thread before writing to the volatile variable are also flushed to main memory . When a thread reads a volatile variable it also reads all other variables - including non-volatile - that were flushed to main memory together with the volatile variable.© Bruce Eckel `` On Java 8 '' I must have misunderstood something because this code does n't work like this"
"Sometimes , I encounter situations where all I need to test is whether the program 's execution reaches a certain point without any exceptions being thrown or the program being interrupted or getting caught in an infinite loop or something . What I do n't understand is how to write a unit test for that . For instance , consider the following `` unit test '' - Usually , at the end of a test , I have a statement like-But how to write an assertEquals or other type of test statement for the above case ?"
I have this simple code in Java 8 : and I was pretty much expecting to see very large numbers getting printed . All I see in the console is : I said maybe I am not able to see others for whatever reason and modified the code as below : and now nothing gets printed.What am I missing here ?
"I need help making a mirrored triangle like this : I can get each one seperatly , but I ca n't combine them ."
"As i know its better practice to have as less code duplication as possible , So i decided to declare only one scanner throughout the class , but where shall I close the scanner object or is it not necessarily to close it , what does closing the scanner do ."
"I have the following code : A class that models the mapping between a ValueContainer < P > and an Entity E. ( Eg . a checkbox ( ValueContainer ) and something that has a Boolean value ) : An interface ValueContainer < P > : A custom Checkbox : And some code that unexpectedly does n't work : The code does not compile . The error shown is `` The constructor ObjValContainerMapper ( AdvancedCheckBox ) is undefined '' . Eclipse suggests , among other options , to let AdvancedCheckBox implement ValueContainer or cast the argument chckbxBindToDrive to ValueContainer , despite AdvancedCheckBox explicitly declares implements ValueContainer < Boolean > .Strangely enough I have reused code from an old project that was built with Java 6 , in which case the approx . same code worked fine . Has something changed with Java 7 or am I missing something ? Environment : Eclipse KeplerJDK 1.7.0_51some code generated with WindowBuilder ( the AdvacedCheckBox declaration )"
I found this Java code from this site . I do n't understand how it compiles without ambiguous error.Output :
"In the source code of java.util.Collection there is function called shuffle : The comment in the code says , `` instead of using a raw type here , it 's possible to capture the wildcard but it will require a call to a supplementary private method . `` What does that mean ? How could this be written without raw types ?"
"I 've called this method multiple times in many places : now I want to add toUpperCase ability to this method without creating another method and I need the caller to determine which one to go with using a boolean as an arguement.in this case I 've to add a true/false parameter to every call I 've made.but when I use varags , the calls that only need the toUpperCase ability need to add their note , which could be anything.in this way the old methods calls are untouched.and the new ones can call : is this aprouch standard in case of readability and maintenance ?"
"We can do this in C # : To call : As you can see we declare T as in method signature and inside the method , it replaced with EmployeeModel in CallApi < T > and new TypeToken < T > and it will return EmployeeModel object as the result.In Java ( Android ) when I want to use this generic , I have : But it returns me a LinkedTreeMap object and not an EmployeeModel ! When I move < T > from method signature to the class itself result is same too.I search the web and StackOverflow for finding this type of using but articles are just about how to cast T to a model or how to pass it as a parameter . Please consider that I do n't pass T into a method as a parameter and I do n't need to cast T to anything . T is used as the type on other generic methods type ! So how can I implement this method in Java ?"
"I am reading Java Concurrency in Practice and encounter the following code snippet.timedRun method is used to run task r within a time range . This feature can be implemented by taskThread.join ( unit.toMillis ( timeout ) ) ; . So , why do we need scheduled taskThread.interrupt ( ) ; ?"
In my javafx program is a popup which lets user press keys and then it sets label accordingly . My problem is with key combinations that are shortcuts for underlying OS for example if user presses Win+R then Run.exe starts but my program should just set the label to `` Win+R '' . My question is how to stop keyevents from triggering OS shortcuts.Here is the relevant code.I tried e.consume ( ) but it did not help .
I have my code for `` Find the missing integer '' in CodilityThis code works for all except Performance tests - large_1.It gives me an error `` got 233 expected 40000 '' .When i replace this code : withorthen there are no errors . ( I got 100/100 score when i replace that line ) Is there anyone who can give some explanation for the difference ? They seem the same to me .
"I just started learning Java Streams , and I have a question . Something that confuses me a lot is the following : I just checked out the AutoCloseable interface and it holds the close ( ) method.The BaseStream interface extends the AutoCloseable interface , and the rule of inheritance supplies , meaning that the close ( ) method can be used from the BaseStream interface.The Stream interface extends the BaseStream interface , and the rule of inheritance supplies , meaning that the close ( ) method can be used from the Stream interface.Also , the abstract class AbstractPipeline implements the BaseStream interface and it provides an implementation of the close ( ) method.This is the diagram of the previously described.When I hold the Ctrl keyboard button and click left click on the mouse it points me to the abstraction of the close ( ) method in the BaseStream interface , but when I press Ctrl+Alt+B it points me to the implementation of the method in the AbstractPipeline abstract class.The question is : How can a close ( ) method that is invoked of Stream point me to the implementation of the close ( ) method in the AbstractPipeline abstract class , when Stream and AbstractPipeline do not interact and their main connection is the BaseStream ? Is this some kind of object oriented concept that i 'm not aware of ? Thank you.Update : I 'm using IntelliJ IDEA 2020.1.2 ( Ultimate edition ) and JDK 1.8 but I 've also tried it with JDK 14 and Eclipse IDE for Enterprise Java Developers version 2019-06 ( 4.12.0 ) and it is the same ."
"I am currently working on a small for-loop pattern and I stumbled upon a road block in my project . Basically , what I want is to make a for loop pattern from my .java file that reads the source char by char and replace the asterisks in my current for-loop pattern : Into something like thisHere 's the current code that I have that does the for-loop patternThanks in Advance !"
"My question is : Why does this piece of code correctly set the constructor parameter property port : As of my understanding , @ Value ( `` $ { cache.port } '' ) is resolved by a BeanPostProcessor called AutowiredAnnotationBeanPostProcessor . Spring bean lifecycle works in a way that the constructor method is called before any BeanPostProcess , see picture below . Note The constructor is called before BeanPostProcessor.postProcessBeforeInitialization ( ) . How come this is still working ? Regards , Bart"
"wrote java8 program with lambda expression , its not getting executed instead its getting terminated at the lambda expression , no exceptions expected is it will print the string in list"
"I am not sure how to word the title of this question in a concise way . There are a few related questions I have found , for instance this one , but none of them seem to answer the question I have explicitly.But essentially what I am asking is this : Consider the following codeAs is , this code does not compile . The compilation fails with the errorType mismatch : can not convert from Class < capture # 20-of ? extends Object > to Class < ? extends A > I think this is essentially because getClass returns a type Class < ? extends Object > but the compiler is expecting Class < ? extends A > .A solution is to cast the class as follows : This compiles . However , there is a warning because of an unchecked cast.My question is , is the warning justified ? Is there a legitimate reason not to do this ? Or is this just a case where the compiler ca n't verify that it is correct , but it will always work as long as tuple.getLeft ( ) is indeed an instance of A ? By the way , the Pair class is this one , from the Apache commons library"
"I have java POJO User which contains firstName of the user . There is a map which contains the list of users mapped against the school name . Something like the belowAs mentioned above in the toString ( ) method , I wanted to print the list school name and the number of students in the school . How can I do that in Java 8 ?"
Call A : Call B : If this were in a for loop and being called many times over and over would there be a performance loss for calling an object within an object or is it worth noting about ?
"Given the following two class definitions : And the following type declaration : Intuitively it feels the declared type a should be valid , but this is not the way JDK-8u45 behaves . Instead we get something like the following output : ( Edit : I was being a dingus here , this part has been answered : C2 < ? > does not extend C1 < C2 < ? > > . The issue regarding the declaration of c below is still an open question , though . ) But C2 < ? > does extend C1 < C2 < ? > > , which would appear to trivially satisfy the bound . Examination of the JLS provides no further illumination so far as I can see . It really should just be as simple as satisfying the bound by the subtype relation , since C2 < ? > is not a wildcard type and therefore capture conversion is just an identity conversion on the argument.There are situations where it becomes a little less clear , for example , take the following class definitions : All of this is fine , but then if we try the following declaration : Things become stranger . C6 < ? , ? > is a subtype of C3 < C6 < ? , ? > > , so the declaration should be valid according to my interpretation of the specification as given above regarding the declaration C1 < C2 < ? > > . The problem is that clearly not every possible subtype of C6 < ? , ? > actually satisfies that bound , so now for example C5.accept ( ) resolves its parameter type to C6 < ? , ? > and so can accept arguments which violate the bounding on X , i.e . any where the parameterizations of Y and Z are not identical.Where am I going wrong here ? Is my understanding of the subtype relationship insufficient ? ( Edit : The following part of the question is still unanswered , but I 've moved it to a new question here since it 's a completely different issue really ... Sorry for making a mess and not using the site very well haha ... ) Aside from this , I 'm also having some problems with capture conversion in similar situations . Take the following type declaration : Unlike the similar declaration a at the start , this compiles fine in JDK-8u45 . If we examine the specification for capture conversion , though , it appears this declaration should result in a compile time error this time.In particular , the upper bound of the new type variable capture CAP # T is given by glb ( Bi , Ui [ A1 : =S1 , ... , An : =Sn ] ) , where in this case Bi resolves to the wildcard bound C2 < ? > and Ui [ A1 : =S1 , ... , An : =Sn ] resolves to C1 < CAP # T > .From this , glb ( C2 < ? > , C1 < CAP # T > ) resolves to the intersection type C2 < ? > & C1 < CAP # T > , which is invalid , because C2 < ? > and C1 < CAP # T > are both class types , not interface types , but neither one of them is a subtype of the other.This ( apparent ) rule violation is made more clear in the definition of the intersection type itself.I 'm sure it 's not a bug and I 'm just making some simple mistakes somewhere ... but if nobody here can shed any light on this for me I 'll try the compiler-dev mailing list or something.Thanks for any help !"
I 've built a converter in android studio and the distance part ( activity ) is crashing every time when I press the convert button . The application says that specific activity has stopped working and the app goes back to the Main activity . It is not showing any errors in android studio and I think my problem may be in using the int pos from the spinner but I 'm not sure . This is the last element to finish for me . Please help . Below is the java followed by xml.and the xml
"I am trying to make two classes with each classes has an instantiation of another class , but havaing a java.lang.StackOverFlowError . The first class looks like belowAnd the other class looks like thisI made it like this because i need to use the methods from the class ReverseGPA to be used in class GPpredictor ( I need to use the grade points , by using the getter method ) Will be very thankful for any comments and helps"
"The ProblemI 'm trying to create an application where an object class can implement some operations from the total pool of available operations . The end goal is to not have any code duplication and to abide by the laws of OOP as much as possible.In more detail , I 'm trying to make a search engine using Lucene . Luceneuses many indices . I 've already implemented a simple structure where different index-objects inherit the methods of a parent class . The problem is that , whatever method is implemented in that parent class , it automatically becomes available for all subclasses to use . I want to give the option to the user to determine if he wants to do a phrase search , a term search or whatever else there is available for that specific index . The catch is , some indices should n't have the option to conduct phrase search , for example.First ThoughtsI 've thought of implementing something close to the Composite pattern , as described by the GoF . I would implement the search operations ( e.g . term search , phrase search ) as primitive operations implementing some Component class and add these primitive objects later on to a Composite object . The Composite object will be implementing the same Component class as the primitives.Expected OutcomeThe class ReviewIndex should n't be able to perform a categorySearch but beable to execute phraseSearch and termSearch . Respectively , the TipIndex classshould be able to execute some of the parent class methods.Final ThoughtsI know that in my solution there is no code duplication but there are useless methods being generated each time a new index object is created . Thank you all in advance ! P.S . If you think the Composite pattern is the way to go , in which way would you actually add the primitive objects to the composite class and in which way would you invoke them when need to ?"
I have this types : I have a method that returns a List < T > where T is PrecisionControlGraphic or AccuracyControlGraphic depending on type parameter : The code below works properly : I 'd like to know why this other one does n't : Thanks .
"Suppose we have a class A , and a class B , which inherits from class A.Let 's say we have : The following casting : will give us run-time error.However , if we use wildcard and define the following set : we have no problem to do the casting : Why casting a collection of a wildcard is allowed , while casting a collection of `` regular '' type is forbidden ?"
"I have this code which I want to refactor using a functional style , using Java 8 . I would like to remove the mutable object currentRequest and still return the filtered request . The aim is to pass a request to the filter.doFilter method , and take the output and pass it back into the filter.doFilter method , and continue to do this until all filters are applied.For example in a more convoluted way to the for loopI think this is a case for composing functions , and the doFilter method should be a function like below : But I know this is totally wrong , as I got stuck here . The other way I was thinking was to use reduce , but I can not see a way of using it in this case.If you could help me out with a way of doing this , or point me to some resource that will be great ."
Please read the 2 comments in the following code.Is this possible ? Is there a keyword to access the main class object from a function inside the object ?
"I am using the GWT library . There is a base class called Widget that all Widgets inherit from . Some Widgets implement certain interfaces ( for example HasText ) , others do not . Sometimes I wish to guarantee that something being passed as an argument to a function is of a certain class AND implements a certain interface . For example , I wish to have a function that takes a argument X , where X is of the class type Widget AND of the interface type HasText . I wish to have this behavior because only Widgets can be added to Layout containers , and HasText specifies the complete set of behaviors that I actually need from said Widget.In pseudocode form , it might be : Is this in any way possible in Java ? If there are multiple ways to do so , is there a preferred/better way ?"
"I was learning string concepts , so wrote a code , expected a different output but got something very unexpected . when I execute the above code i get the output as : if i 've done something wrong please let me know.Since strings are immutable , which implies we should get the output of the `` Str1 Modified '' as `` HELLO '' instead of `` HELLO WORLD ! ! `` ."
I have a text view with icon rendered in the TextView . It has an image . I have set on the left of the text . But I need to set the icon as a circular shape.How can I design this in java ? My code which set on the left side.How can I design the circular image for the above textview drawableleft image .
"If I have a method that takes a single-method interface as an argument , I can call it like this : But if I have to call foo millions of times in a tight loop , I might prefer to avoid creating a new instance of the anonymous class every time through the loop : Now if I replace the anonymous class with a lambda expression : Is this lambda expression equivalent to the first or second snippet from the above examples of anonymous class ?"
"I 'm pretty new to java streams and am trying to determine how to find the max from each list , in a list of lists , and end with a single list that contains the max from each sublist.I can accomplish this by using a for loop and stream like so : I 've looked into the flatMap api , but then I 'll only end up with a single map of all DatabaseRecord objects , where I need a max from each individual list.Any ideas on a cleaner way to accomplish this ?"
"In Android i create an abstract class that extends View ( an Android class to which i have no access ) .The abstract class overrides the Views however i added the final keyword here.The point is , i create an abstract method that the subclasses are supposed to use instead of the onDraw . So i prevent the onDraw from being overridden any further and it works.I know there are designs to make this better , however this works like a charm without a lot of change . My question is more in general if doing the above has unwanted side effects at runtime or other issues ? !"
Given this stacktrace : And this try-catch : I can not modify the code for SpecificException nor the method that wraps this exception into a RuntimeException.Is there a better way to catch only SpecificException ?
"I 've looked around and so far have n't seen any way of having both a lower and upper bound on the same wildcard type in java . I 'm not sure if it is possible and am leaning towards it being a current limitation of wildcards in java.An example of what I 'm looking for is below.Looking at the WildcardType.java class for the generic type information it looks like it supports defining a type with that information . However , I can not find a way to create such a type in the language.Is there something that I 'm missing or is this a type that is currently impossible to describe with the java language ?"
"Consider the following code : Printed : It seems that around this hour Calendar jumps from hour 2 to hour 4 ( not necessarily a problem in general if it corresponds to DST change ) .I am using AdoptOpenJDK 1.8.0_242 , but I 've also checked on HotSpot 1.8.0_181 - the same issue.Why does Calendar report a different hour from ZonedDateTime ? Is this mismatch a known issue ? Whom should I trust more - ZonedDateTime or Calendar in this case ?"
"I 'm doing some self-study over the summer , and I came across this problem I 'm unsure of , and I was wondering if anyone could help out . I 'm unsure of the last number , but I included my previous answers if anyone would be willing to check those as well . This is not homework for any class , I just want to make sure I understand what I 'm doing before I move forward.I 'm considering the following definitions : which these declarations : and I 'm examining these calls : Thanks in advance !"
"I 'm using removeIf to remove certain objects from a list if their name or code is null : Is there a way I can get the actual items t that have been removed here ? Maybe a list of the removed items , or better yet , a stream of the removed items ? Thanks"
"Strings are added to the array , to determine whether the list is ordered by increasing the length of the string . If not , print the index of the first element that violates such ordering.Everything works correctly if the strings in the array are different , for example , enterAnswer : index ( wa ) 3 output.but if it will be like this : Answer : index ( 123 ) - 0 but the correct answer is index 2"
I have this code : But if most significant bit of code is equal to 1 ( from 9 to F ) a comes negative value . All other variables works fine.Why this happen ?
"So is it valid to check for class equality in this way : Probably the answer is yes because Class class does not override equals ( ) so it looks like Object.equals ( ) applies for Class equality . But , I would be interested if this is documented somewhere else . Thanks ."
Following is my simplified graph implementationAnd I am writing code to find if 2 nodes are connected in a directed graph . I am getting compilation errorI am getting error at line start.getchildren
"So We know that a local variable has to be initialized in order to be used in if-else-if construct.As an example , the following code will not compile.But , if you change else if ( price < =11 ) to else or initialize the local variable String model to some random value , the code will compile successfully.My question in this case is `` why ? `` Now , this was a question from a book and the explanation was : `` the local variable model is only declared , not initialized . The initializationof the variable model is placed within the if and else-if constructs . If you initialize a variable within an if or else-if construct , the compiler can ’ t be sure whether these conditions will evaluate to true , resulting in no initialization of the local variable . `` Even after the explanation , I still did n't understand two things , I am not sure why variable model will confuse the compiler , since double price is 11 regardless of what model is.How does it magically initialize the local variable when you put else at the end ?"
"I noticed that if I write something like : Android Studio ( and probably IntelliJ too ) shows the suggestion `` Can be replaced with method reference '' .Instead , if I writeAndroid Studio does n't say anything . But in both cases I can use method references : and , respectively.Are these two forms functionally different ? They seem to be doing the same thing , but Android Studio seems to disagree ."
"I have some JSON schemas which exist in a hierarchy : A extends B extends C. I am generating Java classes from these using jsonschema2pojo and they get generated into a matching class hierarchy.Because of the way I am generating the classes , I do n't have fine-grained control of which annotations can be applied to which fields ( i.e . @ JsonPropertyOrder ) When I serialize with Jackson , I get something likeWhich is correct since property order has no meaning in JSON . However , my actual messages are very long - thousands of characters - and when browsing the logs it would be much more convenient if the more generic attributes ( those from the base schema , schema C ) , of which there are only a few , came first in the message.The individual property order within a schema/class does n't bother me so much , but it would be nice if I could get Jackson to descend the hierarchy first and then backtrack.I checked all of the Features and MapperFeatures and the only thing I found to influence the order was SORT_PROPERTIES_ALPHABETICALLY.Is there anything else I can do at the ObjectMapper-level , or otherwise without changing the class , to influence this order ?"
I have never come across such expression in Java . It is not even a switch caseDo you have any idea what this does ?
"I want to switch keys of map and a map inside it : I 've tried using streams , but ca n't create the inside map or how to access key and value from the original inside map separately.//So far I 've tried :"
"This question can be stupid , but I just want to know , is there any difference ?"
"I wrote the following code : Why did I get this warning ? The declation of the inner type B does n't contain type parameter , therefore it 's not a generic type . Moreover , the specification gives us the following : A class is generic if it declares one or more type variablesThe class B does n't declare the type variables . So why is it a generic type ?"
"In the following scenario , the boolean 'done ' gets set to true which should end the program . Instead the program just keeps going on even though the while ( ! done ) is no longer a valid scenario thus it should have halted . Now if I were to add in a Thread sleep even with zero sleep time , the program terminates as expected . Why is that ? EDIT : I am looking to understand why the above needs Thread.sleep ( 0 ) to terminate . I do not want to use volatile keyword unless it is an absolute must and I do understand that would work by exposing my value to all threads which is not my intention to expose ."
"I am remaking minesweeper for practice , and wrote this bit of code to avoid IndexOutOfBounds errors . Is there a way of avoiding this so I do n't have to explicitly write out an if statement every possible error ? I thought of making each array 2 indexes larger , and just ignoring the first and last index . Am I missing something obvious ?"
I 'm teaching myself algorithms and I 'm sorry if my title is incorrect ! I do n't understand how to implement this in Java.I do n't know how to implement the following parts in Java .
"I 'm having problems making a copy of an object to use and change values for that copy , instead it changes the values for both of my objects . Code for the object.And code for the function that I 've been trying to get to workSo when I try to insert the value 1 in the new object the old one still changes ."
I 'm reading ArrayList implementation and ca n't understand one thing in this method : I do n't understand what this oldData array is used for : To me it seems like there is absolutely no sense in this local variable inside ensureCapacity method .
"I 'm working on an old project , which uses Java . It is based on Java 7 . But it 's now all Kotlin classes for new code.In our gradle it is stillJust curious , is there a need to upgrade to Java 8 , if moving forward I 'll be writing in Kotlin ? From https : //developer.android.com/studio/write/java8-support , it looks like the only reason to do the above is if we intend to write in Java 8 . But I 'm curious and want to avoid not upgrading and missing out some neat new Java optimization that could benefit to Kotlin project in Android ?"
"I have an assignment to write an Enum `` Weekdays '' which constants are with more than one parameters.Does the Enum type has a short way to iterate over its values by their property ( 1,2,3,4,5,6,7 - from my code ) or I have to write another data type where to store the requested data ? That 's my code : The problem is that the code has to iterate over a value which is set by the user , so I can not just iterate over the enum from its start to the end.Edit because I think I do n't explain it well : The code has to iterate over a int value entered by the user and to print another constant 's property- for example : when the user 's input is 4 , the program should print :"
"There is a Class Role , having data member as String roleName . I have to sort a list of Role.While sorting I need to check NPE and trim roleName also . So I usedI can suppress the null pointer exception but ca n't use trim.Using this I ca n't avoid NPE ."
"I have searched all problems like this but I could n't find the solution.nametext and occtext are extremely small.I tried new JTextField ( 20 ) , and string version , I tried setPreferredSize as above class , and also I tried setColumn but none of them works ."
Given the following methods:1 ) Is the only difference in the above methods readability or is there a micro-optimization `` benefit '' in methodTwo ( ) ? 2 ) Should the defining of local variables in a narrow scope be shunned and avoided when possible ? ( I can see methodTwo becoming unreadable if several calculations must be performed in a single statement )
"I am trying to run a for loop inside an infinite while loop . The code does n't run as intended when there 's no print statement , but when there is a print statement , it runs fine . Here is the code : This is just a small example taken from a much bigger loop . How can I fix this ?"
Count number of content using stream With Java 8 and Streams I want the count of the Content elements which is of contentType equal to the video.To count topic I tried this :
"I 'm learning about the design patterns and I encountered a problem which I cant resolve . I 'm writing a client/server script . The administrator client send a task with its task data in json format , and the server should instantiate an object accordingly to the recieved task type , and fill its constructor with correct classes . As you can see bellow there are two example class.I 've tried something like this , but I 'll have like 50 different process and hundreds of tasks , so the constructor will be unmanageable , and I think the factory pattern is not so good in this case , and probably I just miss the point of the pattern . So how you would solve this problem ? What should I use instead of the factory pattern ?"
"I am developing an eclipse plugin which depends on Eclipse platform 4.2 ( Juno ) and can not be installed on older versions of eclipse.When the user tries to install my plugin ( via update site ) on an old eclipse , the Eclipse installer stops him and shows the following message : Not many people can understand from this error message that all they need is a newer version of Eclipse . I would like to change this message and display something like : '' Error installing : this plugin requires Eclipse version 4.2 ( Juno ) or above '' Is that even possible ?"
"In my casting class , teacher taught us an interesting fact as follows.We got an errorAnd then we changed the code as followsWe got the correct output . As for the reason , he told that when we modify a variable final the variable is stored in the smallest data type possible . In this case was a byte . That 's the reason that we were able to cast that without using the cast keyword.But when we use method overloading like this , I get the output int . If the final variables are stored in the lowest possible data type , it should be byte . So I tried the following code without overloading.What 's the reason for this ? Is there any point that I have misunderstood ?"
I need to find out when I 'm really close to the OutOfMemoryError so I can flush results to file and call runtime.gc ( ) ; . My code is something like this : Is there a better way to do this ? Can someone give me a hand please ? EDITI understood that I am playing with fire this way so I reasoned to a more solid and simple way of determining when I 've had enough . I am currently working with the Jena model so I do a simple check : if the model has more than 550k statements then I flush so I do n't run any risks .
"In some cases the following program actually stops ( because of Thread 2 ) , when it should n't . Why is that happening ? Thread 1 : Basically locks global and does a while loop.Thread 2 : Attempts to get a lock on global and it it succeeds , proceeds to stop the program.BUT~ Thread 1 is started first , so technically Thread 2 should never get called and hence the program should never quit . Output ( That I get once in a while ) 30 19 - Thread 2"
"I 've got an object as belowA list of these Models is being returned via the data layer.Now I want to create a Map < String , List < Model > > with the key being the `` key '' field in the Modelclass.There are multiple duplicate `` key '' s with different data values.I have the below existing solution but need a simpler and better way . Have n't used Java 8 extensively so not quite familiar with most of the methods and need a solution soon as I do n't have time to research ."
"Based on the MS graph documentation , I saw that i can update a driveItem ( file ) and put it in a specific sharepoint drive . The application is running as a daemon application ( without user login ) .For this I use this entry point : I try to code using a main class and passing existing parameters . To update a document I call a method update document : The called method aims to build the URL and prepare the datas for the PUT request : Now at this stage I have to make the request : My issue is that when I send back a docx file , this file is not correctly uploaded . The file is uploaded ( good stuff ) but is not readable in the sharepoint online portal and must be downloaded . My second issue is that I can take any kind of file : doc , docx , ppt , xls , xlsx , txt , images ... I do think that I will encounter other issues . Is there a lib that could help me to handle file extension and correctly convert files . My issue is that I wo n't have to handle specifically MS Office files but any types . My issue is obviously here : Thanks !"
"In Java Collection classes , I have noticed very often codes like below What does head = ( h + 1 ) & ( elements.length - 1 ) ; do ? Why is & operator used here and what purpose does it serve.My Question is not how & works , but what 's its use here.Can anyone explain it ?"
I ran this test with -Xmx256M to determine the max object size that I can create on heapand got 171M . Is there a way to calculate this size ?
I have the following code which builds and works fine under JDK8 : And : This code fails to compile under JDK11 with the following error : Could somebody please explain what it 's unhappy about and how to fix it ?
"I have a simple webapp that acquires connection from tomcat JDBC datasource . To track the connection usage , I 'm planning to implement logging while opening and closing connection . The logging supposed to print something like this.My open and close methods are like this.Here I 'm using connection.toString ( ) as the Connection 's unique name in the Logs . But I want to know if there is any better way to do this ."
I am working on a format parser in Java and have some trouble with that.The format is stored so that users can change it to their likings.format : ' [ prefix ] [ name ] [ suffix ] : [ msg ] 'To put my values in the format I use String.replace ( ) in Java.This will result in the output Hello username World : Test message as I expect.But when some parts of the string are empty there will be a space there.When for example the suffix is empty the output will be Hello username : Test message note the space between the name and the : How can I get rid of that so that some parts can be empty without breaking the user defined format ? Is there a better way to parse and apply the format ?
I got a warning message on Object Casting while compiling my code . I have no idea how to fix it with my current knowledge ... .Let 's say I have a Generic Object MyGenericObj < T > it is extends from a non-Generic Object MyObjHere is a sample code : Could you please let me know what 's the proper way of doing this ? Any help is appreciated .
After submitting a COMPSs application I have received the following error message and the application is not executed.I am using COMPSs 1.3.Why is this happenning ?
"I 'm familiar with standard comparisons using the Comparable interface , although today I 'm having some trouble when I want to compare several different variables.I basically want to implement a compareTo method that yields the result -1 only when the following if statement is true : Although , I 'm not sure if this is possible using a comparable , or I 'm just not as familiar with it as it seems . Because when I try the approachI receive the error `` Comparison method violates its general contract ! '' . I want to clarify that I do n't need help with understanding what this error means , because I 've read several questions about it . Although , I still ca n't put my mind around this particular problem , because the solutions to the other questions that I 've read have been trivial.I would really appreciate some help with this comparison , it would be a life saver . Any input is also well appreciated.Edit : After testing around , I have got something that almost works ( not in all cases ) , but I ca n't figure out why :"
"As I understand it from several tutorials , RuntimeExceptions are actually not supposed to be caught , because they shall reveal inappropiate usage of methods , especially APIs , correct ? Furthermore , one might assume that the program is not able to recover from RuntimeExceptions.Now , I experienced a case where I might receive an IndexOutOfBoundsException due to invalid user input : the program receives a String from a HTML-form and wants to validate it if it contains an integer.Basically the assigned String is matched with a pattern and then the comma 's position is determined . Afterwards , it 's necessary to examine the first digit behind the comma to decide how to round it correctly . That 's the critical part : This statement throws the Exception if the user entered something like `` 27 . '' Due to the fact that this is based on weird user input , I wondered if this Exception actually behaves like a common exception ( so to say ) .The reason I think this is that in most tutorials ( e.g . oracle ) they categorize checked Exceptions as errors which result from invalid input , i.e . wrong path name to a file that shall be opened , and with some correction or a user hint it 's possible to recover from that error . Same here : one might simply set above variable to zero , because that 's what it means when somebody inserts `` 27 . '' - > `` 27.0 '' Is that catch and specify requirement really that strict ? Of course , one can simple check beforehand if the position is n't out of bounds , but my question is if there is really such a straight line between checked and unchecked exceptions . I 'm wondering if there are any technical disadvantages why exceptions should be avoided as often as possible . ( Somebody mentioned JVM-overhead , but is it that significant ? ) I think I need some more in-depth clarification here , because most tutorials do n't convince me with : `` you simply should n't do that '' . Because I think in this case , this exception behaves like a checked Exception from which it is easy to recover from.Note : In my code I check if the string position is valid or not beforehand and do n't catch the exception - so that 's not part of this question : ) But this case keeps me busy , still ."
"SO an IPv4 array is passed to this method , and if valid , creates a deep copy of the array in the instance variable `` parts '' is all I have so far . What could I be missing ? EDIT : made one simple change : toAnd a JUnit test works UNTIL What is causing it to stop there ?"
"We can get away with this in .NET : ... but in Java , the same code will result in a compilation error.That 's interesting , given that even if the type information is gone at runtime , one would expect the information about the number of type parameter to still be there.If this limitation is related to type erasure , can someone explain why ?"
"I am reading Network Programming in Java by Elliotte and in the chapter on Threads he gave this piece of code as an example of a computation that can be ran in a different threadTo use this thread , he gave an approach which he referred to as the solution novices might use . The solution most novices adopt is to make the getter method return a flag value ( or perhaps throw an exception ) until the result field is set.And the solution he is referring to is : He then went on to propose a better approach using callbacks , which he described as : In fact , there ’ s a much simpler , more efficient way to handle the problem . The infinite loop that repeatedly polls each ReturnDigest object to see whether it ’ s finished can be eliminated . The trick is that rather than having the main program repeatedly ask each ReturnDigest thread whether it ’ s finished ( like a five-year-old repeatedly asking , “ Are we there yet ? ” on a long car trip , and almost as annoying ) , you let the thread tell the main program when it ’ s finished . It does this by invoking a method in the main class that started it . This is called a callback because the thread calls its creator back when it ’ s doneAnd the code for the callback approach he gave is below : And the Implementation of CallbackDigestUserInterface and it 's usage was given as : But my question ( or clarification ) is regarding what he said about this method ... He mentioned The trick is that rather than having the main program repeatedly ask each ReturnDigest thread whether it ’ s finished , you let the thread tell the main program when it ’ s finishedLooking at the code , the Thread that was created to run a separate computation is actually the one that continues executing the original program . It is not as if it passed the result back to the main thread . It seems it becomes the MAIN Thread ! So it is not as if the Main threads gets notified when the task is done ( instead of the main thread polling ) . It is that the main thread does not care about the result . It runs to its end and it finishes . The new thread would just run another computation when it is done.Do I understand this correctly ? How does this play with debugging ? Does the thread now becomes the Main thread ? and would the debugger now treat it as such ? Is there another means to actually pass the result back to the main thread ? I would appreciate any help , that helps in understanding this better : )"
"While writing my code for a computer dating assignment in which we see the compatibility of an array of four objects , my code printed strangely . ( Eclipse did n't give me an error/warning at first ) .Code : When I tried to print things out , they appeared like this : Fit between Elizabeth Bennett and Elizabeth Bennett : 90.0Fit between Elizabeth Bennett and Fitzwilliam Darcy : 90.55Fit between Elizabeth Bennett and Romeo Montague : 90.3Fit between Elizabeth Bennett and Juliet Capulet : 90.0 ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... .so on so forth.There was a `` 9 '' appearing in front of my numbers.I found the problem later : I had two concatenating operators ( `` + '' ) after my `` \n '' . So I changed my code , deleting the extraneous `` + '' .New code : New correct run : Fit between Elizabeth Bennett and Elizabeth Bennett : 0.0Fit between Elizabeth Bennett and Fitzwilliam Darcy : 0.55Fit between Elizabeth Bennett and Romeo Montague : 0.3Fit between Elizabeth Bennett and Juliet Capulet : 0.0 ... ... ... ... ... ... ... ... ... ... ... ... ... ... ... .so on so forth.Though I 've thankfully found my problem , I want to know what exactly is causing this to happen . Is there some sort of eclipse shorthand that leads to the `` 9 '' 's appearance ? Or is this due to some eclipse bug ? I 'm still a beginner at java , so I ca n't make a solid conclusion.I tried modifying my code slightly to see how Eclipse would react ( I deleted the space between my original `` + + '' ) : Eclipse gave me this warning : Multiple markers at this lineSyntax error on token `` ++ '' , + expectedInvalid argument to operation ++/ -- This makes sense , because ++ on its own is an operator of sorts . Interestingly , however , if I put a space between the `` ++ '' , then the warning disappears.I did n't paste my entire code for the sake of readability , but if necessary , I can edit and add it in.Some clarification regarding this would be helpful . Thank you ."
"Usually , if I know beforehand all the keys of a map , I instantiate it like this : Is there any way to do this directly without needing to iterate through the list ? Something to the effect of : My first thought was to edit the map 's keyset directly , but the operation is not supported . Is there other way I 'm overlooking ?"
"In Java 8 the close ( ) method for InflaterInputStream is as shown belowusesDefaultInflater is a boolean that is only true if the constructor below is usedAny other constructor such as this one below results in this boolean being set to falseAs a result , unless you use the default constructor the end ( ) method is not called on the Inflater and this means unnecessary native memory consumption until the finalize method is called on the Inflater by the Finalizer thread potentially a long time after the InflaterInputStream is closed . See the implementation in Inflater below.To get around this you need to override the close method on the InflaterInputStream like soThis is easily missed and it seems to me like it might have been sensible to call end ( ) by default and allow the user to override that behaviour by providing a constructor where you could specify false , or at the very least a constructor that uses the default Inflater but that also allows you to set the buffer size.Anyway , I 'm guessing there 's some logical reason that it 's designed the way it is and I 've just failed to grok it . Hoping someone can enlighten me ... This also applies to DeflaterInputStream , DeflaterOutputStream , and InflaterOutputStream amongst others ."
"I have a function which maps a class object to an instance of this class.Basically : I can define this function within a method but when trying to put this in a member variable , the compiler complains because the type T is unknown.So , T is not specific to the enclosing object . It might differ from call to call . What is the correct syntax to define such a function on class level ? EDITI would like to clarify . I have class ANow , I want to hand a pointer to that function to class B like this : However , the Syntax for < T > Function < Class < T > , T > fun is incorrect . Is there a way to keep the information , that fun will always retain the type T ? My current solution isThis works ( and is obviously correct via invariant ) but kinda ugly because of the required cast ."
"It 's been a while since I touched generics in Java , I have this : In truth , MyGenericType requires a generic parameter , since it is defined like this : I declared x with pre-emptive type-erasure of MyGenericType because I did n't want to make an empty marker interface just for the sake of grouping things . Will this , for the sake of having a collection , work in my favor or will I have to make a marker interface to make this possible ? ( EDIT ) That is : public interface SomeCommonInterface { ... } MyGenericType implements SomeCommonInterface ... Map < List < SomeCommonInterface > , Set < List < SomeCommonInterface > > > x = new HashMap < > ( ) ;"
I have a class with a type parameter.And I thought I can add some method for conveniency so I did.And I just realized that I can do this.Are those two sets of methods are equivalent ? Which way ( or style ) is prefer ?
"I am building a simple spring boot blog app . This app has two entities user and post . The user table holds user data and has the primary key as Id and the post table holds content information with user information as a foreign key `` postedBy '' which refers to the id of user table . One User can have many posts.Based on this I have designed Entity class like below.As a user can have multiple posts I have user @ ManyToOne annotation which maps to id of user via @ JoinColumnI am using the JpaRepository interface which is then exposed via rest controller.But when I send the body to insert post like belowIt throws below errorI was expecting postedBy column will store `` 402880ee73aa45570173aa462ea00001 '' as the user already exists and in response , it will send with user details automatically fetching user details for that post ."
"I 've ran into a problem handling file names in javax.mail and some of those aspects need to be configured by session properties and some by system properties . Many classes of javax.mail seem to store the properties they work on in static fields , like in the following example for MimeBodyPart : From my understanding , this binds the concrete value of the system property to the life of the class in some concrete classloader . Whoever loads that class first , is the only one being able to influence the value . That was exactly what happened to me : I knew that I needed to set some particular system property to influence file name handling and did so where I handled the file name , to keep things as close together as possible for documentation purposes etc . But for some reason , former code loaded the class of interest earlier , binding the wrong value to the static field . The only way to change this was to move setting my value to an earlier place in the call hierarchy , but it took me some time until I noticed the static-field thing.That looks like a bad strategy to me , because I ca n't easily know which code with which I share the same classloader uses the same classes I do . In theory this would force me to set my system properties when starting the JVM already , making an implementation detail of my code an admin-detail in various different circumstances . If system properties are used at all instead of session-once , I would have expected those are queried live as well like session-once . Otherwise it 's unnecessary difficult to change the corresponding settings under certain circumstances and use cases.OTOH , the current approach might simply have some benefits I 'm not aware of , like querying system properties is expensive as hell or alike.So , what are the good reasons to do what MimeBodyPart does above ?"
"Suppose there is a string s=abcdI want the 5th string consisting of a , b , c , d , which is adbc . But I also get all the answers beyond it which I do n't need . So how can I stop this method after its 5th execution ? Secondly is there any site where I can read about permutation , combination and probability for calculating and finding the permutation , combination and probability ... For coding thing not for mathematical thing..i.e I know how to solve mathematically but I ca n't code it.. Unable to write logic for it ."
"I 'm wondering why floating point numbers in Java can represent exact value when they are initialized as literals , but they are approximate when they represent result of some calculation.For example : why the result is : and not : When there is no exact binary representation of 0.3.I know the BigDecimal class , but I do n't quite understand this primitive numbers inconsistency ."
"I 'm puzzled by what I had to do to get this code to work . It seems as if the compiler optimized away a type conversion that I needed , or there 's something else I do n't understand here.I have various objects that are stored in the database that implement the interface Foo . I have an object , bar , which holds data I 'm using to retrieve my Foo objects . bar has these methods : I pass the class and ID to a method with this signature , which delegates to hibernate which retrieves the subject based on its class and ID : There are different implementers of Foo , and some of these hibernate objects have a Long id , and others have an Integer id . Although this method accepts either , farther down it had better have the right one . So when I tried to call get ( ) on an object with an Integer id , as follows , I understandably got an error complaining that I had provided a Long where an Integer was required : There 's no hibernate problem here , I just need to provide an Integer where an Integer id is required and a Long where a Long id is required . So I added a method to bar , hasLongId ( ) , and tried this : ( at this point you may be thinking this is n't a good design , but that 's not my question right now ) And it still complained that I had provided a Long . That seemed strange . Then I tried this : Same error ! How can this be ? So I stepped through in the debugger , and yes , it stepped through intValue ( ) and also through the Integer constructor , but then in the get method , the passed parameter was in fact a Long—the same Long object that was returned from getFooId ( ) .I do n't understand what 's happening , so I just try various things : andAnd finally : This one works . So apparently it has something to do with the ternary operator . But why ? Can someone explain what happened here ?"
"Learning JAVA , i was trying to test the upper limit of while loop which goes on incrementing an int.Please see the program below : I am aware that 32 bits range is from -2,147,483,648 to 2,147,483,647 , so on the basis of that , i was expecting output as 2,147,483,647 but instead i am getting : I even tried but still output is : Question : Why is solution negative when it should be positive ?"
"Consider the following example , which is not compiled : If I replacewithThe code will be compiled.So the question is how do I write collect ( ) with supplier and accumulator ( I need it ) to be able to call a stream ( ) after it ?"
"I know that Lists in Java are Invariant.So the second statement below gives a compilation error as expectedHowever , all of these work fineSo my question is how does the last statement above compile ? I understand that Arrays.asList ( ) accepts the type from its caller , but I thought Arrays.asList ( 1,2,3 ) whould resolve to the closest type List < Integer > and setting it to List < Number > would not compile , since Lists are Invariant.What am I missing ?"
"I am trying to make use of lambdas in Java but ca n't understand how it works at all . I created @ FunctionalInterface like this : now in my code I use the lambda as here : Next , I want to make use of my function passing it into the constructor of another class and use it like this : Why I need to use it the valueOf ( ) here ? I thought that thanks for this I could use just function.getString ( ) ? Output : Tue Sep 19 11:04:48 CEST 2017 John used fnc str"
"In Java 8 we can mark separate dimensions of array with annotations ( see section 10.2 in JLS 8 ) .For example , Then we can parse such declarations with Java Reflection to implement some specific logic.Do you know any practical applications of this feature in real Java frameworks or Java libraries ?"
In this code I have a panel in the GridBagLayout which contains a JLabel and a JTextField . I would like to be able to automatically re-size the text field dependent on the amount of data entered in it . For example when the string `` How do I re-size this component automatically when the edge of it is reached ? '' is entered in the JTextField it looks like this.However as I enter the string I would like the JTextBox and the JFrame to automatically re-size to produce something which looks a bit like this.The only problem is I am not aware of anything which allows me to do this . I would greatly appreciate any help with accomplishing this task.EditWhen the component is re-sized automatically I would also like there to be a maximum size for that component . This way as more data is entered the component will not keep re-sizing off of someone 's computer monitor
"I put together a microbenchmark that seemed to show that the following types of calls took roughly the same amount of time across many iterations after warmup.Has anyone found evidence that these different types of calls in the aggregate will have different performance characteristics ? My findings are they do n't , but I found that a little surprising ( especially knowing the bytecode is quite different for at least the static call ) so I want to find if others have any evidence either way.If they indeed had the same exact performance , then that would mean there was no penalty to having that level of indirection in the modified non final case.I know standard optimization advice would be : `` write your code and profile '' but I 'm writing a framework code generation kind of thing so there is no specific code to profile , and the choice between static and non final is fairly important for both flexibility and possibly performance . I am using framework code in the microbenchmark which I why I ca n't include it here.My test was run on Windows JDK 1.7.0_06 ."
"I expect there is no error about above code , however I get compile error when I return Child.class ."
I have this confusing code : When `` compiled '' and run the program displays `` double array '' why arrays precede Object ? Is there any other constructor situation where such confusing behavior will occur ?
"I am having a hard time understanding why the error below happens . If # 1 is ok , why is # 2 not ?"
Given piece of code gives me compile time error.i do n't get it why i ca n't add string in list.but the code means that we can add the String class object and it 's derived class object in the liststill i am getting the error why
"Problem : I have two interfaces ( here GenCarry and Gen ) : It works when I ignore the 'rawtypes ' Warning , but trying to complete them I do n't get too far : Question : How would an interface like that look if complete - or is that even possible ? Is there a better approach to `` generalize '' an interface like that ?"
"So , as a disclaimer , I am extremely new to programming and am probably missing something obvious . Now , I am trying to create two methods named withdraw ( ) and deposit ( ) that will allow me to change the value of the field currentBalance , however , every time I try to change the value of currentBalance with my two methods , I check the value of the field with my method getBalance ( ) and it is always unchanged.I am using DrJava and I am testing my code in the interactions panel . Here is the result of my tests.I have done everything that I can imagine to fix the code , but I am out of ideas and I do n't think that typing random things into my code for another 3 hours will do much.Thank you for taking the time to read my question ."
"I was making a program ( A Piglatin sort of ... ) , in which I unintentionally missed a variable in the statement : It should actually have been String a = `` R '' +text+ ' a ' ; . The compiler produced an error . But , when I made it : The program compiled.I am wondering why putting a space made the difference even though Java does not care whether you put a space or not in certain statements , like : String a= '' ABCD '' ; is the same as String a = `` ABCD '' ; Can someone please explain this behavior ?"
"I was reviewing one of the Oracle trails on Java generics , entitled `` Effects of Type Erasure and Bridge Methods '' , and I could not convince myself of an explanation given . Curious , I tested the code locally and I could not even reproduce the behavior which the trail explains . Here is the relevant code : The Oracle trail claims the following behavior for this code snippet : This code snippet should look like the following after type erasure : I did not understand the casts being used here or the behavior . When I tried running this code locally using IntelliJ with Java 7 , I got this behavior : In other words , the JVM will not allow a String to be used with setData ( ) . This is actually intuitive to me , and it agrees with my understanding of generics . Since MyNode mn was constructed with Integer , the compiler should be casting every call to setData ( ) with Integer to ensure type safety ( i.e . an Integer is being passed in ) .Can someone shed some light on this apparent bug in the Oracle trail ?"
"I 'm reading LinkedBlockingQueue code now , but i have a question , maybe it 's simple , but i ca n't find answer , really need help.I noticed the Node.next is not volatile , like this : So , how does the enqueue of a new node ( Node.next ) become visible to the dequeue via another thread ?"
Is there a checkstyle rule that will catch something like this : result is double ( so clearly fractions are desired ) yet the right-hand side would do integer division ( rounding down ) .Does something like this exist ?
If the size of map is 1 then its key should be returned . If it 's size is greater than 1 then iterate over the values in map and the key of that one should be returned which has a max value for a certain property . Below is my code snippet . I want to achieve the same with Java 8 streams api .
"i am have been learning lambda and streams lately and have kind of been thrown into the deep end really early.I currently have an array list of books , a user types in a word and if the word equals the books author or title , the books toString ( all attributes of the book nicely formatted ) is called and returned . Very easy without lambda . But with lambda i just cant seem to figure out how to get it all to work out.Additionally with the lambda i have to filter out all the books in the array that have a status of damaged or deleted.The thing is i have to return the results from the stream to eventually display in a gui but cant seem to return any value of a stream.I have a predicate which will try to do the matching of input parameters.I have no idea if this is right or not and i am pretty burnt out with trying.I was just wondering the necessary changes i need to make to get this to work ? Thanks in advance guys ! sorry if this is a silly question.My book status enum and getBookStatus :"
"i 've got the class P4 in the default package ( i know using the default package is bad practice , but merely `` for example '' for now ) : and class P2 in package tempFrom the access control mechanism , i 'd expect P4 -- having extended P2 , should be able to see the protected member of its super class even from outside the package once it imported the namespace of that package . What am i missing ? TIA ."
"Essentially , what I want to do is take a 3D array of strings and have each 1D array in it display quantity for repeated values . For instance , if I had an array of Strings like this : it would become : How could I do this , and what is it I am doing wrong ?"
For example if i display in a TextView the text `` Uploading '' now i want it to display the text as `` Uploading ... '' and the 3 points to be delete and show again like it 's processing doing something and not just static text.I have this in the MainActivity onTouch event : This line : Instead displaying only static text `` Preparing the file '' i was wondering how to make that it will display something like moving points like `` Preparing the file ... '' then `` Preparing the file.. '' and `` Preparing the file . '' and again `` Preparing the file ... '' then `` Preparing the file.. '' and so on .
"I have the following code : and my code is the following : The code is failing , as it seems that the 1st verify sees that there were 2 calls to javaCompiler.writeJavaAndCompile ( ) . It is failing to realize that there was only one call of type ContractCompilationUnit type.What 's the standard procedure to avoid this behaviour ( other than having to write my own matcher ) ?"
"We want to migrate all our apache-httpclient-4.x code to java-http-client code to reduce dependencies . While migrating them , i ran into the following issue under java 11 : How to set the socket timeout in Java HTTP Client ? With apache-httpclient-4.x we can set the connection timeout and the socket timeout like this : With java-http-client i can only set the connection timeout like this : But i found no way to set the socket timeout . Is there any way or an open issue to support that in the future ?"
"I have a class with a probably unnecessarily cumbersome name , that contains a lot of static methods I use elsewhere.Rather than fill my code with a lot ofI would rather haveHowever , this gets the warningI know there are multiple solutions here . Use better class names . Make it not static . Ignore it because it 's just a warning.But I do n't actually think it should be a warning . What harm does doing it this way cause ? Is there a more elegant/correct way to make my code less clunky that is n't one of the above solutions ? NOTE : I suspect this might warrant the coding-style tag and therefore be considered off-topic and get rejected . I was thinking there 's room here for a question like this , however , so I leave it up to y'all ."
Is it mandatory to put inner try-with-resources or everything inside one of the try-with-resources will be autoclosed ?
"I saw the following recently on this site : To my surprise , this compiles and runs fine . I have also tried adding entries to the map so there is actually something to downcast and fail doing so , this worked fine as well . How can a TreeMap entry be cast to HashMap.Entry ? These two are n't even on the same branch of the hierarchy.UpdateAlthough this matter is resolved now , I include the following just for fascination—the following does not compile : It happens that TreeMap defines TreeMap.Entry , which hides Map.Entry ."
"I have this construction : I have many of them , & I want to optimize code using functional interface.Okay . I write something like this : Then , I wait that this code shall work : But IDEA write : void is not compatible with VoidPlease , tell me , what to do ."
"Assuming that all properties are not long or double , does reading a volatile reference to an object guarantee atomic reads of the latest values of its properties ? Here 's a concrete example.Thread A may write to Foo 's Bar property any time . Thread B can only read Foo 's Bar property . If thread B accesses the Bar property through Baz , will it read the latest value of Bar ?"
I have an interfaceand I want to use this interface to create a new generic interface based on this type : The former gives a warning that the type T is hidden . The following give a compiler error : How can I express BWidgetObject < T > as type parameter for BDataList ?
"I 'm trying to download selenium web driver using eclipse and I am on the final step and successfully imported web driver , however , when I attempt to do the same for firefox I do n't get the import option . Any Suggestions ? Is there anything wrong with the code below ? Code :"
"Why is there no warning for the below code ? I expected the RHS to have an unchecked warning.While this code has a warning : Also , for below case there is no warning : Does this mean that unchecked warnings came with generics ? There were no such warnings before introduction of generics in Java ?"
"I am building some static analysis tools to help manage the architecture of a large project . For this I am doing a couple of regexes to parse information from Java files . One of these regexes is used to scan for an @ WebService ( ... ) annotation . I was wondering if there is a situation possible where there are parentheses in an @ WebService annotation ( withhelding the ones at the start and end , and any in String literals or comments ) . So the ones in are ok ; whereas the ones inare not.Does the latter ever occur ?"
"I 'm debug ( Shift + F9 ) the method offer ( E e ) of JDK8 API 's java.util.concurrent.ConcurrentLinkedQueue , i found IntelliJ IDEA will change the field head of this queue soundlessly in the process of debugging , but the run schema ( Shift + F10 ) will not change the field , why ? and there 's no code change this field in offer ( E e ) , it makes me confused.Then , I tried another IDE ( Eclipse Mars.1 Release ( 4.5.1 ) ) , it has n't such problem.There are some result of my test : run schema ( Shift + F10 ) debug schema ( Step over : F8 ) debug schema ( Resume program : F9 ) version info : IntelliJ IDEA 2018.1 ( Ultimate Edition ) Build # IU-181.4203.550 , built on March 27 , 2018JRE : 1.8.0_162-b12 amd64JVM : Java HotSpot ( TM ) 64-Bit Server VM by Oracle CorporationWindows 10 10.0 And IntelliJ IDEA 2018.2.3 ( Community Edition ) & IntelliJ IDEA 2019.1 ( Ultimate Edition ) has the same problem ."
"I would like to split a string into several substrings , and I think using regular expressions could help me.Note that the curly brackets and comma 's are just a visual aid . It does n't really matter what the final form is , just that the values are seperately accessible/replacable . Thanks in advance ."
"Here 's the code : It 's a snippet from the book Java Concurrency in Practice , and I 'm thinking about that maybe the counter reservations is unnecessary as we could simply use queue.size ( ) to get the number of elements in queue.Am I right ?"
"This might be a really elementary question but it puzzles me at this stage of my Java learning.I have got the following piece of code : If I move the line that instantiates the ArrayList object and the calls on that object outside the method , the line that creates the object is fine but the add ( ) method calls on the object are not allowed . Why is that ? Thanks ."
"I just noticed that binaries in bin in an old JRockit JDK 6 on CentOS 6 , OpenJDK 8 on Ubuntu 18.10 and Oracle JDK 11 on Windows 11 have approximately the same size.This seems odd since they nothing in common in the tasks they fulfill ( e.g . wsimport and xjc ) . Diffing a hexdump shows that the binaries only differ by a few Bytes while being relatively large ."
How can I do that ?
"I 'm making a billiards game in Java . I used this guide for collision resolution . During testing , I noticed that there is more velocity between the two collided pool balls after collision . The amount of extra velocity seems to be 0 % -50 % . About 0 % on a straight shot and 50 % on an extremely wide shot . I assumed that the combined velocities would remain the same . Is it my code or my understanding of physics that is wrong ?"
"How can I get the values of an `` enum '' in a generic ? On the other hand , I can query the values ( ) for Enum class :"
I m not getting the whole data sometimes while reading the inputStream like this ( somtime full data is recieved ) .should i read the input Stream until inputStream.available ( ) is zero.. ? Data in inputStream is large.Plz Suggest some altenative with Sample code
We recently faced a bug in our code which was basically related to OOPs concepts . Output : ABC @ 642c39d2Should n't this raise a run time exception ? Can someone point me to the correct direction as to why does n't this code raise an exception ?
"Suppose I have a class called CommandLineOperation . This class accesses API resources . Thus I have defined one instance member of type APIAccessor.The operations in CommandLine , are infrequent , is it a better approach to instantiate APIAccessor under every operations or create once using constructor of CommandLineOperation class . e.g . Please let me know or suggest good coding design pattern . Or suggest any reference book so that I can improve my coding standard based on the analysis . Thanks in advance ."
A service interface declares two methods which apparently do the same processing : The service above is being called like below : Which one of the service methods are going to be called and why the compiler does not complain about an ambiguous call in this context ?
"Help me please to undestand why i ca n't call the testSuper ( ) method ? There is compile error : But the testExtends ( ) method OK . However , it looks the same ."
"So someone asked Is the ++ operator more efficient than a=a+1 ? a little while ago . I thought that I analyzed this before and initially said that there was no difference between a = a + 1 and the incremental operator ++ . As it turns out , a++ , ++a and a += 1 all compile to the same bytecode , but a = a + 1 does not , as can be seen below : Output : Example : Output : In short , a = a + 1 issues iload_1 , iconst_1 , iadd and istore_1 , whereas the others only use iinc.I 've tried to rationalize this , but I am unable to . Is the compiler not smart enough to optimize the bytecode in this case ? Is there a good reason that these are different ? Is this handled by JIT ? Unless I 'm interpreting this incorrectly , it seems like I should never use a = a + 1 , which I thought for sure was just a stylistic choice ."
"I have list of Payments : I created a function that takes in this list and currentDueDate.If paymentDueDate is equal to or before currentDueDate and one that 's closest to currentDueDate , I want to use that row in my calculations.For some reason my sort is not working properly.Can someone shed some light on what I am doing wrong.Here is my code : When I pass in currentDueDate of `` 2018-06-01 '' , I want my code to return Payment 1 . Currently it is returning Payment 2.If I remove Payment 2 from my tests , then it returns Payment 1.So something must be wrong with sort ."
"There are many immutable classes in Java like String and primitive wrapper classes , and Kotlin introduced many others like Range subclasses and immutable Collection subclasses.For iterating Ranges , from Control Flow : if , when , for , while - Kotlin Programming Language we already know : A for loop over a range or an array is compiled to an index-based loop that does not create an iterator object.However in other scenarios when dealing with Ranges this optimization is not possible.When creating such immutable classes with const parameters , or more generally , recursively with const parameters , instantiating the class only once will bring performance gains . ( In other words , if we call this a const immutable instantiation , an instantiation is a const immutable instantiation if and only if all its parameters are either constants or const immutable instantiations . ) Since the Java compiler does n't have a mechanism to know whether a class is immutable , does the Kotlin compiler optimize such classes to be instantiated only once , based on its knowledge of its known immutable classes ? For a more specific example of application , consider the following code : Would the second one bring any performance improvements ?"
"I am trying to collect result of a list and organise them into a Map where the value is a Map : I get java.lang.IllegalStateException : Duplicate key error as getProcessedDate ( ) is same for different values in the list.Is there a way I can merge multiple objects with same processeddate into the map ? e.g say I have these objects in the the list : Values contained in the map should be : When I tried toMap ( Status : :getProcessedDate , Function.identity ( ) , ( v1 , v2 ) - > v2 ) ) ) ; it removes one of the entries"
"Given this Java code : The expressions initializing list , list2 and list3 work fine . However , the expression initializing list4 breaks with this error in Eclipse : and this error in javac : But AbstractMap.SimpleEntry directly implements Map.Entry . So why does type inference break for list4 when it works for list1 to list3 ( and also for the assignment to optionalEntry , for that matter ) ? Particularly I do n't understand why the assignment to list1 works when the assignment to list4 does not ."
"I need to use lambdas to generate some lists of new objects . These new objects inherit some of the traits from the existing ones . Since it 's hard to describe it without going into too much delicate details , I 'll use an example of a parent and their children . I want to generate a list of kids based on a list of people ( one person = one kid ) . Kids should inherit only some traits of their parents ( in this case , let 's say it 's a skin colour ) .Since I 'm somewhat forced to use lambdas ( but also want to learn how it works ) , I 've tried the following solution but I ca n't get over the problem with correct mapping ( have n't seen anything like that yet and I 'm doing a trial & error method ) . Probably I have a badly made constructor as well ."
"I 'm writing a Swing application and trying to make a menu where each menu item has its own action : Here 's how I wanted to solve this : However , I can not use loadGame ( i ) , because it says i would have to be final . I understand the reason for this , but I do not know how to work my way around it ."
"I want to use streams like : but stop the filtering as soon as I have maximum 100 Elements ready to be collected . How can I achieve this without filtering all and calling subList ( 100 , result.size ( ) ) ?"
"Given a class T which is a subclass of U , is it safe to cast Iterator < T > to Iterator < U > ? And assuming that the cast be safe , are there more elegant ( and warning-free ) ways of doing it other than : My reasoning why the cast is not dangerous is this : Iterator < ? > does not support inserting elements , so there is no danger of corrupting the underlying data structure by using Iterator < U > instead of Iterator < T > ; Consumer < ? super U > is convertible to Consumer < ? super T > but not vice versa . Hence , Iterator < U > : :forEachRemaining ( Consumer < ? super U > action ) will accept a subset of all actions eligible for the same method in Iterator < T > and , in particular , does not introduce a way of executing actions not supported by Iterator < T > ; Iterator < U > : :remove ( ) is equivalent to Iterator < T > : :remove ( ) ; Iterator < U > : :next ( ) returns a superclass of T ;"
"This code : Gives such compilation error : From what I understand , E becomes ? extends Base , something that extends Base . So , why new Base ( ) ca n't be passed ?"
"I have the following Java codeWhen the test is run , the assertion fails and exception is printed as standard output and the TestNG shows the test result as FAILED.If I catch the same exception usingthe exception is printed as error output and the TestNG shows the test result as PASSED . In both cases exception is handled , but what is the difference here ?"
"I am trying to detect which class inside a jar contains main or a supplied method name ( if possible ) .At the moment I have the following codeThis will allow me to get packages and classes under these packages , but I do not know if it is possible to even get methods inside classes.Further , I do not know if this approach is even good for a case of several pkgs inside the jar , since each package can have a class with main in it.I would appreciate any ideas ."
"I have a string like this : and regex : I want to match all 6 groups separately , but when I match the pattern , I get result like this : How can I match each group separately ?"
"I was testing a program for CPU usage check and I got a null pointer exception , so I added null check . When I added null check I started getting series of errors . Here is the code : The Highlighted lines show the null check added . Compilation error after this null check is as follows : Please help in resolving this ."
"When I enter an expression in JShell ( 9.0.1 ) it comes back with : Where does the 22 come from and what 's happened to $ 1 to $ 21 ? ( They are undefined . ) I seem to vaguely remember ( when I started with Java 9.0 ) that the variables started with $ 1 , which made more sense . Now , with 9.0.1 , they all start with $ 22 . Why ?"
I want to do this : But then the first 2 lines in a single line like : But the first line fails . I get : incompatible types.Required : Foo.BarFound : Foo.BarWhy is that ? And the last class :
"Suppose I have some string , and run the following tests on it : How is it possible that indexOf finds the substring ( it does not return -1 ) , but the regular expression in the second test does not match ? I have come across this problem while trying to write a test that checks if taglibs are rendered correctly in JSF with Pax Web . I have not been able to reproduce this behavior outside of this test ."
"As a Java beginner I 'm playing around with a case statement at this point.I have set : int d = ' 1 ' ; And with : System.out.println ( `` number is : `` + d ) ; , this returns 51.Now I found out that if I set it as : int d = 1 ; , it does return 1.Now my question is why does it return 49 when I set it as ' 3 ' ? What difference do the ' ' make ? My code that returns 49 :"
"I need a clarification in Dynamic polymorphism of Java.Here when i create a child class object with a base class reference , while invoking the method f.display ( ) it gives me the output as in boo 8 . This is because of dynamic polymorphism which checks the object type at run time for invoking the method.Now while printing f.a it prints 3 because the variables can not be overridden in java this is called hiding.That is why it is displaying the base variable value not the child variable value.Now my question is f is a reference of base class which is pointing to the child class object . Then how f.a points to the base variable. ? what happens behind the scene ? How the reference is pointing to the base class ? ( I know the rules , but i want to know how/why ? )"
I need some advice about usage of Iterable < T > in Java.I have the following class : I need to create a class ValidatorChain as follows : Maybe I should just override some instant implementation of Iterable < T > instead of writing my own one from scratch .
"In my spring boot application , in my rest controllers , I successfully inject an instance of Authentication to get the session 's user information.However , in all of those controllers , I currently call a helper method like this : How can I reduce this code duplication ?"
"I have a code that iterates on some objects of type MyType : No I 'm adding a flow that handles result of type Map < Long , MyNewType > that needs to do exactly the same thing while the only difference is that the method that returns the status is named differently ( let 's say - getObjectStatus ( ) instead of getStatus ( ) ) . I ca n't change either method 's name.I wanted to do something like this : The problem is - I ca n't use this method because I ca n't tell which type is T. I thought about overloading 3 methods : But I ca n't do it because the call is set according to the static type and not the dynamic type ( thus I will always get to the Object overload ) .Is there a good pattern to handle such case without changing the original classes which is not an option right now ?"
"I have a class that 's a multiton , so I know that given a particular key , there will never be two instances of the same class that exist . This means that , instead of : ... it 's safe for me to do this : The class is also final , so I know that nothing related to polymorphism could cause problems for comparison either.IDEA dutifully informs me that it 's risky to compare two instances directly and that I should use .equals ( ) , but I know it 's not in this case . Is there some annotation I can apply to my class to instruct IDEA , and potentially other editors and more importantly other users , that a direct reference comparison for equality on instances of my class is safe ? I know I could just tell IDEA to suppress the warning , but I 'd have to do it for every comparison between these two types or globally , neither of which is a good idea . Plus , it 's more important that I let users of my class know it 's safe , faster , and even preferred ( convince me otherwise ) over .equals ( ) ."
"I always thought final keyword has no effect , performancewise , on local method variables or parameters . So , I tried to test the following code and it seems I was wrong : I checked the bytecode and they are not the same for these 2 methods . Decompiled code in idea looks like this : Why is there a difference between these 2 methods ? Ca n't javac optimize such a trivial case ? The compiler could see that a , b and n do n't change in doStuffNotFinal and optimize the code in the same way . Why does n't that happen ? More importantly , does that mean we 'd better put the final keyword all over the place just to be sure to get the best optimizations ?"
While refactoring I came across the following method in a subclass : What are the benefits to keeping this method rather than simply allowing the inherited superclass method to be called ?
"I decided to dig into source code a bit and noticed that Collections.synchronizedList ( List ) is implemented as follows : where the SynchronizedList nested class is : As can bee seen , the class useses a private lock object to provide thread-safety . But the documentation allows us to iterate over it using locking on the objetct returned by the factory method . It is imperative that the user manually synchronize on the returned list when iterating over it : So , we use different locks for iterating and modifying list ( add , remove , etc ) .Why is it considered to be safe ?"
"Let 's say I have 3 classes A , B , C , and my Main.B extends A.I want to use a scanner in all of them include my main.should I move scanner by inheritance or should I use static and declare my scanner in my main ? I tried to look here but did not get a clear answer which is better : Is there any way I can use a Scanner object in a different class ? Like I said above I would like to understand which method is better and is the correct one to use.staticScanner and call it by my main class or move my Scanner sc between classes as needed"
"Thanks for all your help and sharing.My question is in regards of the Stochastic Search . This technique is used to do approximations of data through a defined amount of cicles over a , an in general , mathematical calculation . Please see following code , I tried to reduce it to its minimum . My expectation is to have this code setup as a lambda expression , the for loop , I would like to have the best performance of it . I have some intents but I 'm not sure if I got the most of it.Thanks , have a nice day ."
"I have a code , which is working as required , but I want to re-write it in Java 8.This code will produce a map.Each list item will have all the servers allocated to it.OutputWhat would be the lambda equivalent ?"
I have the following class : which throws exception in this line : Methods to create racer that consists in the same class : The Racer Class : Abbreviations.txt file : FileLoader class : I read about Stream Supplier but I ca n't figured It out so I will be grateful for any help how to fix my program .
"Given : The compiler accepts transform ( known ) but complains : for transform ( unknown ) . I get the opposite problem for transform2 ( ) . I 've consulted PECS and I believe that transform ( ) is the correct method declaration but I ca n't for the life of my figure out how to get a single method to handle both cases.Note that this problem only occurs for multi-level Generics . List < ? extends Number > works just fine . The problem is not specific to Lists . You 'll get it for Future < Task < X > > and so on.What method declaration will handle both bounded and unbounded Generics ? And if it 's not possible , why ?"
"I have tried passing a value between 2 methods by following different solutions on here , but passes null.The code I am trying to pass : Where I am trying to pass the value `` price '' to : The value of price in getPrice ( ) is what it is supposed to be but when I print out the value in recordData ( ) , the value = null"
"I have a bunch of files on a local file system . My server will serve those files . In some cases the server will receive an instruction to delete a file . At the moment I 'm using FileChannel.lock ( ) to acquire a lock on the file , this is mostly to make sure that some other process is n't editing the file when I try to delete it.If I successfully acquire the lock , can I delete the file straight away , or do I need to release the lock first ? like this : Do I need to release the lock after I 've deleted the file ? Or should it be like this ( lock.release ( ) added ) : EDIT : So it turns out the code above would n't work anyway , because you ca n't modify the file with a FileInputStream because , of course , it 's read only . I 've modified the code above to use FileOutputStream instead , but it still does n't quite work , because even though I release the lock from the channel , the file object still has a lock . So I modified the code like so : This seems to work as expected . I 'd still like to know if this is safe , or if there 's a better way to do this ?"
"Is there a correct way to open a resource for each element in collection , than use stream api , do some map ( ) , filter ( ) , peek ( ) etc . using the resource and than close the resource ? I have something like this : This should work fine , except I 'm opening a resource ( e.g . db connection ) in the getElementFromName method . Then I 'm working with that resource in the other instance methods like someCondition or doSomething . And I have no idea how to close it correctly . I know , that I 'm using only intermediate operations on the stream . Which means , that all methods are evaluated in the forEach operation and performance should be ok because the iteration is done only once.But I ca n't figure out how to close the resources opened for each element in the getElementFromName method . I can save the list of all elements created by getElementFromName and close the resources later . But I would be just wasting space , keeping all the resources alive . Also there would be second iteration through the list of elements . Which makes avoiding stream api preferable in this case . So is there a way to somehow auto close the resource when I 'm done using the element ? Also I know , it can be easily done using foreach lopp , I was just curious if it can be done using stream api ."
"I expected that simple intermediate stream operations , such as limit ( ) , have very little overhead . But the difference in throughput between these examples is actually significant : I am curious : What is the reason for the quickly degrading throughput ? Is it a consistent pattern with chained stream operations or my test setup ? ( I did not use JMH so far , just set up a quick experiment with a stopwatch )"
"While developing a two-dimensional vector class as part of a math library , I 'm considering having static and instance method pairs for stylistic and usability reasons . That is , two equivalent functions but one is static & non-mutating , and the other is instanced & mutating . I know I 'm not the first person to consider this problem ( See here , for example ) but I have n't found any information that directly addresses it.Pros of having static and instance method pairs : Some people prefer to use one or the other and in some cases being able to choose makes code easier to read.It is implied that static methods are not mutating when both static and instanced methods are provided . This can make the calling code much clearer , e.g . : This is especially important when long chains of function calls are used , which is common with vectors.In-place operations can be faster computationally than creating a new instance for every operation . The user decides when performance is important . For users of a Vector class , performance may be important as vectors are frequently used in computationally expensive code.Pros of having only static or instance methods , but not both : No significant code redundancy . Easier to maintain.Less bloat . The javadocs will be almost half the size.Not necessary to inform users that static methods never mutate and non-getter instanced methods always mutate.How frowned upon is having static/instance method pairs ? Is it used in any major libraries ? Is the pattern `` static methods do n't mutate , instance methods do '' widely known ?"
"I do not understand how the compiler handle 's the following code as it outputs Test while I was expecting an error.I was hoping someone could tell me the exact steps the compiler goes through when executing the code so I can understand the output . My current understanding is that : The compiler checks during compile time if an add method that supports the argument type exists in List class which is add ( Object e ) as its raw-typed . However , during runtime it tries to invoke add ( Object e ) from the actual object List < Integer > which does n't hold this method as the actual object is not raw-typed and instead holds the method add ( Integer e ) . If there is no add ( Object e ) method in in the actual object List < Integer > how does it still somehow add a String to the List of Integers ?"
"I have a class called User and a file called Users.csv , like below : User class : Users.csv : Also , I have a class called test , which implements a single method : test class : The problem is in the method readUsers ( ) . It is returning me an ArrayList where every element is the same , and they are the one at the last line of Users.csv.Any tip why it is happening ? I ca n't figure it out ..."
"So I 'm building a test library that I will mainly use for personal use however I have a question.With Java , if you have 2 or more constructors in your class , if you wish to call one from another , it must be the first thing you do . This is problematic for me as I have the below setup.How can I do this , avoiding the , `` Constructor call must be the first statement in a constructor '' error ?"
I 'm trying to do clean and install on my Spring Boot project in before creating the Jar file for my project however I came across this errorI 'm new to Spring Boot and have never really utilized the test function of it . So my test class is pretty much default of how it was initially created with the project.My test classFile directory
"The above statement gives a warning `` Type safety : Unchecked cast from Class < capture # 5-of ? > to Class < ? extends MyClass > '' .This time I get an error , because of type erasure ... This time I know that the cast is safe , but the compiler does n't , and still gives the warning . ( If you ask me , the compiler is being a bit thick here . ) Is there any way to avoid this warning ( except for SuppressWarnings ) ?"
"I 'm almost completely new to Java and programming in general ( my main degree is in Law but I 'm hoping to open myself up to programming as I truly believe it 's going to be an essential skill in a couple years ) .I 've created two classes , LabClass and Student , and the point is to enroll students into the class , while giving them credits for enrolling . Here 's the method in my Student class that I 'm trying to access : And here 's the method in my LabClass class that I 'm trying to use : What I do n't understand is why BlueJ says that it can not find the method `` addCredits '' . I 'm a real beginner so I 'm sorry if this is a stupid question , but any help would be much appreciated !"
"I 've just started learning Java GUI and faced this problem while practicing event handling.Here 's the initial windowWhen I enter a number inside the text field it 's supposed to say whether the guessed number is higher , lower or matched . If not matched it 'd prompt for another number . But the window just hangs.After entering data I 'm guessing it falls in an infinite loop . Here 's the code . Help me figure out where the problem is . Thanks ."
"I would like to transform a Map < String , List < Object > > so it becomes Map < String , String > . If it were just Map < String , Object > it is easy in Java8 ; But this will not work because getValue returns a List Map < List < Object > , String > in my example . Assume Object contains a getter to be used for the key and that Object does not contain the key in the first map.Any thoughts ?"
"I have the CharacterEncodingFilter in place ( first filter ) in web.xmlBut when I make a POST request , the body does not get encodedReq Body Sent : But received as"
for a test I created following regex by mistake : I was puzzled that this regex really works and I ca n't explain the result : the result is : My ideas so far are that java tries to replace `` nothing '' between the characters but why not the characters itself ? \\w+ should match the ' H ' I would expect that every char is replaced by 3 @ signs or only by one but that the characters are not replaced puzzles me .
"I 'm confused with the process of loading a class . What is the order in which members of a class are executed ? See the following : Whenever I move the declarations of a and b to the top before the static block , compilation works fine . So I need to understand how this stuff works to resolve the problem above ."
"Suppose we have a prototype-scoped bean.We 're injecting this bean to a class , TheDependent.But there is also another one.In each @ Autowired , a new instance of Foo gets created because it 's annotated with @ Scope ( `` prototype '' ) . I would like to access the 'dependent ' class from the factory method , FooConfiguration # foo ( Bar ) . Is it possible ? Can Spring inject me some sort of context object to the parameters of the factory method , providing information about the point of injection ?"
"I am using Eclipse Kepler , with JRE 7 . In the buildRunner method - why I am able to see the this of Main ? What is the 'this ' of Main in a static method ? Why does this compile ? I can only do that if value is final . I can not call instance methods of Main and stuff , but value is not decalred static ! Furthermore , if I want to use in the buildRunner method , outside the run method of the new Runnable , the compiler stops me from doing that ."
There is a multidimensional String array being passed in as an Object.I 'm supposed to `` unfold '' it and process each of its primitive entries . There 's no way to know the dimensions other than by looking at the Object itself . The difficulty i 'm having is in casting . I can look up the array dimension by invoking its getClass ( ) .getName ( ) and counting the [ -s there . But then how to cast it ? is giving Can this casting be done without any use of reflection ? Note - The array can be of any dimension - not just 1 or 2 . TIA .
I have set of urls now i want to filter them out on the bases of web domains ( say wikipedia urls ) .Right now what i am doing is iterating set and for each url i am just finding a keyword of that web address.is there any other technique that is more efficient than my current approach ?
I was looking through an old codebase and I found a method that only calls its parent : Would there be any use case for such a method ? For me it looks like I could just remove it .
"I 'm using generics in Java for the first time , and I 'm facing an issue I do n't manage to overcome : why this compiles : But this does not : And I get this error : both methods have same erasure.I 'm sorry if this is a stupid question , but I do n't get why the order of interfaces in a bounded type parameter declaration seems to have importance.In reality I do n't think it is the order which causes the error , but I do n't get what does.I 'm reading this documentation by Oracle , it says which I must put the class as first parameter but Aa , Bb and Cc are all interfaces . Sorry for my english too ."
"I run the following Java code : The display is GMT+03:00 ! It seems that when we use timezones with ids such as Etc/GMTxx , the sign is reversed . Why ?"
"For example if I were to create the following class : If I were to create an instance of ExampleClass . Would that instance contain the code for the static method and/or field I created ? I have an object that will represent some data from a row in my database . I would like to create the a list of these objects from every row in the database . The database has thousands of rows . The static methods I am creating will format the values from the database before putting them into the objects constructor.I do n't want to bloat the code by having the method stored in every instance of the object . So if static methods do take up space in every instance of an object , then I would much rather create a separate class of of a name like ExampleClassBuilder . And put the formatting static methods in there ."
"I get a horrific stackoverflowerror , and figured it was my deep recursion causing it ( well , the debugger helped with that ... ) . Can anyone guide me in turning my recursion into a loop ? More specifically , return find ( getNextLocation ( startPos , ++stepNum , key ) , key , stepNum ) ; causes the recursion ."
"This particular problem I 'm working on is listed as such : ConcatArrays ( int [ ] listA , int [ ] listB , int [ ] listC ) with no return type.1 . The method passes the formal array parameters listA and listB , then return the concatenated array listC.2 . The first part of listC contains elements which are the same as the corresponding elements of listA and the second part contains the same elements as listB . The length of listC is listA.length + listB.length.This is what I have and obviously it 's not going to work . Is it even possible to do this without a return type/removing list c as the third parameter ? Edit : I appreciate all of the answers everybody , I up voted them all . This was a homework assignment and after rereading it I believe the no return type was an error because of what he said in question 1 . Basically saying to return list c by using parameters listB and ListA . There were several other typos before that he has since corrected . He also gave us array1 and array 2 for our test class with values , but no array 3 ."
"I 'm trying to receive data from a client and then log it onto the console.Here is how i do this : When it comes to printing my messageToPrint it actually repeats the last one , and reprinting it with a newer one.I 've figured out what is the problem though.If i put allocation of the array data inside the while loop , everything works fine and i do n't get the previous message again , just current one.I do n't really want to do this , because allocation inside loops not a good idea so i need somehow to clear my array before new data comes in.The output without allocation inside the loop is : and so on ."
"I have just started to learn about Java Runnables and I have heard of Callables . However , I am very much struggling with this problem . I would like to make a method which takes a function as an argument ( whether that be as a Callable , a Runnable , or something else , as long as I can simply call the function as coolNewFunction ( ( ) - > otherFunction ( ) , 100 ) or some similar simple way ) and the method would return an array of the returned values of the otherFunction . For example , say I defined the function I could then do something along the lines of : And this would return an array of the first 100 numbers and their squares ( i.e . { { 1 , 1 } , { 2 , 4 } , { 3 , 9 } ... } ) . Now right off the bat I know that the lambda ( ) - > square ( ) would n't work because square has to be passed a value . I though of creating an array of 100 Runnables each of which has the next argument for square , but still the method run ( ) does n't return anything . So , long story short , what would a method look like which evaluates another function which is given as an argument like square at different x values and returns an array of that evaluation ? Also , preferably I do n't want to start any new threads although if this is the only way that this can be achieved than that is okay . Finally , I do n't want to have to implement the square ( or other ) function in a special way ( preferably ) ."
"I have a problem displaying a number of dates that are stored as longs.I create the date objects with the constructor that takes the long argument , and then print the dates to a PDF file.However , I have a problem with older dates , when running the program on Linux , compared to Windows.Take this date : 25. april 1976 00:00:00 ( long value : 199231200000L ) for example . If I use a dateformater to display the date , it will display differently on Linux and Windows : On Windows : 25. april 1976 00:00:00 CESTOn Linux : 24. april 1976 23:00:00 CETThe text rep. can be shown simply by running the following line : I used Joda Time to get the datevalue for this test : Why does Windows show the output as CEST , and Linux as CET ?"
"I have a list1 containing different strings which start with a string from another list ( fooBarList ) .I would like to create a Hashmap < String , List < String > > hm which seperates the strings from the list1 depending on what they start with.Result should look like this : the fooBarList defines the different keys.how do I achieve this with the help of streams ? I just do n't know how to do the step where I am basically saying : FOO1234 starts with FOO so check if key FOO exists and add it to the list else create a new list . ( I imagine I have to iterate over the fooBarList in the within the stream which just seems wrong to me ) /edit : sure with only 2 values in the fooBarList I could do simple checks if the string starts with `` foo '' then do this else do that . But what if my list contains 100s of strings ."
"I 'm sorting an array of `` Albums '' by the output of their method getAlbumArtist ( ) , using a custom comparator class , AlphaNumComparator , which has a method compare , which compares two strings . I have the following code , which works : This seems like the sort of code that could be simplified/made more clear with some of the new langauge features in Java , but I ca n't quite make the pieces fit . Is it possible , or is it about as consice as it gets ?"
"I am new in Java 8 , and I want to get the first Phone that is not null from a list of contacts form a list of persons , but I am getting a incompatible types error"
"I was trying to create a method reference to an arbitrary object , so I defined the following types : Then I declared the method reference , like below : When I call : I get a NullPointerException : Can someone explain why this happens even though the Impl reference is not used anywhere ?"
"I wanted to learn parallel programming for speeding up algorithms and chose Java.I wrote two functions for summing long integers in array - one simple iterating through array , second - dividing array to parts and sum up parts in separated threads.I expected to be logical a roughly 2x speed up using two threads . However , what I 've got is only 24 % speed up . Moreover , using more threads , I do n't get any improvement ( maybe less 1 % ) over two threads . I know that there should be thread creation/joining overhead , but I guess it should n't be that big.Can you please explain , what I 'm missing or where is error in code ? Here is code : EDIT : I have i7 processor with 4 cores ( 8 threads ) .Output given by code is :"
"Here I 'm making a virtual proxy for a heavyweight object . Each time before calling HeavyweightObject : :operate , the program checks first whether the object is null or not . This part is checked once and only once through the entire lifetime of the object . A possible improvement maybe using the state pattern like this : Does this solution make sense ? Is there any possible improvement to the code ? Are there any examples to something like this that 's done before ? Is it an unnecessary complication or does it worth it or does it depend on the situation ? Does it make the code faster ? I mean , the extra function calls may be slower than just a simple conditional ."
"The above code will convert the the whole array of integers into an array of Strings ( containing binary format of the input string ) , but there is a caveat.For Example : If the input array is : 2 3 7 10The binary string array will be:10111111010But I want the output array to be like the following:0010001101111010 # 2If the input array is : 2 10 20The binary string array will be:10101010100But I want the output array to be like the following:000100101010100"
"More precisely , if there exists a function in the call stack with the strictfp modifier , will the function at the top of the call stack also adhere to the strictfp specifier ? In this example , foo1 and foo2 appear to return the same value . In other words , it does n't look like it matters whether the function at the top of the call stack has the strictfp modifier when a function further down also has the modifier.Does this always hold true ? What if I choose differing values for x ? What if I choose floating point operations other than sine ?"
Let 's say we 've got the following classes : Why does the following assignment compile without any problems : but this one : fails with this compile error : Error : java : incompatible types : invalid method reference incompatible types : Event can not be converted to Service.ServiceEvent
"In Java , is there a generic way to embed the code of a method in a log by any means ? I am working in Cucumber and altough its tending towards ( or is ? ) bad practice , the compliance department wants to see the assertions behind a `` Then '' statement printed out in the report ( they cant access the source code ) . Writing to a log is the easy part , but how can i read everything in a method behind a `` @ Then '' in a generic way ? So just to give you an idea of an example method : What needs to be written in the log : So i really need the unexecuted code ( both when tests fail and pass ) , dont need the outcome . Preferably like a generic method or interceptor , so that it can be applied accross the project , rather than having to add it to each method . A push in the right direction would be appreciated ."
"how to add 2 or more constructors ? ? i know the use of data class in kotlin , but i am not getting what exactly this keyword is in kotlin and why we have to put anything inside this ? I know kotlin but not that much.how i changedit gives me error to put something inside this . why we use this here and why we should put , and what we should put ?"
I discovered that classes with default equals method has differentinstances of meta object Method . Why is it so ? At first glance it looks not optimal because method objects are immutable .
"I 'm really hoping this can be solved in regex , but I fear not ... .I 'm looking for a regex that will return multiple matches of a term ONLY is another term appears in the same string . This is better explained with an example . Consider : I 'd like to match '144 ' , '424 ' and '345 ' only . ( Any 3 digit number ) - but only if they follow the term 'numbers ' somewhere before . So the following aditional example : Should return '234 ' and '992 ' only.The following sentence should not match anything : I thought I was onto something with the following regex : But it only matches the first number . Is what I 'm trying to achieve even possible ? No manner of lookahead or lookbehind seems to work here . For verious reasons I 'm limited to this only being a single regex expression , and I do n't have the option to selectivly access individual capturing groups after the fact . So looking for a purely regex method !"
"I have a requirement , where I have a string which is comma separated and then I need to read the individual value and create a collection of object using them.For example my string contains value like foo , bar , baz and then I need to create three object using them likeThere might be multiple spaces before and after the , , so I want to remove them as well , so that my object is created with proper string , how can I do this using stream API and single line of code ?"
I have list of arrays from which I am picking up a random one.I can print the random output . How to pass the output as xpath value ? ?
"While looking at some Java 8 code I saw some use of generics that I did n't quite understand , so I wrote my own code to emulate what was going on : Running this prints : Test_Child constructed with string 'Test'What I do n't understand is : Why do n't you have to provide arguments to Test_Child : :newHow callingf.create ( ) in the Product instance refers to theconstructor of the Test_Child class ."
"I want to update values of map1 so that it has entries : '' k1 '' , `` val1 '' , '' k2 '' , `` val2 '' , '' k3 '' , `` val3 '' My solution : Is there any better way to do this ? Edit : I am using Java 7 but curious to know if there any better way in Java 8 ."
"I 've stumbled across some code that is broadly along the following lines , but can not for the life of me fathom why the author is attempting to remove bar from bars before then adding it : All that I can come up with is that it 's in anticipation of ( or legacy from ) a different Set implementation that 's sensitive to insertion order , such as java.util.LinkedHashSet ( although there 's nothing about the code or use case that suggests insertion order would be of any interest ) - but perhaps there 's something else I 'm missing ?"
"I 'm studying for a Java exam and came across the `` unreachable statement '' compiler error , e.g : Am trying to understand when this would or would n't happen - e.g . it does n't happen for these cases : It seems the compiler is n't smart enough to detect when the if condition is constantly true - could someone provide a more detailed explanation ?"
I have the following code and I got following output in consoleWhy does n't this call test ( Object a ) ? Can you some one explain how it took `` List as '' null ?
"Say I need to store a collection of Student objects and each student has a unique id . One option is to store all of them in a list , but then when searching for a student , I 'd have to perform a linear search and check their id 's . The other option would be to use a map , of something like : Map where the keys are the student id 's that map to the actual student objects.Is this a sensible approach for the given problem ? On the one hand it feels right because I can easily retrieve a student by their id , however , on the other hand , it feels like I 'm slightly redundantly storing the id , which already exists within the student object - so I 'm sort of storing it twice , but the key is the lookup mechanism.My add would be something like :"
"I have a piece of code that I use to generate PDF document , it 's simplified just to demonstrate the problem.I want to convert it to functional style with Java 8 streams.I know that I javascript I can use reduce like this : I am trying to use same approach in Java , so my code is something like this : But it 's not compiling because in reduce function table is recognised as cell , types do not match properly . What I am trying to use seems to be accumulator function , this is what my IDE shows me : From documentation : java.util.stream.Stream public abstract T reduce ( T identity , java.util.function.BinaryOperator accumulator ) Performs a reduction on the elements of this stream , using the provided identity value and an associative accumulation function , and returns the reduced value . This is equivalent to : but is not constrained to execute sequentially . The identity value must be an identity for the accumulator function . This means that for all t , accumulator.apply ( identity , t ) is equal to t. The accumulator function must be an associative function.All examples show primitive arithmetic operations like calculating sum and mention that these accumulator function must be stateless . I am not even sure if what I am trying to is a proper thing , please let me know ."
"Can someone explain to me how to get the following method to return a value of false for the input shown ? It 's returning true , which is something I do n't expect.I think this should return false , but apparently Java does n't think so . The actual date string provided contains these extra characters at the end : `` , 21:00 '' ."
Synchronization works correctly in this code : Output : but not in this code : Output : I can not understand what difference wrt Synchronization does it make to initialize PrintNumbers in the Runnable MyThread and in the SyncExample class . Please explain .
"Due to debugging reason most parts of the code in my application has this recurrent portion of code : Now , if the boolean values turn to false this becomes dead code . My question is if in this case the Android compiler would do basics optimizations such as constant folding and dead code remotion ? If the answer is no , what is the best way to whip out in release phase the debugging logs ?"
"While looking at the Java invokedynamic documentation , I saw the following example of a Java feature called `` exotic identifiers '' : I was unable to get this to work on an openjdk8 on my machine . Further googling found a few bug reports relating to this feature but not much else . Specifically this bug , and this other bug.Yet another bug here suggests this feature was removed/never in jdk7.Was this previously a Java feature that has since been removed , or was this never an official Java feature ? And will this ever be added back ?"
"I 'm trying to parse Year String values in the range from 0 to 1000 with java.time.Year.parse ( ) , however parsing fails with java.time.format.DateTimeParseException : Text '999 ' could not be parsed at index 0.The javadoc of Year.parse states : Example test to reproduce this issue : The test throws the exception when year 999 is reached : What am I doing wrong ?"
"I am trying to get my head around how to approach what initially seems a `` simple '' problem.I have UserAccounts that can have MANY Purcahses BUT business logic dictates can only have one Purchase in a PurchaseState.IDLE state ( a field on the entity ) . A purchase is IDLE when first created.I have a repo with a method to determine if the user has a purchase with the given states already existing : I noticed with a bit of testing and thinking I can create more than one purchase when two requests are passed in close proximity/at the same time ( i.e . a concurrency issue and/or race condition ) .This leads to the user account having two purchases with both having an IDLE state.I have drawn up a quick diagram to show what I think is happening : Now , is there a way using @ Transactional that would cause the second persistence/transaction to rollback ? I am unsure if simply wrapping the service method in @ Transcational ( isolation=REPEATED_READ ) would relieve the issue ? I.e . is there a way SQL will handle this transactionally ? I can only guess this would n't actually help as the existsBy is not tracked by the SQL transaction and therefore wont rollback ? Is the only real solution to run a second countBy query at the end of the method to rollback the transaction if there is > 1 entity fitting the condition ? I still do n't feel this is `` perfect '' and fully solve the race condition/TX issue ... So the service will see there are 2 entities being committed across the two transactions ( not yet committed ) but for T2 the service can throw a RuntimeException to trigger the rollback ? Sorry , I have been reading bits about Transaction isolation but it seems to only be applicable to say if I am checking a field value/column of an entity rather than using logic based on say the return of a `` count ( * ) '' query ... Thank you for any enlightenment ."
"I came across a problem with generics which keeps me puzzled of how the compiler actually deals with generic types . Consider the following : The following will not compile because both generic types are reduced to Object when calling thenComparing : But if I break them up like the following example , everything compiles ( and runs ) correctly : So the question is : what happens here ? I suspect this is due to some weird behavior of the compiler rather than intended language specification ? Or am I missing something obvious here ?"
"I was exploring Fork/Join framework and its possible speed benefits through factorial counting , when discovered that my sequential recursive algorithm breaks at a certain point . To be precise , when I try to count 46342 ! the result from RecursiveCounter is wrong , but before that value it is always right and is the same that result from ParallelCounter and LoopCounter . Does anyone have an idea why that may happen ? Here are the classes : RecursiveCounter : LoopCounter : A RecursiveTask for ParallelCounter :"
"I 'm developing a website for my company , and I use Spring as my backend.There is a situation now , where I need to use one of my Utils method twice , but for different DAOs.In order to avoid code duplication , I was wondering how can I use Java Generics in order to make this method usable for both cases . The method just count one of the fields which is common for both DAOs.Util method : Event DAO : Area DAO : This is how I call it from the service :"
"I 'm writing an Eclipse plugin that creates an alternative IDetailPane for the debugger.I created an implementation of IDetailPaneFactory that returns my IDetailPane 's ID and it 's .getDetailPaneTypes ( ... ) method gets called.However , now the field DetailPaneManager.fPreferredDetailPanes is a Map < Set < String > , String > with the content : I want to change the 2nd item so that it 'll map to `` MyDetailPane '' instead.Is this a user setting that I can change somewhere in the settings ? ( tried finding it in the preferences but did n't see anything relevant ) . Is this hard coded somewhere ? Can I change something in my plugin 's Activator to control this ? ( tried changing the value during my Activator.start ( ... ) , but at this point fPreferredDetailPanes does n't contain the 2nd item in the map )"
I have Answer entity which has values like thisI need to get answers group by questions I could get List < Answer > like thisbut I ca n't find a way to get it as List < String > rather than List < Answer > ?
The question is : Suppose o is a reference of type Object that is pointing to a type A object that contains a f method and a toString method . Both toString and f have no parameters . show the statement that calls the toString method and the statement that calls the f method.is the answer :
"I 'm writing an application ( for personal use ) that allows me to send a string over usb to an Arduino.I wrote this method for sending the data : sending is a boolean value that I use to indicate whether a Thread is sending data . The transmissionCooldown is simply to enforce a certain waiting period before data can be sent again . And this is where the method is being used : sendButton is the JavaFX Button that calls the sendClicked ( ) method and ardCom is and instance of the class that contains the send ( ) method . isSending ( ) simply returns the sending attribute of the ardCom , which is set to true at the start of the send ( ) method and set to false when the Thread is done sending.The problem is with this piece of code : I 'm trying to set the sendButton 's text to busy to indicate that the data is being sent , then loop until the data transmission is finished ( sending is set to false ) and end it with changing the text on the sendButton back to the original text . I know this is probably not the best way to achieve this , but I was playing around and could not figure out why this is not working as expected.The problem is that for some reason , the while loop never ends ."
"Take a HashSet in Java . Put a string in it . Serialize it . You end up with some bytes - bytesA.Take bytesA , deserialize it back as an Object - fromBytes . Now reserialize fromBytes and you 've got yourself another array of bytes - bytesB.Strangely enough , these two byte arrays are not equal . One byte is different ! Why ? Interestingly , this does not affect TreeSet or HashMap . It does however affect LinkedHashSet.In case these help : xxd hex dump of bytesAxxd hex dump of bytesB3rd line 6th column is the difference.I 'm on Java 11.0.3 . ( RESOLVED ) As per Alex R 's response - what happens is that HashSet 's writeObject stores the capacity , loadFactor , and size of the backing HashMap , but its readObject recalculates the capacity as : Other than a sanity check , it actually ignores the capacity value that was originally stored !"
"... where v is an object of a certain class.When I try to compile this , I get : error : can not find symbol Method m = c.getMethod ( `` something '' ) ; ^Method is a type which resides in java.lang.reflect.Method . By my knowledge java.lang and anything subsequent is imported by default , but I even did so explicitly : So my question is : How can I either make my compiler recognise the class Method , or how can I store the returnvalue of getMethod otherwise ? P.S : Please ignore the unchecked call to getMethod , that will be a problem for a different time ( so a different question , probably ) ."
"On a recent question I came accross the use of the Number abstract class.Now since Java 8 is here , there are default methods , so Number could be an interface and written as : Would old code using the Number abstract class still compile if this were the case ? Are there any actual benefits in making Number an interface rather than an abstract class ?"
I am making a language app for my learning purposes and to practice in Android I want to store all lessons audio in an array and i have an activity for each lesson when i press for example Audio 1 it popups a new activity with a player ( AudioPopup.java ) but the problem i dont't want to make a popup to play certain audio for each lesson what i need is to recognize which button was pressed and open the AudioPopup which i created and play that certain mp3 AudioPopup code this only plays audio i insert it does n't recognize from which button in the first activity came from i have many buttons to press for each audio in each lesson which they are 24 lesson actually : (
"I used StringTokenizer to get the tokens of a string . But I get two different outputs when I tried to print all the tokens in that StringTokenizer , using a for-loop and a while-loop.when I tried to print all the tokens using a for loopoutputShe is an attractive girlwhen I tried to print all the tokens using a while loopoutputShe is an attractive girlis n't she ? I want to know why the while loop gives the expected two tokens and the for loop does n't gives the two tokens ."
"I 'm having problems getting a method from one class to work if I put the objects into a set . So I have ... There is lots of other code which I can post if needed but I 'm not allowed to change the Employee class.So for my code I have to create a class for a Set of Employees which I 've done withNow I need a method that will print the details of all employees in the set . Here is my attempt so farThe problem I 'm having is that it wo n't compile as it says `` incompatible types '' and highlights employeeSet inMy other problem is that it ca n't access the method for getFirstName ( ) . I 've tried to isolate the method usingThis also wo n't compile as it states `` can not find symbol - method getFirstName ( ) '' .Edit.Thanks for the help with this problem , I changed it to this and it worked ."
"When I execute an unsigned right shift as follows : I get 1111111111111111.So , the value is shifted right , but filled with 1s , which seems to be the same behavior as > > However , I was expecting it to fill with 0s regardless of sign , yielding the following:0000011111111111Here is a relevant REPL to play with my code : https : //repl.it/ @ spmcbride1201/shift-rotate"
I have a StringI want to split this string in java from all commas before @ Team appears . The result should look like : My java code uses regex ( ? < = ) ( ? = @ Team ) : It does the job but there 's a lot of boilerplate . Is there any regex so that I can do all this stuff in one shot ? Thanks .
"Related to that question.I know about wildcard capturing . For instance , the following could be used for reversing a list : Now I 'm trying to write the same thing for that kind of situation : I expected that it was compiled fine as well . Is it possible to capture wildacrds for methods with two or more parameters that way ?"
I came across this thing which I havent noticed before.Here is a normal expressionso this just prints 9 as an int . Now If I put the first value String instead of an int 0 Here the value 9 is printed as a string and not as an int . To confirm this just try to add this with another integerNow this results in 13 but if you change the first value to string instead of an int 0 it gives a compile error I am confused with this compile error . What is actually behind this ? Thanks for explanation
"In a Java application I 'm working on , I have a number of enums which ended up having a static fromString method in them for converting a string to its actual enum value.So , I thought I could have a `` base '' class from which all my enums can extend without have to repeat that code all the time . Since enums can not extend classes , I 've planned to do is that I might be able to do that through an interface instead.What I 've is the following : And then , to inherit that static method , I will implement IBaseEnum in my actual Enum : However , I 'm having issues with the types in IBaseEnum . The line T.values ( ) is having error because the generic type T can not be referenced back to the enum itself and so it is complaining that the method values ( ) is not found . Is this the right way to inherit functionalities in enum ? Otherwise , how can I inherit methods in enums so that I do n't have to copy/paste and repeat a same set of methods in every single enums ?"
"I know that float arithmetic is tricky , but I am not sure if it is possible to get a mistake if you have a division followed by the inverse multiplication . Written in code , is it possible , that this method will return false :"
Is there a way to template astract methods so that a parameter to an abstract method will be typed the same as the implementing subclass ? In other words if we have : Then each subclass takes its own type as a parameter to this method . I would like to avoid using an interface or reflection .
How do I write following code in a simple for loop :
"list.toArray ( ) returns Object [ ] and it contains only int [ ] .So i thought i can cast it directly into int [ ] [ ] .But actually i was wrong , it will lead to a cast exception.it 's ok this way , but i 'm still confused.Why does it throw that exception ?"
when I am running this code I am getting the following results : expected is : Does anyone know why I am getting these results ?
"As per the question , let 's say you have the following code : Does k get compared to rand.nextInt ( 10 ) only once , when the loop starts running , so that there 's an equal chance of the loop running at every interval between 0 and 9 ? Or does it get compared each iteration of the loop , making it more likely for lower numbers to occur ? Furthermore , does this differ between languages ? My example is for Java , but is there a standard that exists between most languages ?"
"I have an interface called A : I then have two subclasses ( B and C ) that implement this interface , but each of them pass a different type to X lets say B passes type foo and C passes type bar : What am I doing wrong and why does n't this work ? The compiler keeps telling me that `` Method does not override method from its superclass '' .Thanks in advance !"
"This is my code : I expected the output to print values from 0 to 999,999 with spaces in between . However , my output is : Why is my for loop skipping hundreds of thousands of values ? I tried replacing int with long and double . Both skip values when running . Any help ? I am just trying to create an ArrayList of values from 0 to 999,999 ."
"ClassLoaderHelper has no meaningI did n't find any usages for mapAlternativeName which ca n't be overridden ( static ) Also comment has no real meaningIs it just leftover from previous version or just a designating Helper class for future use ? EDITI found a relevant bug ( Resolution : Unresolved ) JDK-7157665 : Use ClassLoaderHelper for all native library loads The fix for 7134701 needs to be updated to make the same change for the other code paths where native libraries are loaded : namely - where non-bootstrap classloaders are used and - where System.load ( ) is called In both those cases an absolute pathname is provided , but ( on Mac ) we should attempt to load the original file first and on Mac , for compatibility with Apple 's jdk 6 , we should look for a .jnilib variant if the original name was *.dylib , and it was n't found ."
"I have few Maps with the same key name and different value types . What I want to achieve is to , out of this three different maps , compose a new Map : Where Foo is a class : Is it possible to do it with Streams API ?"
Hi I am working with java 8 . Below is the case : I have an empty interface AsyncResponse like below : And I have a model APIResponseAnd finally I have a service using Retrofit2 to make my API response : Now when I call the APIRepository like below : I get an error : java : incompatible types : retrofit2.Call ( com.personal.carrot.core.models.APIResponse ) can not be converted to retrofit2.Call ( com.personal.carrot.core.models.AsyncResponse )
I 'm trying to find a element in selenium with this XPATH . I get this in firefox web browser.HTML codeMy Selenium CodeBut it 's not working . Help me .
"I have some stings in the styles/string.xml as below : and I have a textView and a button in my current activity . When I click the button , the text in the textView has to change ( to the next sting ) according to what is currently shown . That is , if the current text in textView is string1 , then it should change to string2.The code below does n't work but will illustrate what I am looking forI have to somehow convert the string to the actual value of ( say ) R.string.string1.Is there a way to do that ? Or is there any other method to achieve what I am looking for ?"
"Given the following list if IP address ranges.Assuming that iterating all the addresses within all the ranges and storing them in a HashSet will use too much memory.So we need to maintain the ranges , which are actually just shifted numbers anyway ( low and high ) .How would one store the ranges in a tree and then use an efficient search to find whether or not a particular address is within the range ( s ) .I have looked at RangeTree , but it seems to search for points on a cartesian plane , and does n't seem suited to my use case . KDTree allows one to search nearest neighbour , and when k==2 it 's basically the same as the range tree.I would want all the matches , as there might be multiple hits.What would work here ? I am very sure this is a solved problem ."
"I have an object where the type of generic T is lost at some point through a giant interface chain . I was wondering if it is possible to use a function to regain some type safety by checking the types : However , this implementation produces an `` Unchecked cast : 'T ' to ' R ' '' warning . Is there an implementation that avoids this warning , or is the only solution to suppress it ?"
"I was reading through one of Oracle 's lambda expression tutorials , and came across the following code : http : //www.oracle.com/webfolder/technetwork/tutorials/obe/java/Lambda-QuickStart/index.htmlMy question is why did n't they implement Runnable when creating the class ? Since they overrode the run method when initializing r1 , did that take care of the implementation ?"
"Let 's say I have an abstract class Animal with an abstract methodthe problem is , if I create subclasses Snake and Armadillo , a call like this would then be legal : But I only want snakes to be able to mate with snakes . I need to be able to define something like this : Is this possible in Java ?"
"CASE 1Output : 7CASE 2Output : Compilation error : method fun ( byte ) is not applicable for the argument ( int ) .My question is : How come in case 1 , 7 is implicitly cast to byte from an int , while in case 2 it is forcing the programmer to cast it explicitly ? 7 is still in the range of byte.Please suggest ."
"I noticed I can do : ... and set this class as parent of another and set the same constant with another value like : Since compiler does not complaing , this lead me to the questions above : Are these variables really the same ? I would say it gets the most specific , so in that case from the Ack class . Is that true ? Constants can not have their value changed ( it is final ) , so if the question 1 is true , how is that possible ? Thanks !"
"BackgroundDeveloping a rudimentary , open-source keyboard and mouse on-screen display desktop application for screen casting , called KmCaster : The application uses the JNativeHook library to receive global keyboard and mouse events , because Swing 's Key and Mouse listeners are restricted to receiving events directed at the application itself.ProblemWhen the application loses focus , the user interface shows intermittent key presses , rather than every key press . Yet the console shows that the application has received every key press.CodeA short , self-contained , compileable example : The code above produces a small window that , when run , demonstrates the problem : Be sure to type into any other window to see the perplexing loss of key presses within the demo application.EnvironmentOpenJDK version `` 14.0.1 '' 2020-04-14 , 64-bitXFCEArch LinuxJNativeHook 2.1.0DetailsJNativeHook runs in its own thread , but using invokeLater ( or invokeAndWait ? ) should issue the UI update on Swing 's event thread.The call to disableNativeHookLogger ( ) is n't relevant , it merely keeps the console clean when running the demo.Console OutputHere is the console output when the application has focus : Here is the console output when the application loses focus : So it 's clear that no keyboard events are missing when nativeKeyPressed is called , regardless of whether the application has focus . That is , neither JNativeHook nor its event bubbling via JNI appears to be the culprit.QuestionWhat needs to change so that the JLabel text is updated for every key press regardless of whether the application has focus ? IdeasSome items that help include : Call getDefaultToolkit ( ) .sync ( ) ; to flush the rendering pipeline explicitly.Call paintImmediately ( getBounds ( ) ) on the label.The first item seems to make a huge difference , but some keys still appear to be missing ( although it could be that I 'm typing too quickly ) . It makes sense that preventing the rendering pipeline from merging paint requests avoids loss of key strokes.ResearchResources related to this issue : https : //pavelfatin.com/low-latency-painting-in-awt-and-swing/"
"§5.1.2 and §5.6.2 do not mention how numeric promotion and widening work for constants.The following gives an error as expected : But if they are declared final , it compiles without error : Why is that ? And which section of the specs explains that ? My guess is that they are compile time constants and therefore treated as integers ."
"input : he is a good , person.desired output : { `` he '' , '' is '' , '' a '' , '' good '' , '' person '' } program output : { `` he '' , '' is '' , '' a '' , '' good '' , '' `` , '' person '' } am asking for first time here . need pointers for next time"
"I translated a word by getting HTML Code from translation website.the translation is right while running the code with NetBeans , but while running with jar file , I see unknown language ... any help , please ... ..From netbeans : From jar file : the code :"
"If I have this , Since we do n't know what the element type of c stands for , we can not add integers to it . But if I do like , Why the addition in the 2nd example is allowed ?"
"In the above code , there is no class defined but the program is still getting executed . But as far as I know , there can not be any static method inside an Interface . And , every program should contain at least one main function ."
"I need to make a Java class which can receive a single enum value out of many . For example : Since enums ca n't be extended , how can I define a single member which must be one of the enums ?"
"In this code example , what 's the static type of e in the catch block ? It seems to be effectively Exception , but when I hover over it in my IDE it says IOException | NumberFormatException . Is this a special type that only applies to multiple exceptions in catch blocks or does it generalize to other types ?"
"I am reading a book 'Java Network Programming ( Elliotte Rusty Harold ) '.And I met the following sentence , after this code . ... intermixing calls to different streams connected to the same source may violate several implicit contracts of the filter streams.And the following code came out.I understand that this simplifies the syntax , but I wonder what 'several implicit contracts of the filter streams ' means ."
I tried to install pyCOMPSs ( v1.4 ) on a Cluster system using theinstallation script for Supercomputers.The script terminates with the following error :
"I think that , for the most part , I understand bounded types , and the differences between , for example , List < ? extends MyClass > , List < ? super MyClass > and List < MyClass > . But when it comes to the implementation of classes and generic methods , I do not understand what < T extends MyClass > brings to the table.Taken from the docs in Oracle : [ ... ] a method that operates on numbers might only want to accept instances of Number or its subclasses . This is what bounded type parameters are for . This does n't make much sense to me . If I removed the generic from the method and made the parameter type just Number ... it would still work just fine . I do n't see where I 'm gaining or losing type safety , although maybe that 's not the point ? Same in something like this : What 's the difference between these ?"
"I have once read the following code from a book about method references.When I look up from the File API for the listFiles method , I see it only has the following methods : I have tried the code and it works . But while the API states it accepts either FileFilter or FilenameFilter , why the code can work ? My understanding of File : :isHidden is that it is equivalent to the following lambdas : But in FileFilter , the method that need to specify is following.Then should n't there be a method named accept defined there , like : Or the compiler can somehow automatically detect the pattern and regard the code as a FileFilter , although the method `` accept '' is not defined and a FileFilter object is not created ?"
"I have a list of Objects of ClassA ( fields for example : id , name , phone ) and need to set each of those fields in to another list of Objects of ClassB ( fields : studentId , studentName and studentPhone ) . is there a simple way in Java 8 ? Basically , ClassA is my DTO and ClassB is DAO object . For example : here , I want to set each element of ClassA to ClassB object and add into list2"
I am trying to format a date inside a Functional Interface but I do n't know if it is possible
"I have built a small JavaFX with 2 scenes . The user can input 3 fields ( text ) and upload some documents for an object.So I was thinking when the user clicks save a json object is created and appended to a list of Json objects . Those Json objects are then written into a file.This is of what I was thinking : These will be read into objects on startup , so the user has access to them , so he can edit them , add , delete , etc etc typical CRUD.Is this a correct approach ? There would be maximum 500-600 records.Should I add a unique ID ( idk like randomUUID ( ) ) ? Thanks"
"So I have a custom Button , that runs good , no errors.Here is the code : Here is my main problem- when ever I click ANYWHERE on the JFrame , it says the button was clicked , but the only part I want to have the action listener on is the blue rectangle I have on the JFrame . ( You 'll under stand my issue if you run my program ) Does anyone know how to fix this ? Thanks for taking your time to read : )"
"I am using retrofit to post text data , single image and multiple image in single POST request . I tried some method but they did not work form me . I 've attached PostMan screenshot and previous code I have done below.Postman screenshotSample code i 've tried : apiInterface class : method to post data : Please help me guys I am trying this from last 3 days but can not fix.Thanks in Advance ."
So what I am trying to do is create this : I am using a gridbag layout and here is what I have so far : It creates something like : How would I push up the panels so they are touching each other like in my first picture . I looked through the GridBagConstraints but I could not find anything that looked like it would work . Thanks !
I have implemented an application with COMP Superscalar and I got task failed . Looking at the standard error file ( job1_NEW.err ) file I got a File Not Found exception but the file exists in my computer . Any idea what could be the error ? EDIT : Added the resources and the project filesResources.xmlProject.xmlMethod declaration in the Interface file
"When I try to convert hexadecimal number to integer type , negative numbers with parseInt or valueOf methods , the method throws NumberFormatException for negative numbers . I could n't find the answer anywhere ."
"Need help for a case on Stream with groupingByI would like to be able to group by 2 different fields and have the sum of other BigDecimal fields , according to the different groupings . Here is my entity : Let 's suppose I have as input this list : The result should beI have a beginning of solution , below , but I block at the moment of adding a second aggregation to sum up the balance :"
"Please see this Java ClassThe output of this code is `` string called '' but I am not able to understand that how compiler is able to resolve between Object and String.Moreover , examine this code fragmentHere we get a compile time error related to ambiguous call ( which is quite obvious ) .Any good explanations for this ?"
"I am trying to create regexp to find duplicated commas , like here : For now my pattern is : \w*\ ( [ \w\ [ \ ] , ? + ] +\ ) which is not working.How can one specify quantity for items in character class ?"
"I do n't understand something , I have this code : This generate and exception : But if I change the pattern to have a separator between date part and time part : `` yyyyMMdd_HHmmssSSS '' it works as expected.Why is a formatter ca n't parse its own result ?"
I have two Java LongStreams and I want to remove values which are present in one stream from the other.The LongStream does not have a contains method and I dont know how to use anyMatch in this case because the value to be checked is coming from another stream and is not in a variable or constant .
"I ` d like to find some statements in a file . And I need to print out element and sub element name.The statement likeIf a element or sub element name includes one or more spaces , the entire string must be enclosed within double quotes . Double quotes are dispensable if there is no space in a element or sub element name . So following statements are valid.I tried to write two expressions to meet some cases . But how to write one regular expression to meet all cases ?"
I decided to remove the throws ArithmeticException in the code below and I still got the same result when I divided by zero and the stack trace appeared . Is throws ArithmeticException in the method definition optional ? What is its purpose ?
I 'm working with bit shifting in Java and have the following piece of code that works as expected : This produces the value 2 as expected . If however I attempt to extract this into a method like so : This results in a compilation error : The question is what is it about the method that causes this to fail ?
"If I clone an instance of the following class , and overridde a method when instancing , will the clone have the overridden method ? I have n't found anything regarding this behavior inhttps : //docs.oracle.com/javase/7/docs/api/java/lang/Cloneable.html nor https : //docs.oracle.com/javase/7/docs/api/java/lang/Object.html # clone ( ) ."
"Pardon me if I 'm missing some core Java here.I was searching through HashSet 's javadocs for the specification of it 's implementation of Collection.containsAll ( ) and it apparently inherits the implementation by AbstractCollection which according to the JDK 8 source code documentation goes like this : My question stems from the fact that while HashSet does not override containsAll ( ) it does however override contains ( ) : AbstractCollection likewise : My understanding has been that when an instance member call is not explicitly specified within the instance , the JVM implicitly replaces it with this.instanceMemberCall ( ) which in this case would translate to AbstractCollection 's contains ( ) being called . But then again I read here that the time complexity for HashMap/HashSet 's containsAll ( ) would be O ( n ) suggesting that HashSet 's contains ( ) ( O ( 1 ) ) is called . Would appreciate some clarity as to what the actual semantics behind this are ."
"In my gradle build file , I have the following plugin blockNone of these specify a version but everything works . Assume that a project is using gradle 6.0 with the gradle wrapper but the system has gradle 5.0 installed.Questions : If I run gradle wrapper ./gradlew build the java plugin from gradle 6.0 will be executed . Is this true or false ? If I run system gradle gradle build the java plugin from gradle 5.0 will be executed . Is this true or false ? Are these plugins bundled into the gradle distribution itself or are they downloaded from the gradle plugin portal on demand ? Is the build considered to be non-reproducible ( like it is in maven ) because the plugin versions were not set ? What are the gradle best practices around plugin versions should they be set or left off ?"
"I am trying to do something like this in Kotlin : In Java it looks like this : The Java version works just fine , in Kotlin I get an error : Does anyone have an idea on how to do it ? Thanks in advance ."
"So to my knowledge duplicates are not allowed in a Java set . Why then in this code snippet does the code seem to try to take account of duplicates ? Why not just have keywordsToCover.put ( keyword,1 ) inside the for loop ?"
"I have a list of class that I want to sort : And I want to make a helper class ( with static methods ) that can be used to sort the Student list : However , the above method only takes Double - but I 'd like to pass all Number object to the method : When I use Number instead of Double , it gives an error The method comparing ( Function < ? super T , ? extends U > ) in the type Comparator is not applicable for the arguments ( Function < T , Number > ) My questions are : Why is using Number instead of Double not possible ? How to improve SortHelper to use Number instead of Double ? Please help me out.. !"
"I have a class like thisI have saved in a database some serialized instances of MyClass.Now , I 'm adding a new function to MyInterface so it becomes : And I have implemented C ( ) in MyClass.Will my previously serialized instances deserialize as the new class with no problem ? I think yes but wanted to confirm , if possible , with explanation ."
"Basically I want only a menuitem icon for Edit to show up in the action bar if the current ParseUser is viewing their own post.I figure I could check if their viewing their own post simply by grabbing the current parse user like so ( postedBy simply being a string from intent passed from listview activity ) : Problem is now how would I make it so only the a icon for Edit in the ActionBar shows up if this is the case , if not then they do n't show up . ( so others ca n't edit ) Possibly in onOptionsItemSelected ? But that would n't make sense to me , what would make sense is having it where it 's displayed which would be in XML ? ? Or possibly making two menu XMLS and calling one or the other depending if it 's the current users post ?"
"I try to merge two mapsbut when current has 0 elements , the lambda is not executed.Is n't merge should do union in case no merge is possible ? I want :"
